"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/../../dist/index.mjs":
/*!****************************!*\
  !*** ../../dist/index.mjs ***!
  \****************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("var react__WEBPACK_IMPORTED_MODULE_1___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrowDownIcon: () => (/* binding */ ArrowDownIcon),\n/* harmony export */   AudioClientHelper: () => (/* binding */ AudioClientHelper),\n/* harmony export */   AudioOutput: () => (/* binding */ AudioOutput),\n/* harmony export */   BotIcon: () => (/* binding */ BotIcon),\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   ButtonGroup: () => (/* binding */ ButtonGroup),\n/* harmony export */   Card: () => (/* binding */ Card),\n/* harmony export */   CardAction: () => (/* binding */ CardAction),\n/* harmony export */   CardContent: () => (/* binding */ CardContent),\n/* harmony export */   CardDescription: () => (/* binding */ CardDescription),\n/* harmony export */   CardFooter: () => (/* binding */ CardFooter),\n/* harmony export */   CardHeader: () => (/* binding */ CardHeader),\n/* harmony export */   CardTitle: () => (/* binding */ CardTitle),\n/* harmony export */   CheckIcon: () => (/* binding */ CheckIcon),\n/* harmony export */   ChevronDownIcon: () => (/* binding */ ChevronDownIcon),\n/* harmony export */   ChevronRightIcon: () => (/* binding */ ChevronRightIcon),\n/* harmony export */   ChevronUpIcon: () => (/* binding */ ChevronUpIcon),\n/* harmony export */   ChevronsLeftRightEllipsisIcon: () => (/* binding */ ChevronsLeftRightEllipsisIcon),\n/* harmony export */   CircleIcon: () => (/* binding */ CircleIcon),\n/* harmony export */   ClientStatus: () => (/* binding */ ClientStatus),\n/* harmony export */   ConnectButton: () => (/* binding */ ConnectButton),\n/* harmony export */   ConnectButtonComponent: () => (/* binding */ ConnectButtonComponent),\n/* harmony export */   ConsoleTemplate: () => (/* binding */ ConsoleTemplate),\n/* harmony export */   ControlBar: () => (/* binding */ ControlBar),\n/* harmony export */   Conversation: () => (/* binding */ Conversation),\n/* harmony export */   CopyText: () => (/* binding */ CopyText),\n/* harmony export */   DataList: () => (/* binding */ DataList),\n/* harmony export */   DropdownMenu: () => (/* binding */ DropdownMenu),\n/* harmony export */   DropdownMenuCheckboxItem: () => (/* binding */ DropdownMenuCheckboxItem),\n/* harmony export */   DropdownMenuContent: () => (/* binding */ DropdownMenuContent),\n/* harmony export */   DropdownMenuGroup: () => (/* binding */ DropdownMenuGroup),\n/* harmony export */   DropdownMenuItem: () => (/* binding */ DropdownMenuItem),\n/* harmony export */   DropdownMenuLabel: () => (/* binding */ DropdownMenuLabel),\n/* harmony export */   DropdownMenuPortal: () => (/* binding */ DropdownMenuPortal),\n/* harmony export */   DropdownMenuRadioGroup: () => (/* binding */ DropdownMenuRadioGroup),\n/* harmony export */   DropdownMenuRadioItem: () => (/* binding */ DropdownMenuRadioItem),\n/* harmony export */   DropdownMenuSeparator: () => (/* binding */ DropdownMenuSeparator),\n/* harmony export */   DropdownMenuShortcut: () => (/* binding */ DropdownMenuShortcut),\n/* harmony export */   DropdownMenuSub: () => (/* binding */ DropdownMenuSub),\n/* harmony export */   DropdownMenuSubContent: () => (/* binding */ DropdownMenuSubContent),\n/* harmony export */   DropdownMenuSubTrigger: () => (/* binding */ DropdownMenuSubTrigger),\n/* harmony export */   DropdownMenuTrigger: () => (/* binding */ DropdownMenuTrigger),\n/* harmony export */   EllipsisIcon: () => (/* binding */ EllipsisIcon),\n/* harmony export */   EllipsisVerticalIcon: () => (/* binding */ EllipsisVerticalIcon),\n/* harmony export */   ErrorCard: () => (/* binding */ ErrorCard),\n/* harmony export */   FullScreenContainer: () => (/* binding */ FullScreenContainer),\n/* harmony export */   FunnelIcon: () => (/* binding */ FunnelIcon),\n/* harmony export */   InfoIcon: () => (/* binding */ InfoIcon),\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   LayoutSection: () => (/* binding */ LayoutSection),\n/* harmony export */   LineChartIcon: () => (/* binding */ LineChartIcon),\n/* harmony export */   LoaderIcon: () => (/* binding */ LoaderIcon),\n/* harmony export */   LoaderSpinner: () => (/* binding */ LoaderSpinner),\n/* harmony export */   LogoutIcon: () => (/* binding */ LogoutIcon),\n/* harmony export */   MessagesSquareIcon: () => (/* binding */ MessagesSquareIcon),\n/* harmony export */   MicIcon: () => (/* binding */ MicIcon),\n/* harmony export */   MicOffIcon: () => (/* binding */ MicOffIcon),\n/* harmony export */   MoonIcon: () => (/* binding */ MoonIcon),\n/* harmony export */   Panel: () => (/* binding */ Panel$1),\n/* harmony export */   PanelActions: () => (/* binding */ PanelActions),\n/* harmony export */   PanelContent: () => (/* binding */ PanelContent),\n/* harmony export */   PanelFooter: () => (/* binding */ PanelFooter),\n/* harmony export */   PanelHeader: () => (/* binding */ PanelHeader),\n/* harmony export */   PanelTitle: () => (/* binding */ PanelTitle),\n/* harmony export */   PhoneCallEndIcon: () => (/* binding */ PhoneCallEndIcon),\n/* harmony export */   PhoneCallIcon: () => (/* binding */ PhoneCallIcon),\n/* harmony export */   PipecatLogo: () => (/* binding */ PipecatLogo),\n/* harmony export */   Popover: () => (/* binding */ Popover),\n/* harmony export */   PopoverAnchor: () => (/* binding */ PopoverAnchor),\n/* harmony export */   PopoverContent: () => (/* binding */ PopoverContent),\n/* harmony export */   PopoverTrigger: () => (/* binding */ PopoverTrigger),\n/* harmony export */   ResizableHandle: () => (/* binding */ ResizableHandle),\n/* harmony export */   ResizablePanel: () => (/* binding */ ResizablePanel),\n/* harmony export */   ResizablePanelGroup: () => (/* binding */ ResizablePanelGroup),\n/* harmony export */   Select: () => (/* binding */ Select),\n/* harmony export */   SelectChevronIcon: () => (/* binding */ SelectChevronIcon),\n/* harmony export */   SelectContent: () => (/* binding */ SelectContent),\n/* harmony export */   SelectGroup: () => (/* binding */ SelectGroup),\n/* harmony export */   SelectGuide: () => (/* binding */ SelectGuide),\n/* harmony export */   SelectItem: () => (/* binding */ SelectItem),\n/* harmony export */   SelectScrollDownButton: () => (/* binding */ SelectScrollDownButton),\n/* harmony export */   SelectScrollUpButton: () => (/* binding */ SelectScrollUpButton),\n/* harmony export */   SelectSeparator: () => (/* binding */ SelectSeparator),\n/* harmony export */   SelectTrigger: () => (/* binding */ SelectTrigger),\n/* harmony export */   SelectValue: () => (/* binding */ SelectValue),\n/* harmony export */   SendIcon: () => (/* binding */ SendIcon),\n/* harmony export */   SessionInfo: () => (/* binding */ SessionInfo),\n/* harmony export */   SunIcon: () => (/* binding */ SunIcon),\n/* harmony export */   Tabs: () => (/* binding */ Tabs),\n/* harmony export */   TabsContent: () => (/* binding */ TabsContent),\n/* harmony export */   TabsList: () => (/* binding */ TabsList),\n/* harmony export */   TabsTrigger: () => (/* binding */ TabsTrigger),\n/* harmony export */   ThemeModeToggle: () => (/* binding */ ThemeModeToggle),\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider),\n/* harmony export */   Thinking: () => (/* binding */ Thinking),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TooltipContent: () => (/* binding */ TooltipContent),\n/* harmony export */   TooltipProvider: () => (/* binding */ TooltipProvider),\n/* harmony export */   TooltipTrigger: () => (/* binding */ TooltipTrigger),\n/* harmony export */   TranscriptOverlay: () => (/* binding */ TranscriptOverlay),\n/* harmony export */   TranscriptOverlayComponent: () => (/* binding */ TranscriptOverlayComponent),\n/* harmony export */   TranscriptOverlayPartComponent: () => (/* binding */ TranscriptOverlayPartComponent),\n/* harmony export */   UserAudioComponent: () => (/* binding */ UserAudioComponent),\n/* harmony export */   UserAudioControl: () => (/* binding */ UserAudioControl),\n/* harmony export */   UserVideoComponent: () => (/* binding */ UserVideoComponent),\n/* harmony export */   UserVideoControl: () => (/* binding */ UserVideoControl),\n/* harmony export */   VideoIcon: () => (/* binding */ VideoIcon),\n/* harmony export */   VideoOffIcon: () => (/* binding */ VideoOffIcon),\n/* harmony export */   VoiceVisualizer: () => (/* binding */ VoiceVisualizer),\n/* harmony export */   VolumeIcon: () => (/* binding */ VolumeIcon),\n/* harmony export */   VolumeOffIcon: () => (/* binding */ VolumeOffIcon),\n/* harmony export */   XIcon: () => (/* binding */ XIcon)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @pipecat-ai/client-react */ \"(app-pages-browser)/../../node_modules/@pipecat-ai/client-react/dist/index.module.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Metrics-B9xaddk1.js */ \"(app-pages-browser)/../../dist/Metrics-B9xaddk1.js\");\n/* harmony import */ var _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @pipecat-ai/client-js */ \"(app-pages-browser)/../../node_modules/@pipecat-ai/client-js/dist/index.module.js\");\n/* harmony import */ var _daily_co_daily_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @daily-co/daily-js */ \"(app-pages-browser)/../../node_modules/@daily-co/daily-js/dist/daily-esm.js\");\n/* harmony import */ var _pipecat_ai_daily_transport__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @pipecat-ai/daily-transport */ \"(app-pages-browser)/../../node_modules/@pipecat-ai/daily-transport/dist/index.module.js\");\n/* harmony import */ var _pipecat_ai_small_webrtc_transport__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @pipecat-ai/small-webrtc-transport */ \"(app-pages-browser)/../../node_modules/@pipecat-ai/small-webrtc-transport/dist/index.module.js\");\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$(), _s10 = $RefreshSig$(), _s11 = $RefreshSig$(), _s12 = $RefreshSig$(), _s13 = $RefreshSig$(), _s14 = $RefreshSig$(), _s15 = $RefreshSig$(), _s16 = $RefreshSig$(), _s17 = $RefreshSig$(), _s18 = $RefreshSig$(), _s19 = $RefreshSig$(), _s20 = $RefreshSig$(), _s21 = $RefreshSig$(), _s22 = $RefreshSig$(), _s23 = $RefreshSig$(), _s24 = $RefreshSig$(), _s25 = $RefreshSig$(), _s26 = $RefreshSig$(), _s27 = $RefreshSig$(), _s28 = $RefreshSig$(), _s29 = $RefreshSig$(), _s30 = $RefreshSig$(), _s31 = $RefreshSig$(), _s32 = $RefreshSig$(), _s33 = $RefreshSig$(), _s34 = $RefreshSig$(), _s35 = $RefreshSig$(), _s36 = $RefreshSig$(), _s37 = $RefreshSig$(), _s38 = $RefreshSig$(), _s39 = $RefreshSig$(), _s40 = $RefreshSig$(), _s41 = $RefreshSig$(), _s42 = $RefreshSig$(), _s43 = $RefreshSig$(), _s44 = $RefreshSig$(), _s45 = $RefreshSig$(), _s46 = $RefreshSig$(), _s47 = $RefreshSig$(), _s48 = $RefreshSig$(), _s49 = $RefreshSig$(), _s50 = $RefreshSig$(), _s51 = $RefreshSig$(), _s52 = $RefreshSig$(), _s53 = $RefreshSig$(), _s54 = $RefreshSig$(), _s55 = $RefreshSig$(), _s56 = $RefreshSig$(), _s57 = $RefreshSig$(), _s58 = $RefreshSig$(), _s59 = $RefreshSig$(), _s60 = $RefreshSig$(), _s61 = $RefreshSig$(), _s62 = $RefreshSig$(), _s63 = $RefreshSig$(), _s64 = $RefreshSig$(), _s65 = $RefreshSig$(), _s66 = $RefreshSig$(), _s67 = $RefreshSig$(), _s68 = $RefreshSig$(), _s69 = $RefreshSig$(), _s70 = $RefreshSig$(), _s71 = $RefreshSig$(), _s72 = $RefreshSig$(), _s73 = $RefreshSig$(), _s74 = $RefreshSig$(), _s75 = $RefreshSig$(), _s76 = $RefreshSig$(), _s77 = $RefreshSig$(), _s78 = $RefreshSig$(), _s79 = $RefreshSig$(), _s80 = $RefreshSig$(), _s81 = $RefreshSig$(), _s82 = $RefreshSig$(), _s83 = $RefreshSig$(), _s84 = $RefreshSig$(), _s85 = $RefreshSig$(), _s86 = $RefreshSig$(), _s87 = $RefreshSig$(), _s88 = $RefreshSig$(), _s89 = $RefreshSig$(), _s90 = $RefreshSig$(), _s91 = $RefreshSig$(), _s92 = $RefreshSig$(), _s93 = $RefreshSig$(), _s94 = $RefreshSig$(), _s95 = $RefreshSig$(), _s96 = $RefreshSig$(), _s97 = $RefreshSig$(), _s98 = $RefreshSig$(), _s99 = $RefreshSig$(), _s100 = $RefreshSig$(), _s101 = $RefreshSig$(), _s102 = $RefreshSig$(), _s103 = $RefreshSig$(), _s104 = $RefreshSig$(), _s105 = $RefreshSig$(), _s106 = $RefreshSig$(), _s107 = $RefreshSig$(), _s108 = $RefreshSig$(), _s109 = $RefreshSig$(), _s110 = $RefreshSig$(), _s111 = $RefreshSig$(), _s112 = $RefreshSig$(), _s113 = $RefreshSig$(), _s114 = $RefreshSig$(), _s115 = $RefreshSig$(), _s116 = $RefreshSig$(), _s117 = $RefreshSig$(), _s118 = $RefreshSig$(), _s119 = $RefreshSig$(), _s120 = $RefreshSig$(), _s121 = $RefreshSig$(), _s122 = $RefreshSig$(), _s123 = $RefreshSig$(), _s124 = $RefreshSig$(), _s125 = $RefreshSig$(), _s126 = $RefreshSig$(), _s127 = $RefreshSig$(), _s128 = $RefreshSig$(), _s129 = $RefreshSig$(), _s130 = $RefreshSig$(), _s131 = $RefreshSig$(), _s132 = $RefreshSig$(), _s133 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction clamp$1(value1, param) {\n    let [min2, max2] = param;\n    return Math.min(max2, Math.max(min2, value1));\n}\nfunction composeEventHandlers(originalEventHandler, ourEventHandler) {\n    let { checkForDefaultPrevented = true } = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    return function handleEvent(event) {\n        originalEventHandler == null ? void 0 : originalEventHandler(event);\n        if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n            return ourEventHandler == null ? void 0 : ourEventHandler(event);\n        }\n    };\n}\nfunction createContextScope(scopeName) {\n    let createContextScopeDeps = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    let defaultContexts = [];\n    function createContext3(rootComponentName, defaultContext) {\n        var _s = $RefreshSig$(), _s1 = $RefreshSig$();\n        const BaseContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(defaultContext);\n        const index2 = defaultContexts.length;\n        defaultContexts = [\n            ...defaultContexts,\n            defaultContext\n        ];\n        const Provider2 = (props2)=>{\n            _s();\n            var _a;\n            const { scope, children, ...context } = props2;\n            const Context = ((_a = scope == null ? void 0 : scope[scopeName]) == null ? void 0 : _a[index2]) || BaseContext;\n            const value1 = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n                \"createContextScope.createContext3.Provider2.useMemo[value]\": ()=>context\n            }[\"createContextScope.createContext3.Provider2.useMemo[value]\"], Object.values(context));\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Context.Provider, {\n                value: value1,\n                children\n            });\n        };\n        _s(Provider2, \"tPauEVZ6EeuERV9ttvKTwQ7++Gw=\");\n        Provider2.displayName = rootComponentName + \"Provider\";\n        function useContext2(consumerName, scope) {\n            _s1();\n            var _a;\n            const Context = ((_a = scope == null ? void 0 : scope[scopeName]) == null ? void 0 : _a[index2]) || BaseContext;\n            const context = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Context);\n            if (context) return context;\n            if (defaultContext !== void 0) return defaultContext;\n            throw new Error(\"`\".concat(consumerName, \"` must be used within `\").concat(rootComponentName, \"`\"));\n        }\n        _s1(useContext2, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n        return [\n            Provider2,\n            useContext2\n        ];\n    }\n    const createScope = ()=>{\n        var _s = $RefreshSig$();\n        const scopeContexts = defaultContexts.map((defaultContext)=>{\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(defaultContext);\n        });\n        return _s(function useScope(scope) {\n            _s();\n            const contexts = (scope == null ? void 0 : scope[scopeName]) || scopeContexts;\n            return react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n                \"createContextScope.createScope.useScope.useMemo\": ()=>({\n                        [\"__scope\".concat(scopeName)]: {\n                            ...scope,\n                            [scopeName]: contexts\n                        }\n                    })\n            }[\"createContextScope.createScope.useScope.useMemo\"], [\n                scope,\n                contexts\n            ]);\n        }, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");\n    };\n    createScope.scopeName = scopeName;\n    return [\n        createContext3,\n        composeContextScopes(createScope, ...createContextScopeDeps)\n    ];\n}\nfunction composeContextScopes() {\n    for(var _len = arguments.length, scopes = new Array(_len), _key = 0; _key < _len; _key++){\n        scopes[_key] = arguments[_key];\n    }\n    const baseScope = scopes[0];\n    if (scopes.length === 1) return baseScope;\n    const createScope = ()=>{\n        var _s = $RefreshSig$();\n        const scopeHooks = scopes.map((createScope2)=>({\n                useScope: createScope2(),\n                scopeName: createScope2.scopeName\n            }));\n        return _s(function useComposedScopes(overrideScopes) {\n            _s();\n            var _s1 = $RefreshSig$();\n            const nextScopes = scopeHooks.reduce(_s1((nextScopes2, param)=>{\n                let { useScope, scopeName } = param;\n                _s1();\n                const scopeProps = useScope(overrideScopes);\n                const currentScope = scopeProps[\"__scope\".concat(scopeName)];\n                return {\n                    ...nextScopes2,\n                    ...currentScope\n                };\n            }, \"u4SEl84URpjHX6Z2NY+fK/APDPQ=\", true), {});\n            return react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n                \"composeContextScopes.createScope.useComposedScopes.useMemo\": ()=>({\n                        [\"__scope\".concat(baseScope.scopeName)]: nextScopes\n                    })\n            }[\"composeContextScopes.createScope.useComposedScopes.useMemo\"], [\n                nextScopes\n            ]);\n        }, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");\n    };\n    createScope.scopeName = baseScope.scopeName;\n    return createScope;\n}\nfunction setRef(ref, value1) {\n    if (typeof ref === \"function\") {\n        return ref(value1);\n    } else if (ref !== null && ref !== void 0) {\n        ref.current = value1;\n    }\n}\nfunction composeRefs() {\n    for(var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++){\n        refs[_key] = arguments[_key];\n    }\n    return (node)=>{\n        let hasCleanup = false;\n        const cleanups = refs.map((ref)=>{\n            const cleanup = setRef(ref, node);\n            if (!hasCleanup && typeof cleanup == \"function\") {\n                hasCleanup = true;\n            }\n            return cleanup;\n        });\n        if (hasCleanup) {\n            return ()=>{\n                for(let i = 0; i < cleanups.length; i++){\n                    const cleanup = cleanups[i];\n                    if (typeof cleanup == \"function\") {\n                        cleanup();\n                    } else {\n                        setRef(refs[i], null);\n                    }\n                }\n            };\n        }\n    };\n}\nfunction useComposedRefs() {\n    for(var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++){\n        refs[_key] = arguments[_key];\n    }\n    _s();\n    return react__WEBPACK_IMPORTED_MODULE_1__.useCallback(composeRefs(...refs), refs);\n}\n_s(useComposedRefs, \"epj4qY15NHsef74wNqHIp5fdZmg=\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n    const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n    const Slot2 = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((props2, forwardedRef)=>{\n        const { children, ...slotProps } = props2;\n        const childrenArray = react__WEBPACK_IMPORTED_MODULE_1__.Children.toArray(children);\n        const slottable = childrenArray.find(isSlottable);\n        if (slottable) {\n            const newElement = slottable.props.children;\n            const newChildren = childrenArray.map((child)=>{\n                if (child === slottable) {\n                    if (react__WEBPACK_IMPORTED_MODULE_1__.Children.count(newElement) > 1) return react__WEBPACK_IMPORTED_MODULE_1__.Children.only(null);\n                    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(newElement) ? newElement.props.children : null;\n                } else {\n                    return child;\n                }\n            });\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SlotClone, {\n                ...slotProps,\n                ref: forwardedRef,\n                children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(newElement) ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(newElement, void 0, newChildren) : null\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SlotClone, {\n            ...slotProps,\n            ref: forwardedRef,\n            children\n        });\n    });\n    Slot2.displayName = \"\".concat(ownerName, \".Slot\");\n    return Slot2;\n}\nvar Slot$3 = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n    const SlotClone = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((props2, forwardedRef)=>{\n        const { children, ...slotProps } = props2;\n        if (/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(children)) {\n            const childrenRef = getElementRef$1(children);\n            const props22 = mergeProps(slotProps, children.props);\n            if (children.type !== react__WEBPACK_IMPORTED_MODULE_1__.Fragment) {\n                props22.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n            }\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(children, props22);\n        }\n        return react__WEBPACK_IMPORTED_MODULE_1__.Children.count(children) > 1 ? react__WEBPACK_IMPORTED_MODULE_1__.Children.only(null) : null;\n    });\n    SlotClone.displayName = \"\".concat(ownerName, \".SlotClone\");\n    return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n    const Slottable2 = (param)=>{\n        let { children } = param;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children\n        });\n    };\n    Slottable2.displayName = \"\".concat(ownerName, \".Slottable\");\n    Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n    return Slottable2;\n}\nfunction isSlottable(child) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n    const overrideProps = {\n        ...childProps\n    };\n    for(const propName in childProps){\n        const slotPropValue = slotProps[propName];\n        const childPropValue = childProps[propName];\n        const isHandler = /^on[A-Z]/.test(propName);\n        if (isHandler) {\n            if (slotPropValue && childPropValue) {\n                overrideProps[propName] = function() {\n                    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n                        args[_key] = arguments[_key];\n                    }\n                    const result = childPropValue(...args);\n                    slotPropValue(...args);\n                    return result;\n                };\n            } else if (slotPropValue) {\n                overrideProps[propName] = slotPropValue;\n            }\n        } else if (propName === \"style\") {\n            overrideProps[propName] = {\n                ...slotPropValue,\n                ...childPropValue\n            };\n        } else if (propName === \"className\") {\n            overrideProps[propName] = [\n                slotPropValue,\n                childPropValue\n            ].filter(Boolean).join(\" \");\n        }\n    }\n    return {\n        ...slotProps,\n        ...overrideProps\n    };\n}\nfunction getElementRef$1(element) {\n    var _a, _b;\n    let getter = (_a = Object.getOwnPropertyDescriptor(element.props, \"ref\")) == null ? void 0 : _a.get;\n    let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n    if (mayWarn) {\n        return element.ref;\n    }\n    getter = (_b = Object.getOwnPropertyDescriptor(element, \"ref\")) == null ? void 0 : _b.get;\n    mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n    if (mayWarn) {\n        return element.props.ref;\n    }\n    return element.props.ref || element.ref;\n}\nfunction createCollection(name) {\n    var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n    const PROVIDER_NAME2 = name + \"CollectionProvider\";\n    const [createCollectionContext, createCollectionScope2] = createContextScope(PROVIDER_NAME2);\n    const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(PROVIDER_NAME2, {\n        collectionRef: {\n            current: null\n        },\n        itemMap: /* @__PURE__ */ new Map()\n    });\n    const CollectionProvider = (props2)=>{\n        _s();\n        const { scope, children } = props2;\n        const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n        const itemMap = react__WEBPACK_IMPORTED_MODULE_1__.useRef(/* @__PURE__ */ new Map()).current;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CollectionProviderImpl, {\n            scope,\n            itemMap,\n            collectionRef: ref,\n            children\n        });\n    };\n    _s(CollectionProvider, \"i9R1RY532Tsw7syarXwOonBpwXM=\");\n    CollectionProvider.displayName = PROVIDER_NAME2;\n    const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n    const CollectionSlotImpl = /* @__PURE__ */ createSlot(COLLECTION_SLOT_NAME);\n    const CollectionSlot = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s1((props2, forwardedRef)=>{\n        _s1();\n        const { scope, children } = props2;\n        const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n        const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CollectionSlotImpl, {\n            ref: composedRefs,\n            children\n        });\n    }, \"5JQ4uy78XLW8WM+YuDpNgF/JIVs=\", false, function() {\n        return [\n            useCollectionContext,\n            useComposedRefs\n        ];\n    }));\n    CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n    const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n    const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n    const CollectionItemSlotImpl = /* @__PURE__ */ createSlot(ITEM_SLOT_NAME);\n    const CollectionItemSlot = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s2((props2, forwardedRef)=>{\n        _s2();\n        const { scope, children, ...itemData } = props2;\n        const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n        const composedRefs = useComposedRefs(forwardedRef, ref);\n        const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n        react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n            \"createCollection.CollectionItemSlot.useEffect\": ()=>{\n                context.itemMap.set(ref, {\n                    ref,\n                    ...itemData\n                });\n                return ({\n                    \"createCollection.CollectionItemSlot.useEffect\": ()=>void context.itemMap.delete(ref)\n                })[\"createCollection.CollectionItemSlot.useEffect\"];\n            }\n        }[\"createCollection.CollectionItemSlot.useEffect\"]);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CollectionItemSlotImpl, {\n            ...{\n                [ITEM_DATA_ATTR]: \"\"\n            },\n            ref: composedRefs,\n            children\n        });\n    }, \"eauD3DgWC2VdU7voCXLDR4PeA+k=\", false, function() {\n        return [\n            useComposedRefs,\n            useCollectionContext\n        ];\n    }));\n    CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n    function useCollection2(scope) {\n        _s3();\n        const context = useCollectionContext(name + \"CollectionConsumer\", scope);\n        const getItems = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"createCollection.useCollection2.useCallback[getItems]\": ()=>{\n                const collectionNode = context.collectionRef.current;\n                if (!collectionNode) return [];\n                const orderedNodes = Array.from(collectionNode.querySelectorAll(\"[\".concat(ITEM_DATA_ATTR, \"]\")));\n                const items = Array.from(context.itemMap.values());\n                const orderedItems = items.sort({\n                    \"createCollection.useCollection2.useCallback[getItems].orderedItems\": (a, b)=>orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current)\n                }[\"createCollection.useCollection2.useCallback[getItems].orderedItems\"]);\n                return orderedItems;\n            }\n        }[\"createCollection.useCollection2.useCallback[getItems]\"], [\n            context.collectionRef,\n            context.itemMap\n        ]);\n        return getItems;\n    }\n    _s3(useCollection2, \"jCyvzZFUzVDqeEjq0R8vi6mUa78=\", false, function() {\n        return [\n            useCollectionContext\n        ];\n    });\n    return [\n        {\n            Provider: CollectionProvider,\n            Slot: CollectionSlot,\n            ItemSlot: CollectionItemSlot\n        },\n        useCollection2,\n        createCollectionScope2\n    ];\n}\nvar DirectionContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction useDirection(localDir) {\n    _s1();\n    const globalDir = react__WEBPACK_IMPORTED_MODULE_1__.useContext(DirectionContext);\n    return localDir || globalDir || \"ltr\";\n}\n_s1(useDirection, \"Dyp5LNtc3jInRztlo7OKcE6vbIw=\");\nvar NODES = [\n    \"a\",\n    \"button\",\n    \"div\",\n    \"form\",\n    \"h2\",\n    \"h3\",\n    \"img\",\n    \"input\",\n    \"label\",\n    \"li\",\n    \"nav\",\n    \"ol\",\n    \"p\",\n    \"select\",\n    \"span\",\n    \"svg\",\n    \"ul\"\n];\nvar Primitive = NODES.reduce(_c = (primitive, node)=>{\n    const Slot2 = /* @__PURE__ */ createSlot(\"Primitive.\".concat(node));\n    const Node2 = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((props2, forwardedRef)=>{\n        const { asChild, ...primitiveProps } = props2;\n        const Comp = asChild ? Slot2 : node;\n        if (true) {\n            window[Symbol.for(\"radix-ui\")] = true;\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp, {\n            ...primitiveProps,\n            ref: forwardedRef\n        });\n    });\n    Node2.displayName = \"Primitive.\".concat(node);\n    return {\n        ...primitive,\n        [node]: Node2\n    };\n}, {});\n_c1 = Primitive;\nfunction dispatchDiscreteCustomEvent(target, event) {\n    if (target) react_dom__WEBPACK_IMPORTED_MODULE_3__.flushSync(()=>target.dispatchEvent(event));\n}\nfunction useCallbackRef$1(callback) {\n    _s2();\n    const callbackRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(callback);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useCallbackRef$1.useEffect\": ()=>{\n            callbackRef.current = callback;\n        }\n    }[\"useCallbackRef$1.useEffect\"]);\n    return react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"useCallbackRef$1.useMemo\": ()=>({\n                \"useCallbackRef$1.useMemo\": function() {\n                    for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n                        args[_key] = arguments[_key];\n                    }\n                    var _a;\n                    return (_a = callbackRef.current) == null ? void 0 : _a.call(callbackRef, ...args);\n                }\n            })[\"useCallbackRef$1.useMemo\"]\n    }[\"useCallbackRef$1.useMemo\"], []);\n}\n_s2(useCallbackRef$1, \"SmGaH/nKwK47PDNwL1mpt0Q/3Os=\");\nfunction useEscapeKeydown(onEscapeKeyDownProp) {\n    let ownerDocument = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : globalThis == null ? void 0 : globalThis.document;\n    _s3();\n    const onEscapeKeyDown = useCallbackRef$1(onEscapeKeyDownProp);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useEscapeKeydown.useEffect\": ()=>{\n            const handleKeyDown = {\n                \"useEscapeKeydown.useEffect.handleKeyDown\": (event)=>{\n                    if (event.key === \"Escape\") {\n                        onEscapeKeyDown(event);\n                    }\n                }\n            }[\"useEscapeKeydown.useEffect.handleKeyDown\"];\n            ownerDocument.addEventListener(\"keydown\", handleKeyDown, {\n                capture: true\n            });\n            return ({\n                \"useEscapeKeydown.useEffect\": ()=>ownerDocument.removeEventListener(\"keydown\", handleKeyDown, {\n                        capture: true\n                    })\n            })[\"useEscapeKeydown.useEffect\"];\n        }\n    }[\"useEscapeKeydown.useEffect\"], [\n        onEscapeKeyDown,\n        ownerDocument\n    ]);\n}\n_s3(useEscapeKeydown, \"uVS7Wu/JfinBPWVPV6Sr6Qzi+KI=\", false, function() {\n    return [\n        useCallbackRef$1\n    ];\n});\nvar DISMISSABLE_LAYER_NAME = \"DismissableLayer\";\nvar CONTEXT_UPDATE = \"dismissableLayer.update\";\nvar POINTER_DOWN_OUTSIDE = \"dismissableLayer.pointerDownOutside\";\nvar FOCUS_OUTSIDE = \"dismissableLayer.focusOutside\";\nvar originalBodyPointerEvents;\nvar DismissableLayerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext({\n    layers: /* @__PURE__ */ new Set(),\n    layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),\n    branches: /* @__PURE__ */ new Set()\n});\nvar DismissableLayer = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s4((props2, forwardedRef)=>{\n    _s4();\n    const { disableOutsidePointerEvents = false, onEscapeKeyDown, onPointerDownOutside, onFocusOutside, onInteractOutside, onDismiss, ...layerProps } = props2;\n    const context = react__WEBPACK_IMPORTED_MODULE_1__.useContext(DismissableLayerContext);\n    const [node, setNode] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    var _ref;\n    const ownerDocument = (_ref = node == null ? void 0 : node.ownerDocument) !== null && _ref !== void 0 ? _ref : globalThis == null ? void 0 : globalThis.document;\n    const [, force] = react__WEBPACK_IMPORTED_MODULE_1__.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"DismissableLayer.useComposedRefs[composedRefs]\": (node2)=>setNode(node2)\n    }[\"DismissableLayer.useComposedRefs[composedRefs]\"]);\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [\n        ...context.layersWithOutsidePointerEventsDisabled\n    ].slice(-1);\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled);\n    const index2 = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index2 >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = usePointerDownOutside({\n        \"DismissableLayer.usePointerDownOutside[pointerDownOutside]\": (event)=>{\n            const target = event.target;\n            const isPointerDownOnBranch = [\n                ...context.branches\n            ].some({\n                \"DismissableLayer.usePointerDownOutside[pointerDownOutside].isPointerDownOnBranch\": (branch)=>branch.contains(target)\n            }[\"DismissableLayer.usePointerDownOutside[pointerDownOutside].isPointerDownOnBranch\"]);\n            if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n            onPointerDownOutside == null ? void 0 : onPointerDownOutside(event);\n            onInteractOutside == null ? void 0 : onInteractOutside(event);\n            if (!event.defaultPrevented) onDismiss == null ? void 0 : onDismiss();\n        }\n    }[\"DismissableLayer.usePointerDownOutside[pointerDownOutside]\"], ownerDocument);\n    const focusOutside = useFocusOutside({\n        \"DismissableLayer.useFocusOutside[focusOutside]\": (event)=>{\n            const target = event.target;\n            const isFocusInBranch = [\n                ...context.branches\n            ].some({\n                \"DismissableLayer.useFocusOutside[focusOutside].isFocusInBranch\": (branch)=>branch.contains(target)\n            }[\"DismissableLayer.useFocusOutside[focusOutside].isFocusInBranch\"]);\n            if (isFocusInBranch) return;\n            onFocusOutside == null ? void 0 : onFocusOutside(event);\n            onInteractOutside == null ? void 0 : onInteractOutside(event);\n            if (!event.defaultPrevented) onDismiss == null ? void 0 : onDismiss();\n        }\n    }[\"DismissableLayer.useFocusOutside[focusOutside]\"], ownerDocument);\n    useEscapeKeydown({\n        \"DismissableLayer.useEscapeKeydown\": (event)=>{\n            const isHighestLayer = index2 === context.layers.size - 1;\n            if (!isHighestLayer) return;\n            onEscapeKeyDown == null ? void 0 : onEscapeKeyDown(event);\n            if (!event.defaultPrevented && onDismiss) {\n                event.preventDefault();\n                onDismiss();\n            }\n        }\n    }[\"DismissableLayer.useEscapeKeydown\"], ownerDocument);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"DismissableLayer.useEffect\": ()=>{\n            if (!node) return;\n            if (disableOutsidePointerEvents) {\n                if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n                    originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n                    ownerDocument.body.style.pointerEvents = \"none\";\n                }\n                context.layersWithOutsidePointerEventsDisabled.add(node);\n            }\n            context.layers.add(node);\n            dispatchUpdate();\n            return ({\n                \"DismissableLayer.useEffect\": ()=>{\n                    if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) {\n                        ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n                    }\n                }\n            })[\"DismissableLayer.useEffect\"];\n        }\n    }[\"DismissableLayer.useEffect\"], [\n        node,\n        ownerDocument,\n        disableOutsidePointerEvents,\n        context\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"DismissableLayer.useEffect\": ()=>{\n            return ({\n                \"DismissableLayer.useEffect\": ()=>{\n                    if (!node) return;\n                    context.layers.delete(node);\n                    context.layersWithOutsidePointerEventsDisabled.delete(node);\n                    dispatchUpdate();\n                }\n            })[\"DismissableLayer.useEffect\"];\n        }\n    }[\"DismissableLayer.useEffect\"], [\n        node,\n        context\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"DismissableLayer.useEffect\": ()=>{\n            const handleUpdate = {\n                \"DismissableLayer.useEffect.handleUpdate\": ()=>force({})\n            }[\"DismissableLayer.useEffect.handleUpdate\"];\n            document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n            return ({\n                \"DismissableLayer.useEffect\": ()=>document.removeEventListener(CONTEXT_UPDATE, handleUpdate)\n            })[\"DismissableLayer.useEffect\"];\n        }\n    }[\"DismissableLayer.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        ...layerProps,\n        ref: composedRefs,\n        style: {\n            pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? \"auto\" : \"none\" : void 0,\n            ...props2.style\n        },\n        onFocusCapture: composeEventHandlers(props2.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: composeEventHandlers(props2.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: composeEventHandlers(props2.onPointerDownCapture, pointerDownOutside.onPointerDownCapture)\n    });\n}, \"Cv1Mp9NkKD7dAs9oYGx4QOBfHI8=\", false, function() {\n    return [\n        useComposedRefs,\n        usePointerDownOutside,\n        useFocusOutside,\n        useEscapeKeydown\n    ];\n}));\n_c2 = DismissableLayer;\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\nvar BRANCH_NAME = \"DismissableLayerBranch\";\nvar DismissableLayerBranch = /*#__PURE__*/ _s5(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c3 = _s5((props2, forwardedRef)=>{\n    _s5();\n    const context = react__WEBPACK_IMPORTED_MODULE_1__.useContext(DismissableLayerContext);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"DismissableLayerBranch.useEffect\": ()=>{\n            const node = ref.current;\n            if (node) {\n                context.branches.add(node);\n                return ({\n                    \"DismissableLayerBranch.useEffect\": ()=>{\n                        context.branches.delete(node);\n                    }\n                })[\"DismissableLayerBranch.useEffect\"];\n            }\n        }\n    }[\"DismissableLayerBranch.useEffect\"], [\n        context.branches\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        ...props2,\n        ref: composedRefs\n    });\n}, \"GBdJ+COKIgE+yfoxVYovlSfvJLw=\", false, function() {\n    return [\n        useComposedRefs\n    ];\n})), \"GBdJ+COKIgE+yfoxVYovlSfvJLw=\", false, function() {\n    return [\n        useComposedRefs\n    ];\n});\n_c4 = DismissableLayerBranch;\nDismissableLayerBranch.displayName = BRANCH_NAME;\nfunction usePointerDownOutside(onPointerDownOutside) {\n    let ownerDocument = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : globalThis == null ? void 0 : globalThis.document;\n    _s6();\n    const handlePointerDownOutside = useCallbackRef$1(onPointerDownOutside);\n    const isPointerInsideReactTreeRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const handleClickRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef({\n        \"usePointerDownOutside.useRef[handleClickRef]\": ()=>{}\n    }[\"usePointerDownOutside.useRef[handleClickRef]\"]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"usePointerDownOutside.useEffect\": ()=>{\n            const handlePointerDown2 = {\n                \"usePointerDownOutside.useEffect.handlePointerDown2\": (event)=>{\n                    if (event.target && !isPointerInsideReactTreeRef.current) {\n                        let handleAndDispatchPointerDownOutsideEvent2 = {\n                            \"usePointerDownOutside.useEffect.handlePointerDown2.handleAndDispatchPointerDownOutsideEvent2\": function() {\n                                handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE, handlePointerDownOutside, eventDetail, {\n                                    discrete: true\n                                });\n                            }\n                        }[\"usePointerDownOutside.useEffect.handlePointerDown2.handleAndDispatchPointerDownOutsideEvent2\"];\n                        const eventDetail = {\n                            originalEvent: event\n                        };\n                        if (event.pointerType === \"touch\") {\n                            ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n                            handleClickRef.current = handleAndDispatchPointerDownOutsideEvent2;\n                            ownerDocument.addEventListener(\"click\", handleClickRef.current, {\n                                once: true\n                            });\n                        } else {\n                            handleAndDispatchPointerDownOutsideEvent2();\n                        }\n                    } else {\n                        ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n                    }\n                    isPointerInsideReactTreeRef.current = false;\n                }\n            }[\"usePointerDownOutside.useEffect.handlePointerDown2\"];\n            const timerId = window.setTimeout({\n                \"usePointerDownOutside.useEffect.timerId\": ()=>{\n                    ownerDocument.addEventListener(\"pointerdown\", handlePointerDown2);\n                }\n            }[\"usePointerDownOutside.useEffect.timerId\"], 0);\n            return ({\n                \"usePointerDownOutside.useEffect\": ()=>{\n                    window.clearTimeout(timerId);\n                    ownerDocument.removeEventListener(\"pointerdown\", handlePointerDown2);\n                    ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n                }\n            })[\"usePointerDownOutside.useEffect\"];\n        }\n    }[\"usePointerDownOutside.useEffect\"], [\n        ownerDocument,\n        handlePointerDownOutside\n    ]);\n    return {\n        // ensures we check React component tree (not just DOM tree)\n        onPointerDownCapture: ()=>isPointerInsideReactTreeRef.current = true\n    };\n}\n_s6(usePointerDownOutside, \"xQqB3NOzk4YD/67FKPzIN70G07Y=\", false, function() {\n    return [\n        useCallbackRef$1\n    ];\n});\nfunction useFocusOutside(onFocusOutside) {\n    let ownerDocument = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : globalThis == null ? void 0 : globalThis.document;\n    _s7();\n    const handleFocusOutside = useCallbackRef$1(onFocusOutside);\n    const isFocusInsideReactTreeRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useFocusOutside.useEffect\": ()=>{\n            const handleFocus = {\n                \"useFocusOutside.useEffect.handleFocus\": (event)=>{\n                    if (event.target && !isFocusInsideReactTreeRef.current) {\n                        const eventDetail = {\n                            originalEvent: event\n                        };\n                        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n                            discrete: false\n                        });\n                    }\n                }\n            }[\"useFocusOutside.useEffect.handleFocus\"];\n            ownerDocument.addEventListener(\"focusin\", handleFocus);\n            return ({\n                \"useFocusOutside.useEffect\": ()=>ownerDocument.removeEventListener(\"focusin\", handleFocus)\n            })[\"useFocusOutside.useEffect\"];\n        }\n    }[\"useFocusOutside.useEffect\"], [\n        ownerDocument,\n        handleFocusOutside\n    ]);\n    return {\n        onFocusCapture: ()=>isFocusInsideReactTreeRef.current = true,\n        onBlurCapture: ()=>isFocusInsideReactTreeRef.current = false\n    };\n}\n_s7(useFocusOutside, \"EC4i48o5ehipjVzVA2H6L3+4L8Q=\", false, function() {\n    return [\n        useCallbackRef$1\n    ];\n});\nfunction dispatchUpdate() {\n    const event = new CustomEvent(CONTEXT_UPDATE);\n    document.dispatchEvent(event);\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, param) {\n    let { discrete } = param;\n    const target = detail.originalEvent.target;\n    const event = new CustomEvent(name, {\n        bubbles: false,\n        cancelable: true,\n        detail\n    });\n    if (handler) target.addEventListener(name, handler, {\n        once: true\n    });\n    if (discrete) {\n        dispatchDiscreteCustomEvent(target, event);\n    } else {\n        target.dispatchEvent(event);\n    }\n}\nvar count$1 = 0;\nfunction useFocusGuards() {\n    _s8();\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useFocusGuards.useEffect\": ()=>{\n            const edgeGuards = document.querySelectorAll(\"[data-radix-focus-guard]\");\n            var _edgeGuards_;\n            document.body.insertAdjacentElement(\"afterbegin\", (_edgeGuards_ = edgeGuards[0]) !== null && _edgeGuards_ !== void 0 ? _edgeGuards_ : createFocusGuard());\n            var _edgeGuards_1;\n            document.body.insertAdjacentElement(\"beforeend\", (_edgeGuards_1 = edgeGuards[1]) !== null && _edgeGuards_1 !== void 0 ? _edgeGuards_1 : createFocusGuard());\n            count$1++;\n            return ({\n                \"useFocusGuards.useEffect\": ()=>{\n                    if (count$1 === 1) {\n                        document.querySelectorAll(\"[data-radix-focus-guard]\").forEach({\n                            \"useFocusGuards.useEffect\": (node)=>node.remove()\n                        }[\"useFocusGuards.useEffect\"]);\n                    }\n                    count$1--;\n                }\n            })[\"useFocusGuards.useEffect\"];\n        }\n    }[\"useFocusGuards.useEffect\"], []);\n}\n_s8(useFocusGuards, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nfunction createFocusGuard() {\n    const element = document.createElement(\"span\");\n    element.setAttribute(\"data-radix-focus-guard\", \"\");\n    element.tabIndex = 0;\n    element.style.outline = \"none\";\n    element.style.opacity = \"0\";\n    element.style.position = \"fixed\";\n    element.style.pointerEvents = \"none\";\n    return element;\n}\nvar AUTOFOCUS_ON_MOUNT = \"focusScope.autoFocusOnMount\";\nvar AUTOFOCUS_ON_UNMOUNT = \"focusScope.autoFocusOnUnmount\";\nvar EVENT_OPTIONS$1 = {\n    bubbles: false,\n    cancelable: true\n};\nvar FOCUS_SCOPE_NAME = \"FocusScope\";\nvar FocusScope = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s9((props2, forwardedRef)=>{\n    _s9();\n    const { loop = false, trapped = false, onMountAutoFocus: onMountAutoFocusProp, onUnmountAutoFocus: onUnmountAutoFocusProp, ...scopeProps } = props2;\n    const [container, setContainer] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const onMountAutoFocus = useCallbackRef$1(onMountAutoFocusProp);\n    const onUnmountAutoFocus = useCallbackRef$1(onUnmountAutoFocusProp);\n    const lastFocusedElementRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"FocusScope.useComposedRefs[composedRefs]\": (node)=>setContainer(node)\n    }[\"FocusScope.useComposedRefs[composedRefs]\"]);\n    const focusScope = react__WEBPACK_IMPORTED_MODULE_1__.useRef({\n        paused: false,\n        pause () {\n            this.paused = true;\n        },\n        resume () {\n            this.paused = false;\n        }\n    }).current;\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"FocusScope.useEffect\": ()=>{\n            if (trapped) {\n                let handleFocusIn2 = {\n                    \"FocusScope.useEffect.handleFocusIn2\": function(event) {\n                        if (focusScope.paused || !container) return;\n                        const target = event.target;\n                        if (container.contains(target)) {\n                            lastFocusedElementRef.current = target;\n                        } else {\n                            focus(lastFocusedElementRef.current, {\n                                select: true\n                            });\n                        }\n                    }\n                }[\"FocusScope.useEffect.handleFocusIn2\"], handleFocusOut2 = {\n                    \"FocusScope.useEffect.handleFocusOut2\": function(event) {\n                        if (focusScope.paused || !container) return;\n                        const relatedTarget = event.relatedTarget;\n                        if (relatedTarget === null) return;\n                        if (!container.contains(relatedTarget)) {\n                            focus(lastFocusedElementRef.current, {\n                                select: true\n                            });\n                        }\n                    }\n                }[\"FocusScope.useEffect.handleFocusOut2\"], handleMutations2 = {\n                    \"FocusScope.useEffect.handleMutations2\": function(mutations) {\n                        const focusedElement = document.activeElement;\n                        if (focusedElement !== document.body) return;\n                        for (const mutation of mutations){\n                            if (mutation.removedNodes.length > 0) focus(container);\n                        }\n                    }\n                }[\"FocusScope.useEffect.handleMutations2\"];\n                document.addEventListener(\"focusin\", handleFocusIn2);\n                document.addEventListener(\"focusout\", handleFocusOut2);\n                const mutationObserver = new MutationObserver(handleMutations2);\n                if (container) mutationObserver.observe(container, {\n                    childList: true,\n                    subtree: true\n                });\n                return ({\n                    \"FocusScope.useEffect\": ()=>{\n                        document.removeEventListener(\"focusin\", handleFocusIn2);\n                        document.removeEventListener(\"focusout\", handleFocusOut2);\n                        mutationObserver.disconnect();\n                    }\n                })[\"FocusScope.useEffect\"];\n            }\n        }\n    }[\"FocusScope.useEffect\"], [\n        trapped,\n        container,\n        focusScope.paused\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"FocusScope.useEffect\": ()=>{\n            if (container) {\n                focusScopesStack.add(focusScope);\n                const previouslyFocusedElement = document.activeElement;\n                const hasFocusedCandidate = container.contains(previouslyFocusedElement);\n                if (!hasFocusedCandidate) {\n                    const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS$1);\n                    container.addEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n                    container.dispatchEvent(mountEvent);\n                    if (!mountEvent.defaultPrevented) {\n                        focusFirst$2(removeLinks(getTabbableCandidates(container)), {\n                            select: true\n                        });\n                        if (document.activeElement === previouslyFocusedElement) {\n                            focus(container);\n                        }\n                    }\n                }\n                return ({\n                    \"FocusScope.useEffect\": ()=>{\n                        container.removeEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n                        setTimeout({\n                            \"FocusScope.useEffect\": ()=>{\n                                const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT, EVENT_OPTIONS$1);\n                                container.addEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n                                container.dispatchEvent(unmountEvent);\n                                if (!unmountEvent.defaultPrevented) {\n                                    focus(previouslyFocusedElement !== null && previouslyFocusedElement !== void 0 ? previouslyFocusedElement : document.body, {\n                                        select: true\n                                    });\n                                }\n                                container.removeEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n                                focusScopesStack.remove(focusScope);\n                            }\n                        }[\"FocusScope.useEffect\"], 0);\n                    }\n                })[\"FocusScope.useEffect\"];\n            }\n        }\n    }[\"FocusScope.useEffect\"], [\n        container,\n        onMountAutoFocus,\n        onUnmountAutoFocus,\n        focusScope\n    ]);\n    const handleKeyDown = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"FocusScope.useCallback[handleKeyDown]\": (event)=>{\n            if (!loop && !trapped) return;\n            if (focusScope.paused) return;\n            const isTabKey = event.key === \"Tab\" && !event.altKey && !event.ctrlKey && !event.metaKey;\n            const focusedElement = document.activeElement;\n            if (isTabKey && focusedElement) {\n                const container2 = event.currentTarget;\n                const [first, last] = getTabbableEdges(container2);\n                const hasTabbableElementsInside = first && last;\n                if (!hasTabbableElementsInside) {\n                    if (focusedElement === container2) event.preventDefault();\n                } else {\n                    if (!event.shiftKey && focusedElement === last) {\n                        event.preventDefault();\n                        if (loop) focus(first, {\n                            select: true\n                        });\n                    } else if (event.shiftKey && focusedElement === first) {\n                        event.preventDefault();\n                        if (loop) focus(last, {\n                            select: true\n                        });\n                    }\n                }\n            }\n        }\n    }[\"FocusScope.useCallback[handleKeyDown]\"], [\n        loop,\n        trapped,\n        focusScope.paused\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        tabIndex: -1,\n        ...scopeProps,\n        ref: composedRefs,\n        onKeyDown: handleKeyDown\n    });\n}, \"oL5B22Fsl49zhxISSjwGiITDkKE=\", false, function() {\n    return [\n        useCallbackRef$1,\n        useCallbackRef$1,\n        useComposedRefs\n    ];\n}));\n_c5 = FocusScope;\nFocusScope.displayName = FOCUS_SCOPE_NAME;\nfunction focusFirst$2(candidates) {\n    let { select = false } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const previouslyFocusedElement = document.activeElement;\n    for (const candidate of candidates){\n        focus(candidate, {\n            select\n        });\n        if (document.activeElement !== previouslyFocusedElement) return;\n    }\n}\nfunction getTabbableEdges(container) {\n    const candidates = getTabbableCandidates(container);\n    const first = findVisible(candidates, container);\n    const last = findVisible(candidates.reverse(), container);\n    return [\n        first,\n        last\n    ];\n}\nfunction getTabbableCandidates(container) {\n    const nodes = [];\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n        acceptNode: (node)=>{\n            const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n            if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n            return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n        }\n    });\n    while(walker.nextNode())nodes.push(walker.currentNode);\n    return nodes;\n}\nfunction findVisible(elements, container) {\n    for (const element of elements){\n        if (!isHidden(element, {\n            upTo: container\n        })) return element;\n    }\n}\nfunction isHidden(node, param) {\n    let { upTo } = param;\n    if (getComputedStyle(node).visibility === \"hidden\") return true;\n    while(node){\n        if (upTo !== void 0 && node === upTo) return false;\n        if (getComputedStyle(node).display === \"none\") return true;\n        node = node.parentElement;\n    }\n    return false;\n}\nfunction isSelectableInput(element) {\n    return element instanceof HTMLInputElement && \"select\" in element;\n}\nfunction focus(element) {\n    let { select = false } = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    if (element && element.focus) {\n        const previouslyFocusedElement = document.activeElement;\n        element.focus({\n            preventScroll: true\n        });\n        if (element !== previouslyFocusedElement && isSelectableInput(element) && select) element.select();\n    }\n}\nvar focusScopesStack = createFocusScopesStack();\nfunction createFocusScopesStack() {\n    let stack = [];\n    return {\n        add (focusScope) {\n            const activeFocusScope = stack[0];\n            if (focusScope !== activeFocusScope) {\n                activeFocusScope == null ? void 0 : activeFocusScope.pause();\n            }\n            stack = arrayRemove(stack, focusScope);\n            stack.unshift(focusScope);\n        },\n        remove (focusScope) {\n            var _a;\n            stack = arrayRemove(stack, focusScope);\n            (_a = stack[0]) == null ? void 0 : _a.resume();\n        }\n    };\n}\nfunction arrayRemove(array, item) {\n    const updatedArray = [\n        ...array\n    ];\n    const index2 = updatedArray.indexOf(item);\n    if (index2 !== -1) {\n        updatedArray.splice(index2, 1);\n    }\n    return updatedArray;\n}\nfunction removeLinks(items) {\n    return items.filter((item)=>item.tagName !== \"A\");\n}\nvar useLayoutEffect2 = (globalThis == null ? void 0 : globalThis.document) ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : ()=>{};\nvar useReactId = /*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_1__, 2)))[\" useId \".trim().toString()] || (()=>void 0);\nvar count = 0;\nfunction useId$1(deterministicId) {\n    _s10();\n    const [id, setId] = react__WEBPACK_IMPORTED_MODULE_1__.useState(useReactId());\n    useLayoutEffect2({\n        \"useId$1.useLayoutEffect2\": ()=>{\n            setId({\n                \"useId$1.useLayoutEffect2\": (reactId)=>reactId !== null && reactId !== void 0 ? reactId : String(count++)\n            }[\"useId$1.useLayoutEffect2\"]);\n        }\n    }[\"useId$1.useLayoutEffect2\"], [\n        deterministicId\n    ]);\n    return deterministicId || (id ? \"radix-\".concat(id) : \"\");\n}\n_s10(useId$1, \"SRIQmLZeRXV8RAX/yJZz0a/Dr4U=\", false, function() {\n    return [\n        useLayoutEffect2\n    ];\n});\nconst sides = [\n    \"top\",\n    \"right\",\n    \"bottom\",\n    \"left\"\n];\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v)=>({\n        x: v,\n        y: v\n    });\nconst oppositeSideMap = {\n    left: \"right\",\n    right: \"left\",\n    bottom: \"top\",\n    top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n    start: \"end\",\n    end: \"start\"\n};\nfunction clamp(start, value1, end) {\n    return max(start, min(value1, end));\n}\nfunction evaluate(value1, param) {\n    return typeof value1 === \"function\" ? value1(param) : value1;\n}\nfunction getSide(placement) {\n    return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n    return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n    return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n    return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n    return [\n        \"top\",\n        \"bottom\"\n    ].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n    return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n    if (rtl === void 0) {\n        rtl = false;\n    }\n    const alignment = getAlignment(placement);\n    const alignmentAxis = getAlignmentAxis(placement);\n    const length = getAxisLength(alignmentAxis);\n    let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n    if (rects.reference[length] > rects.floating[length]) {\n        mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n    }\n    return [\n        mainAlignmentSide,\n        getOppositePlacement(mainAlignmentSide)\n    ];\n}\nfunction getExpandedPlacements(placement) {\n    const oppositePlacement = getOppositePlacement(placement);\n    return [\n        getOppositeAlignmentPlacement(placement),\n        oppositePlacement,\n        getOppositeAlignmentPlacement(oppositePlacement)\n    ];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n    return placement.replace(/start|end/g, (alignment)=>oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n    const lr = [\n        \"left\",\n        \"right\"\n    ];\n    const rl = [\n        \"right\",\n        \"left\"\n    ];\n    const tb = [\n        \"top\",\n        \"bottom\"\n    ];\n    const bt = [\n        \"bottom\",\n        \"top\"\n    ];\n    switch(side){\n        case \"top\":\n        case \"bottom\":\n            if (rtl) return isStart ? rl : lr;\n            return isStart ? lr : rl;\n        case \"left\":\n        case \"right\":\n            return isStart ? tb : bt;\n        default:\n            return [];\n    }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n    const alignment = getAlignment(placement);\n    let list = getSideList(getSide(placement), direction === \"start\", rtl);\n    if (alignment) {\n        list = list.map((side)=>side + \"-\" + alignment);\n        if (flipAlignment) {\n            list = list.concat(list.map(getOppositeAlignmentPlacement));\n        }\n    }\n    return list;\n}\nfunction getOppositePlacement(placement) {\n    return placement.replace(/left|right|bottom|top/g, (side)=>oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n    return {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        ...padding\n    };\n}\nfunction getPaddingObject(padding) {\n    return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n        top: padding,\n        right: padding,\n        bottom: padding,\n        left: padding\n    };\n}\nfunction rectToClientRect(rect) {\n    const { x, y, width, height } = rect;\n    return {\n        width,\n        height,\n        top: y,\n        left: x,\n        right: x + width,\n        bottom: y + height,\n        x,\n        y\n    };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n    let { reference, floating } = _ref;\n    const sideAxis = getSideAxis(placement);\n    const alignmentAxis = getAlignmentAxis(placement);\n    const alignLength = getAxisLength(alignmentAxis);\n    const side = getSide(placement);\n    const isVertical = sideAxis === \"y\";\n    const commonX = reference.x + reference.width / 2 - floating.width / 2;\n    const commonY = reference.y + reference.height / 2 - floating.height / 2;\n    const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n    let coords;\n    switch(side){\n        case \"top\":\n            coords = {\n                x: commonX,\n                y: reference.y - floating.height\n            };\n            break;\n        case \"bottom\":\n            coords = {\n                x: commonX,\n                y: reference.y + reference.height\n            };\n            break;\n        case \"right\":\n            coords = {\n                x: reference.x + reference.width,\n                y: commonY\n            };\n            break;\n        case \"left\":\n            coords = {\n                x: reference.x - floating.width,\n                y: commonY\n            };\n            break;\n        default:\n            coords = {\n                x: reference.x,\n                y: reference.y\n            };\n    }\n    switch(getAlignment(placement)){\n        case \"start\":\n            coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n            break;\n        case \"end\":\n            coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n            break;\n    }\n    return coords;\n}\nconst computePosition$1 = async (reference, floating, config)=>{\n    const { placement = \"bottom\", strategy = \"absolute\", middleware = [], platform: platform2 } = config;\n    const validMiddleware = middleware.filter(Boolean);\n    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));\n    let rects = await platform2.getElementRects({\n        reference,\n        floating,\n        strategy\n    });\n    let { x, y } = computeCoordsFromPlacement(rects, placement, rtl);\n    let statefulPlacement = placement;\n    let middlewareData = {};\n    let resetCount = 0;\n    for(let i = 0; i < validMiddleware.length; i++){\n        const { name, fn } = validMiddleware[i];\n        const { x: nextX, y: nextY, data, reset } = await fn({\n            x,\n            y,\n            initialPlacement: placement,\n            placement: statefulPlacement,\n            strategy,\n            middlewareData,\n            rects,\n            platform: platform2,\n            elements: {\n                reference,\n                floating\n            }\n        });\n        x = nextX != null ? nextX : x;\n        y = nextY != null ? nextY : y;\n        middlewareData = {\n            ...middlewareData,\n            [name]: {\n                ...middlewareData[name],\n                ...data\n            }\n        };\n        if (reset && resetCount <= 50) {\n            resetCount++;\n            if (typeof reset === \"object\") {\n                if (reset.placement) {\n                    statefulPlacement = reset.placement;\n                }\n                if (reset.rects) {\n                    rects = reset.rects === true ? await platform2.getElementRects({\n                        reference,\n                        floating,\n                        strategy\n                    }) : reset.rects;\n                }\n                ({ x, y } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n            }\n            i = -1;\n        }\n    }\n    return {\n        x,\n        y,\n        placement: statefulPlacement,\n        strategy,\n        middlewareData\n    };\n};\nasync function detectOverflow(state, options) {\n    var _await$platform$isEle;\n    if (options === void 0) {\n        options = {};\n    }\n    const { x, y, platform: platform2, rects, elements, strategy } = state;\n    const { boundary = \"clippingAncestors\", rootBoundary = \"viewport\", elementContext = \"floating\", altBoundary = false, padding = 0 } = evaluate(options, state);\n    const paddingObject = getPaddingObject(padding);\n    const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n    const element = elements[altBoundary ? altContext : elementContext];\n    const clippingClientRect = rectToClientRect(await platform2.getClippingRect({\n        element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n        boundary,\n        rootBoundary,\n        strategy\n    }));\n    const rect = elementContext === \"floating\" ? {\n        x,\n        y,\n        width: rects.floating.width,\n        height: rects.floating.height\n    } : rects.reference;\n    const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));\n    const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n        x: 1,\n        y: 1\n    } : {\n        x: 1,\n        y: 1\n    };\n    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n        elements,\n        rect,\n        offsetParent,\n        strategy\n    }) : rect);\n    return {\n        top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n        bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n        left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n        right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n    };\n}\nconst arrow$3 = (options)=>({\n        name: \"arrow\",\n        options,\n        async fn (state) {\n            const { x, y, placement, rects, platform: platform2, elements, middlewareData } = state;\n            const { element, padding = 0 } = evaluate(options, state) || {};\n            if (element == null) {\n                return {};\n            }\n            const paddingObject = getPaddingObject(padding);\n            const coords = {\n                x,\n                y\n            };\n            const axis = getAlignmentAxis(placement);\n            const length = getAxisLength(axis);\n            const arrowDimensions = await platform2.getDimensions(element);\n            const isYAxis = axis === \"y\";\n            const minProp = isYAxis ? \"top\" : \"left\";\n            const maxProp = isYAxis ? \"bottom\" : \"right\";\n            const clientProp = isYAxis ? \"clientHeight\" : \"clientWidth\";\n            const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n            const startDiff = coords[axis] - rects.reference[axis];\n            const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));\n            let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n            if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {\n                clientSize = elements.floating[clientProp] || rects.floating[length];\n            }\n            const centerToReference = endDiff / 2 - startDiff / 2;\n            const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n            const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n            const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n            const min$1 = minPadding;\n            const max2 = clientSize - arrowDimensions[length] - maxPadding;\n            const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n            const offset2 = clamp(min$1, center, max2);\n            const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset2 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n            const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;\n            return {\n                [axis]: coords[axis] + alignmentOffset,\n                data: {\n                    [axis]: offset2,\n                    centerOffset: center - offset2 - alignmentOffset,\n                    ...shouldAddOffset && {\n                        alignmentOffset\n                    }\n                },\n                reset: shouldAddOffset\n            };\n        }\n    });\nconst flip$2 = function(options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return {\n        name: \"flip\",\n        options,\n        async fn (state) {\n            var _middlewareData$arrow, _middlewareData$flip;\n            const { placement, middlewareData, rects, initialPlacement, platform: platform2, elements } = state;\n            const { mainAxis: checkMainAxis = true, crossAxis: checkCrossAxis = true, fallbackPlacements: specifiedFallbackPlacements, fallbackStrategy = \"bestFit\", fallbackAxisSideDirection = \"none\", flipAlignment = true, ...detectOverflowOptions } = evaluate(options, state);\n            if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n                return {};\n            }\n            const side = getSide(placement);\n            const initialSideAxis = getSideAxis(initialPlacement);\n            const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n            const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n            const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [\n                getOppositePlacement(initialPlacement)\n            ] : getExpandedPlacements(initialPlacement));\n            const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== \"none\";\n            if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n                fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n            }\n            const placements = [\n                initialPlacement,\n                ...fallbackPlacements\n            ];\n            const overflow = await detectOverflow(state, detectOverflowOptions);\n            const overflows = [];\n            let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n            if (checkMainAxis) {\n                overflows.push(overflow[side]);\n            }\n            if (checkCrossAxis) {\n                const sides2 = getAlignmentSides(placement, rects, rtl);\n                overflows.push(overflow[sides2[0]], overflow[sides2[1]]);\n            }\n            overflowsData = [\n                ...overflowsData,\n                {\n                    placement,\n                    overflows\n                }\n            ];\n            if (!overflows.every((side2)=>side2 <= 0)) {\n                var _middlewareData$flip2, _overflowsData$filter;\n                const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n                const nextPlacement = placements[nextIndex];\n                if (nextPlacement) {\n                    const ignoreCrossAxisOverflow = checkCrossAxis === \"alignment\" ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n                    if (!ignoreCrossAxisOverflow || // We leave the current main axis only if every placement on that axis\n                    // overflows the main axis.\n                    overflowsData.every((d)=>d.overflows[0] > 0 && getSideAxis(d.placement) === initialSideAxis)) {\n                        return {\n                            data: {\n                                index: nextIndex,\n                                overflows: overflowsData\n                            },\n                            reset: {\n                                placement: nextPlacement\n                            }\n                        };\n                    }\n                }\n                let resetPlacement = (_overflowsData$filter = overflowsData.filter((d)=>d.overflows[0] <= 0).sort((a, b)=>a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n                if (!resetPlacement) {\n                    switch(fallbackStrategy){\n                        case \"bestFit\":\n                            {\n                                var _overflowsData$filter2;\n                                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d)=>{\n                                    if (hasFallbackAxisSideDirection) {\n                                        const currentSideAxis = getSideAxis(d.placement);\n                                        return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal\n                                        // reading directions favoring greater width.\n                                        currentSideAxis === \"y\";\n                                    }\n                                    return true;\n                                }).map((d)=>[\n                                        d.placement,\n                                        d.overflows.filter((overflow2)=>overflow2 > 0).reduce((acc, overflow2)=>acc + overflow2, 0)\n                                    ]).sort((a, b)=>a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                                if (placement2) {\n                                    resetPlacement = placement2;\n                                }\n                                break;\n                            }\n                        case \"initialPlacement\":\n                            resetPlacement = initialPlacement;\n                            break;\n                    }\n                }\n                if (placement !== resetPlacement) {\n                    return {\n                        reset: {\n                            placement: resetPlacement\n                        }\n                    };\n                }\n            }\n            return {};\n        }\n    };\n};\nfunction getSideOffsets(overflow, rect) {\n    return {\n        top: overflow.top - rect.height,\n        right: overflow.right - rect.width,\n        bottom: overflow.bottom - rect.height,\n        left: overflow.left - rect.width\n    };\n}\nfunction isAnySideFullyClipped(overflow) {\n    return sides.some((side)=>overflow[side] >= 0);\n}\nconst hide$2 = function(options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return {\n        name: \"hide\",\n        options,\n        async fn (state) {\n            const { rects } = state;\n            const { strategy = \"referenceHidden\", ...detectOverflowOptions } = evaluate(options, state);\n            switch(strategy){\n                case \"referenceHidden\":\n                    {\n                        const overflow = await detectOverflow(state, {\n                            ...detectOverflowOptions,\n                            elementContext: \"reference\"\n                        });\n                        const offsets = getSideOffsets(overflow, rects.reference);\n                        return {\n                            data: {\n                                referenceHiddenOffsets: offsets,\n                                referenceHidden: isAnySideFullyClipped(offsets)\n                            }\n                        };\n                    }\n                case \"escaped\":\n                    {\n                        const overflow = await detectOverflow(state, {\n                            ...detectOverflowOptions,\n                            altBoundary: true\n                        });\n                        const offsets = getSideOffsets(overflow, rects.floating);\n                        return {\n                            data: {\n                                escapedOffsets: offsets,\n                                escaped: isAnySideFullyClipped(offsets)\n                            }\n                        };\n                    }\n                default:\n                    {\n                        return {};\n                    }\n            }\n        }\n    };\n};\nasync function convertValueToCoords(state, options) {\n    const { placement, platform: platform2, elements } = state;\n    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n    const side = getSide(placement);\n    const alignment = getAlignment(placement);\n    const isVertical = getSideAxis(placement) === \"y\";\n    const mainAxisMulti = [\n        \"left\",\n        \"top\"\n    ].includes(side) ? -1 : 1;\n    const crossAxisMulti = rtl && isVertical ? -1 : 1;\n    const rawValue = evaluate(options, state);\n    let { mainAxis, crossAxis, alignmentAxis } = typeof rawValue === \"number\" ? {\n        mainAxis: rawValue,\n        crossAxis: 0,\n        alignmentAxis: null\n    } : {\n        mainAxis: rawValue.mainAxis || 0,\n        crossAxis: rawValue.crossAxis || 0,\n        alignmentAxis: rawValue.alignmentAxis\n    };\n    if (alignment && typeof alignmentAxis === \"number\") {\n        crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n    }\n    return isVertical ? {\n        x: crossAxis * crossAxisMulti,\n        y: mainAxis * mainAxisMulti\n    } : {\n        x: mainAxis * mainAxisMulti,\n        y: crossAxis * crossAxisMulti\n    };\n}\nconst offset$2 = function(options) {\n    if (options === void 0) {\n        options = 0;\n    }\n    return {\n        name: \"offset\",\n        options,\n        async fn (state) {\n            var _middlewareData$offse, _middlewareData$arrow;\n            const { x, y, placement, middlewareData } = state;\n            const diffCoords = await convertValueToCoords(state, options);\n            if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n                return {};\n            }\n            return {\n                x: x + diffCoords.x,\n                y: y + diffCoords.y,\n                data: {\n                    ...diffCoords,\n                    placement\n                }\n            };\n        }\n    };\n};\nconst shift$2 = function(options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return {\n        name: \"shift\",\n        options,\n        async fn (state) {\n            const { x, y, placement } = state;\n            const { mainAxis: checkMainAxis = true, crossAxis: checkCrossAxis = false, limiter = {\n                fn: (_ref)=>{\n                    let { x: x2, y: y2 } = _ref;\n                    return {\n                        x: x2,\n                        y: y2\n                    };\n                }\n            }, ...detectOverflowOptions } = evaluate(options, state);\n            const coords = {\n                x,\n                y\n            };\n            const overflow = await detectOverflow(state, detectOverflowOptions);\n            const crossAxis = getSideAxis(getSide(placement));\n            const mainAxis = getOppositeAxis(crossAxis);\n            let mainAxisCoord = coords[mainAxis];\n            let crossAxisCoord = coords[crossAxis];\n            if (checkMainAxis) {\n                const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n                const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n                const min2 = mainAxisCoord + overflow[minSide];\n                const max2 = mainAxisCoord - overflow[maxSide];\n                mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n            }\n            if (checkCrossAxis) {\n                const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n                const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n                const min2 = crossAxisCoord + overflow[minSide];\n                const max2 = crossAxisCoord - overflow[maxSide];\n                crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n            }\n            const limitedCoords = limiter.fn({\n                ...state,\n                [mainAxis]: mainAxisCoord,\n                [crossAxis]: crossAxisCoord\n            });\n            return {\n                ...limitedCoords,\n                data: {\n                    x: limitedCoords.x - x,\n                    y: limitedCoords.y - y,\n                    enabled: {\n                        [mainAxis]: checkMainAxis,\n                        [crossAxis]: checkCrossAxis\n                    }\n                }\n            };\n        }\n    };\n};\nconst limitShift$2 = function(options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return {\n        options,\n        fn (state) {\n            const { x, y, placement, rects, middlewareData } = state;\n            const { offset: offset2 = 0, mainAxis: checkMainAxis = true, crossAxis: checkCrossAxis = true } = evaluate(options, state);\n            const coords = {\n                x,\n                y\n            };\n            const crossAxis = getSideAxis(placement);\n            const mainAxis = getOppositeAxis(crossAxis);\n            let mainAxisCoord = coords[mainAxis];\n            let crossAxisCoord = coords[crossAxis];\n            const rawOffset = evaluate(offset2, state);\n            const computedOffset = typeof rawOffset === \"number\" ? {\n                mainAxis: rawOffset,\n                crossAxis: 0\n            } : {\n                mainAxis: 0,\n                crossAxis: 0,\n                ...rawOffset\n            };\n            if (checkMainAxis) {\n                const len = mainAxis === \"y\" ? \"height\" : \"width\";\n                const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n                const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n                if (mainAxisCoord < limitMin) {\n                    mainAxisCoord = limitMin;\n                } else if (mainAxisCoord > limitMax) {\n                    mainAxisCoord = limitMax;\n                }\n            }\n            if (checkCrossAxis) {\n                var _middlewareData$offse, _middlewareData$offse2;\n                const len = mainAxis === \"y\" ? \"width\" : \"height\";\n                const isOriginSide = [\n                    \"top\",\n                    \"left\"\n                ].includes(getSide(placement));\n                const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n                const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n                if (crossAxisCoord < limitMin) {\n                    crossAxisCoord = limitMin;\n                } else if (crossAxisCoord > limitMax) {\n                    crossAxisCoord = limitMax;\n                }\n            }\n            return {\n                [mainAxis]: mainAxisCoord,\n                [crossAxis]: crossAxisCoord\n            };\n        }\n    };\n};\nconst size$2 = function(options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return {\n        name: \"size\",\n        options,\n        async fn (state) {\n            var _state$middlewareData, _state$middlewareData2;\n            const { placement, rects, platform: platform2, elements } = state;\n            const { apply = ()=>{}, ...detectOverflowOptions } = evaluate(options, state);\n            const overflow = await detectOverflow(state, detectOverflowOptions);\n            const side = getSide(placement);\n            const alignment = getAlignment(placement);\n            const isYAxis = getSideAxis(placement) === \"y\";\n            const { width, height } = rects.floating;\n            let heightSide;\n            let widthSide;\n            if (side === \"top\" || side === \"bottom\") {\n                heightSide = side;\n                widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n            } else {\n                widthSide = side;\n                heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n            }\n            const maximumClippingHeight = height - overflow.top - overflow.bottom;\n            const maximumClippingWidth = width - overflow.left - overflow.right;\n            const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n            const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n            const noShift = !state.middlewareData.shift;\n            let availableHeight = overflowAvailableHeight;\n            let availableWidth = overflowAvailableWidth;\n            if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n                availableWidth = maximumClippingWidth;\n            }\n            if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n                availableHeight = maximumClippingHeight;\n            }\n            if (noShift && !alignment) {\n                const xMin = max(overflow.left, 0);\n                const xMax = max(overflow.right, 0);\n                const yMin = max(overflow.top, 0);\n                const yMax = max(overflow.bottom, 0);\n                if (isYAxis) {\n                    availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n                } else {\n                    availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n                }\n            }\n            await apply({\n                ...state,\n                availableWidth,\n                availableHeight\n            });\n            const nextDimensions = await platform2.getDimensions(elements.floating);\n            if (width !== nextDimensions.width || height !== nextDimensions.height) {\n                return {\n                    reset: {\n                        rects: true\n                    }\n                };\n            }\n            return {};\n        }\n    };\n};\nfunction hasWindow() {\n    return \"object\" !== \"undefined\";\n}\nfunction getNodeName(node) {\n    if (isNode(node)) {\n        return (node.nodeName || \"\").toLowerCase();\n    }\n    return \"#document\";\n}\nfunction getWindow(node) {\n    var _node$ownerDocument;\n    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n    var _ref;\n    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value1) {\n    if (!hasWindow()) {\n        return false;\n    }\n    return value1 instanceof Node || value1 instanceof getWindow(value1).Node;\n}\nfunction isElement(value1) {\n    if (!hasWindow()) {\n        return false;\n    }\n    return value1 instanceof Element || value1 instanceof getWindow(value1).Element;\n}\nfunction isHTMLElement$1(value1) {\n    if (!hasWindow()) {\n        return false;\n    }\n    return value1 instanceof HTMLElement || value1 instanceof getWindow(value1).HTMLElement;\n}\nfunction isShadowRoot(value1) {\n    if (!hasWindow() || typeof ShadowRoot === \"undefined\") {\n        return false;\n    }\n    return value1 instanceof ShadowRoot || value1 instanceof getWindow(value1).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n    const { overflow, overflowX, overflowY, display } = getComputedStyle$1(element);\n    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\n        \"inline\",\n        \"contents\"\n    ].includes(display);\n}\nfunction isTableElement(element) {\n    return [\n        \"table\",\n        \"td\",\n        \"th\"\n    ].includes(getNodeName(element));\n}\nfunction isTopLayer(element) {\n    return [\n        \":popover-open\",\n        \":modal\"\n    ].some((selector)=>{\n        try {\n            return element.matches(selector);\n        } catch (e) {\n            return false;\n        }\n    });\n}\nfunction isContainingBlock(elementOrCss) {\n    const webkit = isWebKit();\n    const css = isElement(elementOrCss) ? getComputedStyle$1(elementOrCss) : elementOrCss;\n    return [\n        \"transform\",\n        \"translate\",\n        \"scale\",\n        \"rotate\",\n        \"perspective\"\n    ].some((value1)=>css[value1] ? css[value1] !== \"none\" : false) || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\n        \"transform\",\n        \"translate\",\n        \"scale\",\n        \"rotate\",\n        \"perspective\",\n        \"filter\"\n    ].some((value1)=>(css.willChange || \"\").includes(value1)) || [\n        \"paint\",\n        \"layout\",\n        \"strict\",\n        \"content\"\n    ].some((value1)=>(css.contain || \"\").includes(value1));\n}\nfunction getContainingBlock(element) {\n    let currentNode = getParentNode(element);\n    while(isHTMLElement$1(currentNode) && !isLastTraversableNode(currentNode)){\n        if (isContainingBlock(currentNode)) {\n            return currentNode;\n        } else if (isTopLayer(currentNode)) {\n            return null;\n        }\n        currentNode = getParentNode(currentNode);\n    }\n    return null;\n}\nfunction isWebKit() {\n    if (typeof CSS === \"undefined\" || !CSS.supports) return false;\n    return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n    return [\n        \"html\",\n        \"body\",\n        \"#document\"\n    ].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n    return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n    if (isElement(element)) {\n        return {\n            scrollLeft: element.scrollLeft,\n            scrollTop: element.scrollTop\n        };\n    }\n    return {\n        scrollLeft: element.scrollX,\n        scrollTop: element.scrollY\n    };\n}\nfunction getParentNode(node) {\n    if (getNodeName(node) === \"html\") {\n        return node;\n    }\n    const result = // Step into the shadow DOM of the parent of a slotted node.\n    node.assignedSlot || // DOM Element detected.\n    node.parentNode || // ShadowRoot detected.\n    isShadowRoot(node) && node.host || // Fallback.\n    getDocumentElement(node);\n    return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n    const parentNode = getParentNode(node);\n    if (isLastTraversableNode(parentNode)) {\n        return node.ownerDocument ? node.ownerDocument.body : node.body;\n    }\n    if (isHTMLElement$1(parentNode) && isOverflowElement(parentNode)) {\n        return parentNode;\n    }\n    return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n    var _node$ownerDocument2;\n    if (list === void 0) {\n        list = [];\n    }\n    if (traverseIframes === void 0) {\n        traverseIframes = true;\n    }\n    const scrollableAncestor = getNearestOverflowAncestor(node);\n    const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n    const win = getWindow(scrollableAncestor);\n    if (isBody) {\n        const frameElement = getFrameElement(win);\n        return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n    }\n    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n    return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\nfunction getCssDimensions(element) {\n    const css = getComputedStyle$1(element);\n    let width = parseFloat(css.width) || 0;\n    let height = parseFloat(css.height) || 0;\n    const hasOffset = isHTMLElement$1(element);\n    const offsetWidth = hasOffset ? element.offsetWidth : width;\n    const offsetHeight = hasOffset ? element.offsetHeight : height;\n    const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n    if (shouldFallback) {\n        width = offsetWidth;\n        height = offsetHeight;\n    }\n    return {\n        width,\n        height,\n        $: shouldFallback\n    };\n}\nfunction unwrapElement(element) {\n    return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n    const domElement = unwrapElement(element);\n    if (!isHTMLElement$1(domElement)) {\n        return createCoords(1);\n    }\n    const rect = domElement.getBoundingClientRect();\n    const { width, height, $ } = getCssDimensions(domElement);\n    let x = ($ ? round(rect.width) : rect.width) / width;\n    let y = ($ ? round(rect.height) : rect.height) / height;\n    if (!x || !Number.isFinite(x)) {\n        x = 1;\n    }\n    if (!y || !Number.isFinite(y)) {\n        y = 1;\n    }\n    return {\n        x,\n        y\n    };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n    const win = getWindow(element);\n    if (!isWebKit() || !win.visualViewport) {\n        return noOffsets;\n    }\n    return {\n        x: win.visualViewport.offsetLeft,\n        y: win.visualViewport.offsetTop\n    };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n    if (isFixed === void 0) {\n        isFixed = false;\n    }\n    if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n        return false;\n    }\n    return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n    if (includeScale === void 0) {\n        includeScale = false;\n    }\n    if (isFixedStrategy === void 0) {\n        isFixedStrategy = false;\n    }\n    const clientRect = element.getBoundingClientRect();\n    const domElement = unwrapElement(element);\n    let scale = createCoords(1);\n    if (includeScale) {\n        if (offsetParent) {\n            if (isElement(offsetParent)) {\n                scale = getScale(offsetParent);\n            }\n        } else {\n            scale = getScale(element);\n        }\n    }\n    const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n    let x = (clientRect.left + visualOffsets.x) / scale.x;\n    let y = (clientRect.top + visualOffsets.y) / scale.y;\n    let width = clientRect.width / scale.x;\n    let height = clientRect.height / scale.y;\n    if (domElement) {\n        const win = getWindow(domElement);\n        const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n        let currentWin = win;\n        let currentIFrame = getFrameElement(currentWin);\n        while(currentIFrame && offsetParent && offsetWin !== currentWin){\n            const iframeScale = getScale(currentIFrame);\n            const iframeRect = currentIFrame.getBoundingClientRect();\n            const css = getComputedStyle$1(currentIFrame);\n            const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n            const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n            x *= iframeScale.x;\n            y *= iframeScale.y;\n            width *= iframeScale.x;\n            height *= iframeScale.y;\n            x += left;\n            y += top;\n            currentWin = getWindow(currentIFrame);\n            currentIFrame = getFrameElement(currentWin);\n        }\n    }\n    return rectToClientRect({\n        width,\n        height,\n        x,\n        y\n    });\n}\nfunction getWindowScrollBarX(element, rect) {\n    const leftScroll = getNodeScroll(element).scrollLeft;\n    if (!rect) {\n        return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n    }\n    return rect.left + leftScroll;\n}\nfunction getHTMLOffset(documentElement, scroll, ignoreScrollbarX) {\n    if (ignoreScrollbarX === void 0) {\n        ignoreScrollbarX = false;\n    }\n    const htmlRect = documentElement.getBoundingClientRect();\n    const x = htmlRect.left + scroll.scrollLeft - (ignoreScrollbarX ? 0 : // RTL <body> scrollbar.\n    getWindowScrollBarX(documentElement, htmlRect));\n    const y = htmlRect.top + scroll.scrollTop;\n    return {\n        x,\n        y\n    };\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n    let { elements, rect, offsetParent, strategy } = _ref;\n    const isFixed = strategy === \"fixed\";\n    const documentElement = getDocumentElement(offsetParent);\n    const topLayer = elements ? isTopLayer(elements.floating) : false;\n    if (offsetParent === documentElement || topLayer && isFixed) {\n        return rect;\n    }\n    let scroll = {\n        scrollLeft: 0,\n        scrollTop: 0\n    };\n    let scale = createCoords(1);\n    const offsets = createCoords(0);\n    const isOffsetParentAnElement = isHTMLElement$1(offsetParent);\n    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n        if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n            scroll = getNodeScroll(offsetParent);\n        }\n        if (isHTMLElement$1(offsetParent)) {\n            const offsetRect = getBoundingClientRect(offsetParent);\n            scale = getScale(offsetParent);\n            offsets.x = offsetRect.x + offsetParent.clientLeft;\n            offsets.y = offsetRect.y + offsetParent.clientTop;\n        }\n    }\n    const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll, true) : createCoords(0);\n    return {\n        width: rect.width * scale.x,\n        height: rect.height * scale.y,\n        x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n        y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n    };\n}\nfunction getClientRects(element) {\n    return Array.from(element.getClientRects());\n}\nfunction getDocumentRect(element) {\n    const html = getDocumentElement(element);\n    const scroll = getNodeScroll(element);\n    const body = element.ownerDocument.body;\n    const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n    const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n    let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n    const y = -scroll.scrollTop;\n    if (getComputedStyle$1(body).direction === \"rtl\") {\n        x += max(html.clientWidth, body.clientWidth) - width;\n    }\n    return {\n        width,\n        height,\n        x,\n        y\n    };\n}\nfunction getViewportRect(element, strategy) {\n    const win = getWindow(element);\n    const html = getDocumentElement(element);\n    const visualViewport = win.visualViewport;\n    let width = html.clientWidth;\n    let height = html.clientHeight;\n    let x = 0;\n    let y = 0;\n    if (visualViewport) {\n        width = visualViewport.width;\n        height = visualViewport.height;\n        const visualViewportBased = isWebKit();\n        if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n            x = visualViewport.offsetLeft;\n            y = visualViewport.offsetTop;\n        }\n    }\n    return {\n        width,\n        height,\n        x,\n        y\n    };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n    const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n    const top = clientRect.top + element.clientTop;\n    const left = clientRect.left + element.clientLeft;\n    const scale = isHTMLElement$1(element) ? getScale(element) : createCoords(1);\n    const width = element.clientWidth * scale.x;\n    const height = element.clientHeight * scale.y;\n    const x = left * scale.x;\n    const y = top * scale.y;\n    return {\n        width,\n        height,\n        x,\n        y\n    };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n    let rect;\n    if (clippingAncestor === \"viewport\") {\n        rect = getViewportRect(element, strategy);\n    } else if (clippingAncestor === \"document\") {\n        rect = getDocumentRect(getDocumentElement(element));\n    } else if (isElement(clippingAncestor)) {\n        rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n    } else {\n        const visualOffsets = getVisualOffsets(element);\n        rect = {\n            x: clippingAncestor.x - visualOffsets.x,\n            y: clippingAncestor.y - visualOffsets.y,\n            width: clippingAncestor.width,\n            height: clippingAncestor.height\n        };\n    }\n    return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n    const parentNode = getParentNode(element);\n    if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n        return false;\n    }\n    return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n    const cachedResult = cache.get(element);\n    if (cachedResult) {\n        return cachedResult;\n    }\n    let result = getOverflowAncestors(element, [], false).filter((el)=>isElement(el) && getNodeName(el) !== \"body\");\n    let currentContainingBlockComputedStyle = null;\n    const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n    let currentNode = elementIsFixed ? getParentNode(element) : element;\n    while(isElement(currentNode) && !isLastTraversableNode(currentNode)){\n        const computedStyle = getComputedStyle$1(currentNode);\n        const currentNodeIsContaining = isContainingBlock(currentNode);\n        if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n            currentContainingBlockComputedStyle = null;\n        }\n        const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\n            \"absolute\",\n            \"fixed\"\n        ].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n        if (shouldDropCurrentNode) {\n            result = result.filter((ancestor)=>ancestor !== currentNode);\n        } else {\n            currentContainingBlockComputedStyle = computedStyle;\n        }\n        currentNode = getParentNode(currentNode);\n    }\n    cache.set(element, result);\n    return result;\n}\nfunction getClippingRect(_ref) {\n    let { element, boundary, rootBoundary, strategy } = _ref;\n    const elementClippingAncestors = boundary === \"clippingAncestors\" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n    const clippingAncestors = [\n        ...elementClippingAncestors,\n        rootBoundary\n    ];\n    const firstClippingAncestor = clippingAncestors[0];\n    const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor)=>{\n        const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n        accRect.top = max(rect.top, accRect.top);\n        accRect.right = min(rect.right, accRect.right);\n        accRect.bottom = min(rect.bottom, accRect.bottom);\n        accRect.left = max(rect.left, accRect.left);\n        return accRect;\n    }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n    return {\n        width: clippingRect.right - clippingRect.left,\n        height: clippingRect.bottom - clippingRect.top,\n        x: clippingRect.left,\n        y: clippingRect.top\n    };\n}\nfunction getDimensions(element) {\n    const { width, height } = getCssDimensions(element);\n    return {\n        width,\n        height\n    };\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n    const isOffsetParentAnElement = isHTMLElement$1(offsetParent);\n    const documentElement = getDocumentElement(offsetParent);\n    const isFixed = strategy === \"fixed\";\n    const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n    let scroll = {\n        scrollLeft: 0,\n        scrollTop: 0\n    };\n    const offsets = createCoords(0);\n    function setLeftRTLScrollbarOffset() {\n        offsets.x = getWindowScrollBarX(documentElement);\n    }\n    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n        if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n            scroll = getNodeScroll(offsetParent);\n        }\n        if (isOffsetParentAnElement) {\n            const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n            offsets.x = offsetRect.x + offsetParent.clientLeft;\n            offsets.y = offsetRect.y + offsetParent.clientTop;\n        } else if (documentElement) {\n            setLeftRTLScrollbarOffset();\n        }\n    }\n    if (isFixed && !isOffsetParentAnElement && documentElement) {\n        setLeftRTLScrollbarOffset();\n    }\n    const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n    const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n    const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n    return {\n        x,\n        y,\n        width: rect.width,\n        height: rect.height\n    };\n}\nfunction isStaticPositioned(element) {\n    return getComputedStyle$1(element).position === \"static\";\n}\nfunction getTrueOffsetParent(element, polyfill) {\n    if (!isHTMLElement$1(element) || getComputedStyle$1(element).position === \"fixed\") {\n        return null;\n    }\n    if (polyfill) {\n        return polyfill(element);\n    }\n    let rawOffsetParent = element.offsetParent;\n    if (getDocumentElement(element) === rawOffsetParent) {\n        rawOffsetParent = rawOffsetParent.ownerDocument.body;\n    }\n    return rawOffsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n    const win = getWindow(element);\n    if (isTopLayer(element)) {\n        return win;\n    }\n    if (!isHTMLElement$1(element)) {\n        let svgOffsetParent = getParentNode(element);\n        while(svgOffsetParent && !isLastTraversableNode(svgOffsetParent)){\n            if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n                return svgOffsetParent;\n            }\n            svgOffsetParent = getParentNode(svgOffsetParent);\n        }\n        return win;\n    }\n    let offsetParent = getTrueOffsetParent(element, polyfill);\n    while(offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)){\n        offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n    }\n    if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n        return win;\n    }\n    return offsetParent || getContainingBlock(element) || win;\n}\nconst getElementRects = async function(data) {\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    const floatingDimensions = await getDimensionsFn(data.floating);\n    return {\n        reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n        floating: {\n            x: 0,\n            y: 0,\n            width: floatingDimensions.width,\n            height: floatingDimensions.height\n        }\n    };\n};\nfunction isRTL(element) {\n    return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n    convertOffsetParentRelativeRectToViewportRelativeRect,\n    getDocumentElement,\n    getClippingRect,\n    getOffsetParent,\n    getElementRects,\n    getClientRects,\n    getDimensions,\n    getScale,\n    isElement,\n    isRTL\n};\nfunction rectsAreEqual(a, b) {\n    return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\nfunction observeMove(element, onMove) {\n    let io = null;\n    let timeoutId;\n    const root = getDocumentElement(element);\n    function cleanup() {\n        var _io;\n        clearTimeout(timeoutId);\n        (_io = io) == null || _io.disconnect();\n        io = null;\n    }\n    function refresh(skip, threshold) {\n        if (skip === void 0) {\n            skip = false;\n        }\n        if (threshold === void 0) {\n            threshold = 1;\n        }\n        cleanup();\n        const elementRectForRootMargin = element.getBoundingClientRect();\n        const { left, top, width, height } = elementRectForRootMargin;\n        if (!skip) {\n            onMove();\n        }\n        if (!width || !height) {\n            return;\n        }\n        const insetTop = floor(top);\n        const insetRight = floor(root.clientWidth - (left + width));\n        const insetBottom = floor(root.clientHeight - (top + height));\n        const insetLeft = floor(left);\n        const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n        const options = {\n            rootMargin,\n            threshold: max(0, min(1, threshold)) || 1\n        };\n        let isFirstUpdate = true;\n        function handleObserve(entries) {\n            const ratio = entries[0].intersectionRatio;\n            if (ratio !== threshold) {\n                if (!isFirstUpdate) {\n                    return refresh();\n                }\n                if (!ratio) {\n                    timeoutId = setTimeout(()=>{\n                        refresh(false, 1e-7);\n                    }, 1e3);\n                } else {\n                    refresh(false, ratio);\n                }\n            }\n            if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n                refresh();\n            }\n            isFirstUpdate = false;\n        }\n        try {\n            io = new IntersectionObserver(handleObserve, {\n                ...options,\n                // Handle <iframe>s\n                root: root.ownerDocument\n            });\n        } catch (_e) {\n            io = new IntersectionObserver(handleObserve, options);\n        }\n        io.observe(element);\n    }\n    refresh(true);\n    return cleanup;\n}\nfunction autoUpdate(reference, floating, update, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    const { ancestorScroll = true, ancestorResize = true, elementResize = typeof ResizeObserver === \"function\", layoutShift = typeof IntersectionObserver === \"function\", animationFrame = false } = options;\n    const referenceEl = unwrapElement(reference);\n    const ancestors = ancestorScroll || ancestorResize ? [\n        ...referenceEl ? getOverflowAncestors(referenceEl) : [],\n        ...getOverflowAncestors(floating)\n    ] : [];\n    ancestors.forEach((ancestor)=>{\n        ancestorScroll && ancestor.addEventListener(\"scroll\", update, {\n            passive: true\n        });\n        ancestorResize && ancestor.addEventListener(\"resize\", update);\n    });\n    const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n    let reobserveFrame = -1;\n    let resizeObserver = null;\n    if (elementResize) {\n        resizeObserver = new ResizeObserver((_ref)=>{\n            let [firstEntry] = _ref;\n            if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n                resizeObserver.unobserve(floating);\n                cancelAnimationFrame(reobserveFrame);\n                reobserveFrame = requestAnimationFrame(()=>{\n                    var _resizeObserver;\n                    (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n                });\n            }\n            update();\n        });\n        if (referenceEl && !animationFrame) {\n            resizeObserver.observe(referenceEl);\n        }\n        resizeObserver.observe(floating);\n    }\n    let frameId;\n    let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n    if (animationFrame) {\n        frameLoop();\n    }\n    function frameLoop() {\n        const nextRefRect = getBoundingClientRect(reference);\n        if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n            update();\n        }\n        prevRefRect = nextRefRect;\n        frameId = requestAnimationFrame(frameLoop);\n    }\n    update();\n    return ()=>{\n        var _resizeObserver2;\n        ancestors.forEach((ancestor)=>{\n            ancestorScroll && ancestor.removeEventListener(\"scroll\", update);\n            ancestorResize && ancestor.removeEventListener(\"resize\", update);\n        });\n        cleanupIo == null || cleanupIo();\n        (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n        resizeObserver = null;\n        if (animationFrame) {\n            cancelAnimationFrame(frameId);\n        }\n    };\n}\nconst offset$1 = offset$2;\nconst shift$1 = shift$2;\nconst flip$1 = flip$2;\nconst size$1 = size$2;\nconst hide$1 = hide$2;\nconst arrow$2 = arrow$3;\nconst limitShift$1 = limitShift$2;\nconst computePosition = (reference, floating, options)=>{\n    const cache = /* @__PURE__ */ new Map();\n    const mergedOptions = {\n        platform,\n        ...options\n    };\n    const platformWithCache = {\n        ...mergedOptions.platform,\n        _c: cache\n    };\n    return computePosition$1(reference, floating, {\n        ...mergedOptions,\n        platform: platformWithCache\n    });\n};\nvar isClient = typeof document !== \"undefined\";\nvar noop = function noop2() {};\nvar index = isClient ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : noop;\nfunction deepEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (typeof a !== typeof b) {\n        return false;\n    }\n    if (typeof a === \"function\" && a.toString() === b.toString()) {\n        return true;\n    }\n    let length;\n    let i;\n    let keys;\n    if (a && b && typeof a === \"object\") {\n        if (Array.isArray(a)) {\n            length = a.length;\n            if (length !== b.length) return false;\n            for(i = length; i-- !== 0;){\n                if (!deepEqual(a[i], b[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        keys = Object.keys(a);\n        length = keys.length;\n        if (length !== Object.keys(b).length) {\n            return false;\n        }\n        for(i = length; i-- !== 0;){\n            if (!({}).hasOwnProperty.call(b, keys[i])) {\n                return false;\n            }\n        }\n        for(i = length; i-- !== 0;){\n            const key = keys[i];\n            if (key === \"_owner\" && a.$$typeof) {\n                continue;\n            }\n            if (!deepEqual(a[key], b[key])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return a !== a && b !== b;\n}\nfunction getDPR(element) {\n    if (false) {}\n    const win = element.ownerDocument.defaultView || window;\n    return win.devicePixelRatio || 1;\n}\nfunction roundByDPR(element, value1) {\n    const dpr = getDPR(element);\n    return Math.round(value1 * dpr) / dpr;\n}\nfunction useLatestRef(value1) {\n    _s11();\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(value1);\n    index(()=>{\n        ref.current = value1;\n    });\n    return ref;\n}\n_s11(useLatestRef, \"QMBuJFIdzLIeqBcFwhMf246mjOM=\");\nfunction useFloating(options) {\n    _s12();\n    if (options === void 0) {\n        options = {};\n    }\n    const { placement = \"bottom\", strategy = \"absolute\", middleware = [], platform: platform2, elements: { reference: externalReference, floating: externalFloating } = {}, transform = true, whileElementsMounted, open } = options;\n    const [data, setData] = react__WEBPACK_IMPORTED_MODULE_1__.useState({\n        x: 0,\n        y: 0,\n        strategy,\n        placement,\n        middlewareData: {},\n        isPositioned: false\n    });\n    const [latestMiddleware, setLatestMiddleware] = react__WEBPACK_IMPORTED_MODULE_1__.useState(middleware);\n    if (!deepEqual(latestMiddleware, middleware)) {\n        setLatestMiddleware(middleware);\n    }\n    const [_reference, _setReference] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [_floating, _setFloating] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const setReference = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"useFloating.useCallback[setReference]\": (node)=>{\n            if (node !== referenceRef.current) {\n                referenceRef.current = node;\n                _setReference(node);\n            }\n        }\n    }[\"useFloating.useCallback[setReference]\"], []);\n    const setFloating = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"useFloating.useCallback[setFloating]\": (node)=>{\n            if (node !== floatingRef.current) {\n                floatingRef.current = node;\n                _setFloating(node);\n            }\n        }\n    }[\"useFloating.useCallback[setFloating]\"], []);\n    const referenceEl = externalReference || _reference;\n    const floatingEl = externalFloating || _floating;\n    const referenceRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const floatingRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const dataRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(data);\n    const hasWhileElementsMounted = whileElementsMounted != null;\n    const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n    const platformRef = useLatestRef(platform2);\n    const openRef = useLatestRef(open);\n    const update = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"useFloating.useCallback[update]\": ()=>{\n            if (!referenceRef.current || !floatingRef.current) {\n                return;\n            }\n            const config = {\n                placement,\n                strategy,\n                middleware: latestMiddleware\n            };\n            if (platformRef.current) {\n                config.platform = platformRef.current;\n            }\n            computePosition(referenceRef.current, floatingRef.current, config).then({\n                \"useFloating.useCallback[update]\": (data2)=>{\n                    const fullData = {\n                        ...data2,\n                        // The floating element's position may be recomputed while it's closed\n                        // but still mounted (such as when transitioning out). To ensure\n                        // `isPositioned` will be `false` initially on the next open, avoid\n                        // setting it to `true` when `open === false` (must be specified).\n                        isPositioned: openRef.current !== false\n                    };\n                    if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n                        dataRef.current = fullData;\n                        react_dom__WEBPACK_IMPORTED_MODULE_3__.flushSync({\n                            \"useFloating.useCallback[update]\": ()=>{\n                                setData(fullData);\n                            }\n                        }[\"useFloating.useCallback[update]\"]);\n                    }\n                }\n            }[\"useFloating.useCallback[update]\"]);\n        }\n    }[\"useFloating.useCallback[update]\"], [\n        latestMiddleware,\n        placement,\n        strategy,\n        platformRef,\n        openRef\n    ]);\n    index(()=>{\n        if (open === false && dataRef.current.isPositioned) {\n            dataRef.current.isPositioned = false;\n            setData((data2)=>({\n                    ...data2,\n                    isPositioned: false\n                }));\n        }\n    }, [\n        open\n    ]);\n    const isMountedRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    index(()=>{\n        isMountedRef.current = true;\n        return ()=>{\n            isMountedRef.current = false;\n        };\n    }, []);\n    index(()=>{\n        if (referenceEl) referenceRef.current = referenceEl;\n        if (floatingEl) floatingRef.current = floatingEl;\n        if (referenceEl && floatingEl) {\n            if (whileElementsMountedRef.current) {\n                return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n            }\n            update();\n        }\n    }, [\n        referenceEl,\n        floatingEl,\n        update,\n        whileElementsMountedRef,\n        hasWhileElementsMounted\n    ]);\n    const refs = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"useFloating.useMemo[refs]\": ()=>({\n                reference: referenceRef,\n                floating: floatingRef,\n                setReference,\n                setFloating\n            })\n    }[\"useFloating.useMemo[refs]\"], [\n        setReference,\n        setFloating\n    ]);\n    const elements = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"useFloating.useMemo[elements]\": ()=>({\n                reference: referenceEl,\n                floating: floatingEl\n            })\n    }[\"useFloating.useMemo[elements]\"], [\n        referenceEl,\n        floatingEl\n    ]);\n    const floatingStyles = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"useFloating.useMemo[floatingStyles]\": ()=>{\n            const initialStyles = {\n                position: strategy,\n                left: 0,\n                top: 0\n            };\n            if (!elements.floating) {\n                return initialStyles;\n            }\n            const x = roundByDPR(elements.floating, data.x);\n            const y = roundByDPR(elements.floating, data.y);\n            if (transform) {\n                return {\n                    ...initialStyles,\n                    transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n                    ...getDPR(elements.floating) >= 1.5 && {\n                        willChange: \"transform\"\n                    }\n                };\n            }\n            return {\n                position: strategy,\n                left: x,\n                top: y\n            };\n        }\n    }[\"useFloating.useMemo[floatingStyles]\"], [\n        strategy,\n        transform,\n        elements.floating,\n        data.x,\n        data.y\n    ]);\n    return react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"useFloating.useMemo\": ()=>({\n                ...data,\n                update,\n                refs,\n                elements,\n                floatingStyles\n            })\n    }[\"useFloating.useMemo\"], [\n        data,\n        update,\n        refs,\n        elements,\n        floatingStyles\n    ]);\n}\n_s12(useFloating, \"XAHTmgTUxWuleeuSZsrxFzZS2ho=\", false, function() {\n    return [\n        useLatestRef,\n        useLatestRef,\n        useLatestRef\n    ];\n});\nconst arrow$1 = (options)=>{\n    function isRef(value1) {\n        return ({}).hasOwnProperty.call(value1, \"current\");\n    }\n    return {\n        name: \"arrow\",\n        options,\n        fn (state) {\n            const { element, padding } = typeof options === \"function\" ? options(state) : options;\n            if (element && isRef(element)) {\n                if (element.current != null) {\n                    return arrow$2({\n                        element: element.current,\n                        padding\n                    }).fn(state);\n                }\n                return {};\n            }\n            if (element) {\n                return arrow$2({\n                    element,\n                    padding\n                }).fn(state);\n            }\n            return {};\n        }\n    };\n};\nconst offset = (options, deps)=>({\n        ...offset$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nconst shift = (options, deps)=>({\n        ...shift$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nconst limitShift = (options, deps)=>({\n        ...limitShift$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nconst flip = (options, deps)=>({\n        ...flip$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nconst size = (options, deps)=>({\n        ...size$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nconst hide = (options, deps)=>({\n        ...hide$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nconst arrow = (options, deps)=>({\n        ...arrow$1(options),\n        options: [\n            options,\n            deps\n        ]\n    });\nvar NAME$1 = \"Arrow\";\nvar Arrow$1 = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c6 = (props2, forwardedRef)=>{\n    const { children, width = 10, height = 5, ...arrowProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.svg, {\n        ...arrowProps,\n        ref: forwardedRef,\n        width,\n        height,\n        viewBox: \"0 0 30 10\",\n        preserveAspectRatio: \"none\",\n        children: props2.asChild ? children : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"polygon\", {\n            points: \"0,0 30,0 15,10\"\n        })\n    });\n});\n_c7 = Arrow$1;\nArrow$1.displayName = NAME$1;\nvar Root$2 = Arrow$1;\nfunction useSize(element) {\n    _s13();\n    const [size2, setSize] = react__WEBPACK_IMPORTED_MODULE_1__.useState(void 0);\n    useLayoutEffect2({\n        \"useSize.useLayoutEffect2\": ()=>{\n            if (element) {\n                setSize({\n                    width: element.offsetWidth,\n                    height: element.offsetHeight\n                });\n                const resizeObserver = new ResizeObserver({\n                    \"useSize.useLayoutEffect2\": (entries)=>{\n                        if (!Array.isArray(entries)) {\n                            return;\n                        }\n                        if (!entries.length) {\n                            return;\n                        }\n                        const entry = entries[0];\n                        let width;\n                        let height;\n                        if (\"borderBoxSize\" in entry) {\n                            const borderSizeEntry = entry[\"borderBoxSize\"];\n                            const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n                            width = borderSize[\"inlineSize\"];\n                            height = borderSize[\"blockSize\"];\n                        } else {\n                            width = element.offsetWidth;\n                            height = element.offsetHeight;\n                        }\n                        setSize({\n                            width,\n                            height\n                        });\n                    }\n                }[\"useSize.useLayoutEffect2\"]);\n                resizeObserver.observe(element, {\n                    box: \"border-box\"\n                });\n                return ({\n                    \"useSize.useLayoutEffect2\": ()=>resizeObserver.unobserve(element)\n                })[\"useSize.useLayoutEffect2\"];\n            } else {\n                setSize(void 0);\n            }\n        }\n    }[\"useSize.useLayoutEffect2\"], [\n        element\n    ]);\n    return size2;\n}\n_s13(useSize, \"MUTdKijGh2ebfplLy3+PhzrHoOU=\", false, function() {\n    return [\n        useLayoutEffect2\n    ];\n});\nvar POPPER_NAME = \"Popper\";\nvar [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\nvar [PopperProvider, usePopperContext] = createPopperContext(POPPER_NAME);\nvar Popper = (props2)=>{\n    _s14();\n    const { __scopePopper, children } = props2;\n    const [anchor, setAnchor] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopperProvider, {\n        scope: __scopePopper,\n        anchor,\n        onAnchorChange: setAnchor,\n        children\n    });\n};\n_s14(Popper, \"wxYvbWVl4wPDiI7jlInCOrjrm3Y=\");\n_c8 = Popper;\nPopper.displayName = POPPER_NAME;\nvar ANCHOR_NAME$2 = \"PopperAnchor\";\nvar PopperAnchor = /*#__PURE__*/ _s15(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c9 = _s15((props2, forwardedRef)=>{\n    _s15();\n    const { __scopePopper, virtualRef, ...anchorProps } = props2;\n    const context = usePopperContext(ANCHOR_NAME$2, __scopePopper);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"PopperAnchor.useEffect\": ()=>{\n            context.onAnchorChange((virtualRef == null ? void 0 : virtualRef.current) || ref.current);\n        }\n    }[\"PopperAnchor.useEffect\"]);\n    return virtualRef ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        ...anchorProps,\n        ref: composedRefs\n    });\n}, \"aNTYZQIUknAyxpmCTV83WEqvsAs=\", false, function() {\n    return [\n        usePopperContext,\n        useComposedRefs\n    ];\n})), \"aNTYZQIUknAyxpmCTV83WEqvsAs=\", false, function() {\n    return [\n        usePopperContext,\n        useComposedRefs\n    ];\n});\n_c10 = PopperAnchor;\nPopperAnchor.displayName = ANCHOR_NAME$2;\nvar CONTENT_NAME$6 = \"PopperContent\";\nvar [PopperContentProvider, useContentContext] = createPopperContext(CONTENT_NAME$6);\nvar PopperContent = /*#__PURE__*/ _s16(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c11 = _s16((props2, forwardedRef)=>{\n    _s16();\n    var _a, _b, _c, _d, _e, _f;\n    const { __scopePopper, side = \"bottom\", sideOffset = 0, align = \"center\", alignOffset = 0, arrowPadding = 0, avoidCollisions = true, collisionBoundary = [], collisionPadding: collisionPaddingProp = 0, sticky = \"partial\", hideWhenDetached = false, updatePositionStrategy = \"optimized\", onPlaced, ...contentProps } = props2;\n    const context = usePopperContext(CONTENT_NAME$6, __scopePopper);\n    const [content, setContent] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"PopperContent.useComposedRefs[composedRefs]\": (node)=>setContent(node)\n    }[\"PopperContent.useComposedRefs[composedRefs]\"]);\n    const [arrow$12, setArrow] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const arrowSize = useSize(arrow$12);\n    var _ref;\n    const arrowWidth = (_ref = arrowSize == null ? void 0 : arrowSize.width) !== null && _ref !== void 0 ? _ref : 0;\n    var _ref1;\n    const arrowHeight = (_ref1 = arrowSize == null ? void 0 : arrowSize.height) !== null && _ref1 !== void 0 ? _ref1 : 0;\n    const desiredPlacement = side + (align !== \"center\" ? \"-\" + align : \"\");\n    const collisionPadding = typeof collisionPaddingProp === \"number\" ? collisionPaddingProp : {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        ...collisionPaddingProp\n    };\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [\n        collisionBoundary\n    ];\n    const hasExplicitBoundaries = boundary.length > 0;\n    const detectOverflowOptions = {\n        padding: collisionPadding,\n        boundary: boundary.filter(isNotNull),\n        // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n        altBoundary: hasExplicitBoundaries\n    };\n    const { refs, floatingStyles, placement, isPositioned, middlewareData } = useFloating({\n        // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n        strategy: \"fixed\",\n        placement: desiredPlacement,\n        whileElementsMounted: {\n            \"PopperContent.useFloating\": function() {\n                for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n                    args[_key] = arguments[_key];\n                }\n                const cleanup = autoUpdate(...args, {\n                    animationFrame: updatePositionStrategy === \"always\"\n                });\n                return cleanup;\n            }\n        }[\"PopperContent.useFloating\"],\n        elements: {\n            reference: context.anchor\n        },\n        middleware: [\n            offset({\n                mainAxis: sideOffset + arrowHeight,\n                alignmentAxis: alignOffset\n            }),\n            avoidCollisions && shift({\n                mainAxis: true,\n                crossAxis: false,\n                limiter: sticky === \"partial\" ? limitShift() : void 0,\n                ...detectOverflowOptions\n            }),\n            avoidCollisions && flip({\n                ...detectOverflowOptions\n            }),\n            size({\n                ...detectOverflowOptions,\n                apply: {\n                    \"PopperContent.useFloating\": (param)=>{\n                        let { elements, rects, availableWidth, availableHeight } = param;\n                        const { width: anchorWidth, height: anchorHeight } = rects.reference;\n                        const contentStyle = elements.floating.style;\n                        contentStyle.setProperty(\"--radix-popper-available-width\", \"\".concat(availableWidth, \"px\"));\n                        contentStyle.setProperty(\"--radix-popper-available-height\", \"\".concat(availableHeight, \"px\"));\n                        contentStyle.setProperty(\"--radix-popper-anchor-width\", \"\".concat(anchorWidth, \"px\"));\n                        contentStyle.setProperty(\"--radix-popper-anchor-height\", \"\".concat(anchorHeight, \"px\"));\n                    }\n                }[\"PopperContent.useFloating\"]\n            }),\n            arrow$12 && arrow({\n                element: arrow$12,\n                padding: arrowPadding\n            }),\n            transformOrigin({\n                arrowWidth,\n                arrowHeight\n            }),\n            hideWhenDetached && hide({\n                strategy: \"referenceHidden\",\n                ...detectOverflowOptions\n            })\n        ]\n    });\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const handlePlaced = useCallbackRef$1(onPlaced);\n    useLayoutEffect2({\n        \"PopperContent.useLayoutEffect2\": ()=>{\n            if (isPositioned) {\n                handlePlaced == null ? void 0 : handlePlaced();\n            }\n        }\n    }[\"PopperContent.useLayoutEffect2\"], [\n        isPositioned,\n        handlePlaced\n    ]);\n    const arrowX = (_a = middlewareData.arrow) == null ? void 0 : _a.x;\n    const arrowY = (_b = middlewareData.arrow) == null ? void 0 : _b.y;\n    const cannotCenterArrow = ((_c = middlewareData.arrow) == null ? void 0 : _c.centerOffset) !== 0;\n    const [contentZIndex, setContentZIndex] = react__WEBPACK_IMPORTED_MODULE_1__.useState();\n    useLayoutEffect2({\n        \"PopperContent.useLayoutEffect2\": ()=>{\n            if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n        }\n    }[\"PopperContent.useLayoutEffect2\"], [\n        content\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        ref: refs.setFloating,\n        \"data-radix-popper-content-wrapper\": \"\",\n        style: {\n            ...floatingStyles,\n            transform: isPositioned ? floatingStyles.transform : \"translate(0, -200%)\",\n            // keep off the page when measuring\n            minWidth: \"max-content\",\n            zIndex: contentZIndex,\n            [\"--radix-popper-transform-origin\"]: [\n                (_d = middlewareData.transformOrigin) == null ? void 0 : _d.x,\n                (_e = middlewareData.transformOrigin) == null ? void 0 : _e.y\n            ].join(\" \"),\n            // hide the content if using the hide middleware and should be hidden\n            // set visibility to hidden and disable pointer events so the UI behaves\n            // as if the PopperContent isn't there at all\n            ...((_f = middlewareData.hide) == null ? void 0 : _f.referenceHidden) && {\n                visibility: \"hidden\",\n                pointerEvents: \"none\"\n            }\n        },\n        dir: props2.dir,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopperContentProvider, {\n            scope: __scopePopper,\n            placedSide,\n            onArrowChange: setArrow,\n            arrowX,\n            arrowY,\n            shouldHideArrow: cannotCenterArrow,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n                \"data-side\": placedSide,\n                \"data-align\": placedAlign,\n                ...contentProps,\n                ref: composedRefs,\n                style: {\n                    ...contentProps.style,\n                    // if the PopperContent hasn't been placed yet (not all measurements done)\n                    // we prevent animations so that users's animation don't kick in too early referring wrong sides\n                    animation: !isPositioned ? \"none\" : void 0\n                }\n            })\n        })\n    });\n}, \"NC1za5D4iRzVo0F11c0cR/8ABL0=\", false, function() {\n    return [\n        usePopperContext,\n        useComposedRefs,\n        useSize,\n        useFloating,\n        useCallbackRef$1,\n        useLayoutEffect2,\n        useLayoutEffect2\n    ];\n})), \"NC1za5D4iRzVo0F11c0cR/8ABL0=\", false, function() {\n    return [\n        usePopperContext,\n        useComposedRefs,\n        useSize,\n        useFloating,\n        useCallbackRef$1,\n        useLayoutEffect2,\n        useLayoutEffect2\n    ];\n});\n_c12 = PopperContent;\nPopperContent.displayName = CONTENT_NAME$6;\nvar ARROW_NAME$5 = \"PopperArrow\";\nvar OPPOSITE_SIDE = {\n    top: \"bottom\",\n    right: \"left\",\n    bottom: \"top\",\n    left: \"right\"\n};\nvar PopperArrow = /*#__PURE__*/ _s17(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c13 = _s17(function PopperArrow2(props2, forwardedRef) {\n    _s17();\n    const { __scopePopper, ...arrowProps } = props2;\n    const contentContext = useContentContext(ARROW_NAME$5, __scopePopper);\n    const baseSide = OPPOSITE_SIDE[contentContext.placedSide];\n    return(// we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n        ref: contentContext.onArrowChange,\n        style: {\n            position: \"absolute\",\n            left: contentContext.arrowX,\n            top: contentContext.arrowY,\n            [baseSide]: 0,\n            transformOrigin: {\n                top: \"\",\n                right: \"0 0\",\n                bottom: \"center 0\",\n                left: \"100% 0\"\n            }[contentContext.placedSide],\n            transform: {\n                top: \"translateY(100%)\",\n                right: \"translateY(50%) rotate(90deg) translateX(-50%)\",\n                bottom: \"rotate(180deg)\",\n                left: \"translateY(50%) rotate(-90deg) translateX(50%)\"\n            }[contentContext.placedSide],\n            visibility: contentContext.shouldHideArrow ? \"hidden\" : void 0\n        },\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$2, {\n            ...arrowProps,\n            ref: forwardedRef,\n            style: {\n                ...arrowProps.style,\n                // ensures the element can be measured correctly (mostly for if SVG)\n                display: \"block\"\n            }\n        })\n    }));\n}, \"VtYBvsFWU0YFzmBU5dyx7SVFyFY=\", false, function() {\n    return [\n        useContentContext\n    ];\n})), \"VtYBvsFWU0YFzmBU5dyx7SVFyFY=\", false, function() {\n    return [\n        useContentContext\n    ];\n});\n_c14 = PopperArrow;\nPopperArrow.displayName = ARROW_NAME$5;\nfunction isNotNull(value1) {\n    return value1 !== null;\n}\nvar transformOrigin = (options)=>({\n        name: \"transformOrigin\",\n        options,\n        fn (data) {\n            var _a, _b, _c;\n            const { placement, rects, middlewareData } = data;\n            const cannotCenterArrow = ((_a = middlewareData.arrow) == null ? void 0 : _a.centerOffset) !== 0;\n            const isArrowHidden = cannotCenterArrow;\n            const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n            const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n            const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n            const noArrowAlign = {\n                start: \"0%\",\n                center: \"50%\",\n                end: \"100%\"\n            }[placedAlign];\n            var _ref;\n            const arrowXCenter = ((_ref = (_b = middlewareData.arrow) == null ? void 0 : _b.x) !== null && _ref !== void 0 ? _ref : 0) + arrowWidth / 2;\n            var _ref1;\n            const arrowYCenter = ((_ref1 = (_c = middlewareData.arrow) == null ? void 0 : _c.y) !== null && _ref1 !== void 0 ? _ref1 : 0) + arrowHeight / 2;\n            let x = \"\";\n            let y = \"\";\n            if (placedSide === \"bottom\") {\n                x = isArrowHidden ? noArrowAlign : \"\".concat(arrowXCenter, \"px\");\n                y = \"\".concat(-arrowHeight, \"px\");\n            } else if (placedSide === \"top\") {\n                x = isArrowHidden ? noArrowAlign : \"\".concat(arrowXCenter, \"px\");\n                y = \"\".concat(rects.floating.height + arrowHeight, \"px\");\n            } else if (placedSide === \"right\") {\n                x = \"\".concat(-arrowHeight, \"px\");\n                y = isArrowHidden ? noArrowAlign : \"\".concat(arrowYCenter, \"px\");\n            } else if (placedSide === \"left\") {\n                x = \"\".concat(rects.floating.width + arrowHeight, \"px\");\n                y = isArrowHidden ? noArrowAlign : \"\".concat(arrowYCenter, \"px\");\n            }\n            return {\n                data: {\n                    x,\n                    y\n                }\n            };\n        }\n    });\nfunction getSideAndAlignFromPlacement(placement) {\n    const [side, align = \"center\"] = placement.split(\"-\");\n    return [\n        side,\n        align\n    ];\n}\nvar Root2$4 = Popper;\nvar Anchor = PopperAnchor;\nvar Content$1 = PopperContent;\nvar Arrow = PopperArrow;\nvar PORTAL_NAME$5 = \"Portal\";\nvar Portal$4 = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s18((props2, forwardedRef)=>{\n    _s18();\n    var _a;\n    const { container: containerProp, ...portalProps } = props2;\n    const [mounted, setMounted] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    useLayoutEffect2({\n        \"Portal$4.useLayoutEffect2\": ()=>setMounted(true)\n    }[\"Portal$4.useLayoutEffect2\"], []);\n    const container = containerProp || mounted && ((_a = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : _a.body);\n    return container ? /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        ...portalProps,\n        ref: forwardedRef\n    }), container) : null;\n}, \"atYI5tO5VrRILMBozELgAwhUtMo=\", false, function() {\n    return [\n        useLayoutEffect2\n    ];\n}));\n_c15 = Portal$4;\nPortal$4.displayName = PORTAL_NAME$5;\nvar useInsertionEffect = /*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_1__, 2)))[\" useInsertionEffect \".trim().toString()] || useLayoutEffect2;\nfunction useControllableState(param) {\n    let { prop, defaultProp, onChange = ()=>{}, caller } = param;\n    _s19();\n    const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n        defaultProp,\n        onChange\n    });\n    const isControlled = prop !== void 0;\n    const value1 = isControlled ? prop : uncontrolledProp;\n    {\n        const isControlledRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(prop !== void 0);\n        react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n            \"useControllableState.useEffect\": ()=>{\n                const wasControlled = isControlledRef.current;\n                if (wasControlled !== isControlled) {\n                    const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n                    const to = isControlled ? \"controlled\" : \"uncontrolled\";\n                    console.warn(\"\".concat(caller, \" is changing from \").concat(from, \" to \").concat(to, \". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.\"));\n                }\n                isControlledRef.current = isControlled;\n            }\n        }[\"useControllableState.useEffect\"], [\n            isControlled,\n            caller\n        ]);\n    }\n    const setValue = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"useControllableState.useCallback[setValue]\": (nextValue)=>{\n            var _a;\n            if (isControlled) {\n                const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n                if (value2 !== prop) {\n                    (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, value2);\n                }\n            } else {\n                setUncontrolledProp(nextValue);\n            }\n        }\n    }[\"useControllableState.useCallback[setValue]\"], [\n        isControlled,\n        prop,\n        setUncontrolledProp,\n        onChangeRef\n    ]);\n    return [\n        value1,\n        setValue\n    ];\n}\n_s19(useControllableState, \"kGqC3owQ3izYzHP0rDNvv6Vq3fk=\", false, function() {\n    return [\n        useUncontrolledState\n    ];\n});\nfunction useUncontrolledState(param) {\n    let { defaultProp, onChange } = param;\n    _s20();\n    const [value1, setValue] = react__WEBPACK_IMPORTED_MODULE_1__.useState(defaultProp);\n    const prevValueRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(value1);\n    const onChangeRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(onChange);\n    useInsertionEffect({\n        \"useUncontrolledState.useInsertionEffect\": ()=>{\n            onChangeRef.current = onChange;\n        }\n    }[\"useUncontrolledState.useInsertionEffect\"], [\n        onChange\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useUncontrolledState.useEffect\": ()=>{\n            var _a;\n            if (prevValueRef.current !== value1) {\n                (_a = onChangeRef.current) == null ? void 0 : _a.call(onChangeRef, value1);\n                prevValueRef.current = value1;\n            }\n        }\n    }[\"useUncontrolledState.useEffect\"], [\n        value1,\n        prevValueRef\n    ]);\n    return [\n        value1,\n        setValue,\n        onChangeRef\n    ];\n}\n_s20(useUncontrolledState, \"3h0qHZ/1AyfNkzg03PGywB5pC7Y=\", false, function() {\n    return [\n        useInsertionEffect\n    ];\n});\nfunction isFunction(value1) {\n    return typeof value1 === \"function\";\n}\nfunction usePrevious(value1) {\n    _s21();\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef({\n        value: value1,\n        previous: value1\n    });\n    return react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"usePrevious.useMemo\": ()=>{\n            if (ref.current.value !== value1) {\n                ref.current.previous = ref.current.value;\n                ref.current.value = value1;\n            }\n            return ref.current.previous;\n        }\n    }[\"usePrevious.useMemo\"], [\n        value1\n    ]);\n}\n_s21(usePrevious, \"ByE6CK57tkoA8UB2NSxtIltRrK4=\");\nvar VISUALLY_HIDDEN_STYLES = Object.freeze({\n    // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss\n    position: \"absolute\",\n    border: 0,\n    width: 1,\n    height: 1,\n    padding: 0,\n    margin: -1,\n    overflow: \"hidden\",\n    clip: \"rect(0, 0, 0, 0)\",\n    whiteSpace: \"nowrap\",\n    wordWrap: \"normal\"\n});\nvar NAME = \"VisuallyHidden\";\nvar VisuallyHidden = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c16 = (props2, forwardedRef)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n        ...props2,\n        ref: forwardedRef,\n        style: {\n            ...VISUALLY_HIDDEN_STYLES,\n            ...props2.style\n        }\n    });\n});\n_c17 = VisuallyHidden;\nVisuallyHidden.displayName = NAME;\nvar Root$1 = VisuallyHidden;\nvar getDefaultParent = function(originalTarget) {\n    if (typeof document === \"undefined\") {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = /* @__PURE__ */ new WeakMap();\nvar uncontrolledNodes = /* @__PURE__ */ new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function(node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function(parent, targets) {\n    return targets.map(function(target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error(\"aria-hidden\", target, \"in not contained inside\", parent, \". Doing nothing\");\n        return null;\n    }).filter(function(x) {\n        return Boolean(x);\n    });\n};\nvar applyAttributeToOthers = function(originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [\n        originalTarget\n    ]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = /* @__PURE__ */ new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = /* @__PURE__ */ new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function(el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function(parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function(node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            } else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== \"false\";\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, \"true\");\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, \"true\");\n                    }\n                } catch (e) {\n                    console.error(\"aria-hidden: cannot operate on \", node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function() {\n        hiddenNodes.forEach(function(node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            counterMap = /* @__PURE__ */ new WeakMap();\n            counterMap = /* @__PURE__ */ new WeakMap();\n            uncontrolledNodes = /* @__PURE__ */ new WeakMap();\n            markerMap = {};\n        }\n    };\n};\nvar hideOthers = function(originalTarget, parentNode, markerName) {\n    if (markerName === void 0) {\n        markerName = \"data-aria-hidden\";\n    }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [\n        originalTarget\n    ]);\n    var activeParentNode = getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function() {\n            return null;\n        };\n    }\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll(\"[aria-live], script\")));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, \"aria-hidden\");\n};\nvar __assign = function() {\n    __assign = Object.assign || function __assign2(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n    var t = {};\n    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++){\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\nfunction __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2) for(var i = 0, l = from.length, ar; i < l; i++){\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function(error, suppressed, message) {\n    var e = new Error(message);\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nvar zeroRightClassName = \"right-scroll-bar-position\";\nvar fullWidthClassName = \"width-before-scroll-bar\";\nvar noScrollbarsClassName = \"with-scroll-bars-hidden\";\nvar removedBarSizeVariable = \"--removed-body-scroll-bar-size\";\nfunction assignRef(ref, value1) {\n    if (typeof ref === \"function\") {\n        ref(value1);\n    } else if (ref) {\n        ref.current = value1;\n    }\n    return ref;\n}\nfunction useCallbackRef(initialValue, callback) {\n    _s22();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"useCallbackRef.useState\": function() {\n            return {\n                // value\n                value: initialValue,\n                // last callback\n                callback,\n                // \"memoized\" public interface\n                facade: {\n                    get current () {\n                        return ref.value;\n                    },\n                    set current (value){\n                        var last = ref.value;\n                        if (last !== value) {\n                            ref.value = value;\n                            ref.callback(value, last);\n                        }\n                    }\n                }\n            };\n        }\n    }[\"useCallbackRef.useState\"])[0];\n    ref.callback = callback;\n    return ref.facade;\n}\n_s22(useCallbackRef, \"7rNyFrw5FVpFFCFYkWAjQci0NUk=\");\nvar useIsomorphicLayoutEffect$1 =  true ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : 0;\nvar currentValues = /* @__PURE__ */ new WeakMap();\nfunction useMergeRefs(refs, defaultValue) {\n    _s23();\n    var callbackRef = useCallbackRef(null, {\n        \"useMergeRefs.useCallbackRef[callbackRef]\": function(newValue) {\n            return refs.forEach({\n                \"useMergeRefs.useCallbackRef[callbackRef]\": function(ref) {\n                    return assignRef(ref, newValue);\n                }\n            }[\"useMergeRefs.useCallbackRef[callbackRef]\"]);\n        }\n    }[\"useMergeRefs.useCallbackRef[callbackRef]\"]);\n    useIsomorphicLayoutEffect$1({\n        \"useMergeRefs.useIsomorphicLayoutEffect$1\": function() {\n            var oldValue = currentValues.get(callbackRef);\n            if (oldValue) {\n                var prevRefs_1 = new Set(oldValue);\n                var nextRefs_1 = new Set(refs);\n                var current_1 = callbackRef.current;\n                prevRefs_1.forEach({\n                    \"useMergeRefs.useIsomorphicLayoutEffect$1\": function(ref) {\n                        if (!nextRefs_1.has(ref)) {\n                            assignRef(ref, null);\n                        }\n                    }\n                }[\"useMergeRefs.useIsomorphicLayoutEffect$1\"]);\n                nextRefs_1.forEach({\n                    \"useMergeRefs.useIsomorphicLayoutEffect$1\": function(ref) {\n                        if (!prevRefs_1.has(ref)) {\n                            assignRef(ref, current_1);\n                        }\n                    }\n                }[\"useMergeRefs.useIsomorphicLayoutEffect$1\"]);\n            }\n            currentValues.set(callbackRef, refs);\n        }\n    }[\"useMergeRefs.useIsomorphicLayoutEffect$1\"], [\n        refs\n    ]);\n    return callbackRef;\n}\n_s23(useMergeRefs, \"QNd1GyKIaRJf6VvGRaWdWkiMr3o=\", false, function() {\n    return [\n        useCallbackRef,\n        useIsomorphicLayoutEffect$1\n    ];\n});\nfunction ItoI(a) {\n    return a;\n}\n_c18 = ItoI;\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) {\n        middleware = ItoI;\n    }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function() {\n            if (assigned) {\n                throw new Error(\"Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.\");\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function(data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function() {\n                buffer = buffer.filter(function(x) {\n                    return x !== item;\n                });\n            };\n        },\n        assignSyncMedium: function(cb) {\n            assigned = true;\n            while(buffer.length){\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function(x) {\n                    return cb(x);\n                },\n                filter: function() {\n                    return buffer;\n                }\n            };\n        },\n        assignMedium: function(cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function() {\n                var cbs2 = pendingQueue;\n                pendingQueue = [];\n                cbs2.forEach(cb);\n            };\n            var cycle = function() {\n                return Promise.resolve().then(executeQueue);\n            };\n            cycle();\n            buffer = {\n                push: function(x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function(filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                }\n            };\n        }\n    };\n    return medium;\n}\nfunction createSidecarMedium(options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({\n        async: true,\n        ssr: false\n    }, options);\n    return medium;\n}\nvar SideCar$1 = function(_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\n        \"sideCar\"\n    ]);\n    if (!sideCar) {\n        throw new Error(\"Sidecar: please provide `sideCar` property to import the right car\");\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error(\"Sidecar medium not found\");\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Target, __assign({}, rest));\n};\n_c19 = SideCar$1;\nSideCar$1.isSideCarExport = true;\nfunction exportSidecar(medium, exported) {\n    _s24();\n    medium.useMedium(exported);\n    return SideCar$1;\n}\n_s24(exportSidecar, \"0aCgnTyM7atAXXeFUpjbshty2ms=\", true);\nvar effectCar = createSidecarMedium();\nvar nothing = function() {\n    return;\n};\nvar RemoveScroll = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s25(function(props2, parentRef) {\n    _s25();\n    var ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    var _a = react__WEBPACK_IMPORTED_MODULE_1__.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props2.forwardProps, children = props2.children, className = props2.className, removeScrollBar = props2.removeScrollBar, enabled = props2.enabled, shards = props2.shards, sideCar = props2.sideCar, noRelative = props2.noRelative, noIsolation = props2.noIsolation, inert = props2.inert, allowPinchZoom = props2.allowPinchZoom, _b = props2.as, Container = _b === void 0 ? \"div\" : _b, gapMode = props2.gapMode, rest = __rest(props2, [\n        \"forwardProps\",\n        \"children\",\n        \"className\",\n        \"removeScrollBar\",\n        \"enabled\",\n        \"shards\",\n        \"sideCar\",\n        \"noRelative\",\n        \"noIsolation\",\n        \"inert\",\n        \"allowPinchZoom\",\n        \"as\",\n        \"gapMode\"\n    ]);\n    var SideCar2 = sideCar;\n    var containerRef = useMergeRefs([\n        ref,\n        parentRef\n    ]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, enabled && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(SideCar2, {\n        sideCar: effectCar,\n        removeScrollBar,\n        shards,\n        noRelative,\n        noIsolation,\n        inert,\n        setCallbacks,\n        allowPinchZoom: !!allowPinchZoom,\n        lockRef: ref,\n        gapMode\n    }), forwardProps ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(react__WEBPACK_IMPORTED_MODULE_1__.Children.only(children), __assign(__assign({}, containerProps), {\n        ref: containerRef\n    })) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Container, __assign({}, containerProps, {\n        className,\n        ref: containerRef\n    }), children));\n}, \"apjj+Qn1L55FnVfIKkA8vOS2WlY=\", false, function() {\n    return [\n        useMergeRefs\n    ];\n}));\n_c20 = RemoveScroll;\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName\n};\nvar getNonce = function() {\n    if (true) {\n        return __webpack_require__.nc;\n    }\n    return void 0;\n};\nfunction makeStyleTag() {\n    if (!document) return null;\n    var tag = document.createElement(\"style\");\n    tag.type = \"text/css\";\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute(\"nonce\", nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    if (tag.styleSheet) {\n        tag.styleSheet.cssText = css;\n    } else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName(\"head\")[0];\n    head.appendChild(tag);\n}\nvar stylesheetSingleton = function() {\n    var counter2 = 0;\n    var stylesheet = null;\n    return {\n        add: function(style) {\n            if (counter2 == 0) {\n                if (stylesheet = makeStyleTag()) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter2++;\n        },\n        remove: function() {\n            counter2--;\n            if (!counter2 && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        }\n    };\n};\nvar styleHookSingleton = function() {\n    var _s = $RefreshSig$();\n    var sheet = stylesheetSingleton();\n    return _s(function(styles, isDynamic) {\n        _s();\n        react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n            \"styleHookSingleton.useEffect\": function() {\n                sheet.add(styles);\n                return ({\n                    \"styleHookSingleton.useEffect\": function() {\n                        sheet.remove();\n                    }\n                })[\"styleHookSingleton.useEffect\"];\n            }\n        }[\"styleHookSingleton.useEffect\"], [\n            styles && isDynamic\n        ]);\n    }, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n};\nvar styleSingleton = function() {\n    var _s = $RefreshSig$();\n    var useStyle = styleHookSingleton();\n    var Sheet = function(_a) {\n        _s();\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    _s(Sheet, \"AniA8RSjZxnebI5dYsYaENQ1HaE=\", false, function() {\n        return [\n            useStyle\n        ];\n    });\n    return Sheet;\n};\nvar zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0\n};\nvar parse = function(x) {\n    return parseInt(x || \"\", 10) || 0;\n};\nvar getOffset = function(gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === \"padding\" ? \"paddingLeft\" : \"marginLeft\"];\n    var top = cs[gapMode === \"padding\" ? \"paddingTop\" : \"marginTop\"];\n    var right = cs[gapMode === \"padding\" ? \"paddingRight\" : \"marginRight\"];\n    return [\n        parse(left),\n        parse(top),\n        parse(right)\n    ];\n};\nvar getGapWidth = function(gapMode) {\n    if (gapMode === void 0) {\n        gapMode = \"margin\";\n    }\n    if (false) {}\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0])\n    };\n};\nvar Style = styleSingleton();\n_c21 = Style;\nvar lockAttribute = \"data-scroll-locked\";\nvar getStyles = function(_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) {\n        gapMode = \"margin\";\n    }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body[\").concat(lockAttribute, \"] {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === \"margin\" && \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === \"padding\" && \"padding-right: \".concat(gap, \"px \").concat(important, \";\")\n    ].filter(Boolean).join(\"\"), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body[\").concat(lockAttribute, \"] {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\nvar getCurrentUseCounter = function() {\n    var counter2 = parseInt(document.body.getAttribute(lockAttribute) || \"0\", 10);\n    return isFinite(counter2) ? counter2 : 0;\n};\nvar useLockAttribute = function() {\n    _s26();\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useLockAttribute.useEffect\": function() {\n            document.body.setAttribute(lockAttribute, (getCurrentUseCounter() + 1).toString());\n            return ({\n                \"useLockAttribute.useEffect\": function() {\n                    var newCounter = getCurrentUseCounter() - 1;\n                    if (newCounter <= 0) {\n                        document.body.removeAttribute(lockAttribute);\n                    } else {\n                        document.body.setAttribute(lockAttribute, newCounter.toString());\n                    }\n                }\n            })[\"useLockAttribute.useEffect\"];\n        }\n    }[\"useLockAttribute.useEffect\"], []);\n};\n_s26(useLockAttribute, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nvar RemoveScrollBar = function(_a) {\n    _s27();\n    var noRelative = _a.noRelative, noImportant = _a.noImportant, _b = _a.gapMode, gapMode = _b === void 0 ? \"margin\" : _b;\n    useLockAttribute();\n    var gap = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"RemoveScrollBar.useMemo[gap]\": function() {\n            return getGapWidth(gapMode);\n        }\n    }[\"RemoveScrollBar.useMemo[gap]\"], [\n        gapMode\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Style, {\n        styles: getStyles(gap, !noRelative, gapMode, !noImportant ? \"!important\" : \"\")\n    });\n};\n_s27(RemoveScrollBar, \"vC53FQEzYejZxD8H9BLjjpRLdwo=\", false, function() {\n    return [\n        useLockAttribute\n    ];\n});\n_c22 = RemoveScrollBar;\nvar passiveSupported = false;\nif (true) {\n    try {\n        var options = Object.defineProperty({}, \"passive\", {\n            get: function() {\n                passiveSupported = true;\n                return true;\n            }\n        });\n        window.addEventListener(\"test\", options, options);\n        window.removeEventListener(\"test\", options, options);\n    } catch (err) {\n        passiveSupported = false;\n    }\n}\nvar nonPassive = passiveSupported ? {\n    passive: false\n} : false;\nvar alwaysContainsScroll = function(node) {\n    return node.tagName === \"TEXTAREA\";\n};\nvar elementCanBeScrolled = function(node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return(// not-not-scrollable\n    styles[overflow] !== \"hidden\" && // contains scroll inside self\n    !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === \"visible\"));\n};\nvar elementCouldBeVScrolled = function(node) {\n    return elementCanBeScrolled(node, \"overflowY\");\n};\nvar elementCouldBeHScrolled = function(node) {\n    return elementCanBeScrolled(node, \"overflowX\");\n};\nvar locationCouldBeScrolled = function(axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        if (typeof ShadowRoot !== \"undefined\" && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    }while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function(_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight\n    ];\n};\nvar getHScrollVariables = function(_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth\n    ];\n};\nvar elementCouldBeScrolled = function(axis, node) {\n    return axis === \"v\" ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function(axis, node) {\n    return axis === \"v\" ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function(axis, direction) {\n    return axis === \"h\" && direction === \"rtl\" ? -1 : 1;\n};\nvar handleScroll = function(axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        if (!target) {\n            break;\n        }\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        var parent_1 = target.parentNode;\n        target = parent_1 && parent_1.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? parent_1.host : parent_1;\n    }while (// portaled content\n    !targetInLock && target !== document.body || // self content\n    targetInLock && (endTarget.contains(target) || endTarget === target));\n    if (isDeltaPositive && (Math.abs(availableScroll) < 1 || false)) {\n        shouldCancelScroll = true;\n    } else if (!isDeltaPositive && (Math.abs(availableScrollTop) < 1 || false)) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\nvar getTouchXY = function(event) {\n    return \"changedTouches\" in event ? [\n        event.changedTouches[0].clientX,\n        event.changedTouches[0].clientY\n    ] : [\n        0,\n        0\n    ];\n};\nvar getDeltaXY = function(event) {\n    return [\n        event.deltaX,\n        event.deltaY\n    ];\n};\nvar extractRef = function(ref) {\n    return ref && \"current\" in ref ? ref.current : ref;\n};\nvar deltaCompare = function(x, y) {\n    return x[0] === y[0] && x[1] === y[1];\n};\nvar generateStyle = function(id) {\n    return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\");\n};\nvar idCounter = 0;\nvar lockStack = [];\nfunction RemoveScrollSideCar(props2) {\n    _s28();\n    var shouldPreventQueue = react__WEBPACK_IMPORTED_MODULE_1__.useRef([]);\n    var touchStartRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef([\n        0,\n        0\n    ]);\n    var activeAxis = react__WEBPACK_IMPORTED_MODULE_1__.useRef();\n    var id = react__WEBPACK_IMPORTED_MODULE_1__.useState(idCounter++)[0];\n    var Style2 = react__WEBPACK_IMPORTED_MODULE_1__.useState(styleSingleton)[0];\n    var lastProps = react__WEBPACK_IMPORTED_MODULE_1__.useRef(props2);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"RemoveScrollSideCar.useEffect\": function() {\n            lastProps.current = props2;\n        }\n    }[\"RemoveScrollSideCar.useEffect\"], [\n        props2\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"RemoveScrollSideCar.useEffect\": function() {\n            if (props2.inert) {\n                document.body.classList.add(\"block-interactivity-\".concat(id));\n                var allow_1 = __spreadArray([\n                    props2.lockRef.current\n                ], (props2.shards || []).map(extractRef), true).filter(Boolean);\n                allow_1.forEach({\n                    \"RemoveScrollSideCar.useEffect\": function(el) {\n                        return el.classList.add(\"allow-interactivity-\".concat(id));\n                    }\n                }[\"RemoveScrollSideCar.useEffect\"]);\n                return ({\n                    \"RemoveScrollSideCar.useEffect\": function() {\n                        document.body.classList.remove(\"block-interactivity-\".concat(id));\n                        allow_1.forEach({\n                            \"RemoveScrollSideCar.useEffect\": function(el) {\n                                return el.classList.remove(\"allow-interactivity-\".concat(id));\n                            }\n                        }[\"RemoveScrollSideCar.useEffect\"]);\n                    }\n                })[\"RemoveScrollSideCar.useEffect\"];\n            }\n            return;\n        }\n    }[\"RemoveScrollSideCar.useEffect\"], [\n        props2.inert,\n        props2.lockRef.current,\n        props2.shards\n    ]);\n    var shouldCancelEvent = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"RemoveScrollSideCar.useCallback[shouldCancelEvent]\": function(event, parent) {\n            if (\"touches\" in event && event.touches.length === 2 || event.type === \"wheel\" && event.ctrlKey) {\n                return !lastProps.current.allowPinchZoom;\n            }\n            var touch = getTouchXY(event);\n            var touchStart = touchStartRef.current;\n            var deltaX = \"deltaX\" in event ? event.deltaX : touchStart[0] - touch[0];\n            var deltaY = \"deltaY\" in event ? event.deltaY : touchStart[1] - touch[1];\n            var currentAxis;\n            var target = event.target;\n            var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? \"h\" : \"v\";\n            if (\"touches\" in event && moveDirection === \"h\" && target.type === \"range\") {\n                return false;\n            }\n            var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            if (!canBeScrolledInMainDirection) {\n                return true;\n            }\n            if (canBeScrolledInMainDirection) {\n                currentAxis = moveDirection;\n            } else {\n                currentAxis = moveDirection === \"v\" ? \"h\" : \"v\";\n                canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            }\n            if (!canBeScrolledInMainDirection) {\n                return false;\n            }\n            if (!activeAxis.current && \"changedTouches\" in event && (deltaX || deltaY)) {\n                activeAxis.current = currentAxis;\n            }\n            if (!currentAxis) {\n                return true;\n            }\n            var cancelingAxis = activeAxis.current || currentAxis;\n            return handleScroll(cancelingAxis, parent, event, cancelingAxis === \"h\" ? deltaX : deltaY);\n        }\n    }[\"RemoveScrollSideCar.useCallback[shouldCancelEvent]\"], []);\n    var shouldPrevent = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"RemoveScrollSideCar.useCallback[shouldPrevent]\": function(_event) {\n            var event = _event;\n            if (!lockStack.length || lockStack[lockStack.length - 1] !== Style2) {\n                return;\n            }\n            var delta = \"deltaY\" in event ? getDeltaXY(event) : getTouchXY(event);\n            var sourceEvent = shouldPreventQueue.current.filter({\n                \"RemoveScrollSideCar.useCallback[shouldPrevent]\": function(e) {\n                    return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta);\n                }\n            }[\"RemoveScrollSideCar.useCallback[shouldPrevent]\"])[0];\n            if (sourceEvent && sourceEvent.should) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n                return;\n            }\n            if (!sourceEvent) {\n                var shardNodes = (lastProps.current.shards || []).map(extractRef).filter(Boolean).filter({\n                    \"RemoveScrollSideCar.useCallback[shouldPrevent].shardNodes\": function(node) {\n                        return node.contains(event.target);\n                    }\n                }[\"RemoveScrollSideCar.useCallback[shouldPrevent].shardNodes\"]);\n                var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n                if (shouldStop) {\n                    if (event.cancelable) {\n                        event.preventDefault();\n                    }\n                }\n            }\n        }\n    }[\"RemoveScrollSideCar.useCallback[shouldPrevent]\"], []);\n    var shouldCancel = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"RemoveScrollSideCar.useCallback[shouldCancel]\": function(name, delta, target, should) {\n            var event = {\n                name,\n                delta,\n                target,\n                should,\n                shadowParent: getOutermostShadowParent(target)\n            };\n            shouldPreventQueue.current.push(event);\n            setTimeout({\n                \"RemoveScrollSideCar.useCallback[shouldCancel]\": function() {\n                    shouldPreventQueue.current = shouldPreventQueue.current.filter({\n                        \"RemoveScrollSideCar.useCallback[shouldCancel]\": function(e) {\n                            return e !== event;\n                        }\n                    }[\"RemoveScrollSideCar.useCallback[shouldCancel]\"]);\n                }\n            }[\"RemoveScrollSideCar.useCallback[shouldCancel]\"], 1);\n        }\n    }[\"RemoveScrollSideCar.useCallback[shouldCancel]\"], []);\n    var scrollTouchStart = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"RemoveScrollSideCar.useCallback[scrollTouchStart]\": function(event) {\n            touchStartRef.current = getTouchXY(event);\n            activeAxis.current = void 0;\n        }\n    }[\"RemoveScrollSideCar.useCallback[scrollTouchStart]\"], []);\n    var scrollWheel = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"RemoveScrollSideCar.useCallback[scrollWheel]\": function(event) {\n            shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props2.lockRef.current));\n        }\n    }[\"RemoveScrollSideCar.useCallback[scrollWheel]\"], []);\n    var scrollTouchMove = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"RemoveScrollSideCar.useCallback[scrollTouchMove]\": function(event) {\n            shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props2.lockRef.current));\n        }\n    }[\"RemoveScrollSideCar.useCallback[scrollTouchMove]\"], []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"RemoveScrollSideCar.useEffect\": function() {\n            lockStack.push(Style2);\n            props2.setCallbacks({\n                onScrollCapture: scrollWheel,\n                onWheelCapture: scrollWheel,\n                onTouchMoveCapture: scrollTouchMove\n            });\n            document.addEventListener(\"wheel\", shouldPrevent, nonPassive);\n            document.addEventListener(\"touchmove\", shouldPrevent, nonPassive);\n            document.addEventListener(\"touchstart\", scrollTouchStart, nonPassive);\n            return ({\n                \"RemoveScrollSideCar.useEffect\": function() {\n                    lockStack = lockStack.filter({\n                        \"RemoveScrollSideCar.useEffect\": function(inst) {\n                            return inst !== Style2;\n                        }\n                    }[\"RemoveScrollSideCar.useEffect\"]);\n                    document.removeEventListener(\"wheel\", shouldPrevent, nonPassive);\n                    document.removeEventListener(\"touchmove\", shouldPrevent, nonPassive);\n                    document.removeEventListener(\"touchstart\", scrollTouchStart, nonPassive);\n                }\n            })[\"RemoveScrollSideCar.useEffect\"];\n        }\n    }[\"RemoveScrollSideCar.useEffect\"], []);\n    var removeScrollBar = props2.removeScrollBar, inert = props2.inert;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, inert ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Style2, {\n        styles: generateStyle(id)\n    }) : null, removeScrollBar ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(RemoveScrollBar, {\n        noRelative: props2.noRelative,\n        gapMode: props2.gapMode\n    }) : null);\n}\n_s28(RemoveScrollSideCar, \"hqgd7bag6g1XbtT0GV1StJZ+Ot8=\");\n_c23 = RemoveScrollSideCar;\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while(node !== null){\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\nconst SideCar = exportSidecar(effectCar, RemoveScrollSideCar);\nvar ReactRemoveScroll = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function(props2, ref) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(RemoveScroll, __assign({}, props2, {\n        ref,\n        sideCar: SideCar\n    }));\n});\n_c24 = ReactRemoveScroll;\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nvar OPEN_KEYS = [\n    \" \",\n    \"Enter\",\n    \"ArrowUp\",\n    \"ArrowDown\"\n];\nvar SELECTION_KEYS$1 = [\n    \" \",\n    \"Enter\"\n];\nvar SELECT_NAME = \"Select\";\nvar [Collection$2, useCollection$2, createCollectionScope$2] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n    createCollectionScope$2,\n    createPopperScope\n]);\nvar usePopperScope$3 = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select$1 = (props2)=>{\n    _s29();\n    const { __scopeSelect, children, open: openProp, defaultOpen, onOpenChange, value: valueProp, defaultValue, onValueChange, dir, name, autoComplete, disabled, required, form } = props2;\n    const popperScope = usePopperScope$3(__scopeSelect);\n    const [trigger, setTrigger] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [valueNode, setValueNode] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [valueNodeHasChildren, setValueNodeHasChildren] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const direction = useDirection(dir);\n    const [open, setOpen] = useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen !== null && defaultOpen !== void 0 ? defaultOpen : false,\n        onChange: onOpenChange,\n        caller: SELECT_NAME\n    });\n    const [value1, setValue] = useControllableState({\n        prop: valueProp,\n        defaultProp: defaultValue,\n        onChange: onValueChange,\n        caller: SELECT_NAME\n    });\n    const triggerPointerDownPosRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n    const [nativeOptionsSet, setNativeOptionsSet] = react__WEBPACK_IMPORTED_MODULE_1__.useState(/* @__PURE__ */ new Set());\n    const nativeSelectKey = Array.from(nativeOptionsSet).map((option)=>option.props.value).join(\";\");\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$4, {\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(SelectProvider, {\n            required,\n            scope: __scopeSelect,\n            trigger,\n            onTriggerChange: setTrigger,\n            valueNode,\n            onValueNodeChange: setValueNode,\n            valueNodeHasChildren,\n            onValueNodeHasChildrenChange: setValueNodeHasChildren,\n            contentId: useId$1(),\n            value: value1,\n            onValueChange: setValue,\n            open,\n            onOpenChange: setOpen,\n            dir: direction,\n            triggerPointerDownPosRef,\n            disabled,\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$2.Provider, {\n                    scope: __scopeSelect,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectNativeOptionsProvider, {\n                        scope: props2.__scopeSelect,\n                        onNativeOptionAdd: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                            \"Select$1.useCallback\": (option)=>{\n                                setNativeOptionsSet({\n                                    \"Select$1.useCallback\": (prev)=>new Set(prev).add(option)\n                                }[\"Select$1.useCallback\"]);\n                            }\n                        }[\"Select$1.useCallback\"], []),\n                        onNativeOptionRemove: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                            \"Select$1.useCallback\": (option)=>{\n                                setNativeOptionsSet({\n                                    \"Select$1.useCallback\": (prev)=>{\n                                        const optionsSet = new Set(prev);\n                                        optionsSet.delete(option);\n                                        return optionsSet;\n                                    }\n                                }[\"Select$1.useCallback\"]);\n                            }\n                        }[\"Select$1.useCallback\"], []),\n                        children\n                    })\n                }),\n                isFormControl ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(SelectBubbleInput, {\n                    \"aria-hidden\": true,\n                    required,\n                    tabIndex: -1,\n                    name,\n                    autoComplete,\n                    value: value1,\n                    onChange: (event)=>setValue(event.target.value),\n                    disabled,\n                    form,\n                    children: [\n                        value1 === void 0 ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", {\n                            value: \"\"\n                        }) : null,\n                        Array.from(nativeOptionsSet)\n                    ]\n                }, nativeSelectKey) : null\n            ]\n        })\n    });\n};\n_s29(Select$1, \"+RPhv1nejJW/PTp7fpUpsGZIVsM=\", false, function() {\n    return [\n        usePopperScope$3,\n        useDirection,\n        useControllableState,\n        useControllableState,\n        useId$1\n    ];\n});\n_c25 = Select$1;\nSelect$1.displayName = SELECT_NAME;\nvar TRIGGER_NAME$4 = \"SelectTrigger\";\nvar SelectTrigger$1 = /*#__PURE__*/ _s30(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c26 = _s30((props2, forwardedRef)=>{\n    _s30();\n    const { __scopeSelect, disabled = false, ...triggerProps } = props2;\n    const popperScope = usePopperScope$3(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME$4, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection$2(__scopeSelect);\n    const pointerTypeRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch({\n        \"SelectTrigger$1.useTypeaheadSearch\": (search)=>{\n            const enabledItems = getItems().filter({\n                \"SelectTrigger$1.useTypeaheadSearch.enabledItems\": (item)=>!item.disabled\n            }[\"SelectTrigger$1.useTypeaheadSearch.enabledItems\"]);\n            const currentItem = enabledItems.find({\n                \"SelectTrigger$1.useTypeaheadSearch.currentItem\": (item)=>item.value === context.value\n            }[\"SelectTrigger$1.useTypeaheadSearch.currentItem\"]);\n            const nextItem = findNextItem(enabledItems, search, currentItem);\n            if (nextItem !== void 0) {\n                context.onValueChange(nextItem.value);\n            }\n        }\n    }[\"SelectTrigger$1.useTypeaheadSearch\"]);\n    const handleOpen = (pointerEvent)=>{\n        if (!isDisabled) {\n            context.onOpenChange(true);\n            resetTypeahead();\n        }\n        if (pointerEvent) {\n            context.triggerPointerDownPosRef.current = {\n                x: Math.round(pointerEvent.pageX),\n                y: Math.round(pointerEvent.pageY)\n            };\n        }\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor, {\n        asChild: true,\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.button, {\n            type: \"button\",\n            role: \"combobox\",\n            \"aria-controls\": context.contentId,\n            \"aria-expanded\": context.open,\n            \"aria-required\": context.required,\n            \"aria-autocomplete\": \"none\",\n            dir: context.dir,\n            \"data-state\": context.open ? \"open\" : \"closed\",\n            disabled: isDisabled,\n            \"data-disabled\": isDisabled ? \"\" : void 0,\n            \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n            ...triggerProps,\n            ref: composedRefs,\n            onClick: composeEventHandlers(triggerProps.onClick, (event)=>{\n                event.currentTarget.focus();\n                if (pointerTypeRef.current !== \"mouse\") {\n                    handleOpen(event);\n                }\n            }),\n            onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event)=>{\n                pointerTypeRef.current = event.pointerType;\n                const target = event.target;\n                if (target.hasPointerCapture(event.pointerId)) {\n                    target.releasePointerCapture(event.pointerId);\n                }\n                if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n                    handleOpen(event);\n                    event.preventDefault();\n                }\n            }),\n            onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event)=>{\n                const isTypingAhead = searchRef.current !== \"\";\n                const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                if (isTypingAhead && event.key === \" \") return;\n                if (OPEN_KEYS.includes(event.key)) {\n                    handleOpen();\n                    event.preventDefault();\n                }\n            })\n        })\n    });\n}, \"C0hu8sUIDtxRUXUizNI9kpeIvrA=\", false, function() {\n    return [\n        usePopperScope$3,\n        useSelectContext,\n        useComposedRefs,\n        useCollection$2,\n        useTypeaheadSearch\n    ];\n})), \"C0hu8sUIDtxRUXUizNI9kpeIvrA=\", false, function() {\n    return [\n        usePopperScope$3,\n        useSelectContext,\n        useComposedRefs,\n        useCollection$2,\n        useTypeaheadSearch\n    ];\n});\n_c27 = SelectTrigger$1;\nSelectTrigger$1.displayName = TRIGGER_NAME$4;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue$1 = /*#__PURE__*/ _s31(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c28 = _s31((props2, forwardedRef)=>{\n    _s31();\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props2;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect2({\n        \"SelectValue$1.useLayoutEffect2\": ()=>{\n            onValueNodeHasChildrenChange(hasChildren);\n        }\n    }[\"SelectValue$1.useLayoutEffect2\"], [\n        onValueNodeHasChildrenChange,\n        hasChildren\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n        ...valueProps,\n        ref: composedRefs,\n        style: {\n            pointerEvents: \"none\"\n        },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: placeholder\n        }) : children\n    });\n}, \"SbWgC7jDT3oiT90z05yimdOdMrk=\", false, function() {\n    return [\n        useSelectContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n})), \"SbWgC7jDT3oiT90z05yimdOdMrk=\", false, function() {\n    return [\n        useSelectContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n});\n_c29 = SelectValue$1;\nSelectValue$1.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c30 = (props2, forwardedRef)=>{\n    const { __scopeSelect, children, ...iconProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n        \"aria-hidden\": true,\n        ...iconProps,\n        ref: forwardedRef,\n        children: children || \"\"\n    });\n});\n_c31 = SelectIcon;\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME$4 = \"SelectPortal\";\nvar SelectPortal = (props2)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$4, {\n        asChild: true,\n        ...props2\n    });\n};\n_c32 = SelectPortal;\nSelectPortal.displayName = PORTAL_NAME$4;\nvar CONTENT_NAME$5 = \"SelectContent\";\nvar SelectContent$1 = /*#__PURE__*/ _s32(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c33 = _s32((props2, forwardedRef)=>{\n    _s32();\n    const context = useSelectContext(CONTENT_NAME$5, props2.__scopeSelect);\n    const [fragment, setFragment] = react__WEBPACK_IMPORTED_MODULE_1__.useState();\n    useLayoutEffect2({\n        \"SelectContent$1.useLayoutEffect2\": ()=>{\n            setFragment(new DocumentFragment());\n        }\n    }[\"SelectContent$1.useLayoutEffect2\"], []);\n    if (!context.open) {\n        const frag = fragment;\n        return frag ? /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectContentProvider, {\n            scope: props2.__scopeSelect,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$2.Slot, {\n                scope: props2.__scopeSelect,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    children: props2.children\n                })\n            })\n        }), frag) : null;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectContentImpl, {\n        ...props2,\n        ref: forwardedRef\n    });\n}, \"ZZuXCMkNiC95yzHyjiVteeA0Y7c=\", false, function() {\n    return [\n        useSelectContext,\n        useLayoutEffect2\n    ];\n})), \"ZZuXCMkNiC95yzHyjiVteeA0Y7c=\", false, function() {\n    return [\n        useSelectContext,\n        useLayoutEffect2\n    ];\n});\n_c34 = SelectContent$1;\nSelectContent$1.displayName = CONTENT_NAME$5;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME$5);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot$2 = /* @__PURE__ */ createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s33((props2, forwardedRef)=>{\n    _s33();\n    const { __scopeSelect, position = \"item-aligned\", onCloseAutoFocus, onEscapeKeyDown, onPointerDownOutside, //\n    // PopperContent props\n    side, sideOffset, align, alignOffset, arrowPadding, collisionBoundary, collisionPadding, sticky, hideWhenDetached, avoidCollisions, //\n    ...contentProps } = props2;\n    const context = useSelectContext(CONTENT_NAME$5, __scopeSelect);\n    const [content, setContent] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [viewport, setViewport] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"SelectContentImpl.useComposedRefs[composedRefs]\": (node)=>setContent(node)\n    }[\"SelectContentImpl.useComposedRefs[composedRefs]\"]);\n    const [selectedItem, setSelectedItem] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [selectedItemText, setSelectedItemText] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const getItems = useCollection$2(__scopeSelect);\n    const [isPositioned, setIsPositioned] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const firstValidItemFoundRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"SelectContentImpl.useEffect\": ()=>{\n            if (content) return hideOthers(content);\n        }\n    }[\"SelectContentImpl.useEffect\"], [\n        content\n    ]);\n    useFocusGuards();\n    const focusFirst2 = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectContentImpl.useCallback[focusFirst2]\": (candidates)=>{\n            const [firstItem, ...restItems] = getItems().map({\n                \"SelectContentImpl.useCallback[focusFirst2]\": (item)=>item.ref.current\n            }[\"SelectContentImpl.useCallback[focusFirst2]\"]);\n            const [lastItem] = restItems.slice(-1);\n            const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n            for (const candidate of candidates){\n                if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n                candidate == null ? void 0 : candidate.scrollIntoView({\n                    block: \"nearest\"\n                });\n                if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n                if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n                candidate == null ? void 0 : candidate.focus();\n                if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n            }\n        }\n    }[\"SelectContentImpl.useCallback[focusFirst2]\"], [\n        getItems,\n        viewport\n    ]);\n    const focusSelectedItem = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectContentImpl.useCallback[focusSelectedItem]\": ()=>focusFirst2([\n                selectedItem,\n                content\n            ])\n    }[\"SelectContentImpl.useCallback[focusSelectedItem]\"], [\n        focusFirst2,\n        selectedItem,\n        content\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"SelectContentImpl.useEffect\": ()=>{\n            if (isPositioned) {\n                focusSelectedItem();\n            }\n        }\n    }[\"SelectContentImpl.useEffect\"], [\n        isPositioned,\n        focusSelectedItem\n    ]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"SelectContentImpl.useEffect\": ()=>{\n            if (content) {\n                let pointerMoveDelta = {\n                    x: 0,\n                    y: 0\n                };\n                const handlePointerMove2 = {\n                    \"SelectContentImpl.useEffect.handlePointerMove2\": (event)=>{\n                        var _a, _b;\n                        var _ref, _ref1;\n                        pointerMoveDelta = {\n                            x: Math.abs(Math.round(event.pageX) - ((_ref = (_a = triggerPointerDownPosRef.current) == null ? void 0 : _a.x) !== null && _ref !== void 0 ? _ref : 0)),\n                            y: Math.abs(Math.round(event.pageY) - ((_ref1 = (_b = triggerPointerDownPosRef.current) == null ? void 0 : _b.y) !== null && _ref1 !== void 0 ? _ref1 : 0))\n                        };\n                    }\n                }[\"SelectContentImpl.useEffect.handlePointerMove2\"];\n                const handlePointerUp2 = {\n                    \"SelectContentImpl.useEffect.handlePointerUp2\": (event)=>{\n                        if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n                            event.preventDefault();\n                        } else {\n                            if (!content.contains(event.target)) {\n                                onOpenChange(false);\n                            }\n                        }\n                        document.removeEventListener(\"pointermove\", handlePointerMove2);\n                        triggerPointerDownPosRef.current = null;\n                    }\n                }[\"SelectContentImpl.useEffect.handlePointerUp2\"];\n                if (triggerPointerDownPosRef.current !== null) {\n                    document.addEventListener(\"pointermove\", handlePointerMove2);\n                    document.addEventListener(\"pointerup\", handlePointerUp2, {\n                        capture: true,\n                        once: true\n                    });\n                }\n                return ({\n                    \"SelectContentImpl.useEffect\": ()=>{\n                        document.removeEventListener(\"pointermove\", handlePointerMove2);\n                        document.removeEventListener(\"pointerup\", handlePointerUp2, {\n                            capture: true\n                        });\n                    }\n                })[\"SelectContentImpl.useEffect\"];\n            }\n        }\n    }[\"SelectContentImpl.useEffect\"], [\n        content,\n        onOpenChange,\n        triggerPointerDownPosRef\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"SelectContentImpl.useEffect\": ()=>{\n            const close = {\n                \"SelectContentImpl.useEffect.close\": ()=>onOpenChange(false)\n            }[\"SelectContentImpl.useEffect.close\"];\n            window.addEventListener(\"blur\", close);\n            window.addEventListener(\"resize\", close);\n            return ({\n                \"SelectContentImpl.useEffect\": ()=>{\n                    window.removeEventListener(\"blur\", close);\n                    window.removeEventListener(\"resize\", close);\n                }\n            })[\"SelectContentImpl.useEffect\"];\n        }\n    }[\"SelectContentImpl.useEffect\"], [\n        onOpenChange\n    ]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch({\n        \"SelectContentImpl.useTypeaheadSearch\": (search)=>{\n            const enabledItems = getItems().filter({\n                \"SelectContentImpl.useTypeaheadSearch.enabledItems\": (item)=>!item.disabled\n            }[\"SelectContentImpl.useTypeaheadSearch.enabledItems\"]);\n            const currentItem = enabledItems.find({\n                \"SelectContentImpl.useTypeaheadSearch.currentItem\": (item)=>item.ref.current === document.activeElement\n            }[\"SelectContentImpl.useTypeaheadSearch.currentItem\"]);\n            const nextItem = findNextItem(enabledItems, search, currentItem);\n            if (nextItem) {\n                setTimeout({\n                    \"SelectContentImpl.useTypeaheadSearch\": ()=>nextItem.ref.current.focus()\n                }[\"SelectContentImpl.useTypeaheadSearch\"]);\n            }\n        }\n    }[\"SelectContentImpl.useTypeaheadSearch\"]);\n    const itemRefCallback = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectContentImpl.useCallback[itemRefCallback]\": (node, value1, disabled)=>{\n            const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n            const isSelectedItem = context.value !== void 0 && context.value === value1;\n            if (isSelectedItem || isFirstValidItem) {\n                setSelectedItem(node);\n                if (isFirstValidItem) firstValidItemFoundRef.current = true;\n            }\n        }\n    }[\"SelectContentImpl.useCallback[itemRefCallback]\"], [\n        context.value\n    ]);\n    const handleItemLeave = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectContentImpl.useCallback[handleItemLeave]\": ()=>content == null ? void 0 : content.focus()\n    }[\"SelectContentImpl.useCallback[handleItemLeave]\"], [\n        content\n    ]);\n    const itemTextRefCallback = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectContentImpl.useCallback[itemTextRefCallback]\": (node, value1, disabled)=>{\n            const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n            const isSelectedItem = context.value !== void 0 && context.value === value1;\n            if (isSelectedItem || isFirstValidItem) {\n                setSelectedItemText(node);\n            }\n        }\n    }[\"SelectContentImpl.useCallback[itemTextRefCallback]\"], [\n        context.value\n    ]);\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n        side,\n        sideOffset,\n        align,\n        alignOffset,\n        arrowPadding,\n        collisionBoundary,\n        collisionPadding,\n        sticky,\n        hideWhenDetached,\n        avoidCollisions\n    } : {};\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectContentProvider, {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReactRemoveScroll, {\n            as: Slot$2,\n            allowPinchZoom: true,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FocusScope, {\n                asChild: true,\n                trapped: context.open,\n                onMountAutoFocus: (event)=>{\n                    event.preventDefault();\n                },\n                onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event)=>{\n                    var _a;\n                    (_a = context.trigger) == null ? void 0 : _a.focus({\n                        preventScroll: true\n                    });\n                    event.preventDefault();\n                }),\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DismissableLayer, {\n                    asChild: true,\n                    disableOutsidePointerEvents: true,\n                    onEscapeKeyDown,\n                    onPointerDownOutside,\n                    onFocusOutside: (event)=>event.preventDefault(),\n                    onDismiss: ()=>context.onOpenChange(false),\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectPosition, {\n                        role: \"listbox\",\n                        id: context.contentId,\n                        \"data-state\": context.open ? \"open\" : \"closed\",\n                        dir: context.dir,\n                        onContextMenu: (event)=>event.preventDefault(),\n                        ...contentProps,\n                        ...popperContentProps,\n                        onPlaced: ()=>setIsPositioned(true),\n                        ref: composedRefs,\n                        style: {\n                            // flex layout so we can place the scroll buttons properly\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            // reset the outline by default as the content MAY get focused\n                            outline: \"none\",\n                            ...contentProps.style\n                        },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event)=>{\n                            const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                            if ([\n                                \"ArrowUp\",\n                                \"ArrowDown\",\n                                \"Home\",\n                                \"End\"\n                            ].includes(event.key)) {\n                                const items = getItems().filter((item)=>!item.disabled);\n                                let candidateNodes = items.map((item)=>item.ref.current);\n                                if ([\n                                    \"ArrowUp\",\n                                    \"End\"\n                                ].includes(event.key)) {\n                                    candidateNodes = candidateNodes.slice().reverse();\n                                }\n                                if ([\n                                    \"ArrowUp\",\n                                    \"ArrowDown\"\n                                ].includes(event.key)) {\n                                    const currentElement = event.target;\n                                    const currentIndex = candidateNodes.indexOf(currentElement);\n                                    candidateNodes = candidateNodes.slice(currentIndex + 1);\n                                }\n                                setTimeout(()=>focusFirst2(candidateNodes));\n                                event.preventDefault();\n                            }\n                        })\n                    })\n                })\n            })\n        })\n    });\n}, \"KQOf6H7C6+DePoBKSDrQU/0FmO0=\", false, function() {\n    return [\n        useSelectContext,\n        useComposedRefs,\n        useCollection$2,\n        useFocusGuards,\n        useTypeaheadSearch\n    ];\n}));\n_c35 = SelectContentImpl;\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = /*#__PURE__*/ _s34(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c36 = _s34((props2, forwardedRef)=>{\n    _s34();\n    const { __scopeSelect, onPlaced, ...popperProps } = props2;\n    const context = useSelectContext(CONTENT_NAME$5, __scopeSelect);\n    const contentContext = useSelectContentContext(CONTENT_NAME$5, __scopeSelect);\n    const [contentWrapper, setContentWrapper] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [content, setContent] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"SelectItemAlignedPosition.useComposedRefs[composedRefs]\": (node)=>setContent(node)\n    }[\"SelectItemAlignedPosition.useComposedRefs[composedRefs]\"]);\n    const getItems = useCollection$2(__scopeSelect);\n    const shouldExpandOnScrollRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const shouldRepositionRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(true);\n    const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n    const position = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectItemAlignedPosition.useCallback[position]\": ()=>{\n            if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n                const triggerRect = context.trigger.getBoundingClientRect();\n                const contentRect = content.getBoundingClientRect();\n                const valueNodeRect = context.valueNode.getBoundingClientRect();\n                const itemTextRect = selectedItemText.getBoundingClientRect();\n                if (context.dir !== \"rtl\") {\n                    const itemTextOffset = itemTextRect.left - contentRect.left;\n                    const left = valueNodeRect.left - itemTextOffset;\n                    const leftDelta = triggerRect.left - left;\n                    const minContentWidth = triggerRect.width + leftDelta;\n                    const contentWidth = Math.max(minContentWidth, contentRect.width);\n                    const rightEdge = window.innerWidth - CONTENT_MARGIN;\n                    const clampedLeft = clamp$1(left, [\n                        CONTENT_MARGIN,\n                        // Prevents the content from going off the starting edge of the\n                        // viewport. It may still go off the ending edge, but this can be\n                        // controlled by the user since they may want to manage overflow in a\n                        // specific way.\n                        // https://github.com/radix-ui/primitives/issues/2049\n                        Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n                    ]);\n                    contentWrapper.style.minWidth = minContentWidth + \"px\";\n                    contentWrapper.style.left = clampedLeft + \"px\";\n                } else {\n                    const itemTextOffset = contentRect.right - itemTextRect.right;\n                    const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n                    const rightDelta = window.innerWidth - triggerRect.right - right;\n                    const minContentWidth = triggerRect.width + rightDelta;\n                    const contentWidth = Math.max(minContentWidth, contentRect.width);\n                    const leftEdge = window.innerWidth - CONTENT_MARGIN;\n                    const clampedRight = clamp$1(right, [\n                        CONTENT_MARGIN,\n                        Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n                    ]);\n                    contentWrapper.style.minWidth = minContentWidth + \"px\";\n                    contentWrapper.style.right = clampedRight + \"px\";\n                }\n                const items = getItems();\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const itemsHeight = viewport.scrollHeight;\n                const contentStyles = window.getComputedStyle(content);\n                const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n                const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n                const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n                const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n                const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n                const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n                const viewportStyles = window.getComputedStyle(viewport);\n                const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n                const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n                const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n                const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n                const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n                const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n                const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n                const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n                const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n                if (willAlignWithoutTopOverflow) {\n                    const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n                    contentWrapper.style.bottom = \"0px\";\n                    const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n                    const clampedTriggerMiddleToBottomEdge = Math.max(triggerMiddleToBottomEdge, selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n                    (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth);\n                    const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n                    contentWrapper.style.height = height + \"px\";\n                } else {\n                    const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n                    contentWrapper.style.top = \"0px\";\n                    const clampedTopEdgeToTriggerMiddle = Math.max(topEdgeToTriggerMiddle, contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n                    (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight);\n                    const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n                    contentWrapper.style.height = height + \"px\";\n                    viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n                }\n                contentWrapper.style.margin = \"\".concat(CONTENT_MARGIN, \"px 0\");\n                contentWrapper.style.minHeight = minContentHeight + \"px\";\n                contentWrapper.style.maxHeight = availableHeight + \"px\";\n                onPlaced == null ? void 0 : onPlaced();\n                requestAnimationFrame({\n                    \"SelectItemAlignedPosition.useCallback[position]\": ()=>shouldExpandOnScrollRef.current = true\n                }[\"SelectItemAlignedPosition.useCallback[position]\"]);\n            }\n        }\n    }[\"SelectItemAlignedPosition.useCallback[position]\"], [\n        getItems,\n        context.trigger,\n        context.valueNode,\n        contentWrapper,\n        content,\n        viewport,\n        selectedItem,\n        selectedItemText,\n        context.dir,\n        onPlaced\n    ]);\n    useLayoutEffect2({\n        \"SelectItemAlignedPosition.useLayoutEffect2\": ()=>position()\n    }[\"SelectItemAlignedPosition.useLayoutEffect2\"], [\n        position\n    ]);\n    const [contentZIndex, setContentZIndex] = react__WEBPACK_IMPORTED_MODULE_1__.useState();\n    useLayoutEffect2({\n        \"SelectItemAlignedPosition.useLayoutEffect2\": ()=>{\n            if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n        }\n    }[\"SelectItemAlignedPosition.useLayoutEffect2\"], [\n        content\n    ]);\n    const handleScrollButtonChange = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectItemAlignedPosition.useCallback[handleScrollButtonChange]\": (node)=>{\n            if (node && shouldRepositionRef.current === true) {\n                position();\n                focusSelectedItem == null ? void 0 : focusSelectedItem();\n                shouldRepositionRef.current = false;\n            }\n        }\n    }[\"SelectItemAlignedPosition.useCallback[handleScrollButtonChange]\"], [\n        position,\n        focusSelectedItem\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectViewportProvider, {\n        scope: __scopeSelect,\n        contentWrapper,\n        shouldExpandOnScrollRef,\n        onScrollButtonChange: handleScrollButtonChange,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            ref: setContentWrapper,\n            style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                position: \"fixed\",\n                zIndex: contentZIndex\n            },\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n                ...popperProps,\n                ref: composedRefs,\n                style: {\n                    // When we get the height of the content, it includes borders. If we were to set\n                    // the height without having `boxSizing: 'border-box'` it would be too big.\n                    boxSizing: \"border-box\",\n                    // We need to ensure the content doesn't get taller than the wrapper\n                    maxHeight: \"100%\",\n                    ...popperProps.style\n                }\n            })\n        })\n    });\n}, \"lirXrAhvZy1V1xLceB36sZYrWQ4=\", false, function() {\n    return [\n        useSelectContext,\n        useSelectContentContext,\n        useComposedRefs,\n        useCollection$2,\n        useLayoutEffect2,\n        useLayoutEffect2\n    ];\n})), \"lirXrAhvZy1V1xLceB36sZYrWQ4=\", false, function() {\n    return [\n        useSelectContext,\n        useSelectContentContext,\n        useComposedRefs,\n        useCollection$2,\n        useLayoutEffect2,\n        useLayoutEffect2\n    ];\n});\n_c37 = SelectItemAlignedPosition;\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = /*#__PURE__*/ _s35(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c38 = _s35((props2, forwardedRef)=>{\n    _s35();\n    const { __scopeSelect, align = \"start\", collisionPadding = CONTENT_MARGIN, ...popperProps } = props2;\n    const popperScope = usePopperScope$3(__scopeSelect);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content$1, {\n        ...popperScope,\n        ...popperProps,\n        ref: forwardedRef,\n        align,\n        collisionPadding,\n        style: {\n            // Ensure border-box for floating-ui calculations\n            boxSizing: \"border-box\",\n            ...popperProps.style,\n            // re-namespace exposed content custom properties\n            ...{\n                \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n            }\n        }\n    });\n}, \"BpqY5WzV0YcG0de2XsYA9V0frTM=\", false, function() {\n    return [\n        usePopperScope$3\n    ];\n})), \"BpqY5WzV0YcG0de2XsYA9V0frTM=\", false, function() {\n    return [\n        usePopperScope$3\n    ];\n});\n_c39 = SelectPopperPosition;\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME$5, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = /*#__PURE__*/ _s36(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c40 = _s36((props2, forwardedRef)=>{\n    _s36();\n    const { __scopeSelect, nonce, ...viewportProps } = props2;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: \"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}\"\n                },\n                nonce\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$2.Slot, {\n                scope: __scopeSelect,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n                    \"data-radix-select-viewport\": \"\",\n                    role: \"presentation\",\n                    ...viewportProps,\n                    ref: composedRefs,\n                    style: {\n                        // we use position: 'relative' here on the `viewport` so that when we call\n                        // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n                        // (independent of the scrollUpButton).\n                        position: \"relative\",\n                        flex: 1,\n                        // Viewport should only be scrollable in the vertical direction.\n                        // This won't work in vertical writing modes, so we'll need to\n                        // revisit this if/when that is supported\n                        // https://developer.chrome.com/blog/vertical-form-controls\n                        overflow: \"hidden auto\",\n                        ...viewportProps.style\n                    },\n                    onScroll: composeEventHandlers(viewportProps.onScroll, (event)=>{\n                        const viewport = event.currentTarget;\n                        const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n                        if ((shouldExpandOnScrollRef == null ? void 0 : shouldExpandOnScrollRef.current) && contentWrapper) {\n                            const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n                            if (scrolledBy > 0) {\n                                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                                const cssHeight = parseFloat(contentWrapper.style.height);\n                                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                                if (prevHeight < availableHeight) {\n                                    const nextHeight = prevHeight + scrolledBy;\n                                    const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                                    const heightDiff = nextHeight - clampedNextHeight;\n                                    contentWrapper.style.height = clampedNextHeight + \"px\";\n                                    if (contentWrapper.style.bottom === \"0px\") {\n                                        viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                                        contentWrapper.style.justifyContent = \"flex-end\";\n                                    }\n                                }\n                            }\n                        }\n                        prevScrollTopRef.current = viewport.scrollTop;\n                    })\n                })\n            })\n        ]\n    });\n}, \"XupGGKfsCoXBlLl1goZr8AcWTcs=\", false, function() {\n    return [\n        useSelectContentContext,\n        useSelectViewportContext,\n        useComposedRefs\n    ];\n})), \"XupGGKfsCoXBlLl1goZr8AcWTcs=\", false, function() {\n    return [\n        useSelectContentContext,\n        useSelectViewportContext,\n        useComposedRefs\n    ];\n});\n_c41 = SelectViewport;\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME$3 = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME$3);\nvar SelectGroup$1 = /*#__PURE__*/ _s37(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c42 = _s37((props2, forwardedRef)=>{\n    _s37();\n    const { __scopeSelect, ...groupProps } = props2;\n    const groupId = useId$1();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectGroupContextProvider, {\n        scope: __scopeSelect,\n        id: groupId,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n            role: \"group\",\n            \"aria-labelledby\": groupId,\n            ...groupProps,\n            ref: forwardedRef\n        })\n    });\n}, \"u73aiCPmRHuKkEta4OUTP+gw/NY=\", false, function() {\n    return [\n        useId$1\n    ];\n})), \"u73aiCPmRHuKkEta4OUTP+gw/NY=\", false, function() {\n    return [\n        useId$1\n    ];\n});\n_c43 = SelectGroup$1;\nSelectGroup$1.displayName = GROUP_NAME$3;\nvar LABEL_NAME$2 = \"SelectLabel\";\nvar SelectLabel = /*#__PURE__*/ _s38(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c44 = _s38((props2, forwardedRef)=>{\n    _s38();\n    const { __scopeSelect, ...labelProps } = props2;\n    const groupContext = useSelectGroupContext(LABEL_NAME$2, __scopeSelect);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        id: groupContext.id,\n        ...labelProps,\n        ref: forwardedRef\n    });\n}, \"6DR4oNi5I3VPerTuJFdlRDJAXcE=\", false, function() {\n    return [\n        useSelectGroupContext\n    ];\n})), \"6DR4oNi5I3VPerTuJFdlRDJAXcE=\", false, function() {\n    return [\n        useSelectGroupContext\n    ];\n});\n_c45 = SelectLabel;\nSelectLabel.displayName = LABEL_NAME$2;\nvar ITEM_NAME$3 = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME$3);\nvar SelectItem$1 = /*#__PURE__*/ _s39(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c46 = _s39((props2, forwardedRef)=>{\n    _s39();\n    const { __scopeSelect, value: value1, disabled = false, textValue: textValueProp, ...itemProps } = props2;\n    const context = useSelectContext(ITEM_NAME$3, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME$3, __scopeSelect);\n    const isSelected = context.value === value1;\n    const [textValue, setTextValue] = react__WEBPACK_IMPORTED_MODULE_1__.useState(textValueProp !== null && textValueProp !== void 0 ? textValueProp : \"\");\n    const [isFocused, setIsFocused] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"SelectItem$1.useComposedRefs[composedRefs]\": (node)=>{\n            var _a;\n            return (_a = contentContext.itemRefCallback) == null ? void 0 : _a.call(contentContext, node, value1, disabled);\n        }\n    }[\"SelectItem$1.useComposedRefs[composedRefs]\"]);\n    const textId = useId$1();\n    const pointerTypeRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(\"touch\");\n    const handleSelect = ()=>{\n        if (!disabled) {\n            context.onValueChange(value1);\n            context.onOpenChange(false);\n        }\n    };\n    if (value1 === \"\") {\n        throw new Error(\"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\");\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectItemContextProvider, {\n        scope: __scopeSelect,\n        value: value1,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"SelectItem$1.useCallback\": (node)=>{\n                setTextValue({\n                    \"SelectItem$1.useCallback\": (prevTextValue)=>{\n                        var _ref;\n                        return prevTextValue || ((_ref = node == null ? void 0 : node.textContent) !== null && _ref !== void 0 ? _ref : \"\").trim();\n                    }\n                }[\"SelectItem$1.useCallback\"]);\n            }\n        }[\"SelectItem$1.useCallback\"], []),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$2.ItemSlot, {\n            scope: __scopeSelect,\n            value: value1,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, ()=>setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, ()=>setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, ()=>{\n                    if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, ()=>{\n                    if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event)=>{\n                    pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event)=>{\n                    var _a;\n                    pointerTypeRef.current = event.pointerType;\n                    if (disabled) {\n                        (_a = contentContext.onItemLeave) == null ? void 0 : _a.call(contentContext);\n                    } else if (pointerTypeRef.current === \"mouse\") {\n                        event.currentTarget.focus({\n                            preventScroll: true\n                        });\n                    }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event)=>{\n                    var _a;\n                    if (event.currentTarget === document.activeElement) {\n                        (_a = contentContext.onItemLeave) == null ? void 0 : _a.call(contentContext);\n                    }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event)=>{\n                    var _a;\n                    const isTypingAhead = ((_a = contentContext.searchRef) == null ? void 0 : _a.current) !== \"\";\n                    if (isTypingAhead && event.key === \" \") return;\n                    if (SELECTION_KEYS$1.includes(event.key)) handleSelect();\n                    if (event.key === \" \") event.preventDefault();\n                })\n            })\n        })\n    });\n}, \"uhX0oUEqZWMCCNTlBwFki10XW2E=\", false, function() {\n    return [\n        useSelectContext,\n        useSelectContentContext,\n        useComposedRefs,\n        useId$1\n    ];\n})), \"uhX0oUEqZWMCCNTlBwFki10XW2E=\", false, function() {\n    return [\n        useSelectContext,\n        useSelectContentContext,\n        useComposedRefs,\n        useId$1\n    ];\n});\n_c47 = SelectItem$1;\nSelectItem$1.displayName = ITEM_NAME$3;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = /*#__PURE__*/ _s40(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c48 = _s40((props2, forwardedRef)=>{\n    _s40();\n    const { __scopeSelect, className, style, ...itemTextProps } = props2;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, {\n        \"SelectItemText.useComposedRefs[composedRefs]\": (node)=>setItemTextNode(node)\n    }[\"SelectItemText.useComposedRefs[composedRefs]\"], itemContext.onItemTextChange, {\n        \"SelectItemText.useComposedRefs[composedRefs]\": (node)=>{\n            var _a;\n            return (_a = contentContext.itemTextRefCallback) == null ? void 0 : _a.call(contentContext, node, itemContext.value, itemContext.disabled);\n        }\n    }[\"SelectItemText.useComposedRefs[composedRefs]\"]);\n    const textContent = itemTextNode == null ? void 0 : itemTextNode.textContent;\n    const nativeOption = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"SelectItemText.useMemo[nativeOption]\": ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"option\", {\n                value: itemContext.value,\n                disabled: itemContext.disabled,\n                children: textContent\n            }, itemContext.value)\n    }[\"SelectItemText.useMemo[nativeOption]\"], [\n        itemContext.disabled,\n        itemContext.value,\n        textContent\n    ]);\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect2({\n        \"SelectItemText.useLayoutEffect2\": ()=>{\n            onNativeOptionAdd(nativeOption);\n            return ({\n                \"SelectItemText.useLayoutEffect2\": ()=>onNativeOptionRemove(nativeOption)\n            })[\"SelectItemText.useLayoutEffect2\"];\n        }\n    }[\"SelectItemText.useLayoutEffect2\"], [\n        onNativeOptionAdd,\n        onNativeOptionRemove,\n        nativeOption\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n                id: itemContext.textId,\n                ...itemTextProps,\n                ref: composedRefs\n            }),\n            itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal(itemTextProps.children, context.valueNode) : null\n        ]\n    });\n}, \"2mAh3iUJ4yqFl6aJP+nTwBKvkvI=\", false, function() {\n    return [\n        useSelectContext,\n        useSelectContentContext,\n        useSelectItemContext,\n        useSelectNativeOptionsContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n})), \"2mAh3iUJ4yqFl6aJP+nTwBKvkvI=\", false, function() {\n    return [\n        useSelectContext,\n        useSelectContentContext,\n        useSelectItemContext,\n        useSelectNativeOptionsContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n});\n_c49 = SelectItemText;\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME$1 = \"SelectItemIndicator\";\nvar SelectItemIndicator = /*#__PURE__*/ _s41(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c50 = _s41((props2, forwardedRef)=>{\n    _s41();\n    const { __scopeSelect, ...itemIndicatorProps } = props2;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME$1, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n        \"aria-hidden\": true,\n        ...itemIndicatorProps,\n        ref: forwardedRef\n    }) : null;\n}, \"Xe0OoxTaz4ol6wYFGO8hLOwBfcM=\", false, function() {\n    return [\n        useSelectItemContext\n    ];\n})), \"Xe0OoxTaz4ol6wYFGO8hLOwBfcM=\", false, function() {\n    return [\n        useSelectItemContext\n    ];\n});\n_c51 = SelectItemIndicator;\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME$1;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton$1 = /*#__PURE__*/ _s42(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c52 = _s42((props2, forwardedRef)=>{\n    _s42();\n    const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props2.__scopeSelect);\n    const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props2.__scopeSelect);\n    const [canScrollUp, setCanScrollUp] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n    useLayoutEffect2({\n        \"SelectScrollUpButton$1.useLayoutEffect2\": ()=>{\n            if (contentContext.viewport && contentContext.isPositioned) {\n                let handleScroll2 = {\n                    \"SelectScrollUpButton$1.useLayoutEffect2.handleScroll2\": function() {\n                        const canScrollUp2 = viewport.scrollTop > 0;\n                        setCanScrollUp(canScrollUp2);\n                    }\n                }[\"SelectScrollUpButton$1.useLayoutEffect2.handleScroll2\"];\n                const viewport = contentContext.viewport;\n                handleScroll2();\n                viewport.addEventListener(\"scroll\", handleScroll2);\n                return ({\n                    \"SelectScrollUpButton$1.useLayoutEffect2\": ()=>viewport.removeEventListener(\"scroll\", handleScroll2)\n                })[\"SelectScrollUpButton$1.useLayoutEffect2\"];\n            }\n        }\n    }[\"SelectScrollUpButton$1.useLayoutEffect2\"], [\n        contentContext.viewport,\n        contentContext.isPositioned\n    ]);\n    return canScrollUp ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollButtonImpl, {\n        ...props2,\n        ref: composedRefs,\n        onAutoScroll: ()=>{\n            const { viewport, selectedItem } = contentContext;\n            if (viewport && selectedItem) {\n                viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n            }\n        }\n    }) : null;\n}, \"jkmmXRiDNtvsht88BWY9nOUoT84=\", false, function() {\n    return [\n        useSelectContentContext,\n        useSelectViewportContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n})), \"jkmmXRiDNtvsht88BWY9nOUoT84=\", false, function() {\n    return [\n        useSelectContentContext,\n        useSelectViewportContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n});\n_c53 = SelectScrollUpButton$1;\nSelectScrollUpButton$1.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton$1 = /*#__PURE__*/ _s43(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c54 = _s43((props2, forwardedRef)=>{\n    _s43();\n    const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props2.__scopeSelect);\n    const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props2.__scopeSelect);\n    const [canScrollDown, setCanScrollDown] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n    useLayoutEffect2({\n        \"SelectScrollDownButton$1.useLayoutEffect2\": ()=>{\n            if (contentContext.viewport && contentContext.isPositioned) {\n                let handleScroll2 = {\n                    \"SelectScrollDownButton$1.useLayoutEffect2.handleScroll2\": function() {\n                        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n                        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n                        setCanScrollDown(canScrollDown2);\n                    }\n                }[\"SelectScrollDownButton$1.useLayoutEffect2.handleScroll2\"];\n                const viewport = contentContext.viewport;\n                handleScroll2();\n                viewport.addEventListener(\"scroll\", handleScroll2);\n                return ({\n                    \"SelectScrollDownButton$1.useLayoutEffect2\": ()=>viewport.removeEventListener(\"scroll\", handleScroll2)\n                })[\"SelectScrollDownButton$1.useLayoutEffect2\"];\n            }\n        }\n    }[\"SelectScrollDownButton$1.useLayoutEffect2\"], [\n        contentContext.viewport,\n        contentContext.isPositioned\n    ]);\n    return canScrollDown ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollButtonImpl, {\n        ...props2,\n        ref: composedRefs,\n        onAutoScroll: ()=>{\n            const { viewport, selectedItem } = contentContext;\n            if (viewport && selectedItem) {\n                viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n            }\n        }\n    }) : null;\n}, \"FOb4XPL6bRmLWGCAif3WHtr7iKI=\", false, function() {\n    return [\n        useSelectContentContext,\n        useSelectViewportContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n})), \"FOb4XPL6bRmLWGCAif3WHtr7iKI=\", false, function() {\n    return [\n        useSelectContentContext,\n        useSelectViewportContext,\n        useComposedRefs,\n        useLayoutEffect2\n    ];\n});\n_c55 = SelectScrollDownButton$1;\nSelectScrollDownButton$1.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s44((props2, forwardedRef)=>{\n    _s44();\n    const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props2;\n    const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n    const autoScrollTimerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const getItems = useCollection$2(__scopeSelect);\n    const clearAutoScrollTimer = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"SelectScrollButtonImpl.useCallback[clearAutoScrollTimer]\": ()=>{\n            if (autoScrollTimerRef.current !== null) {\n                window.clearInterval(autoScrollTimerRef.current);\n                autoScrollTimerRef.current = null;\n            }\n        }\n    }[\"SelectScrollButtonImpl.useCallback[clearAutoScrollTimer]\"], []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"SelectScrollButtonImpl.useEffect\": ()=>{\n            return ({\n                \"SelectScrollButtonImpl.useEffect\": ()=>clearAutoScrollTimer()\n            })[\"SelectScrollButtonImpl.useEffect\"];\n        }\n    }[\"SelectScrollButtonImpl.useEffect\"], [\n        clearAutoScrollTimer\n    ]);\n    useLayoutEffect2({\n        \"SelectScrollButtonImpl.useLayoutEffect2\": ()=>{\n            var _a;\n            const activeItem = getItems().find({\n                \"SelectScrollButtonImpl.useLayoutEffect2.activeItem\": (item)=>item.ref.current === document.activeElement\n            }[\"SelectScrollButtonImpl.useLayoutEffect2.activeItem\"]);\n            (_a = activeItem == null ? void 0 : activeItem.ref.current) == null ? void 0 : _a.scrollIntoView({\n                block: \"nearest\"\n            });\n        }\n    }[\"SelectScrollButtonImpl.useLayoutEffect2\"], [\n        getItems\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        \"aria-hidden\": true,\n        ...scrollIndicatorProps,\n        ref: forwardedRef,\n        style: {\n            flexShrink: 0,\n            ...scrollIndicatorProps.style\n        },\n        onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, ()=>{\n            if (autoScrollTimerRef.current === null) {\n                autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n            }\n        }),\n        onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, ()=>{\n            var _a;\n            (_a = contentContext.onItemLeave) == null ? void 0 : _a.call(contentContext);\n            if (autoScrollTimerRef.current === null) {\n                autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n            }\n        }),\n        onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, ()=>{\n            clearAutoScrollTimer();\n        })\n    });\n}, \"GRX9ihaT0MAq+bxFixvh7sO0xRI=\", false, function() {\n    return [\n        useSelectContentContext,\n        useCollection$2,\n        useLayoutEffect2\n    ];\n}));\n_c56 = SelectScrollButtonImpl;\nvar SEPARATOR_NAME$2 = \"SelectSeparator\";\nvar SelectSeparator$1 = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c57 = (props2, forwardedRef)=>{\n    const { __scopeSelect, ...separatorProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        \"aria-hidden\": true,\n        ...separatorProps,\n        ref: forwardedRef\n    });\n});\n_c58 = SelectSeparator$1;\nSelectSeparator$1.displayName = SEPARATOR_NAME$2;\nvar ARROW_NAME$4 = \"SelectArrow\";\nvar SelectArrow = /*#__PURE__*/ _s45(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c59 = _s45((props2, forwardedRef)=>{\n    _s45();\n    const { __scopeSelect, ...arrowProps } = props2;\n    const popperScope = usePopperScope$3(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME$4, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME$4, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow, {\n        ...popperScope,\n        ...arrowProps,\n        ref: forwardedRef\n    }) : null;\n}, \"qfjTrDHZGV5bh8HilGPKK+Nd6LM=\", false, function() {\n    return [\n        usePopperScope$3,\n        useSelectContext,\n        useSelectContentContext\n    ];\n})), \"qfjTrDHZGV5bh8HilGPKK+Nd6LM=\", false, function() {\n    return [\n        usePopperScope$3,\n        useSelectContext,\n        useSelectContentContext\n    ];\n});\n_c60 = SelectArrow;\nSelectArrow.displayName = ARROW_NAME$4;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s46((param, forwardedRef)=>{\n    let { __scopeSelect, value: value1, ...props2 } = param;\n    _s46();\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value1);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"SelectBubbleInput.useEffect\": ()=>{\n            const select = ref.current;\n            if (!select) return;\n            const selectProto = window.HTMLSelectElement.prototype;\n            const descriptor = Object.getOwnPropertyDescriptor(selectProto, \"value\");\n            const setValue = descriptor.set;\n            if (prevValue !== value1 && setValue) {\n                const event = new Event(\"change\", {\n                    bubbles: true\n                });\n                setValue.call(select, value1);\n                select.dispatchEvent(event);\n            }\n        }\n    }[\"SelectBubbleInput.useEffect\"], [\n        prevValue,\n        value1\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.select, {\n        ...props2,\n        style: {\n            ...VISUALLY_HIDDEN_STYLES,\n            ...props2.style\n        },\n        ref: composedRefs,\n        defaultValue: value1\n    });\n}, \"a6042gtFxAndvzVew5zmo9RhLu4=\", false, function() {\n    return [\n        useComposedRefs,\n        usePrevious\n    ];\n}));\n_c61 = SelectBubbleInput;\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value1) {\n    return value1 === \"\" || value1 === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n    _s47();\n    const handleSearchChange = useCallbackRef$1(onSearchChange);\n    const searchRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(\"\");\n    const timerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    const handleTypeaheadSearch = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"useTypeaheadSearch.useCallback[handleTypeaheadSearch]\": (key)=>{\n            const search = searchRef.current + key;\n            handleSearchChange(search);\n            (function updateSearch(value1) {\n                searchRef.current = value1;\n                window.clearTimeout(timerRef.current);\n                if (value1 !== \"\") timerRef.current = window.setTimeout({\n                    \"useTypeaheadSearch.useCallback[handleTypeaheadSearch].updateSearch\": ()=>updateSearch(\"\")\n                }[\"useTypeaheadSearch.useCallback[handleTypeaheadSearch].updateSearch\"], 1e3);\n            })(search);\n        }\n    }[\"useTypeaheadSearch.useCallback[handleTypeaheadSearch]\"], [\n        handleSearchChange\n    ]);\n    const resetTypeahead = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"useTypeaheadSearch.useCallback[resetTypeahead]\": ()=>{\n            searchRef.current = \"\";\n            window.clearTimeout(timerRef.current);\n        }\n    }[\"useTypeaheadSearch.useCallback[resetTypeahead]\"], []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"useTypeaheadSearch.useEffect\": ()=>{\n            return ({\n                \"useTypeaheadSearch.useEffect\": ()=>window.clearTimeout(timerRef.current)\n            })[\"useTypeaheadSearch.useEffect\"];\n        }\n    }[\"useTypeaheadSearch.useEffect\"], []);\n    return [\n        searchRef,\n        handleTypeaheadSearch,\n        resetTypeahead\n    ];\n}\n_s47(useTypeaheadSearch, \"wl9dUF5u3TiFl/8U6Y9QH+2er6o=\", false, function() {\n    return [\n        useCallbackRef$1\n    ];\n});\nfunction findNextItem(items, search, currentItem) {\n    const isRepeated = search.length > 1 && Array.from(search).every((char)=>char === search[0]);\n    const normalizedSearch = isRepeated ? search[0] : search;\n    const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n    let wrappedItems = wrapArray$2(items, Math.max(currentItemIndex, 0));\n    const excludeCurrentItem = normalizedSearch.length === 1;\n    if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v)=>v !== currentItem);\n    const nextItem = wrappedItems.find((item)=>item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase()));\n    return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray$2(array, startIndex) {\n    return array.map((_, index2)=>array[(startIndex + index2) % array.length]);\n}\nvar Root2$3 = Select$1;\nvar Trigger$4 = SelectTrigger$1;\nvar Value = SelectValue$1;\nvar Icon$1 = SelectIcon;\nvar Portal$3 = SelectPortal;\nvar Content2$4 = SelectContent$1;\nvar Viewport = SelectViewport;\nvar Group$1 = SelectGroup$1;\nvar Item$1 = SelectItem$1;\nvar ItemText = SelectItemText;\nvar ItemIndicator$1 = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton$1;\nvar ScrollDownButton = SelectScrollDownButton$1;\nvar Separator$1 = SelectSeparator$1;\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const toKebabCase = (string)=>string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string)=>string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2)=>p2 ? p2.toUpperCase() : p1.toLowerCase());\nconst toPascalCase = (string)=>{\n    const camelCase = toCamelCase(string);\n    return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = function() {\n    for(var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++){\n        classes[_key] = arguments[_key];\n    }\n    return classes.filter((className, index2, array)=>{\n        return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index2;\n    }).join(\" \").trim();\n};\nconst hasA11yProp = (props2)=>{\n    for(const prop in props2){\n        if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n            return true;\n        }\n    }\n};\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ var defaultAttributes = {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n};\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const Icon = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((param, ref)=>{\n    let { color = \"currentColor\", size: size2 = 24, strokeWidth = 2, absoluteStrokeWidth, className = \"\", children, iconNode, ...rest } = param;\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(\"svg\", {\n        ref,\n        ...defaultAttributes,\n        width: size2,\n        height: size2,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size2) : strokeWidth,\n        className: mergeClasses(\"lucide\", className),\n        ...!children && !hasA11yProp(rest) && {\n            \"aria-hidden\": \"true\"\n        },\n        ...rest\n    }, [\n        ...iconNode.map((param)=>{\n            let [tag, attrs] = param;\n            return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(tag, attrs);\n        }),\n        ...Array.isArray(children) ? children : [\n            children\n        ]\n    ]);\n});\n_c62 = Icon;\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const createLucideIcon = (iconName, iconNode)=>{\n    const Component = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((param, ref)=>{\n        let { className, ...props2 } = param;\n        return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(Icon, {\n            ref,\n            iconNode,\n            className: mergeClasses(\"lucide-\".concat(toKebabCase(toPascalCase(iconName))), \"lucide-\".concat(iconName), className),\n            ...props2\n        });\n    });\n    Component.displayName = toPascalCase(iconName);\n    return Component;\n};\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$u = [\n    [\n        \"path\",\n        {\n            d: \"M12 5v14\",\n            key: \"s699le\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m19 12-7 7-7-7\",\n            key: \"1idqje\"\n        }\n    ]\n];\nconst ArrowDown = createLucideIcon(\"arrow-down\", __iconNode$u);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$t = [\n    [\n        \"path\",\n        {\n            d: \"M12 8V4H8\",\n            key: \"hb8ula\"\n        }\n    ],\n    [\n        \"rect\",\n        {\n            width: \"16\",\n            height: \"12\",\n            x: \"4\",\n            y: \"8\",\n            rx: \"2\",\n            key: \"enze0r\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M2 14h2\",\n            key: \"vft8re\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M20 14h2\",\n            key: \"4cs60a\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M15 13v2\",\n            key: \"1xurst\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M9 13v2\",\n            key: \"rq6x2g\"\n        }\n    ]\n];\nconst Bot = createLucideIcon(\"bot\", __iconNode$t);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$s = [\n    [\n        \"path\",\n        {\n            d: \"M3 3v16a2 2 0 0 0 2 2h16\",\n            key: \"c24i48\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m19 9-5 5-4-4-3 3\",\n            key: \"2osh9i\"\n        }\n    ]\n];\nconst ChartLine = createLucideIcon(\"chart-line\", __iconNode$s);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$r = [\n    [\n        \"path\",\n        {\n            d: \"M20 6 9 17l-5-5\",\n            key: \"1gmf2c\"\n        }\n    ]\n];\nconst Check = createLucideIcon(\"check\", __iconNode$r);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$q = [\n    [\n        \"path\",\n        {\n            d: \"m6 9 6 6 6-6\",\n            key: \"qrunsl\"\n        }\n    ]\n];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode$q);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$p = [\n    [\n        \"path\",\n        {\n            d: \"m9 18 6-6-6-6\",\n            key: \"mthhwq\"\n        }\n    ]\n];\nconst ChevronRight = createLucideIcon(\"chevron-right\", __iconNode$p);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$o = [\n    [\n        \"path\",\n        {\n            d: \"m18 15-6-6-6 6\",\n            key: \"153udz\"\n        }\n    ]\n];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode$o);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$n = [\n    [\n        \"path\",\n        {\n            d: \"M12 12h.01\",\n            key: \"1mp3jc\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16 12h.01\",\n            key: \"1l6xoz\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m17 7 5 5-5 5\",\n            key: \"1xlxn0\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m7 7-5 5 5 5\",\n            key: \"19njba\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M8 12h.01\",\n            key: \"czm47f\"\n        }\n    ]\n];\nconst ChevronsLeftRightEllipsis = createLucideIcon(\"chevrons-left-right-ellipsis\", __iconNode$n);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$m = [\n    [\n        \"path\",\n        {\n            d: \"m7 15 5 5 5-5\",\n            key: \"1hf1tw\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m7 9 5-5 5 5\",\n            key: \"sgt6xg\"\n        }\n    ]\n];\nconst ChevronsUpDown = createLucideIcon(\"chevrons-up-down\", __iconNode$m);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$l = [\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            key: \"1mglay\"\n        }\n    ]\n];\nconst Circle = createLucideIcon(\"circle\", __iconNode$l);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$k = [\n    [\n        \"path\",\n        {\n            d: \"m12 15 2 2 4-4\",\n            key: \"2c609p\"\n        }\n    ],\n    [\n        \"rect\",\n        {\n            width: \"14\",\n            height: \"14\",\n            x: \"8\",\n            y: \"8\",\n            rx: \"2\",\n            ry: \"2\",\n            key: \"17jyea\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\",\n            key: \"zix9uf\"\n        }\n    ]\n];\nconst CopyCheck = createLucideIcon(\"copy-check\", __iconNode$k);\n_c63 = CopyCheck;\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$j = [\n    [\n        \"rect\",\n        {\n            width: \"14\",\n            height: \"14\",\n            x: \"8\",\n            y: \"8\",\n            rx: \"2\",\n            ry: \"2\",\n            key: \"17jyea\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\",\n            key: \"zix9uf\"\n        }\n    ]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode$j);\n_c64 = Copy;\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$i = [\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"41hilf\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"5\",\n            r: \"1\",\n            key: \"gxeob9\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"19\",\n            r: \"1\",\n            key: \"lyex9k\"\n        }\n    ]\n];\nconst EllipsisVertical = createLucideIcon(\"ellipsis-vertical\", __iconNode$i);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$h = [\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"41hilf\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"19\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"1wjl8i\"\n        }\n    ],\n    [\n        \"circle\",\n        {\n            cx: \"5\",\n            cy: \"12\",\n            r: \"1\",\n            key: \"1pcz8c\"\n        }\n    ]\n];\nconst Ellipsis = createLucideIcon(\"ellipsis\", __iconNode$h);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$g = [\n    [\n        \"path\",\n        {\n            d: \"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z\",\n            key: \"sc7q7i\"\n        }\n    ]\n];\nconst Funnel = createLucideIcon(\"funnel\", __iconNode$g);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$f = [\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            key: \"1mglay\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M12 16v-4\",\n            key: \"1dtifu\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M12 8h.01\",\n            key: \"e9boi3\"\n        }\n    ]\n];\nconst Info = createLucideIcon(\"info\", __iconNode$f);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$e = [\n    [\n        \"path\",\n        {\n            d: \"M21 12a9 9 0 1 1-6.219-8.56\",\n            key: \"13zald\"\n        }\n    ]\n];\nconst LoaderCircle = createLucideIcon(\"loader-circle\", __iconNode$e);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$d = [\n    [\n        \"path\",\n        {\n            d: \"m16 17 5-5-5-5\",\n            key: \"1bji2h\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M21 12H9\",\n            key: \"dn1m92\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\",\n            key: \"1uf3rs\"\n        }\n    ]\n];\nconst LogOut = createLucideIcon(\"log-out\", __iconNode$d);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$c = [\n    [\n        \"path\",\n        {\n            d: \"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z\",\n            key: \"p1xzt8\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1\",\n            key: \"1cx29u\"\n        }\n    ]\n];\nconst MessagesSquare = createLucideIcon(\"messages-square\", __iconNode$c);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$b = [\n    [\n        \"line\",\n        {\n            x1: \"2\",\n            x2: \"22\",\n            y1: \"2\",\n            y2: \"22\",\n            key: \"a6p6uj\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2\",\n            key: \"80xlxr\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M5 10v2a7 7 0 0 0 12 5\",\n            key: \"p2k8kg\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M15 9.34V5a3 3 0 0 0-5.68-1.33\",\n            key: \"1gzdoj\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M9 9v3a3 3 0 0 0 5.12 2.12\",\n            key: \"r2i35w\"\n        }\n    ],\n    [\n        \"line\",\n        {\n            x1: \"12\",\n            x2: \"12\",\n            y1: \"19\",\n            y2: \"22\",\n            key: \"x3vr5v\"\n        }\n    ]\n];\nconst MicOff = createLucideIcon(\"mic-off\", __iconNode$b);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$a = [\n    [\n        \"path\",\n        {\n            d: \"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z\",\n            key: \"131961\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M19 10v2a7 7 0 0 1-14 0v-2\",\n            key: \"1vc78b\"\n        }\n    ],\n    [\n        \"line\",\n        {\n            x1: \"12\",\n            x2: \"12\",\n            y1: \"19\",\n            y2: \"22\",\n            key: \"x3vr5v\"\n        }\n    ]\n];\nconst Mic = createLucideIcon(\"mic\", __iconNode$a);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$9 = [\n    [\n        \"path\",\n        {\n            d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\",\n            key: \"a7tn18\"\n        }\n    ]\n];\nconst Moon = createLucideIcon(\"moon\", __iconNode$9);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$8 = [\n    [\n        \"path\",\n        {\n            d: \"M13 2a9 9 0 0 1 9 9\",\n            key: \"1itnx2\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M13 6a5 5 0 0 1 5 5\",\n            key: \"11nki7\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384\",\n            key: \"9njp5v\"\n        }\n    ]\n];\nconst PhoneCall = createLucideIcon(\"phone-call\", __iconNode$8);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$7 = [\n    [\n        \"path\",\n        {\n            d: \"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272\",\n            key: \"1wngk7\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M22 2 2 22\",\n            key: \"y4kqgn\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473\",\n            key: \"10hv5p\"\n        }\n    ]\n];\nconst PhoneOff = createLucideIcon(\"phone-off\", __iconNode$7);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$6 = [\n    [\n        \"path\",\n        {\n            d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n            key: \"1ffxy3\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m21.854 2.147-10.94 10.939\",\n            key: \"12cjpa\"\n        }\n    ]\n];\nconst Send = createLucideIcon(\"send\", __iconNode$6);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$5 = [\n    [\n        \"circle\",\n        {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"4\",\n            key: \"4exip2\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M12 2v2\",\n            key: \"tus03m\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M12 20v2\",\n            key: \"1lh1kg\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m4.93 4.93 1.41 1.41\",\n            key: \"149t6j\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m17.66 17.66 1.41 1.41\",\n            key: \"ptbguv\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M2 12h2\",\n            key: \"1t8f8n\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M20 12h2\",\n            key: \"1q8mjw\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m6.34 17.66-1.41 1.41\",\n            key: \"1m8zz5\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m19.07 4.93-1.41 1.41\",\n            key: \"1shlcs\"\n        }\n    ]\n];\nconst Sun = createLucideIcon(\"sun\", __iconNode$5);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$4 = [\n    [\n        \"path\",\n        {\n            d: \"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196\",\n            key: \"w8jjjt\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2\",\n            key: \"1xawa7\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m2 2 20 20\",\n            key: \"1ooewy\"\n        }\n    ]\n];\nconst VideoOff = createLucideIcon(\"video-off\", __iconNode$4);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$3 = [\n    [\n        \"path\",\n        {\n            d: \"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5\",\n            key: \"ftymec\"\n        }\n    ],\n    [\n        \"rect\",\n        {\n            x: \"2\",\n            y: \"6\",\n            width: \"14\",\n            height: \"12\",\n            rx: \"2\",\n            key: \"158x01\"\n        }\n    ]\n];\nconst Video = createLucideIcon(\"video\", __iconNode$3);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$2 = [\n    [\n        \"path\",\n        {\n            d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n            key: \"uqj9uw\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M16 9a5 5 0 0 1 0 6\",\n            key: \"1q6k2b\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M19.364 18.364a9 9 0 0 0 0-12.728\",\n            key: \"ijwkga\"\n        }\n    ]\n];\nconst Volume2 = createLucideIcon(\"volume-2\", __iconNode$2);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode$1 = [\n    [\n        \"path\",\n        {\n            d: \"M16 9a5 5 0 0 1 .95 2.293\",\n            key: \"1fgyg8\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M19.364 5.636a9 9 0 0 1 1.889 9.96\",\n            key: \"l3zxae\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m2 2 20 20\",\n            key: \"1ooewy\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m7 7-.587.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298V11\",\n            key: \"1gbwow\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"M9.828 4.172A.686.686 0 0 1 11 4.657v.686\",\n            key: \"s2je0y\"\n        }\n    ]\n];\nconst VolumeOff = createLucideIcon(\"volume-off\", __iconNode$1);\n/**\n * @license lucide-react v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */ const __iconNode = [\n    [\n        \"path\",\n        {\n            d: \"M18 6 6 18\",\n            key: \"1bl5f8\"\n        }\n    ],\n    [\n        \"path\",\n        {\n            d: \"m6 6 12 12\",\n            key: \"d8bk6v\"\n        }\n    ]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\nconst VolumeIcon = Volume2;\nconst VolumeOffIcon = VolumeOff;\nconst EllipsisIcon = Ellipsis;\nconst LoaderIcon = LoaderCircle;\nconst SelectChevronIcon = ChevronsUpDown;\nconst XIcon = X;\nconst PhoneCallIcon = PhoneCall;\nconst PhoneCallEndIcon = PhoneOff;\nconst ArrowDownIcon = ArrowDown;\nconst ChevronDownIcon = ChevronDown;\nconst ChevronUpIcon = ChevronUp;\nconst MicIcon = Mic;\nconst MicOffIcon = MicOff;\nconst SendIcon = Send;\nconst MoonIcon = Moon;\nconst SunIcon = Sun;\nconst CheckIcon = Check;\nconst ChevronRightIcon = ChevronRight;\nconst CircleIcon = Circle;\nconst EllipsisVerticalIcon = EllipsisVertical;\nconst VideoOffIcon = VideoOff;\nconst LineChartIcon = ChartLine;\nconst MessagesSquareIcon = MessagesSquare;\nconst FunnelIcon = Funnel;\nconst VideoIcon = Video;\nconst BotIcon = Bot;\nconst ChevronsLeftRightEllipsisIcon = ChevronsLeftRightEllipsis;\nconst InfoIcon = Info;\nconst LogoutIcon = LogOut;\nfunction getPipecatUiNamespace() {\n    return \".voice-ui-kit\";\n}\nfunction getPipecatUIContainer() {\n    var _document_querySelector;\n    return (_document_querySelector = document.querySelector(getPipecatUiNamespace())) !== null && _document_querySelector !== void 0 ? _document_querySelector : document.body;\n}\nconst falsyToString = (value1)=>typeof value1 === \"boolean\" ? \"\".concat(value1) : value1 === 0 ? \"0\" : value1;\nconst cx = _Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.c;\nconst cva = (base, config)=>(props2)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props2 === null || props2 === void 0 ? void 0 : props2.class, props2 === null || props2 === void 0 ? void 0 : props2.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props2 === null || props2 === void 0 ? void 0 : props2[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props2 && Object.entries(props2).reduce((acc, param)=>{\n            let [key, value1] = param;\n            if (value1 === void 0) {\n                return acc;\n            }\n            acc[key] = value1;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param2)=>{\n                let [key, value1] = param2;\n                return Array.isArray(value1) ? value1.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value1;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props2 === null || props2 === void 0 ? void 0 : props2.class, props2 === null || props2 === void 0 ? void 0 : props2.className);\n    };\nconst selectTriggerVariants = cva(\"vkui:border-input vkui:text-foreground vkui:data-[placeholder]:text-muted-foreground vkui:font-mono vkui:text-xs vkui:[&_svg:not([class*='text-'])]:text-muted-foreground vkui:focus-visible:border-ring vkui:focus-visible:ring-ring/50 vkui:aria-invalid:ring-destructive/20 vkui:dark:aria-invalid:ring-destructive/40 vkui:aria-invalid:border-destructive vkui:dark:bg-input/30 vkui:dark:hover:bg-input/50 vkui:flex w-fit vkui:items-center vkui:justify-between vkui:rounded-lg vkui:border vkui:bg-transparent vkui:whitespace-nowrap vkui:transition-[color,box-shadow] vkui:outline-none vkui:focus-visible:ring-[3px] vkui:disabled:cursor-not-allowed vkui:disabled:opacity-50 vkui:*:data-[slot=select-value]:line-clamp-1 vkui:*:data-[slot=select-value]:flex vkui:*:data-[slot=select-value]:items-center vkui:*:data-[slot=select-value]:gap-2 vkui:[&_svg]:pointer-events-none vkui:[&_svg]:shrink-0\", {\n    variants: {\n        size: {\n            default: \"vkui:h-8 vkui:pl-3 vkui:pr-2.5 vkui:py-2 vkui:gap-2 vkui:[&_svg]:size-3.5\",\n            sm: \"vkui:h-7 vkui:pl-3 vkui:pr-2.5 vkui:py-1.5 vkui:gap-2 vkui:[&_svg]:size-3.5\",\n            lg: \"vkui:h-10 vkui:px-3.5 vkui:py-2.5 vkui:gap-3 vkui:[&_svg]:size-4\"\n        }\n    },\n    defaultVariants: {\n        size: \"default\"\n    }\n});\nfunction Select(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$3, {\n        \"data-slot\": \"select\",\n        ...props2\n    });\n}\n_c65 = Select;\nfunction SelectGroup(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group$1, {\n        \"data-slot\": \"select-group\",\n        ...props2\n    });\n}\n_c66 = SelectGroup;\nfunction SelectValue(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Value, {\n        \"data-slot\": \"select-value\",\n        ...props2\n    });\n}\n_c67 = SelectValue;\nfunction SelectTrigger(param) {\n    let { className, size: size2 = \"default\", children, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Trigger$4, {\n        \"data-slot\": \"select-trigger\",\n        \"data-size\": size2,\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(selectTriggerVariants({\n            size: size2\n        }), \"vkui:truncate\", className),\n        ...props2,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"vkui:truncate vkui:flex-1 vkui:min-w-0\",\n                children\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon$1, {\n                asChild: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectChevronIcon, {\n                    className: \"vkui:opacity-50 vkui:flex-none\"\n                })\n            })\n        ]\n    });\n}\n_c68 = SelectTrigger;\nfunction SelectGuide(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n        \"data-slot\": \"select-guide\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-subtle vkui:font-sans\", className),\n        ...props2\n    });\n}\n_c69 = SelectGuide;\nfunction SelectContent(param) {\n    let { className, children, position = \"popper\", ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$3, {\n        container: getPipecatUIContainer(),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Content2$4, {\n            \"data-slot\": \"select-content\",\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-popover vkui:text-popover-foreground vkui:data-[state=open]:animate-in vkui:data-[state=closed]:animate-out vkui:data-[state=closed]:fade-out-0 vkui:data-[state=open]:fade-in-0 vkui:data-[state=closed]:zoom-out-95 vkui:data-[state=open]:zoom-in-95 vkui:data-[side=bottom]:slide-in-from-top-2 vkui:data-[side=left]:slide-in-from-right-2 vkui:data-[side=right]:slide-in-from-left-2 vkui:data-[side=top]:slide-in-from-bottom-2 vkui:relative vkui:z-50 vkui:max-h-(--radix-select-content-available-height) vkui:min-w-[8rem] vkui:origin-(--radix-select-content-transform-origin) vkui:overflow-x-hidden vkui:overflow-y-auto vkui:rounded-md vkui:border vkui:shadow-md\", position === \"popper\" && \"vkui:data-[side=bottom]:translate-y-1 vkui:data-[side=left]:-translate-x-1 vkui:data-[side=right]:translate-x-1 vkui:data-[side=top]:-translate-y-1\", className),\n            position,\n            ...props2,\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollUpButton, {}),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Viewport, {\n                    className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:p-1\", position === \"popper\" && \"vkui:h-[var(--radix-select-trigger-height)] vkui:w-full vkui:min-w-[var(--radix-select-trigger-width)] vkui:scroll-my-1\"),\n                    children\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollDownButton, {})\n            ]\n        })\n    });\n}\n_c70 = SelectContent;\nfunction SelectItem(param) {\n    let { className, children, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Item$1, {\n        \"data-slot\": \"select-item\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:focus:bg-accent vkui:focus:text-accent-foreground vkui:[&_svg:not([class*='text-'])]:text-muted-foreground vkui:relative vkui:flex vkui:w-full vkui:cursor-default vkui:items-center vkui:gap-2 vkui:rounded-sm vkui:py-1.5 vkui:pr-8 vkui:pl-2 vkui:text-sm vkui:outline-hidden vkui:select-none vkui:data-[disabled]:pointer-events-none vkui:data-[disabled]:opacity-50 [&_svg]:pointer-events-none vkui:[&_svg]:shrink-0 vkui:[&_svg:not([class*='size-'])]:size-4 vkui:*:[span]:last:flex vkui:*:[span]:last:items-center vkui:*:[span]:last:gap-2\", className),\n        ...props2,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"vkui:absolute vkui:right-2 vkui:flex vkui:size-3.5 vkui:items-center vkui:justify-center\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemIndicator$1, {\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CheckIcon, {\n                        className: \"size-4\"\n                    })\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemText, {\n                children\n            })\n        ]\n    });\n}\n_c71 = SelectItem;\nfunction SelectSeparator(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Separator$1, {\n        \"data-slot\": \"select-separator\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-border vkui:pointer-events-none vkui:-mx-1 vkui:my-1 vkui:h-px\", className),\n        ...props2\n    });\n}\n_c72 = SelectSeparator;\nfunction SelectScrollUpButton(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ScrollUpButton, {\n        \"data-slot\": \"select-scroll-up-button\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:cursor-default vkui:items-center vkui:justify-center vkui:py-1\", className),\n        ...props2,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronUpIcon, {\n            className: \"size-4\"\n        })\n    });\n}\n_c73 = SelectScrollUpButton;\nfunction SelectScrollDownButton(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ScrollDownButton, {\n        \"data-slot\": \"select-scroll-down-button\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:cursor-default vkui:items-center vkui:justify-center vkui:py-1\", className),\n        ...props2,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronDownIcon, {\n            className: \"size-4\"\n        })\n    });\n}\n_c74 = SelectScrollDownButton;\nconst AudioOutput = (param)=>{\n    let { className } = param;\n    _s48();\n    const { availableSpeakers, selectedSpeaker, updateSpeaker } = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaDevices)();\n    const handleDeviceChange = (deviceId)=>{\n        updateSpeaker(deviceId);\n    };\n    const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"vkui:flex vkui:items-center vkui:gap-4\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                htmlFor: id,\n                className: \"vkui:text-sm vkui:font-medium vkui:text-muted-foreground vkui:whitespace-nowrap\",\n                children: \"Audio Output\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Select, {\n                value: (selectedSpeaker == null ? void 0 : selectedSpeaker.deviceId) || \"\",\n                onValueChange: handleDeviceChange,\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectTrigger, {\n                        id,\n                        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:border-none vkui:w-full\", className),\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectValue, {\n                            placeholder: \"Select a speaker\"\n                        })\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectContent, {\n                        align: \"end\",\n                        children: availableSpeakers.map((device)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectItem, {\n                                value: device.deviceId || \"empty\",\n                                children: device.label || \"Speaker \".concat(device.deviceId.slice(0, 5))\n                            }, device.deviceId || \"empty\"))\n                    })\n                ]\n            })\n        ]\n    });\n};\n_s48(AudioOutput, \"Gv6wUAxZxnfPDwJLMum35iYjFKc=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaDevices,\n        react__WEBPACK_IMPORTED_MODULE_1__.useId\n    ];\n});\n_c75 = AudioOutput;\nconst DataList = (param)=>{\n    let { data, classNames = {} } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"dl\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-sm vkui:grid vkui:grid-cols-[1fr_2fr] vkui:gap-2 vkui:items-center\", classNames.container),\n        children: Object.entries(data).map((param)=>{\n            let [key, value1] = param;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"dt\", {\n                        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-muted-foreground\", classNames.key),\n                        children: key\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"dd\", {\n                        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-right vkui:font-mono vkui:text-xs vkui:min-w-0 vkui:truncate\", classNames.value),\n                        children: value1\n                    })\n                ]\n            }, key);\n        })\n    });\n};\n_c76 = DataList;\nconst ClientStatus = (param)=>{\n    let { classNames = {}, noAgentState = false, noClientState = false } = param;\n    _s49();\n    const transportState = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState)();\n    const agentConnecting = transportState === \"connecting\" || transportState === \"connected\" || transportState === \"ready\";\n    const [isBotConnected, setIsBotConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotReady, {\n        \"ClientStatus.useRTVIClientEvent\": ()=>{\n            if (noAgentState) return;\n            setIsBotConnected(true);\n        }\n    }[\"ClientStatus.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Disconnected, {\n        \"ClientStatus.useRTVIClientEvent\": ()=>{\n            if (noAgentState) return;\n            setIsBotConnected(false);\n        }\n    }[\"ClientStatus.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotDisconnected, {\n        \"ClientStatus.useRTVIClientEvent\": ()=>{\n            if (noAgentState) return;\n            setIsBotConnected(false);\n        }\n    }[\"ClientStatus.useRTVIClientEvent\"]);\n    if (noAgentState && noClientState) return null;\n    const data = {};\n    if (!noClientState) {\n        data[\"Client\"] = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:uppercase\", {\n                \"vkui:text-emerald-500\": transportState === \"connected\" || transportState === \"ready\"\n            }, classNames.clientValue),\n            children: transportState\n        });\n    }\n    if (!noAgentState) {\n        data[\"Agent\"] = isBotConnected ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-emerald-500 vkui:uppercase\", classNames.agentValue),\n            children: \"Connected\"\n        }) : agentConnecting ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:uppercase\", classNames.agentValue),\n            children: \"Connecting...\"\n        }) : \"---\";\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DataList, {\n        classNames,\n        data\n    });\n};\n_s49(ClientStatus, \"xYOzV5HvHQBsFvkaRCm/7yiH6xI=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent\n    ];\n});\n_c77 = ClientStatus;\nconst buttonVariants = cva(\"vkui:border vkui:inline-flex vkui:items-center vkui:justify-center vkui:gap-2 vkui:whitespace-nowrap vkui:rounded-element vkui:text-sm vkui:font-medium vkui:transition-all vkui:disabled:pointer-events-none vkui:disabled:opacity-50 vkui:[&_svg]:pointer-events-none vkui:shrink-0 vkui:[&_svg]:shrink-0 vkui:outline-none vkui:focus-visible:ring-ring/50 vkui:focus-visible:ring-[3px] vkui:aria-invalid:ring-destructive/20 vkui:dark:aria-invalid:ring-destructive/40 vkui:aria-invalid:border-destructive\", {\n    variants: {\n        variant: {\n            default: \"vkui:bg-primary vkui:text-primary-foreground vkui:hover:bg-primary/90 vkui:border-transparent\",\n            secondary: \"vkui:bg-secondary vkui:border-transparent vkui:text-secondary-foreground vkui:hover:bg-secondary/60 vkui:focus-visible:border-secondary\",\n            outline: \"vkui:text-foreground vkui:border vkui:bg-background vkui:hover:bg-accent vkui:dark:bg-input/30 vkui:dark:border-input vkui:dark:hover:bg-input/50 vkui:focus-visible:border-ring\",\n            destructive: \"vkui:bg-destructive vkui:border-transparent vkui:text-white vkui:hover:bg-destructive/90 vkui:focus-visible:ring-destructive/20 vkui:dark:focus-visible:ring-destructive/40 vkui:dark:bg-destructive/60\",\n            ghost: \"vkui:text-foreground vkui:border vkui:border-transparent vkui:hover:bg-accent vkui:hover:text-accent-foreground vkui:dark:hover:bg-accent/50\",\n            link: \"vkui:text-primary vkui:underline-offset-4 vkui:hover:underline vkui:border vkui:border-transparent\"\n        },\n        size: {\n            default: \"vkui:h-8 vkui:px-4 vkui:py-2 vkui:has-[>svg]:px-3 vkui:[&_svg:not([class*='size-'])]:size-5\",\n            sm: \"vkui:h-7 vkui:rounded-element vkui:gap-1.5 vkui:px-3 vkui:has-[>svg]:px-2.5 vkui:[&_svg:not([class*='size-'])]:size-4\",\n            lg: \"vkui:h-10 vkui:rounded-element vkui:px-6 vkui:has-[>svg]:px-4 vkui:[&_svg:not([class*='size-'])]:size-5\",\n            xl: \"vkui:h-12 vkui:rounded-element vkui:px-8 vkui:text-lg vkui:has-[>svg]:px-6 vkui:[&_svg:not([class*='size-'])]:size-6 vkui:gap-3\",\n            icon: \"vkui:h-8 vkui:w-8 vkui:p-0 vkui:has-[>svg]:p-0 vkui:[&_svg:not([class*='size-'])]:size-5\",\n            \"icon-sm\": \"vkui:h-7 vkui:w-7 vkui:p-0 vkui:has-[>svg]:p-0 vkui:[&_svg:not([class*='size-'])]:size-4\",\n            \"icon-xs\": \"vkui:h-6 vkui:w-6 vkui:p-0 vkui:has-[>svg]:p-0 vkui:[&_svg:not([class*='size-'])]:size-3\"\n        },\n        state: {\n            default: \"\",\n            active: \"\",\n            inactive: \"\"\n        },\n        isIcon: {\n            true: \"\",\n            false: \"\"\n        }\n    },\n    compoundVariants: [\n        {\n            size: \"default\",\n            isIcon: true,\n            className: \"vkui:size-8 vkui:@max-xs/panel:size-7 vkui:rounded-element vkui:[&_svg:not([class*='size-'])]:size-5 vkui:@max-xs/panel:[&_svg:not([class*='size-'])]:size-4\"\n        },\n        {\n            size: \"sm\",\n            isIcon: true,\n            className: \"vkui:size-7 vkui:@max-xs/panel:size-6 vkui:rounded-element vkui:[&_svg:not([class*='size-'])]:size-4 vkui:@max-xs/panel:[&_svg:not([class*='size-'])]:size-3\"\n        },\n        {\n            size: \"lg\",\n            isIcon: true,\n            className: \"vkui:size-10 vkui:@max-xs/panel:size-9 vkui:rounded-element vkui:[&_svg:not([class*='size-'])]:size-5 vkui:@max-xs/panel:[&_svg:not([class*='size-'])]:size-4\"\n        },\n        {\n            size: \"xl\",\n            isIcon: true,\n            className: \"vkui:size-12 vkui:rounded-element vkui:[&_svg:not([class*='size-'])]:size-5 vkui:@max-xs/panel:[&_svg:not([class*='size-'])]:size-4\"\n        },\n        {\n            variant: \"default\",\n            state: \"active\",\n            className: \"vkui:bg-active vkui:text-active-foreground vkui:hover:bg-active/90 vkui:focus-visible:ring-active/20 vkui:dark:focus-visible:ring-active/40\"\n        },\n        {\n            variant: \"default\",\n            state: \"inactive\",\n            className: \"vkui:bg-inactive vkui:text-inactive-foreground vkui:hover:bg-inactive/90 vkui:focus-visible:ring-inactive/20 vkui:dark:focus-visible:ring-inactive/40\"\n        },\n        {\n            variant: \"secondary\",\n            state: \"active\",\n            className: \"vkui:bg-active vkui:text-active-foreground vkui:hover:bg-active/90 vkui:focus-visible:ring-active/20 vkui:dark:focus-visible:ring-active/40 vkui:focus-visible:border-active\"\n        },\n        {\n            variant: \"secondary\",\n            state: \"inactive\",\n            className: \"vkui:bg-inactive vkui:text-inactive-foreground vkui:hover:bg-inactive/90 vkui:focus-visible:ring-inactive/20 vkui:dark:focus-visible:ring-inactive/40 vkui:focus-visible:border-inactive\"\n        },\n        {\n            variant: \"outline\",\n            state: \"active\",\n            className: \"vkui:bg-active-accent vkui:text-active vkui:border-active vkui:hover:bg-active-accent/60 vkui:dark:bg-active-accent vkui:dark:hover:bg-active-accent/60 vkui:dark:border-active vkui:focus-visible:border-active vkui:focus-visible:ring-active/20 vkui:dark:focus-visible:ring-active/40\"\n        },\n        {\n            variant: \"outline\",\n            state: \"inactive\",\n            className: \"vkui:bg-inactive-accent vkui:text-inactive vkui:border-inactive vkui:hover:bg-inactive-accent/60 vkui:dark:bg-inactive-accent vkui:dark:hover:bg-inactive-accent/60 vkui:dark:border-inactive vkui:focus-visible:border-inactive vkui:focus-visible:ring-inactive/20 vkui:dark:focus-visible:ring-inactive/40\"\n        }\n    ],\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\",\n        state: \"default\",\n        isIcon: false\n    }\n});\nconst buttonAccentColorMap = {\n    default: {\n        default: \"--vkui-color-active\",\n        inactive: \"--vkui-color-inactive-foreground\",\n        active: \"--vkui-color-active\"\n    },\n    secondary: {\n        default: \"--vkui-color-active\",\n        inactive: \"--vkui-color-inactive-foreground\",\n        active: \"--vkui-color-active\"\n    },\n    outline: {\n        default: \"--vkui-color-active\",\n        inactive: \"--vkui-color-inactive\",\n        active: \"--vkui-color-active\"\n    },\n    destructive: {\n        default: \"--vkui-color-background\",\n        inactive: \"--vkui-color-background\",\n        active: \"--vkui-color-background\"\n    },\n    ghost: {\n        default: \"--vkui-color-active\",\n        inactive: \"--vkui-color-border\",\n        active: \"--vkui-color-active\"\n    },\n    link: {\n        default: \"--vkui-color-active\",\n        inactive: \"--vkui-color-inactive\",\n        active: \"--vkui-color-active\"\n    }\n};\nfunction Button(param) {\n    let { className, variant, size: size2, state, isIcon, isLoading = false, asChild = false, ...props2 } = param;\n    const Comp = asChild ? Slot$3 : \"button\";\n    if (isLoading) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Comp, {\n            \"data-slot\": \"button\",\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(buttonVariants({\n                variant,\n                size: size2,\n                state,\n                isIcon,\n                className\n            })),\n            ...props2,\n            disabled: true,\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoaderIcon, {\n                    className: \"vkui:animate-spin\"\n                }),\n                props2.children\n            ]\n        });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp, {\n        \"data-slot\": \"button\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(buttonVariants({\n            variant,\n            size: size2,\n            state,\n            isIcon,\n            className\n        })),\n        ...props2\n    });\n}\n_c78 = Button;\nconst ConnectButtonComponent = (param)=>{\n    let { className: passedClassName, onClick, onConnect, onDisconnect, stateContent, size: size2 = \"default\", defaultVariant = \"default\", transportState } = param;\n    const getButtonProps = ()=>{\n        if (stateContent && stateContent[transportState]) {\n            return stateContent[transportState];\n        }\n        switch(transportState){\n            case \"initialized\":\n            case \"initializing\":\n            case \"disconnected\":\n                return {\n                    children: \"Connect\",\n                    variant: defaultVariant\n                };\n            case \"ready\":\n                return {\n                    children: \"Disconnect\",\n                    variant: defaultVariant,\n                    className: \"vkui:text-destructive\"\n                };\n            case \"disconnecting\":\n                return {\n                    children: \"Disconnecting...\",\n                    variant: defaultVariant\n                };\n            case \"error\":\n                return {\n                    children: \"Error\",\n                    variant: defaultVariant\n                };\n            default:\n                return {\n                    children: \"Connecting...\",\n                    variant: defaultVariant\n                };\n        }\n    };\n    const { children, className, variant } = getButtonProps();\n    const handleClick = ()=>{\n        onClick == null ? void 0 : onClick();\n        if ([\n            \"ready\",\n            \"connected\"\n        ].includes(transportState)) {\n            onDisconnect == null ? void 0 : onDisconnect();\n        } else {\n            onConnect == null ? void 0 : onConnect();\n        }\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n        onClick: handleClick,\n        variant,\n        size: size2,\n        disabled: ![\n            \"disconnected\",\n            \"initialized\",\n            \"ready\"\n        ].includes(transportState),\n        isLoading: ![\n            \"disconnected\",\n            \"initialized\",\n            \"ready\",\n            \"error\"\n        ].includes(transportState),\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(className, passedClassName),\n        children\n    });\n};\n_c79 = ConnectButtonComponent;\nconst ConnectButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_s50((props2)=>{\n    _s50();\n    const transportState = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState)();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectButtonComponent, {\n        transportState,\n        ...props2\n    });\n}, \"JeKQ57I8EOLG1Dp/t1HjvSSPeHU=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState\n    ];\n}));\n_c80 = ConnectButton;\nConnectButton.displayName = \"ConnectButton\";\nconst buttonGroupVariants = cva(\"vkui:flex vkui:items-center vkui:button-group\", {\n    variants: {\n        orientation: {\n            horizontal: \"vkui:flex-row vkui:*:first:rounded-e-none vkui:*:last:rounded-s-none vkui:*:-ml-[1px] vkui:*:first:ml-0\",\n            vertical: \"vkui:flex-col vkui:*:first:rounded-b-none vkui:*:last:rounded-t-none vkui:*:-mt-[1px] vkui:*:first:mt-0 vkui:*:self-stretch\"\n        }\n    },\n    defaultVariants: {\n        orientation: \"horizontal\"\n    }\n});\nconst ButtonGroup = (param)=>{\n    let { className, orientation = \"horizontal\", children, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex\", buttonGroupVariants({\n            orientation\n        }), className),\n        ...props2,\n        children\n    });\n};\n_c81 = ButtonGroup;\nconst VoiceVisualizer = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.memo(_s51((param)=>{\n    let { backgroundColor = \"transparent\", barColor = \"black\", barCount: barCount2 = 5, barGap = 12, barLineCap = \"round\", barMaxHeight = 120, barOrigin = \"center\", barWidth = 30, participantType, className } = param;\n    _s51();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const resolvedBarColorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\"black\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"VoiceVisualizer.useEffect\": ()=>{\n            function resolveColor(color) {\n                if (!color) return \"black\";\n                if (color.startsWith(\"--\")) {\n                    return getComputedStyle(document.documentElement).getPropertyValue(color).trim() || \"black\";\n                }\n                return color;\n            }\n            resolvedBarColorRef.current = resolveColor(barColor);\n        }\n    }[\"VoiceVisualizer.useEffect\"], [\n        barColor\n    ]);\n    const track = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaTrack)(\"audio\", participantType);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"VoiceVisualizer.useEffect\": ()=>{\n            if (!canvasRef.current) return;\n            const canvasWidth = barCount2 * barWidth + (barCount2 - 1) * barGap;\n            const canvasHeight = barMaxHeight;\n            const canvas = canvasRef.current;\n            const scaleFactor = 2;\n            const resizeCanvas = {\n                \"VoiceVisualizer.useEffect.resizeCanvas\": ()=>{\n                    canvas.width = canvasWidth * scaleFactor;\n                    canvas.height = canvasHeight * scaleFactor;\n                    canvas.style.width = \"\".concat(canvasWidth, \"px\");\n                    canvas.style.height = \"\".concat(canvasHeight, \"px\");\n                    canvasCtx.lineCap = barLineCap;\n                    canvasCtx.scale(scaleFactor, scaleFactor);\n                }\n            }[\"VoiceVisualizer.useEffect.resizeCanvas\"];\n            const canvasCtx = canvas.getContext(\"2d\");\n            resizeCanvas();\n            if (!track) return;\n            const audioContext = new AudioContext();\n            const source = audioContext.createMediaStreamSource(new MediaStream([\n                track\n            ]));\n            const analyser = audioContext.createAnalyser();\n            analyser.fftSize = 1024;\n            source.connect(analyser);\n            const frequencyData = new Uint8Array(analyser.frequencyBinCount);\n            canvasCtx.lineCap = barLineCap;\n            const bands = Array.from({\n                length: barCount2\n            }, {\n                \"VoiceVisualizer.useEffect.bands\": (_, i)=>{\n                    const minFreq = barCount2 > 20 ? 200 : 80;\n                    const maxFreq = 1e4;\n                    const melMin = 2595 * Math.log10(1 + minFreq / 700);\n                    const melMax = 2595 * Math.log10(1 + maxFreq / 700);\n                    const melStep = (melMax - melMin) / barCount2;\n                    const melValue = melMin + i * melStep;\n                    const startFreq = 700 * (Math.pow(10, melValue / 2595) - 1);\n                    const endFreq = 700 * (Math.pow(10, (melValue + melStep) / 2595) - 1);\n                    return {\n                        startFreq,\n                        endFreq,\n                        smoothValue: 0\n                    };\n                }\n            }[\"VoiceVisualizer.useEffect.bands\"]);\n            const getFrequencyBinIndex = {\n                \"VoiceVisualizer.useEffect.getFrequencyBinIndex\": (frequency)=>{\n                    const nyquist = audioContext.sampleRate / 2;\n                    return Math.round(frequency / nyquist * (analyser.frequencyBinCount - 1));\n                }\n            }[\"VoiceVisualizer.useEffect.getFrequencyBinIndex\"];\n            function drawSpectrum() {\n                analyser.getByteFrequencyData(frequencyData);\n                canvasCtx.clearRect(0, 0, canvas.width / scaleFactor, canvas.height / scaleFactor);\n                canvasCtx.fillStyle = backgroundColor;\n                canvasCtx.fillRect(0, 0, canvas.width / scaleFactor, canvas.height / scaleFactor);\n                let isActive = false;\n                const totalBarsWidth = bands.length * barWidth + (bands.length - 1) * barGap;\n                const startX = (canvas.width / scaleFactor - totalBarsWidth) / 2;\n                const adjustedCircleRadius = barWidth / 2;\n                const resolvedBarColor = resolvedBarColorRef.current;\n                bands.forEach({\n                    \"VoiceVisualizer.useEffect.drawSpectrum\": (band, i)=>{\n                        const startIndex = getFrequencyBinIndex(band.startFreq);\n                        const endIndex = getFrequencyBinIndex(band.endFreq);\n                        const bandData = frequencyData.slice(startIndex, endIndex);\n                        const bandValue = bandData.reduce({\n                            \"VoiceVisualizer.useEffect.drawSpectrum\": (acc, val)=>acc + val\n                        }[\"VoiceVisualizer.useEffect.drawSpectrum\"], 0) / bandData.length;\n                        const smoothingFactor = 0.2;\n                        if (bandValue < 1) {\n                            band.smoothValue = Math.max(band.smoothValue - smoothingFactor * 5, 0);\n                        } else {\n                            band.smoothValue = band.smoothValue + (bandValue - band.smoothValue) * smoothingFactor;\n                            isActive = true;\n                        }\n                        const x = startX + i * (barWidth + barGap);\n                        const minHeight = 0;\n                        const barHeight = Math.max(minHeight, Math.min(band.smoothValue / 255 * barMaxHeight, barMaxHeight));\n                        let yTop, yBottom;\n                        const canvasHeight2 = canvas.height / scaleFactor;\n                        switch(barOrigin){\n                            case \"top\":\n                                yTop = adjustedCircleRadius;\n                                yBottom = Math.min(adjustedCircleRadius + barHeight, canvasHeight2 - adjustedCircleRadius);\n                                break;\n                            case \"bottom\":\n                                yBottom = canvasHeight2 - adjustedCircleRadius;\n                                yTop = Math.max(yBottom - barHeight, adjustedCircleRadius);\n                                break;\n                            case \"center\":\n                            default:\n                                yTop = Math.max(canvasHeight2 / 2 - barHeight / 2, adjustedCircleRadius);\n                                yBottom = Math.min(canvasHeight2 / 2 + barHeight / 2, canvasHeight2 - adjustedCircleRadius);\n                                break;\n                        }\n                        if (band.smoothValue > 0) {\n                            canvasCtx.beginPath();\n                            canvasCtx.moveTo(x + barWidth / 2, yTop);\n                            canvasCtx.lineTo(x + barWidth / 2, yBottom);\n                            canvasCtx.lineWidth = barWidth;\n                            canvasCtx.strokeStyle = resolvedBarColor;\n                            canvasCtx.stroke();\n                        } else {\n                            drawInactiveCircle(adjustedCircleRadius, resolvedBarColor, x, yTop);\n                        }\n                    }\n                }[\"VoiceVisualizer.useEffect.drawSpectrum\"]);\n                if (!isActive) {\n                    drawInactiveCircles(adjustedCircleRadius, resolvedBarColor);\n                }\n                requestAnimationFrame(drawSpectrum);\n            }\n            function drawInactiveCircle(circleRadius, color, x, y) {\n                switch(barLineCap){\n                    case \"square\":\n                        canvasCtx.fillStyle = color;\n                        canvasCtx.fillRect(x + barWidth / 2 - circleRadius, y - circleRadius, circleRadius * 2, circleRadius * 2);\n                        break;\n                    case \"round\":\n                    default:\n                        canvasCtx.beginPath();\n                        canvasCtx.arc(x + barWidth / 2, y, circleRadius, 0, 2 * Math.PI);\n                        canvasCtx.fillStyle = color;\n                        canvasCtx.fill();\n                        canvasCtx.closePath();\n                        break;\n                }\n            }\n            function drawInactiveCircles(circleRadius, color) {\n                const totalBarsWidth = bands.length * barWidth + (bands.length - 1) * barGap;\n                const startX = (canvas.width / scaleFactor - totalBarsWidth) / 2;\n                const canvasHeight2 = canvas.height / scaleFactor;\n                let y;\n                switch(barOrigin){\n                    case \"top\":\n                        y = circleRadius;\n                        break;\n                    case \"bottom\":\n                        y = canvasHeight2 - circleRadius;\n                        break;\n                    case \"center\":\n                    default:\n                        y = canvasHeight2 / 2;\n                        break;\n                }\n                bands.forEach({\n                    \"VoiceVisualizer.useEffect.drawInactiveCircles\": (_, i)=>{\n                        const x = startX + i * (barWidth + barGap);\n                        drawInactiveCircle(circleRadius, color, x, y);\n                    }\n                }[\"VoiceVisualizer.useEffect.drawInactiveCircles\"]);\n            }\n            drawSpectrum();\n            window.addEventListener(\"resize\", resizeCanvas);\n            return ({\n                \"VoiceVisualizer.useEffect\": ()=>{\n                    audioContext.close();\n                    window.removeEventListener(\"resize\", resizeCanvas);\n                }\n            })[\"VoiceVisualizer.useEffect\"];\n        }\n    }[\"VoiceVisualizer.useEffect\"], [\n        backgroundColor,\n        barCount2,\n        barGap,\n        barLineCap,\n        barMaxHeight,\n        barOrigin,\n        barWidth,\n        track,\n        barColor\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"canvas\", {\n        ref: canvasRef,\n        style: {\n            display: \"block\",\n            width: \"100%\",\n            height: \"100%\"\n        },\n        className\n    });\n}, \"O0NXgTPo3m/C66yevDi58cNp/HU=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaTrack\n    ];\n}));\n_c82 = VoiceVisualizer;\nVoiceVisualizer.displayName = \"VoiceVisualizer\";\nfunction useStateMachine(initialState2, machine) {\n    _s52();\n    return react__WEBPACK_IMPORTED_MODULE_1__.useReducer({\n        \"useStateMachine.useReducer\": (state, event)=>{\n            const nextState = machine[state][event];\n            return nextState !== null && nextState !== void 0 ? nextState : state;\n        }\n    }[\"useStateMachine.useReducer\"], initialState2);\n}\n_s52(useStateMachine, \"JKK9dC9OkAPpgvtr+lhHdy62seQ=\");\nvar Presence = (props2)=>{\n    _s53();\n    const { present, children } = props2;\n    const presence = usePresence(present);\n    const child = typeof children === \"function\" ? children({\n        present: presence.isPresent\n    }) : react__WEBPACK_IMPORTED_MODULE_1__.Children.only(children);\n    const ref = useComposedRefs(presence.ref, getElementRef(child));\n    const forceMount = typeof children === \"function\";\n    return forceMount || presence.isPresent ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(child, {\n        ref\n    }) : null;\n};\n_s53(Presence, \"uNryTcoDvJa4CrInYRt27opyun0=\", false, function() {\n    return [\n        usePresence,\n        useComposedRefs\n    ];\n});\n_c83 = Presence;\nPresence.displayName = \"Presence\";\nfunction usePresence(present) {\n    _s54();\n    const [node, setNode] = react__WEBPACK_IMPORTED_MODULE_1__.useState();\n    const stylesRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const prevPresentRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(present);\n    const prevAnimationNameRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(\"none\");\n    const initialState2 = present ? \"mounted\" : \"unmounted\";\n    const [state, send] = useStateMachine(initialState2, {\n        mounted: {\n            UNMOUNT: \"unmounted\",\n            ANIMATION_OUT: \"unmountSuspended\"\n        },\n        unmountSuspended: {\n            MOUNT: \"mounted\",\n            ANIMATION_END: \"unmounted\"\n        },\n        unmounted: {\n            MOUNT: \"mounted\"\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"usePresence.useEffect\": ()=>{\n            const currentAnimationName = getAnimationName(stylesRef.current);\n            prevAnimationNameRef.current = state === \"mounted\" ? currentAnimationName : \"none\";\n        }\n    }[\"usePresence.useEffect\"], [\n        state\n    ]);\n    useLayoutEffect2({\n        \"usePresence.useLayoutEffect2\": ()=>{\n            const styles = stylesRef.current;\n            const wasPresent = prevPresentRef.current;\n            const hasPresentChanged = wasPresent !== present;\n            if (hasPresentChanged) {\n                const prevAnimationName = prevAnimationNameRef.current;\n                const currentAnimationName = getAnimationName(styles);\n                if (present) {\n                    send(\"MOUNT\");\n                } else if (currentAnimationName === \"none\" || (styles == null ? void 0 : styles.display) === \"none\") {\n                    send(\"UNMOUNT\");\n                } else {\n                    const isAnimating = prevAnimationName !== currentAnimationName;\n                    if (wasPresent && isAnimating) {\n                        send(\"ANIMATION_OUT\");\n                    } else {\n                        send(\"UNMOUNT\");\n                    }\n                }\n                prevPresentRef.current = present;\n            }\n        }\n    }[\"usePresence.useLayoutEffect2\"], [\n        present,\n        send\n    ]);\n    useLayoutEffect2({\n        \"usePresence.useLayoutEffect2\": ()=>{\n            if (node) {\n                let timeoutId;\n                var _node_ownerDocument_defaultView;\n                const ownerWindow = (_node_ownerDocument_defaultView = node.ownerDocument.defaultView) !== null && _node_ownerDocument_defaultView !== void 0 ? _node_ownerDocument_defaultView : window;\n                const handleAnimationEnd = {\n                    \"usePresence.useLayoutEffect2.handleAnimationEnd\": (event)=>{\n                        const currentAnimationName = getAnimationName(stylesRef.current);\n                        const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n                        if (event.target === node && isCurrentAnimation) {\n                            send(\"ANIMATION_END\");\n                            if (!prevPresentRef.current) {\n                                const currentFillMode = node.style.animationFillMode;\n                                node.style.animationFillMode = \"forwards\";\n                                timeoutId = ownerWindow.setTimeout({\n                                    \"usePresence.useLayoutEffect2.handleAnimationEnd\": ()=>{\n                                        if (node.style.animationFillMode === \"forwards\") {\n                                            node.style.animationFillMode = currentFillMode;\n                                        }\n                                    }\n                                }[\"usePresence.useLayoutEffect2.handleAnimationEnd\"]);\n                            }\n                        }\n                    }\n                }[\"usePresence.useLayoutEffect2.handleAnimationEnd\"];\n                const handleAnimationStart = {\n                    \"usePresence.useLayoutEffect2.handleAnimationStart\": (event)=>{\n                        if (event.target === node) {\n                            prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n                        }\n                    }\n                }[\"usePresence.useLayoutEffect2.handleAnimationStart\"];\n                node.addEventListener(\"animationstart\", handleAnimationStart);\n                node.addEventListener(\"animationcancel\", handleAnimationEnd);\n                node.addEventListener(\"animationend\", handleAnimationEnd);\n                return ({\n                    \"usePresence.useLayoutEffect2\": ()=>{\n                        ownerWindow.clearTimeout(timeoutId);\n                        node.removeEventListener(\"animationstart\", handleAnimationStart);\n                        node.removeEventListener(\"animationcancel\", handleAnimationEnd);\n                        node.removeEventListener(\"animationend\", handleAnimationEnd);\n                    }\n                })[\"usePresence.useLayoutEffect2\"];\n            } else {\n                send(\"ANIMATION_END\");\n            }\n        }\n    }[\"usePresence.useLayoutEffect2\"], [\n        node,\n        send\n    ]);\n    return {\n        isPresent: [\n            \"mounted\",\n            \"unmountSuspended\"\n        ].includes(state),\n        ref: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"usePresence.useCallback\": (node2)=>{\n                stylesRef.current = node2 ? getComputedStyle(node2) : null;\n                setNode(node2);\n            }\n        }[\"usePresence.useCallback\"], [])\n    };\n}\n_s54(usePresence, \"S4FjRZAwsNSjrLzgYIYDNrcbcv4=\", false, function() {\n    return [\n        useStateMachine,\n        useLayoutEffect2,\n        useLayoutEffect2\n    ];\n});\nfunction getAnimationName(styles) {\n    return (styles == null ? void 0 : styles.animationName) || \"none\";\n}\nfunction getElementRef(element) {\n    var _a, _b;\n    let getter = (_a = Object.getOwnPropertyDescriptor(element.props, \"ref\")) == null ? void 0 : _a.get;\n    let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n    if (mayWarn) {\n        return element.ref;\n    }\n    getter = (_b = Object.getOwnPropertyDescriptor(element, \"ref\")) == null ? void 0 : _b.get;\n    mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n    if (mayWarn) {\n        return element.props.ref;\n    }\n    return element.props.ref || element.ref;\n}\nvar ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nvar EVENT_OPTIONS = {\n    bubbles: false,\n    cancelable: true\n};\nvar GROUP_NAME$2 = \"RovingFocusGroup\";\nvar [Collection$1, useCollection$1, createCollectionScope$1] = createCollection(GROUP_NAME$2);\nvar [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(GROUP_NAME$2, [\n    createCollectionScope$1\n]);\nvar [RovingFocusProvider, useRovingFocusContext] = createRovingFocusGroupContext(GROUP_NAME$2);\nvar RovingFocusGroup = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c84 = (props2, forwardedRef)=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$1.Provider, {\n        scope: props2.__scopeRovingFocusGroup,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$1.Slot, {\n            scope: props2.__scopeRovingFocusGroup,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RovingFocusGroupImpl, {\n                ...props2,\n                ref: forwardedRef\n            })\n        })\n    });\n});\n_c85 = RovingFocusGroup;\nRovingFocusGroup.displayName = GROUP_NAME$2;\nvar RovingFocusGroupImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s55((props2, forwardedRef)=>{\n    _s55();\n    const { __scopeRovingFocusGroup, orientation, loop = false, dir, currentTabStopId: currentTabStopIdProp, defaultCurrentTabStopId, onCurrentTabStopIdChange, onEntryFocus, preventScrollOnEntryFocus = false, ...groupProps } = props2;\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const direction = useDirection(dir);\n    const [currentTabStopId, setCurrentTabStopId] = useControllableState({\n        prop: currentTabStopIdProp,\n        defaultProp: defaultCurrentTabStopId !== null && defaultCurrentTabStopId !== void 0 ? defaultCurrentTabStopId : null,\n        onChange: onCurrentTabStopIdChange,\n        caller: GROUP_NAME$2\n    });\n    const [isTabbingBackOut, setIsTabbingBackOut] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const handleEntryFocus = useCallbackRef$1(onEntryFocus);\n    const getItems = useCollection$1(__scopeRovingFocusGroup);\n    const isClickFocusRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const [focusableItemsCount, setFocusableItemsCount] = react__WEBPACK_IMPORTED_MODULE_1__.useState(0);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"RovingFocusGroupImpl.useEffect\": ()=>{\n            const node = ref.current;\n            if (node) {\n                node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n                return ({\n                    \"RovingFocusGroupImpl.useEffect\": ()=>node.removeEventListener(ENTRY_FOCUS, handleEntryFocus)\n                })[\"RovingFocusGroupImpl.useEffect\"];\n            }\n        }\n    }[\"RovingFocusGroupImpl.useEffect\"], [\n        handleEntryFocus\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RovingFocusProvider, {\n        scope: __scopeRovingFocusGroup,\n        orientation,\n        dir: direction,\n        loop,\n        currentTabStopId,\n        onItemFocus: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"RovingFocusGroupImpl.useCallback\": (tabStopId)=>setCurrentTabStopId(tabStopId)\n        }[\"RovingFocusGroupImpl.useCallback\"], [\n            setCurrentTabStopId\n        ]),\n        onItemShiftTab: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"RovingFocusGroupImpl.useCallback\": ()=>setIsTabbingBackOut(true)\n        }[\"RovingFocusGroupImpl.useCallback\"], []),\n        onFocusableItemAdd: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"RovingFocusGroupImpl.useCallback\": ()=>setFocusableItemsCount({\n                    \"RovingFocusGroupImpl.useCallback\": (prevCount)=>prevCount + 1\n                }[\"RovingFocusGroupImpl.useCallback\"])\n        }[\"RovingFocusGroupImpl.useCallback\"], []),\n        onFocusableItemRemove: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"RovingFocusGroupImpl.useCallback\": ()=>setFocusableItemsCount({\n                    \"RovingFocusGroupImpl.useCallback\": (prevCount)=>prevCount - 1\n                }[\"RovingFocusGroupImpl.useCallback\"])\n        }[\"RovingFocusGroupImpl.useCallback\"], []),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n            tabIndex: isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0,\n            \"data-orientation\": orientation,\n            ...groupProps,\n            ref: composedRefs,\n            style: {\n                outline: \"none\",\n                ...props2.style\n            },\n            onMouseDown: composeEventHandlers(props2.onMouseDown, ()=>{\n                isClickFocusRef.current = true;\n            }),\n            onFocus: composeEventHandlers(props2.onFocus, (event)=>{\n                const isKeyboardFocus = !isClickFocusRef.current;\n                if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n                    const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n                    event.currentTarget.dispatchEvent(entryFocusEvent);\n                    if (!entryFocusEvent.defaultPrevented) {\n                        const items = getItems().filter((item)=>item.focusable);\n                        const activeItem = items.find((item)=>item.active);\n                        const currentItem = items.find((item)=>item.id === currentTabStopId);\n                        const candidateItems = [\n                            activeItem,\n                            currentItem,\n                            ...items\n                        ].filter(Boolean);\n                        const candidateNodes = candidateItems.map((item)=>item.ref.current);\n                        focusFirst$1(candidateNodes, preventScrollOnEntryFocus);\n                    }\n                }\n                isClickFocusRef.current = false;\n            }),\n            onBlur: composeEventHandlers(props2.onBlur, ()=>setIsTabbingBackOut(false))\n        })\n    });\n}, \"7AR5V8DgQNDVWE8JmfW1xf+m0QE=\", false, function() {\n    return [\n        useComposedRefs,\n        useDirection,\n        useControllableState,\n        useCallbackRef$1,\n        useCollection$1\n    ];\n}));\n_c86 = RovingFocusGroupImpl;\nvar ITEM_NAME$2 = \"RovingFocusGroupItem\";\nvar RovingFocusGroupItem = /*#__PURE__*/ _s56(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c87 = _s56((props2, forwardedRef)=>{\n    _s56();\n    const { __scopeRovingFocusGroup, focusable = true, active = false, tabStopId, children, ...itemProps } = props2;\n    const autoId = useId$1();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME$2, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection$1(__scopeRovingFocusGroup);\n    const { onFocusableItemAdd, onFocusableItemRemove, currentTabStopId } = context;\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"RovingFocusGroupItem.useEffect\": ()=>{\n            if (focusable) {\n                onFocusableItemAdd();\n                return ({\n                    \"RovingFocusGroupItem.useEffect\": ()=>onFocusableItemRemove()\n                })[\"RovingFocusGroupItem.useEffect\"];\n            }\n        }\n    }[\"RovingFocusGroupItem.useEffect\"], [\n        focusable,\n        onFocusableItemAdd,\n        onFocusableItemRemove\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection$1.ItemSlot, {\n        scope: __scopeRovingFocusGroup,\n        id,\n        focusable,\n        active,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n            tabIndex: isCurrentTabStop ? 0 : -1,\n            \"data-orientation\": context.orientation,\n            ...itemProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props2.onMouseDown, (event)=>{\n                if (!focusable) event.preventDefault();\n                else context.onItemFocus(id);\n            }),\n            onFocus: composeEventHandlers(props2.onFocus, ()=>context.onItemFocus(id)),\n            onKeyDown: composeEventHandlers(props2.onKeyDown, (event)=>{\n                if (event.key === \"Tab\" && event.shiftKey) {\n                    context.onItemShiftTab();\n                    return;\n                }\n                if (event.target !== event.currentTarget) return;\n                const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n                if (focusIntent !== void 0) {\n                    if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;\n                    event.preventDefault();\n                    const items = getItems().filter((item)=>item.focusable);\n                    let candidateNodes = items.map((item)=>item.ref.current);\n                    if (focusIntent === \"last\") candidateNodes.reverse();\n                    else if (focusIntent === \"prev\" || focusIntent === \"next\") {\n                        if (focusIntent === \"prev\") candidateNodes.reverse();\n                        const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                        candidateNodes = context.loop ? wrapArray$1(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n                    }\n                    setTimeout(()=>focusFirst$1(candidateNodes));\n                }\n            }),\n            children: typeof children === \"function\" ? children({\n                isCurrentTabStop,\n                hasTabStop: currentTabStopId != null\n            }) : children\n        })\n    });\n}, \"IXGZz2a2mC9N+zHXbim+ibEaisM=\", false, function() {\n    return [\n        useId$1,\n        useRovingFocusContext,\n        useCollection$1\n    ];\n})), \"IXGZz2a2mC9N+zHXbim+ibEaisM=\", false, function() {\n    return [\n        useId$1,\n        useRovingFocusContext,\n        useCollection$1\n    ];\n});\n_c88 = RovingFocusGroupItem;\nRovingFocusGroupItem.displayName = ITEM_NAME$2;\nvar MAP_KEY_TO_FOCUS_INTENT = {\n    ArrowLeft: \"prev\",\n    ArrowUp: \"prev\",\n    ArrowRight: \"next\",\n    ArrowDown: \"next\",\n    PageUp: \"first\",\n    Home: \"first\",\n    PageDown: \"last\",\n    End: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n    if (dir !== \"rtl\") return key;\n    return key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n    const key = getDirectionAwareKey(event.key, dir);\n    if (orientation === \"vertical\" && [\n        \"ArrowLeft\",\n        \"ArrowRight\"\n    ].includes(key)) return void 0;\n    if (orientation === \"horizontal\" && [\n        \"ArrowUp\",\n        \"ArrowDown\"\n    ].includes(key)) return void 0;\n    return MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst$1(candidates) {\n    let preventScroll = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n    for (const candidate of candidates){\n        if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n        candidate.focus({\n            preventScroll\n        });\n        if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n    }\n}\nfunction wrapArray$1(array, startIndex) {\n    return array.map((_, index2)=>array[(startIndex + index2) % array.length]);\n}\nvar Root = RovingFocusGroup;\nvar Item = RovingFocusGroupItem;\nvar SELECTION_KEYS = [\n    \"Enter\",\n    \" \"\n];\nvar FIRST_KEYS = [\n    \"ArrowDown\",\n    \"PageUp\",\n    \"Home\"\n];\nvar LAST_KEYS = [\n    \"ArrowUp\",\n    \"PageDown\",\n    \"End\"\n];\nvar FIRST_LAST_KEYS = [\n    ...FIRST_KEYS,\n    ...LAST_KEYS\n];\nvar SUB_OPEN_KEYS = {\n    ltr: [\n        ...SELECTION_KEYS,\n        \"ArrowRight\"\n    ],\n    rtl: [\n        ...SELECTION_KEYS,\n        \"ArrowLeft\"\n    ]\n};\nvar SUB_CLOSE_KEYS = {\n    ltr: [\n        \"ArrowLeft\"\n    ],\n    rtl: [\n        \"ArrowRight\"\n    ]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n    createCollectionScope,\n    createPopperScope,\n    createRovingFocusGroupScope\n]);\nvar usePopperScope$2 = createPopperScope();\nvar useRovingFocusGroupScope$1 = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props2)=>{\n    _s57();\n    const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props2;\n    const popperScope = usePopperScope$2(__scopeMenu);\n    const [content, setContent] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const isUsingKeyboardRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const handleOpenChange = useCallbackRef$1(onOpenChange);\n    const direction = useDirection(dir);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"Menu.useEffect\": ()=>{\n            const handleKeyDown = {\n                \"Menu.useEffect.handleKeyDown\": ()=>{\n                    isUsingKeyboardRef.current = true;\n                    document.addEventListener(\"pointerdown\", handlePointer, {\n                        capture: true,\n                        once: true\n                    });\n                    document.addEventListener(\"pointermove\", handlePointer, {\n                        capture: true,\n                        once: true\n                    });\n                }\n            }[\"Menu.useEffect.handleKeyDown\"];\n            const handlePointer = {\n                \"Menu.useEffect.handlePointer\": ()=>isUsingKeyboardRef.current = false\n            }[\"Menu.useEffect.handlePointer\"];\n            document.addEventListener(\"keydown\", handleKeyDown, {\n                capture: true\n            });\n            return ({\n                \"Menu.useEffect\": ()=>{\n                    document.removeEventListener(\"keydown\", handleKeyDown, {\n                        capture: true\n                    });\n                    document.removeEventListener(\"pointerdown\", handlePointer, {\n                        capture: true\n                    });\n                    document.removeEventListener(\"pointermove\", handlePointer, {\n                        capture: true\n                    });\n                }\n            })[\"Menu.useEffect\"];\n        }\n    }[\"Menu.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$4, {\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuProvider, {\n            scope: __scopeMenu,\n            open,\n            onOpenChange: handleOpenChange,\n            content,\n            onContentChange: setContent,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuRootProvider, {\n                scope: __scopeMenu,\n                onClose: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                    \"Menu.useCallback\": ()=>handleOpenChange(false)\n                }[\"Menu.useCallback\"], [\n                    handleOpenChange\n                ]),\n                isUsingKeyboardRef,\n                dir: direction,\n                modal,\n                children\n            })\n        })\n    });\n};\n_s57(Menu, \"8QVT80iPF6TmqxD4BNe/pyqrOm0=\", false, function() {\n    return [\n        usePopperScope$2,\n        useCallbackRef$1,\n        useDirection\n    ];\n});\n_c89 = Menu;\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME$1 = \"MenuAnchor\";\nvar MenuAnchor = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s58((props2, forwardedRef)=>{\n    _s58();\n    const { __scopeMenu, ...anchorProps } = props2;\n    const popperScope = usePopperScope$2(__scopeMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor, {\n        ...popperScope,\n        ...anchorProps,\n        ref: forwardedRef\n    });\n}, \"Vy3AiDaNvmOIbcKaNJp23kq72Dw=\", false, function() {\n    return [\n        usePopperScope$2\n    ];\n}));\n_c90 = MenuAnchor;\nMenuAnchor.displayName = ANCHOR_NAME$1;\nvar PORTAL_NAME$3 = \"MenuPortal\";\nvar [PortalProvider$2, usePortalContext$2] = createMenuContext(PORTAL_NAME$3, {\n    forceMount: void 0\n});\nvar MenuPortal = (props2)=>{\n    _s59();\n    const { __scopeMenu, forceMount, children, container } = props2;\n    const context = useMenuContext(PORTAL_NAME$3, __scopeMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortalProvider$2, {\n        scope: __scopeMenu,\n        forceMount,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n            present: forceMount || context.open,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$4, {\n                asChild: true,\n                container,\n                children\n            })\n        })\n    });\n};\n_s59(MenuPortal, \"Jc8vKAvq94jPZkBJYIZO/X0jxQk=\", false, function() {\n    return [\n        useMenuContext\n    ];\n});\n_c91 = MenuPortal;\nMenuPortal.displayName = PORTAL_NAME$3;\nvar CONTENT_NAME$4 = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME$4);\nvar MenuContent = /*#__PURE__*/ _s60(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c92 = _s60((props2, forwardedRef)=>{\n    _s60();\n    const portalContext = usePortalContext$2(CONTENT_NAME$4, props2.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props2;\n    const context = useMenuContext(CONTENT_NAME$4, props2.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME$4, props2.__scopeMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection.Provider, {\n        scope: props2.__scopeMenu,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n            present: forceMount || context.open,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection.Slot, {\n                scope: props2.__scopeMenu,\n                children: rootContext.modal ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuRootContentModal, {\n                    ...contentProps,\n                    ref: forwardedRef\n                }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuRootContentNonModal, {\n                    ...contentProps,\n                    ref: forwardedRef\n                })\n            })\n        })\n    });\n}, \"fHghwj764+XFScE1sXolrNjlRCI=\", false, function() {\n    return [\n        usePortalContext$2,\n        useMenuContext,\n        useMenuRootContext\n    ];\n})), \"fHghwj764+XFScE1sXolrNjlRCI=\", false, function() {\n    return [\n        usePortalContext$2,\n        useMenuContext,\n        useMenuRootContext\n    ];\n});\n_c93 = MenuContent;\nvar MenuRootContentModal = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s61((props2, forwardedRef)=>{\n    _s61();\n    const context = useMenuContext(CONTENT_NAME$4, props2.__scopeMenu);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"MenuRootContentModal.useEffect\": ()=>{\n            const content = ref.current;\n            if (content) return hideOthers(content);\n        }\n    }[\"MenuRootContentModal.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuContentImpl, {\n        ...props2,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(props2.onFocusOutside, (event)=>event.preventDefault(), {\n            checkForDefaultPrevented: false\n        }),\n        onDismiss: ()=>context.onOpenChange(false)\n    });\n}, \"JZl1V6I1pr8fHXBNF9+BmgCcv1M=\", false, function() {\n    return [\n        useMenuContext,\n        useComposedRefs\n    ];\n}));\n_c94 = MenuRootContentModal;\nvar MenuRootContentNonModal = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s62((props2, forwardedRef)=>{\n    _s62();\n    const context = useMenuContext(CONTENT_NAME$4, props2.__scopeMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuContentImpl, {\n        ...props2,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        onDismiss: ()=>context.onOpenChange(false)\n    });\n}, \"Jc8vKAvq94jPZkBJYIZO/X0jxQk=\", false, function() {\n    return [\n        useMenuContext\n    ];\n}));\n_c95 = MenuRootContentNonModal;\nvar Slot$1 = /* @__PURE__ */ createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s63((props2, forwardedRef)=>{\n    _s63();\n    const { __scopeMenu, loop = false, trapFocus, onOpenAutoFocus, onCloseAutoFocus, disableOutsidePointerEvents, onEntryFocus, onEscapeKeyDown, onPointerDownOutside, onFocusOutside, onInteractOutside, onDismiss, disableOutsideScroll, ...contentProps } = props2;\n    const context = useMenuContext(CONTENT_NAME$4, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME$4, __scopeMenu);\n    const popperScope = usePopperScope$2(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope$1(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const contentRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    const searchRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(\"\");\n    const pointerGraceTimerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    const pointerGraceIntentRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const pointerDirRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(\"right\");\n    const lastPointerXRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? ReactRemoveScroll : react__WEBPACK_IMPORTED_MODULE_1__.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? {\n        as: Slot$1,\n        allowPinchZoom: true\n    } : void 0;\n    const handleTypeaheadSearch = (key)=>{\n        var _a, _b;\n        const search = searchRef.current + key;\n        const items = getItems().filter((item)=>!item.disabled);\n        const currentItem = document.activeElement;\n        const currentMatch = (_a = items.find((item)=>item.ref.current === currentItem)) == null ? void 0 : _a.textValue;\n        const values = items.map((item)=>item.textValue);\n        const nextMatch = getNextMatch(values, search, currentMatch);\n        const newItem = (_b = items.find((item)=>item.textValue === nextMatch)) == null ? void 0 : _b.ref.current;\n        (function updateSearch(value1) {\n            searchRef.current = value1;\n            window.clearTimeout(timerRef.current);\n            if (value1 !== \"\") timerRef.current = window.setTimeout(()=>updateSearch(\"\"), 1e3);\n        })(search);\n        if (newItem) {\n            setTimeout(()=>newItem.focus());\n        }\n    };\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"MenuContentImpl.useEffect\": ()=>{\n            return ({\n                \"MenuContentImpl.useEffect\": ()=>window.clearTimeout(timerRef.current)\n            })[\"MenuContentImpl.useEffect\"];\n        }\n    }[\"MenuContentImpl.useEffect\"], []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"MenuContentImpl.useCallback[isPointerMovingToSubmenu]\": (event)=>{\n            var _a, _b;\n            const isMovingTowards = pointerDirRef.current === ((_a = pointerGraceIntentRef.current) == null ? void 0 : _a.side);\n            return isMovingTowards && isPointerInGraceArea(event, (_b = pointerGraceIntentRef.current) == null ? void 0 : _b.area);\n        }\n    }[\"MenuContentImpl.useCallback[isPointerMovingToSubmenu]\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuContentProvider, {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"MenuContentImpl.useCallback\": (event)=>{\n                if (isPointerMovingToSubmenu(event)) event.preventDefault();\n            }\n        }[\"MenuContentImpl.useCallback\"], [\n            isPointerMovingToSubmenu\n        ]),\n        onItemLeave: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"MenuContentImpl.useCallback\": (event)=>{\n                var _a;\n                if (isPointerMovingToSubmenu(event)) return;\n                (_a = contentRef.current) == null ? void 0 : _a.focus();\n                setCurrentItemId(null);\n            }\n        }[\"MenuContentImpl.useCallback\"], [\n            isPointerMovingToSubmenu\n        ]),\n        onTriggerLeave: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"MenuContentImpl.useCallback\": (event)=>{\n                if (isPointerMovingToSubmenu(event)) event.preventDefault();\n            }\n        }[\"MenuContentImpl.useCallback\"], [\n            isPointerMovingToSubmenu\n        ]),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"MenuContentImpl.useCallback\": (intent)=>{\n                pointerGraceIntentRef.current = intent;\n            }\n        }[\"MenuContentImpl.useCallback\"], []),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ScrollLockWrapper, {\n            ...scrollLockWrapperProps,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FocusScope, {\n                asChild: true,\n                trapped: trapFocus,\n                onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event)=>{\n                    var _a;\n                    event.preventDefault();\n                    (_a = contentRef.current) == null ? void 0 : _a.focus({\n                        preventScroll: true\n                    });\n                }),\n                onUnmountAutoFocus: onCloseAutoFocus,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DismissableLayer, {\n                    asChild: true,\n                    disableOutsidePointerEvents,\n                    onEscapeKeyDown,\n                    onPointerDownOutside,\n                    onFocusOutside,\n                    onInteractOutside,\n                    onDismiss,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root, {\n                        asChild: true,\n                        ...rovingFocusGroupScope,\n                        dir: rootContext.dir,\n                        orientation: \"vertical\",\n                        loop,\n                        currentTabStopId: currentItemId,\n                        onCurrentTabStopIdChange: setCurrentItemId,\n                        onEntryFocus: composeEventHandlers(onEntryFocus, (event)=>{\n                            if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                        }),\n                        preventScrollOnEntryFocus: true,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content$1, {\n                            role: \"menu\",\n                            \"aria-orientation\": \"vertical\",\n                            \"data-state\": getOpenState(context.open),\n                            \"data-radix-menu-content\": \"\",\n                            dir: rootContext.dir,\n                            ...popperScope,\n                            ...contentProps,\n                            ref: composedRefs,\n                            style: {\n                                outline: \"none\",\n                                ...contentProps.style\n                            },\n                            onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event)=>{\n                                const target = event.target;\n                                const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                                const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                                const isCharacterKey = event.key.length === 1;\n                                if (isKeyDownInside) {\n                                    if (event.key === \"Tab\") event.preventDefault();\n                                    if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                                }\n                                const content = contentRef.current;\n                                if (event.target !== content) return;\n                                if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                                event.preventDefault();\n                                const items = getItems().filter((item)=>!item.disabled);\n                                const candidateNodes = items.map((item)=>item.ref.current);\n                                if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                                focusFirst(candidateNodes);\n                            }),\n                            onBlur: composeEventHandlers(props2.onBlur, (event)=>{\n                                if (!event.currentTarget.contains(event.target)) {\n                                    window.clearTimeout(timerRef.current);\n                                    searchRef.current = \"\";\n                                }\n                            }),\n                            onPointerMove: composeEventHandlers(props2.onPointerMove, whenMouse((event)=>{\n                                const target = event.target;\n                                const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                                if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                                    const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                                    pointerDirRef.current = newDir;\n                                    lastPointerXRef.current = event.clientX;\n                                }\n                            }))\n                        })\n                    })\n                })\n            })\n        })\n    });\n}, \"V//1+cCx/JeeHQj8tBuPft5XwAA=\", false, function() {\n    return [\n        useMenuContext,\n        useMenuRootContext,\n        usePopperScope$2,\n        useRovingFocusGroupScope$1,\n        useCollection,\n        useComposedRefs,\n        useFocusGuards\n    ];\n}));\n_c96 = MenuContentImpl;\nMenuContent.displayName = CONTENT_NAME$4;\nvar GROUP_NAME$1 = \"MenuGroup\";\nvar MenuGroup = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((props2, forwardedRef)=>{\n    const { __scopeMenu, ...groupProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        role: \"group\",\n        ...groupProps,\n        ref: forwardedRef\n    });\n});\n_c97 = MenuGroup;\nMenuGroup.displayName = GROUP_NAME$1;\nvar LABEL_NAME$1 = \"MenuLabel\";\nvar MenuLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c98 = (props2, forwardedRef)=>{\n    const { __scopeMenu, ...labelProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        ...labelProps,\n        ref: forwardedRef\n    });\n});\n_c99 = MenuLabel;\nMenuLabel.displayName = LABEL_NAME$1;\nvar ITEM_NAME$1 = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s64((props2, forwardedRef)=>{\n    _s64();\n    const { disabled = false, onSelect, ...itemProps } = props2;\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME$1, props2.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME$1, props2.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const handleSelect = ()=>{\n        const menuItem = ref.current;\n        if (!disabled && menuItem) {\n            const itemSelectEvent = new CustomEvent(ITEM_SELECT, {\n                bubbles: true,\n                cancelable: true\n            });\n            menuItem.addEventListener(ITEM_SELECT, (event)=>onSelect == null ? void 0 : onSelect(event), {\n                once: true\n            });\n            dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n            if (itemSelectEvent.defaultPrevented) {\n                isPointerDownRef.current = false;\n            } else {\n                rootContext.onClose();\n            }\n        }\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuItemImpl, {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props2.onClick, handleSelect),\n        onPointerDown: (event)=>{\n            var _a;\n            (_a = props2.onPointerDown) == null ? void 0 : _a.call(props2, event);\n            isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props2.onPointerUp, (event)=>{\n            var _a;\n            if (!isPointerDownRef.current) (_a = event.currentTarget) == null ? void 0 : _a.click();\n        }),\n        onKeyDown: composeEventHandlers(props2.onKeyDown, (event)=>{\n            const isTypingAhead = contentContext.searchRef.current !== \"\";\n            if (disabled || isTypingAhead && event.key === \" \") return;\n            if (SELECTION_KEYS.includes(event.key)) {\n                event.currentTarget.click();\n                event.preventDefault();\n            }\n        })\n    });\n}, \"n4NCMoANrBHYaagbUs9HO/KGL+U=\", false, function() {\n    return [\n        useMenuRootContext,\n        useMenuContentContext,\n        useComposedRefs\n    ];\n}));\n_c100 = MenuItem;\nMenuItem.displayName = ITEM_NAME$1;\nvar MenuItemImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s65((props2, forwardedRef)=>{\n    _s65();\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props2;\n    const contentContext = useMenuContentContext(ITEM_NAME$1, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope$1(__scopeMenu);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [textContent, setTextContent] = react__WEBPACK_IMPORTED_MODULE_1__.useState(\"\");\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"MenuItemImpl.useEffect\": ()=>{\n            const menuItem = ref.current;\n            if (menuItem) {\n                var _menuItem_textContent;\n                setTextContent(((_menuItem_textContent = menuItem.textContent) !== null && _menuItem_textContent !== void 0 ? _menuItem_textContent : \"\").trim());\n            }\n        }\n    }[\"MenuItemImpl.useEffect\"], [\n        itemProps.children\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection.ItemSlot, {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue !== null && textValue !== void 0 ? textValue : textContent,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Item, {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            focusable: !disabled,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n                role: \"menuitem\",\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                ...itemProps,\n                ref: composedRefs,\n                onPointerMove: composeEventHandlers(props2.onPointerMove, whenMouse((event)=>{\n                    if (disabled) {\n                        contentContext.onItemLeave(event);\n                    } else {\n                        contentContext.onItemEnter(event);\n                        if (!event.defaultPrevented) {\n                            const item = event.currentTarget;\n                            item.focus({\n                                preventScroll: true\n                            });\n                        }\n                    }\n                })),\n                onPointerLeave: composeEventHandlers(props2.onPointerLeave, whenMouse((event)=>contentContext.onItemLeave(event))),\n                onFocus: composeEventHandlers(props2.onFocus, ()=>setIsFocused(true)),\n                onBlur: composeEventHandlers(props2.onBlur, ()=>setIsFocused(false))\n            })\n        })\n    });\n}, \"7xsx4CcLeUxRSOqA4hIVakWk3ks=\", false, function() {\n    return [\n        useMenuContentContext,\n        useRovingFocusGroupScope$1,\n        useComposedRefs\n    ];\n}));\n_c101 = MenuItemImpl;\nvar CHECKBOX_ITEM_NAME$1 = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c102 = (props2, forwardedRef)=>{\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemIndicatorProvider, {\n        scope: props2.__scopeMenu,\n        checked,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuItem, {\n            role: \"menuitemcheckbox\",\n            \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n            ...checkboxItemProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(checked),\n            onSelect: composeEventHandlers(checkboxItemProps.onSelect, ()=>onCheckedChange == null ? void 0 : onCheckedChange(isIndeterminate(checked) ? true : !checked), {\n                checkForDefaultPrevented: false\n            })\n        })\n    });\n});\n_c103 = MenuCheckboxItem;\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME$1;\nvar RADIO_GROUP_NAME$1 = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(RADIO_GROUP_NAME$1, {\n    value: void 0,\n    onValueChange: ()=>{}\n});\nvar MenuRadioGroup = /*#__PURE__*/ _s66(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c104 = _s66((props2, forwardedRef)=>{\n    _s66();\n    const { value: value1, onValueChange, ...groupProps } = props2;\n    const handleValueChange = useCallbackRef$1(onValueChange);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RadioGroupProvider, {\n        scope: props2.__scopeMenu,\n        value: value1,\n        onValueChange: handleValueChange,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuGroup, {\n            ...groupProps,\n            ref: forwardedRef\n        })\n    });\n}, \"4oPg8IVx1XampzjpJYCFYUsUaFc=\", false, function() {\n    return [\n        useCallbackRef$1\n    ];\n})), \"4oPg8IVx1XampzjpJYCFYUsUaFc=\", false, function() {\n    return [\n        useCallbackRef$1\n    ];\n});\n_c105 = MenuRadioGroup;\nMenuRadioGroup.displayName = RADIO_GROUP_NAME$1;\nvar RADIO_ITEM_NAME$1 = \"MenuRadioItem\";\nvar MenuRadioItem = /*#__PURE__*/ _s67(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c106 = _s67((props2, forwardedRef)=>{\n    _s67();\n    const { value: value1, ...radioItemProps } = props2;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME$1, props2.__scopeMenu);\n    const checked = value1 === context.value;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemIndicatorProvider, {\n        scope: props2.__scopeMenu,\n        checked,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuItem, {\n            role: \"menuitemradio\",\n            \"aria-checked\": checked,\n            ...radioItemProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(checked),\n            onSelect: composeEventHandlers(radioItemProps.onSelect, ()=>{\n                var _a;\n                return (_a = context.onValueChange) == null ? void 0 : _a.call(context, value1);\n            }, {\n                checkForDefaultPrevented: false\n            })\n        })\n    });\n}, \"pu7nAGGQbggF4/7/93WWC5/VrL0=\", false, function() {\n    return [\n        useRadioGroupContext\n    ];\n})), \"pu7nAGGQbggF4/7/93WWC5/VrL0=\", false, function() {\n    return [\n        useRadioGroupContext\n    ];\n});\n_c107 = MenuRadioItem;\nMenuRadioItem.displayName = RADIO_ITEM_NAME$1;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(ITEM_INDICATOR_NAME, {\n    checked: false\n});\nvar MenuItemIndicator = /*#__PURE__*/ _s68(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c108 = _s68((props2, forwardedRef)=>{\n    _s68();\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props2;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.span, {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n        })\n    });\n}, \"W2/Y2Td7XZBLzAFnNcANg/AGfF8=\", false, function() {\n    return [\n        useItemIndicatorContext\n    ];\n})), \"W2/Y2Td7XZBLzAFnNcANg/AGfF8=\", false, function() {\n    return [\n        useItemIndicatorContext\n    ];\n});\n_c109 = MenuItemIndicator;\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME$1 = \"MenuSeparator\";\nvar MenuSeparator = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c110 = (props2, forwardedRef)=>{\n    const { __scopeMenu, ...separatorProps } = props2;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n    });\n});\n_c111 = MenuSeparator;\nMenuSeparator.displayName = SEPARATOR_NAME$1;\nvar ARROW_NAME$3 = \"MenuArrow\";\nvar MenuArrow = /*#__PURE__*/ _s69(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c112 = _s69((props2, forwardedRef)=>{\n    _s69();\n    const { __scopeMenu, ...arrowProps } = props2;\n    const popperScope = usePopperScope$2(__scopeMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow, {\n        ...popperScope,\n        ...arrowProps,\n        ref: forwardedRef\n    });\n}, \"Vy3AiDaNvmOIbcKaNJp23kq72Dw=\", false, function() {\n    return [\n        usePopperScope$2\n    ];\n})), \"Vy3AiDaNvmOIbcKaNJp23kq72Dw=\", false, function() {\n    return [\n        usePopperScope$2\n    ];\n});\n_c113 = MenuArrow;\nMenuArrow.displayName = ARROW_NAME$3;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props2)=>{\n    _s70();\n    const { __scopeMenu, children, open = false, onOpenChange } = props2;\n    const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n    const popperScope = usePopperScope$2(__scopeMenu);\n    const [trigger, setTrigger] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [content, setContent] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const handleOpenChange = useCallbackRef$1(onOpenChange);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"MenuSub.useEffect\": ()=>{\n            if (parentMenuContext.open === false) handleOpenChange(false);\n            return ({\n                \"MenuSub.useEffect\": ()=>handleOpenChange(false)\n            })[\"MenuSub.useEffect\"];\n        }\n    }[\"MenuSub.useEffect\"], [\n        parentMenuContext.open,\n        handleOpenChange\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$4, {\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuProvider, {\n            scope: __scopeMenu,\n            open,\n            onOpenChange: handleOpenChange,\n            content,\n            onContentChange: setContent,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuSubProvider, {\n                scope: __scopeMenu,\n                contentId: useId$1(),\n                triggerId: useId$1(),\n                trigger,\n                onTriggerChange: setTrigger,\n                children\n            })\n        })\n    });\n};\n_s70(MenuSub, \"mmSSMVoVkM0M33Hp4+pxahMFUcI=\", false, function() {\n    return [\n        useMenuContext,\n        usePopperScope$2,\n        useCallbackRef$1,\n        useId$1,\n        useId$1\n    ];\n});\n_c114 = MenuSub;\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME$1 = \"MenuSubTrigger\";\nvar MenuSubTrigger = /*#__PURE__*/ _s71(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c115 = _s71((props2, forwardedRef)=>{\n    _s71();\n    const context = useMenuContext(SUB_TRIGGER_NAME$1, props2.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME$1, props2.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME$1, props2.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME$1, props2.__scopeMenu);\n    const openTimerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = {\n        __scopeMenu: props2.__scopeMenu\n    };\n    const clearOpenTimer = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"MenuSubTrigger.useCallback[clearOpenTimer]\": ()=>{\n            if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n            openTimerRef.current = null;\n        }\n    }[\"MenuSubTrigger.useCallback[clearOpenTimer]\"], []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"MenuSubTrigger.useEffect\": ()=>clearOpenTimer\n    }[\"MenuSubTrigger.useEffect\"], [\n        clearOpenTimer\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"MenuSubTrigger.useEffect\": ()=>{\n            const pointerGraceTimer = pointerGraceTimerRef.current;\n            return ({\n                \"MenuSubTrigger.useEffect\": ()=>{\n                    window.clearTimeout(pointerGraceTimer);\n                    onPointerGraceIntentChange(null);\n                }\n            })[\"MenuSubTrigger.useEffect\"];\n        }\n    }[\"MenuSubTrigger.useEffect\"], [\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuAnchor, {\n        asChild: true,\n        ...scope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuItemImpl, {\n            id: subContext.triggerId,\n            \"aria-haspopup\": \"menu\",\n            \"aria-expanded\": context.open,\n            \"aria-controls\": subContext.contentId,\n            \"data-state\": getOpenState(context.open),\n            ...props2,\n            ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n            onClick: (event)=>{\n                var _a;\n                (_a = props2.onClick) == null ? void 0 : _a.call(props2, event);\n                if (props2.disabled || event.defaultPrevented) return;\n                event.currentTarget.focus();\n                if (!context.open) context.onOpenChange(true);\n            },\n            onPointerMove: composeEventHandlers(props2.onPointerMove, whenMouse((event)=>{\n                contentContext.onItemEnter(event);\n                if (event.defaultPrevented) return;\n                if (!props2.disabled && !context.open && !openTimerRef.current) {\n                    contentContext.onPointerGraceIntentChange(null);\n                    openTimerRef.current = window.setTimeout(()=>{\n                        context.onOpenChange(true);\n                        clearOpenTimer();\n                    }, 100);\n                }\n            })),\n            onPointerLeave: composeEventHandlers(props2.onPointerLeave, whenMouse((event)=>{\n                var _a, _b;\n                clearOpenTimer();\n                const contentRect = (_a = context.content) == null ? void 0 : _a.getBoundingClientRect();\n                if (contentRect) {\n                    const side = (_b = context.content) == null ? void 0 : _b.dataset.side;\n                    const rightSide = side === \"right\";\n                    const bleed = rightSide ? -5 : 5;\n                    const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n                    const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n                    contentContext.onPointerGraceIntentChange({\n                        area: [\n                            // Apply a bleed on clientX to ensure that our exit point is\n                            // consistently within polygon bounds\n                            {\n                                x: event.clientX + bleed,\n                                y: event.clientY\n                            },\n                            {\n                                x: contentNearEdge,\n                                y: contentRect.top\n                            },\n                            {\n                                x: contentFarEdge,\n                                y: contentRect.top\n                            },\n                            {\n                                x: contentFarEdge,\n                                y: contentRect.bottom\n                            },\n                            {\n                                x: contentNearEdge,\n                                y: contentRect.bottom\n                            }\n                        ],\n                        side\n                    });\n                    window.clearTimeout(pointerGraceTimerRef.current);\n                    pointerGraceTimerRef.current = window.setTimeout(()=>contentContext.onPointerGraceIntentChange(null), 300);\n                } else {\n                    contentContext.onTriggerLeave(event);\n                    if (event.defaultPrevented) return;\n                    contentContext.onPointerGraceIntentChange(null);\n                }\n            })),\n            onKeyDown: composeEventHandlers(props2.onKeyDown, (event)=>{\n                var _a;\n                const isTypingAhead = contentContext.searchRef.current !== \"\";\n                if (props2.disabled || isTypingAhead && event.key === \" \") return;\n                if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n                    context.onOpenChange(true);\n                    (_a = context.content) == null ? void 0 : _a.focus();\n                    event.preventDefault();\n                }\n            })\n        })\n    });\n}, \"/ehIxLkqpn6AwUD2r8VUL6WM7sc=\", false, function() {\n    return [\n        useMenuContext,\n        useMenuRootContext,\n        useMenuSubContext,\n        useMenuContentContext\n    ];\n})), \"/ehIxLkqpn6AwUD2r8VUL6WM7sc=\", false, function() {\n    return [\n        useMenuContext,\n        useMenuRootContext,\n        useMenuSubContext,\n        useMenuContentContext\n    ];\n});\n_c116 = MenuSubTrigger;\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME$1;\nvar SUB_CONTENT_NAME$1 = \"MenuSubContent\";\nvar MenuSubContent = /*#__PURE__*/ _s72(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c117 = _s72((props2, forwardedRef)=>{\n    _s72();\n    const portalContext = usePortalContext$2(CONTENT_NAME$4, props2.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props2;\n    const context = useMenuContext(CONTENT_NAME$4, props2.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME$4, props2.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME$1, props2.__scopeMenu);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection.Provider, {\n        scope: props2.__scopeMenu,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n            present: forceMount || context.open,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Collection.Slot, {\n                scope: props2.__scopeMenu,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MenuContentImpl, {\n                    id: subContext.contentId,\n                    \"aria-labelledby\": subContext.triggerId,\n                    ...subContentProps,\n                    ref: composedRefs,\n                    align: \"start\",\n                    side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n                    disableOutsidePointerEvents: false,\n                    disableOutsideScroll: false,\n                    trapFocus: false,\n                    onOpenAutoFocus: (event)=>{\n                        var _a;\n                        if (rootContext.isUsingKeyboardRef.current) (_a = ref.current) == null ? void 0 : _a.focus();\n                        event.preventDefault();\n                    },\n                    onCloseAutoFocus: (event)=>event.preventDefault(),\n                    onFocusOutside: composeEventHandlers(props2.onFocusOutside, (event)=>{\n                        if (event.target !== subContext.trigger) context.onOpenChange(false);\n                    }),\n                    onEscapeKeyDown: composeEventHandlers(props2.onEscapeKeyDown, (event)=>{\n                        rootContext.onClose();\n                        event.preventDefault();\n                    }),\n                    onKeyDown: composeEventHandlers(props2.onKeyDown, (event)=>{\n                        var _a;\n                        const isKeyDownInside = event.currentTarget.contains(event.target);\n                        const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n                        if (isKeyDownInside && isCloseKey) {\n                            context.onOpenChange(false);\n                            (_a = subContext.trigger) == null ? void 0 : _a.focus();\n                            event.preventDefault();\n                        }\n                    })\n                })\n            })\n        })\n    });\n}, \"RnbMCG59r+CFhyqGMcTlJEhO7so=\", false, function() {\n    return [\n        usePortalContext$2,\n        useMenuContext,\n        useMenuRootContext,\n        useMenuSubContext,\n        useComposedRefs\n    ];\n})), \"RnbMCG59r+CFhyqGMcTlJEhO7so=\", false, function() {\n    return [\n        usePortalContext$2,\n        useMenuContext,\n        useMenuRootContext,\n        useMenuSubContext,\n        useComposedRefs\n    ];\n});\n_c118 = MenuSubContent;\nMenuSubContent.displayName = SUB_CONTENT_NAME$1;\nfunction getOpenState(open) {\n    return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n    return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n    return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n    const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n    for (const candidate of candidates){\n        if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n        candidate.focus();\n        if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n    }\n}\nfunction wrapArray(array, startIndex) {\n    return array.map((_, index2)=>array[(startIndex + index2) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n    const isRepeated = search.length > 1 && Array.from(search).every((char)=>char === search[0]);\n    const normalizedSearch = isRepeated ? search[0] : search;\n    const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n    let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n    const excludeCurrentMatch = normalizedSearch.length === 1;\n    if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v)=>v !== currentMatch);\n    const nextMatch = wrappedValues.find((value1)=>value1.toLowerCase().startsWith(normalizedSearch.toLowerCase()));\n    return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon$1(point, polygon) {\n    const { x, y } = point;\n    let inside = false;\n    for(let i = 0, j = polygon.length - 1; i < polygon.length; j = i++){\n        const ii = polygon[i];\n        const jj = polygon[j];\n        const xi = ii.x;\n        const yi = ii.y;\n        const xj = jj.x;\n        const yj = jj.y;\n        const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n        if (intersect) inside = !inside;\n    }\n    return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n    if (!area) return false;\n    const cursorPos = {\n        x: event.clientX,\n        y: event.clientY\n    };\n    return isPointInPolygon$1(cursorPos, area);\n}\nfunction whenMouse(handler) {\n    return (event)=>event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3$1 = Menu;\nvar Anchor2$1 = MenuAnchor;\nvar Portal$2 = MenuPortal;\nvar Content2$3 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2$1 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2$1 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(DROPDOWN_MENU_NAME, [\n    createMenuScope\n]);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu$1 = (props2)=>{\n    _s73();\n    const { __scopeDropdownMenu, children, dir, open: openProp, defaultOpen, onOpenChange, modal = true } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const triggerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const [open, setOpen] = useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen !== null && defaultOpen !== void 0 ? defaultOpen : false,\n        onChange: onOpenChange,\n        caller: DROPDOWN_MENU_NAME\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuProvider, {\n        scope: __scopeDropdownMenu,\n        triggerId: useId$1(),\n        triggerRef,\n        contentId: useId$1(),\n        open,\n        onOpenChange: setOpen,\n        onOpenToggle: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"DropdownMenu$1.useCallback\": ()=>setOpen({\n                    \"DropdownMenu$1.useCallback\": (prevOpen)=>!prevOpen\n                }[\"DropdownMenu$1.useCallback\"])\n        }[\"DropdownMenu$1.useCallback\"], [\n            setOpen\n        ]),\n        modal,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root3$1, {\n            ...menuScope,\n            open,\n            onOpenChange: setOpen,\n            dir,\n            modal,\n            children\n        })\n    });\n};\n_s73(DropdownMenu$1, \"rL/0wxs8q7ZZDJNAG/ZlpICsPBE=\", false, function() {\n    return [\n        useMenuScope,\n        useControllableState,\n        useId$1,\n        useId$1\n    ];\n});\n_c119 = DropdownMenu$1;\nDropdownMenu$1.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME$3 = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger$1 = /*#__PURE__*/ _s74(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c120 = _s74((props2, forwardedRef)=>{\n    _s74();\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props2;\n    const context = useDropdownMenuContext(TRIGGER_NAME$3, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor2$1, {\n        asChild: true,\n        ...menuScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.button, {\n            type: \"button\",\n            id: context.triggerId,\n            \"aria-haspopup\": \"menu\",\n            \"aria-expanded\": context.open,\n            \"aria-controls\": context.open ? context.contentId : void 0,\n            \"data-state\": context.open ? \"open\" : \"closed\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            ...triggerProps,\n            ref: composeRefs(forwardedRef, context.triggerRef),\n            onPointerDown: composeEventHandlers(props2.onPointerDown, (event)=>{\n                if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                    context.onOpenToggle();\n                    if (!context.open) event.preventDefault();\n                }\n            }),\n            onKeyDown: composeEventHandlers(props2.onKeyDown, (event)=>{\n                if (disabled) return;\n                if ([\n                    \"Enter\",\n                    \" \"\n                ].includes(event.key)) context.onOpenToggle();\n                if (event.key === \"ArrowDown\") context.onOpenChange(true);\n                if ([\n                    \"Enter\",\n                    \" \",\n                    \"ArrowDown\"\n                ].includes(event.key)) event.preventDefault();\n            })\n        })\n    });\n}, \"VF6M01Vk8Lj/m3Pf4rnYmk8awgw=\", false, function() {\n    return [\n        useDropdownMenuContext,\n        useMenuScope\n    ];\n})), \"VF6M01Vk8Lj/m3Pf4rnYmk8awgw=\", false, function() {\n    return [\n        useDropdownMenuContext,\n        useMenuScope\n    ];\n});\n_c121 = DropdownMenuTrigger$1;\nDropdownMenuTrigger$1.displayName = TRIGGER_NAME$3;\nvar PORTAL_NAME$2 = \"DropdownMenuPortal\";\nvar DropdownMenuPortal$1 = (props2)=>{\n    _s75();\n    const { __scopeDropdownMenu, ...portalProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$2, {\n        ...menuScope,\n        ...portalProps\n    });\n};\n_s75(DropdownMenuPortal$1, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c122 = DropdownMenuPortal$1;\nDropdownMenuPortal$1.displayName = PORTAL_NAME$2;\nvar CONTENT_NAME$3 = \"DropdownMenuContent\";\nvar DropdownMenuContent$1 = /*#__PURE__*/ _s76(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c123 = _s76((props2, forwardedRef)=>{\n    _s76();\n    const { __scopeDropdownMenu, ...contentProps } = props2;\n    const context = useDropdownMenuContext(CONTENT_NAME$3, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content2$3, {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props2.onCloseAutoFocus, (event)=>{\n            var _a;\n            if (!hasInteractedOutsideRef.current) (_a = context.triggerRef.current) == null ? void 0 : _a.focus();\n            hasInteractedOutsideRef.current = false;\n            event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props2.onInteractOutside, (event)=>{\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n            ...props2.style,\n            // re-namespace exposed content custom properties\n            ...{\n                \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n            }\n        }\n    });\n}, \"IxfmRH92Vi06xpdwf/XFbSU51nY=\", false, function() {\n    return [\n        useDropdownMenuContext,\n        useMenuScope\n    ];\n})), \"IxfmRH92Vi06xpdwf/XFbSU51nY=\", false, function() {\n    return [\n        useDropdownMenuContext,\n        useMenuScope\n    ];\n});\n_c124 = DropdownMenuContent$1;\nDropdownMenuContent$1.displayName = CONTENT_NAME$3;\nvar GROUP_NAME = \"DropdownMenuGroup\";\nvar DropdownMenuGroup$1 = /*#__PURE__*/ _s77(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c125 = _s77((props2, forwardedRef)=>{\n    _s77();\n    const { __scopeDropdownMenu, ...groupProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group, {\n        ...menuScope,\n        ...groupProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c126 = DropdownMenuGroup$1;\nDropdownMenuGroup$1.displayName = GROUP_NAME;\nvar LABEL_NAME = \"DropdownMenuLabel\";\nvar DropdownMenuLabel$1 = /*#__PURE__*/ _s78(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c127 = _s78((props2, forwardedRef)=>{\n    _s78();\n    const { __scopeDropdownMenu, ...labelProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Label, {\n        ...menuScope,\n        ...labelProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c128 = DropdownMenuLabel$1;\nDropdownMenuLabel$1.displayName = LABEL_NAME;\nvar ITEM_NAME = \"DropdownMenuItem\";\nvar DropdownMenuItem$1 = /*#__PURE__*/ _s79(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c129 = _s79((props2, forwardedRef)=>{\n    _s79();\n    const { __scopeDropdownMenu, ...itemProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Item2$1, {\n        ...menuScope,\n        ...itemProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c130 = DropdownMenuItem$1;\nDropdownMenuItem$1.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem$1 = /*#__PURE__*/ _s80(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c131 = _s80((props2, forwardedRef)=>{\n    _s80();\n    const { __scopeDropdownMenu, ...checkboxItemProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CheckboxItem, {\n        ...menuScope,\n        ...checkboxItemProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c132 = DropdownMenuCheckboxItem$1;\nDropdownMenuCheckboxItem$1.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup$1 = /*#__PURE__*/ _s81(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c133 = _s81((props2, forwardedRef)=>{\n    _s81();\n    const { __scopeDropdownMenu, ...radioGroupProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RadioGroup, {\n        ...menuScope,\n        ...radioGroupProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c134 = DropdownMenuRadioGroup$1;\nDropdownMenuRadioGroup$1.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem$1 = /*#__PURE__*/ _s82(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c135 = _s82((props2, forwardedRef)=>{\n    _s82();\n    const { __scopeDropdownMenu, ...radioItemProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RadioItem, {\n        ...menuScope,\n        ...radioItemProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c136 = DropdownMenuRadioItem$1;\nDropdownMenuRadioItem$1.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = /*#__PURE__*/ _s83(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c137 = _s83((props2, forwardedRef)=>{\n    _s83();\n    const { __scopeDropdownMenu, ...itemIndicatorProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemIndicator, {\n        ...menuScope,\n        ...itemIndicatorProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c138 = DropdownMenuItemIndicator;\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator$1 = /*#__PURE__*/ _s84(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c139 = _s84((props2, forwardedRef)=>{\n    _s84();\n    const { __scopeDropdownMenu, ...separatorProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Separator, {\n        ...menuScope,\n        ...separatorProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c140 = DropdownMenuSeparator$1;\nDropdownMenuSeparator$1.displayName = SEPARATOR_NAME;\nvar ARROW_NAME$2 = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = /*#__PURE__*/ _s85(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c141 = _s85((props2, forwardedRef)=>{\n    _s85();\n    const { __scopeDropdownMenu, ...arrowProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow2$1, {\n        ...menuScope,\n        ...arrowProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c142 = DropdownMenuArrow;\nDropdownMenuArrow.displayName = ARROW_NAME$2;\nvar DropdownMenuSub$1 = (props2)=>{\n    _s86();\n    const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const [open, setOpen] = useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen !== null && defaultOpen !== void 0 ? defaultOpen : false,\n        onChange: onOpenChange,\n        caller: \"DropdownMenuSub\"\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Sub, {\n        ...menuScope,\n        open,\n        onOpenChange: setOpen,\n        children\n    });\n};\n_s86(DropdownMenuSub$1, \"tsAfb9HgeeojKJpaoQXIhZ1uQsI=\", false, function() {\n    return [\n        useMenuScope,\n        useControllableState\n    ];\n});\n_c143 = DropdownMenuSub$1;\nvar SUB_TRIGGER_NAME = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger$1 = /*#__PURE__*/ _s87(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c144 = _s87((props2, forwardedRef)=>{\n    _s87();\n    const { __scopeDropdownMenu, ...subTriggerProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SubTrigger, {\n        ...menuScope,\n        ...subTriggerProps,\n        ref: forwardedRef\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c145 = DropdownMenuSubTrigger$1;\nDropdownMenuSubTrigger$1.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent$1 = /*#__PURE__*/ _s88(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c146 = _s88((props2, forwardedRef)=>{\n    _s88();\n    const { __scopeDropdownMenu, ...subContentProps } = props2;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SubContent, {\n        ...menuScope,\n        ...subContentProps,\n        ref: forwardedRef,\n        style: {\n            ...props2.style,\n            // re-namespace exposed content custom properties\n            ...{\n                \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n            }\n        }\n    });\n}, \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n})), \"tiYL9inPD2cEO2HZIBsVh57evhg=\", false, function() {\n    return [\n        useMenuScope\n    ];\n});\n_c147 = DropdownMenuSubContent$1;\nDropdownMenuSubContent$1.displayName = SUB_CONTENT_NAME;\nvar Root2$2 = DropdownMenu$1;\nvar Trigger$3 = DropdownMenuTrigger$1;\nvar Portal2 = DropdownMenuPortal$1;\nvar Content2$2 = DropdownMenuContent$1;\nvar Group2 = DropdownMenuGroup$1;\nvar Label2 = DropdownMenuLabel$1;\nvar Item2 = DropdownMenuItem$1;\nvar CheckboxItem2 = DropdownMenuCheckboxItem$1;\nvar RadioGroup2 = DropdownMenuRadioGroup$1;\nvar RadioItem2 = DropdownMenuRadioItem$1;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator$1;\nvar Sub2 = DropdownMenuSub$1;\nvar SubTrigger2 = DropdownMenuSubTrigger$1;\nvar SubContent2 = DropdownMenuSubContent$1;\nfunction DropdownMenu(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$2, {\n        \"data-slot\": \"dropdown-menu\",\n        ...props2\n    });\n}\n_c148 = DropdownMenu;\nfunction DropdownMenuPortal(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal2, {\n        container: getPipecatUIContainer(),\n        \"data-slot\": \"dropdown-menu-portal\",\n        ...props2\n    });\n}\n_c149 = DropdownMenuPortal;\nfunction DropdownMenuTrigger(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Trigger$3, {\n        \"data-slot\": \"dropdown-menu-trigger\",\n        ...props2\n    });\n}\n_c150 = DropdownMenuTrigger;\nfunction DropdownMenuContent(param) {\n    let { className, sideOffset = 4, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuPortal, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content2$2, {\n            \"data-slot\": \"dropdown-menu-content\",\n            sideOffset,\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-popover vkui:text-popover-foreground vkui:data-[state=open]:animate-in vkui:data-[state=closed]:animate-out vkui:data-[state=closed]:fade-out-0 vkui:data-[state=open]:fade-in-0 vkui:data-[state=closed]:zoom-out-95 vkui:data-[state=open]:zoom-in-95 vkui:data-[side=bottom]:slide-in-from-top-2 vkui:data-[side=left]:slide-in-from-right-2 vkui:data-[side=right]:slide-in-from-left-2 vkui:data-[side=top]:slide-in-from-bottom-2 vkui:z-50 vkui:max-h-(--radix-dropdown-menu-content-available-height) vkui:min-w-[8rem] vkui:origin-(--radix-dropdown-menu-content-transform-origin) vkui:overflow-x-hidden vkui:overflow-y-auto vkui:rounded-element vkui:border vkui:p-1 vkui:shadow-short\", className),\n            ...props2\n        })\n    });\n}\n_c151 = DropdownMenuContent;\nfunction DropdownMenuGroup(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group2, {\n        \"data-slot\": \"dropdown-menu-group\",\n        ...props2\n    });\n}\n_c152 = DropdownMenuGroup;\nfunction DropdownMenuItem(param) {\n    let { className, inset, variant = \"default\", ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Item2, {\n        \"data-slot\": \"dropdown-menu-item\",\n        \"data-inset\": inset,\n        \"data-variant\": variant,\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:focus:bg-accent vkui:focus:text-accent-foreground vkui:data-[variant=destructive]:text-destructive vkui:data-[variant=destructive]:focus:bg-destructive/10 vkui:dark:data-[variant=destructive]:focus:bg-destructive/20 vkui:data-[variant=destructive]:focus:text-destructive vkui:data-[variant=destructive]:*:[svg]:!text-destructive vkui:[&_svg:not([class*='text-'])]:text-muted-foreground vkui:relative vkui:flex vkui:cursor-default vkui:items-center vkui:gap-2 vkui:rounded-sm vkui:px-2 vkui:py-1.5 vkui:text-sm vkui:outline-hidden vkui:select-none vkui:data-[disabled]:pointer-events-none vkui:data-[disabled]:opacity-50 vkui:data-[inset]:pl-8 vkui:[&_svg]:pointer-events-none vkui:[&_svg]:shrink-0 vkui:[&_svg:not([class*='size-'])]:size-4\", className),\n        ...props2\n    });\n}\n_c153 = DropdownMenuItem;\nfunction DropdownMenuCheckboxItem(param) {\n    let { className, children, checked, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(CheckboxItem2, {\n        \"data-slot\": \"dropdown-menu-checkbox-item\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:focus:bg-accent vkui:focus:text-accent-foreground vkui:relative vkui:flex vkui:cursor-default vkui:items-center vkui:gap-2 vkui:rounded-sm vkui:py-1.5 vkui:pr-2 vkui:pl-8 vkui:text-sm vkui:outline-hidden vkui:select-none vkui:data-[disabled]:pointer-events-none vkui:data-[disabled]:opacity-50 vkui:[&_svg]:pointer-events-none vkui:[&_svg]:shrink-0 vkui:[&_svg:not([class*='size-'])]:size-4\", checked && \"vkui:font-medium vkui:bg-accent\", className),\n        checked,\n        ...props2,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"vkui:pointer-events-none vkui:absolute vkui:left-2 vkui:flex size-3.5 vkui:items-center vkui:justify-center\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemIndicator2, {\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CheckIcon, {})\n                })\n            }),\n            children\n        ]\n    });\n}\n_c154 = DropdownMenuCheckboxItem;\nfunction DropdownMenuRadioGroup(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RadioGroup2, {\n        \"data-slot\": \"dropdown-menu-radio-group\",\n        ...props2\n    });\n}\n_c155 = DropdownMenuRadioGroup;\nfunction DropdownMenuRadioItem(param) {\n    let { className, children, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(RadioItem2, {\n        \"data-slot\": \"dropdown-menu-radio-item\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:focus:bg-accent vkui:focus:text-accent-foreground vkui:relative vkui:flex vkui:cursor-default vkui:items-center vkui:gap-2 vkui:rounded-panel vkui:py-1.5 vkui:pr-2 vkui:pl-8 vkui:text-sm vkui:outline-hidden vkui:select-none vkui:data-[disabled]:pointer-events-none vkui:data-[disabled]:opacity-50 vkui:[&_svg]:pointer-events-none vkui:[&_svg]:shrink-0 vkui:[&_svg:not([class*='size-'])]:size-4\", className),\n        ...props2,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"vkui:pointer-events-none vkui:absolute vkui:left-2 vkui:flex vkui:size-3.5 vkui:items-center vkui:justify-center\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ItemIndicator2, {\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CircleIcon, {\n                        className: \"size-2 vkui:fill-current\"\n                    })\n                })\n            }),\n            children\n        ]\n    });\n}\n_c156 = DropdownMenuRadioItem;\nfunction DropdownMenuLabel(param) {\n    let { className, inset, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Label2, {\n        \"data-slot\": \"dropdown-menu-label\",\n        \"data-inset\": inset,\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:px-2 vkui:py-1.5 vkui:text-sm vkui:font-medium vkui:data-[inset]:pl-8\", className),\n        ...props2\n    });\n}\n_c157 = DropdownMenuLabel;\nfunction DropdownMenuSeparator(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Separator2, {\n        \"data-slot\": \"dropdown-menu-separator\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-border vkui:-mx-1 vkui:my-1 vkui:h-px\", className),\n        ...props2\n    });\n}\n_c158 = DropdownMenuSeparator;\nfunction DropdownMenuShortcut(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n        \"data-slot\": \"dropdown-menu-shortcut\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-muted-foreground vkui:ml-auto vkui:text-xs vkui:tracking-widest\", className),\n        ...props2\n    });\n}\n_c159 = DropdownMenuShortcut;\nfunction DropdownMenuSub(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Sub2, {\n        \"data-slot\": \"dropdown-menu-sub\",\n        ...props2\n    });\n}\n_c160 = DropdownMenuSub;\nfunction DropdownMenuSubTrigger(param) {\n    let { className, inset, children, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(SubTrigger2, {\n        \"data-slot\": \"dropdown-menu-sub-trigger\",\n        \"data-inset\": inset,\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:focus:bg-accent vkui:focus:text-accent-foreground vkui:data-[state=open]:bg-accent vkui:data-[state=open]:text-accent-foreground vkui:flex vkui:cursor-default vkui:items-center vkui:rounded-sm vkui:px-2 vkui:py-1.5 vkui:text-sm vkui:outline-hidden vkui:select-none vkui:data-[inset]:pl-8\", className),\n        ...props2,\n        children: [\n            children,\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronRightIcon, {\n                className: \"vkui:ml-auto vkui:size-4\"\n            })\n        ]\n    });\n}\n_c161 = DropdownMenuSubTrigger;\nfunction DropdownMenuSubContent(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SubContent2, {\n        \"data-slot\": \"dropdown-menu-sub-content\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-popover vkui:text-popover-foreground vkui:data-[state=open]:animate-in vkui:data-[state=closed]:animate-out vkui:data-[state=closed]:fade-out-0 vkui:data-[state=open]:fade-in-0 vkui:data-[state=closed]:zoom-out-95 vkui:data-[state=open]:zoom-in-95 vkui:data-[side=bottom]:slide-in-from-top-2 vkui:data-[side=left]:slide-in-from-right-2 vkui:data-[side=right]:slide-in-from-left-2 vkui:data-[side=top]:slide-in-from-bottom-2 vkui:z-50 vkui:min-w-[8rem] vkui:origin-(--radix-dropdown-menu-content-transform-origin) vkui:overflow-hidden vkui:rounded-md vkui:border vkui:p-1 vkui:shadow-lg\", className),\n        ...props2\n    });\n}\n_c162 = DropdownMenuSubContent;\nconst DeviceDropDown = (param)=>{\n    let { children, noMenuLabel = false, noMenuSeparator = false, menuLabel = \"Device select\", availableDevices, selectedDevice, updateDevice, classNames } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DropdownMenu, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuTrigger, {\n                asChild: true,\n                children\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DropdownMenuContent, {\n                align: \"end\",\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(classNames == null ? void 0 : classNames.dropdownMenuContent),\n                children: [\n                    !noMenuLabel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuLabel, {\n                        children: menuLabel\n                    }),\n                    !noMenuSeparator && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuSeparator, {}),\n                    availableDevices == null ? void 0 : availableDevices.map((device)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuCheckboxItem, {\n                            checked: (selectedDevice == null ? void 0 : selectedDevice.deviceId) === device.deviceId,\n                            onCheckedChange: ()=>updateDevice == null ? void 0 : updateDevice(device.deviceId),\n                            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(classNames == null ? void 0 : classNames.dropdownMenuCheckboxItem),\n                            children: device.label || \"Device \".concat(device.deviceId.slice(0, 5))\n                        }, device.deviceId))\n                ]\n            })\n        ]\n    });\n};\n_c163 = DeviceDropDown;\nconst btnClasses = \"vkui:flex-1 vkui:w-full vkui:z-10 vkui:justify-start\";\nconst UserAudioComponent = (param)=>{\n    let { variant = \"secondary\", size: size2 = \"default\", classNames = {}, buttonProps = {}, dropdownButtonProps = {}, noDevicePicker = false, noVisualizer = false, visualizerProps = {}, isMicEnabled = false, state, availableMics, selectedMic, updateMic, noAudio, noAudioText = \"Audio disabled\", onClick } = param;\n    var _a;\n    if (noAudio || (buttonProps == null ? void 0 : buttonProps.isLoading)) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n            variant,\n            size: size2,\n            ...buttonProps,\n            disabled: true,\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(btnClasses, (buttonProps == null ? void 0 : buttonProps.isLoading) && \"vkui:justify-center\", classNames.button),\n            children: !(buttonProps == null ? void 0 : buttonProps.isLoading) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MicOffIcon, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                        className: \"vkui:flex-1\",\n                        children: noAudioText\n                    })\n                ]\n            })\n        });\n    }\n    const buttonState = state || (isMicEnabled ? \"default\" : \"inactive\");\n    const accentColor = ((_a = buttonAccentColorMap[variant || \"default\"]) == null ? void 0 : _a[buttonState]) || \"black\";\n    const button = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Button, {\n                onClick,\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(btnClasses, classNames.button),\n                variant,\n                state: buttonState,\n                size: size2,\n                ...buttonProps,\n                children: [\n                    isMicEnabled ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MicIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MicOffIcon, {}),\n                    !noVisualizer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VoiceVisualizer, {\n                        participantType: \"local\",\n                        backgroundColor: \"transparent\",\n                        barCount: 10,\n                        barGap: 2,\n                        barMaxHeight: size2 === \"lg\" ? 24 : size2 === \"xl\" ? 36 : 20,\n                        barOrigin: \"center\",\n                        barWidth: 3,\n                        barColor: accentColor,\n                        className: \"vkui:mx-auto\",\n                        ...visualizerProps\n                    })\n                ]\n            }),\n            !noDevicePicker && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DeviceDropDown, {\n                menuLabel: \"Microphone device\",\n                availableDevices: availableMics,\n                selectedDevice: selectedMic,\n                updateDevice: updateMic,\n                classNames: {\n                    dropdownMenuContent: classNames.dropdownMenuContent,\n                    dropdownMenuCheckboxItem: classNames.dropdownMenuCheckboxItem\n                },\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                    className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:p-2! vkui:flex-none vkui:z-0\", classNames.dropdownMenuTrigger),\n                    variant,\n                    size: size2,\n                    isIcon: true,\n                    ...dropdownButtonProps,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronDownIcon, {\n                        size: 16\n                    })\n                })\n            })\n        ]\n    });\n    if (noDevicePicker) {\n        return button;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ButtonGroup, {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:w-full\", variant !== \"outline\" && \"vkui:gap-[2px]\", classNames.buttongroup),\n        children: button\n    });\n};\n_c164 = UserAudioComponent;\nconst UserAudioControl = (props2)=>{\n    _s89();\n    const client = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClient)();\n    const { availableMics, selectedMic, updateMic } = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaDevices)();\n    const hasAudio = client == null ? void 0 : client.isMicEnabled;\n    const loading = hasAudio === null;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"UserAudioControl.useEffect\": ()=>{\n            if (!client) return;\n            if ([\n                \"idle\",\n                \"disconnected\"\n            ].includes(client.state)) {\n                client.initDevices();\n            }\n        }\n    }[\"UserAudioControl.useEffect\"], [\n        client\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientMicToggle, {\n        children: (param)=>{\n            let { isMicEnabled, onClick } = param;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserAudioComponent, {\n                noAudio: !hasAudio,\n                onClick,\n                isMicEnabled,\n                availableMics,\n                selectedMic,\n                updateMic,\n                state: isMicEnabled ? \"default\" : \"inactive\",\n                buttonProps: {\n                    isLoading: loading\n                },\n                ...props2\n            });\n        }\n    });\n};\n_s89(UserAudioControl, \"A+9jZyMKpywn4QGIvmGtcZVtApc=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClient,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaDevices\n    ];\n});\n_c165 = UserAudioControl;\nfunction Card(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-card vkui:text-card-foreground vkui:flex vkui:flex-col vkui:gap-2 vkui:md:gap-3 vkui:rounded-2xl vkui:border vkui:border-border vkui:p-2 vkui:md:p-3\", props2.destructive && \"vkui:text-destructive vkui:border-destructive\", className),\n        ...props2\n    });\n}\n_c166 = Card;\nfunction CardHeader(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card-header\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:gap-2 vkui:md:gap-3 vkui:p-2 vkui:md:p-3\", className),\n        ...props2\n    });\n}\n_c167 = CardHeader;\nfunction CardTitle(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card-title\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:leading-none vkui:font-semibold\", className),\n        ...props2\n    });\n}\n_c168 = CardTitle;\nfunction CardDescription(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card-description\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-muted-foreground vkui:text-sm\", className),\n        ...props2\n    });\n}\n_c169 = CardDescription;\nfunction CardAction(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card-action\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:col-start-2 vkui:row-span-2 vkui:row-start-1 vkui:self-start vkui:justify-self-end\", className),\n        ...props2\n    });\n}\n_c170 = CardAction;\nfunction CardContent(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card-content\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:gap-2 vkui:md:gap-3 vkui:p-2 vkui:md:p-3\", className),\n        ...props2\n    });\n}\n_c171 = CardContent;\nfunction CardFooter(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"card-footer\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:gap-2 vkui:md:gap-3 vkui:p-2 vkui:md:p-3\", className),\n        ...props2\n    });\n}\n_c172 = CardFooter;\nfunction FullScreenContainer(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:w-full vkui:h-dvh vkui:bg-background\", className),\n        ...props2\n    });\n}\n_c173 = FullScreenContainer;\nconst ErrorCard = (param)=>{\n    let { title = \"An Error Occurred\", error, className } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Card, {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:shadow-long vkui:min-w-md vkui:gap-0\", className),\n        destructive: true,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(CardHeader, {\n                className: \"vkui:font-semibold vkui:flex vkui:flex-row vkui:items-center\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InfoIcon, {\n                        size: 24\n                    }),\n                    title\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CardContent, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                    className: \"vkui:text-sm vkui:text-balanced\",\n                    children: error\n                })\n            })\n        ]\n    });\n};\n_c174 = ErrorCard;\nconst inputVariants = cva(\"vkui:file:text-foreground vkui:placeholder:text-muted-foreground vkui:selection:bg-primary vkui:selection:text-primary-foreground vkui:dark:bg-input/30 vkui:border-input vkui:flex vkui:w-full vkui:min-w-0 vkui:rounded-md vkui:border vkui:bg-transparent vkui:px-3 vkui:text-foreground vkui:transition-[color,box-shadow] vkui:outline-none vkui:file:inline-flex vkui:file:border-0 vkui:file:bg-transparent vkui:file:text-sm vkui:file:font-medium vkui:disabled:pointer-events-none vkui:disabled:cursor-not-allowed vkui:disabled:opacity-50 vkui:md:text-sm vkui:focus-visible:border-ring vkui:focus-visible:ring-ring/50 vkui:focus-visible:ring-[3px] vkui:aria-invalid:ring-destructive/20 vkui:dark:aria-invalid:ring-destructive/40 vkui:aria-invalid:border-destructive\", {\n    variants: {\n        size: {\n            sm: \"vkui:h-7 vkui:px-2.5 vkui:py-1 vkui:text-sm\",\n            default: \"vkui:h-8 vkui:px-3 vkui:py-1\",\n            lg: \"vkui:h-10 vkui:px-3 vkui:py-2 vkui:rounded-lg\"\n        }\n    },\n    defaultVariants: {\n        size: \"default\"\n    }\n});\nfunction Input(param) {\n    let { className, type, size: size2, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n        type,\n        \"data-slot\": \"input\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(inputVariants({\n            size: size2,\n            className\n        })),\n        ...props2\n    });\n}\n_c175 = Input;\nfunction LayoutSection(param) {\n    let { className, sectionKey, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"section\", {\n        \"data-section\": sectionKey,\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(className),\n        ...props2\n    });\n}\n_c176 = LayoutSection;\nconst LoaderSpinner = (param)=>{\n    let { size: size2 = 32 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoaderIcon, {\n        className: \"vkui:animate-spin vkui:opacity-50\",\n        size: size2\n    });\n};\n_c177 = LoaderSpinner;\nfunction Panel$1(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"panel\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:@container/panel vkui:bg-card vkui:text-card-foreground vkui:flex vkui:flex-col vkui:rounded-panel vkui:border\", className),\n        ...props2\n    });\n}\n_c178 = Panel$1;\nconst PanelHeaderVariants = cva(\"vkui:@container/panel-header\", {\n    variants: {\n        variant: {\n            default: \"vkui:border-b vkui:flex vkui:items-center vkui:justify-center vkui:text-card-foreground vkui:p-2 vkui:@xs/panel:p-3 vkui:@md/panel:p-4\",\n            inline: \"vkui:items-start vkui:text-foreground vkui:p-2 vkui:@xs/panel:p-3 vkui:@md/panel:p-4\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\"\n    }\n});\nfunction PanelHeader(param) {\n    let { variant, className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"panel-header\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(PanelHeaderVariants({\n            variant,\n            className\n        }), className),\n        ...props2\n    });\n}\n_c179 = PanelHeader;\nfunction PanelTitle(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"panel-title\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-mono-upper\", className),\n        ...props2\n    });\n}\n_c180 = PanelTitle;\nfunction PanelContent(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"panel-content\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-foreground vkui:flex vkui:flex-col vkui:p-2 vkui:gap-2 vkui:@xs/panel:p-3 vkui:@xs/panel:gap-3 vkui:@md/panel:p-4 vkui:@md/panel:gap-4\", className),\n        ...props2\n    });\n}\n_c181 = PanelContent;\nfunction PanelFooter(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"panel-footer\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:items-center vkui:p-2 vkui:@xs/panel:p-3 vkui:@md/panel:p-4\", className),\n        ...props2\n    });\n}\n_c182 = PanelFooter;\nfunction PanelActions(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        \"data-slot\": \"panel-actions\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:items-center vkui:gap-1 vkui:@xs/panel:gap-2\", className),\n        ...props2\n    });\n}\n_c183 = PanelActions;\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n    createPopperScope\n]);\nvar usePopperScope$1 = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover$1 = (props2)=>{\n    _s90();\n    const { __scopePopover, children, open: openProp, defaultOpen, onOpenChange, modal = false } = props2;\n    const popperScope = usePopperScope$1(__scopePopover);\n    const triggerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const [hasCustomAnchor, setHasCustomAnchor] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [open, setOpen] = useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen !== null && defaultOpen !== void 0 ? defaultOpen : false,\n        onChange: onOpenChange,\n        caller: POPOVER_NAME\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$4, {\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverProvider, {\n            scope: __scopePopover,\n            contentId: useId$1(),\n            triggerRef,\n            open,\n            onOpenChange: setOpen,\n            onOpenToggle: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                \"Popover$1.useCallback\": ()=>setOpen({\n                        \"Popover$1.useCallback\": (prevOpen)=>!prevOpen\n                    }[\"Popover$1.useCallback\"])\n            }[\"Popover$1.useCallback\"], [\n                setOpen\n            ]),\n            hasCustomAnchor,\n            onCustomAnchorAdd: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                \"Popover$1.useCallback\": ()=>setHasCustomAnchor(true)\n            }[\"Popover$1.useCallback\"], []),\n            onCustomAnchorRemove: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                \"Popover$1.useCallback\": ()=>setHasCustomAnchor(false)\n            }[\"Popover$1.useCallback\"], []),\n            modal,\n            children\n        })\n    });\n};\n_s90(Popover$1, \"moKtS7XFFdIGt7Tl/bav2+g5Qak=\", false, function() {\n    return [\n        usePopperScope$1,\n        useControllableState,\n        useId$1\n    ];\n});\n_c184 = Popover$1;\nPopover$1.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor$1 = /*#__PURE__*/ _s91(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c185 = _s91((props2, forwardedRef)=>{\n    _s91();\n    const { __scopePopover, ...anchorProps } = props2;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope$1(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"PopoverAnchor$1.useEffect\": ()=>{\n            onCustomAnchorAdd();\n            return ({\n                \"PopoverAnchor$1.useEffect\": ()=>onCustomAnchorRemove()\n            })[\"PopoverAnchor$1.useEffect\"];\n        }\n    }[\"PopoverAnchor$1.useEffect\"], [\n        onCustomAnchorAdd,\n        onCustomAnchorRemove\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor, {\n        ...popperScope,\n        ...anchorProps,\n        ref: forwardedRef\n    });\n}, \"ZOucjTMnhDOz84RaFVb9QIzikZc=\", false, function() {\n    return [\n        usePopoverContext,\n        usePopperScope$1\n    ];\n})), \"ZOucjTMnhDOz84RaFVb9QIzikZc=\", false, function() {\n    return [\n        usePopoverContext,\n        usePopperScope$1\n    ];\n});\n_c186 = PopoverAnchor$1;\nPopoverAnchor$1.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME$2 = \"PopoverTrigger\";\nvar PopoverTrigger$1 = /*#__PURE__*/ _s92(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c187 = _s92((props2, forwardedRef)=>{\n    _s92();\n    const { __scopePopover, ...triggerProps } = props2;\n    const context = usePopoverContext(TRIGGER_NAME$2, __scopePopover);\n    const popperScope = usePopperScope$1(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.button, {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props2.onClick, context.onOpenToggle)\n    });\n    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor, {\n        asChild: true,\n        ...popperScope,\n        children: trigger\n    });\n}, \"p2m0Qu1/1DhXqUzbHFlhSeijZTk=\", false, function() {\n    return [\n        usePopoverContext,\n        usePopperScope$1,\n        useComposedRefs\n    ];\n})), \"p2m0Qu1/1DhXqUzbHFlhSeijZTk=\", false, function() {\n    return [\n        usePopoverContext,\n        usePopperScope$1,\n        useComposedRefs\n    ];\n});\n_c188 = PopoverTrigger$1;\nPopoverTrigger$1.displayName = TRIGGER_NAME$2;\nvar PORTAL_NAME$1 = \"PopoverPortal\";\nvar [PortalProvider$1, usePortalContext$1] = createPopoverContext(PORTAL_NAME$1, {\n    forceMount: void 0\n});\nvar PopoverPortal = (props2)=>{\n    _s93();\n    const { __scopePopover, forceMount, children, container } = props2;\n    const context = usePopoverContext(PORTAL_NAME$1, __scopePopover);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortalProvider$1, {\n        scope: __scopePopover,\n        forceMount,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n            present: forceMount || context.open,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$4, {\n                asChild: true,\n                container,\n                children\n            })\n        })\n    });\n};\n_s93(PopoverPortal, \"9et25l8VaLcpuQmtUVmALeCWc4M=\", false, function() {\n    return [\n        usePopoverContext\n    ];\n});\n_c189 = PopoverPortal;\nPopoverPortal.displayName = PORTAL_NAME$1;\nvar CONTENT_NAME$2 = \"PopoverContent\";\nvar PopoverContent$1 = /*#__PURE__*/ _s94(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c190 = _s94((props2, forwardedRef)=>{\n    _s94();\n    const portalContext = usePortalContext$1(CONTENT_NAME$2, props2.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props2;\n    const context = usePopoverContext(CONTENT_NAME$2, props2.__scopePopover);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n        present: forceMount || context.open,\n        children: context.modal ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverContentModal, {\n            ...contentProps,\n            ref: forwardedRef\n        }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverContentNonModal, {\n            ...contentProps,\n            ref: forwardedRef\n        })\n    });\n}, \"imxxDbChpFY8c2dDlDMvDPvdH74=\", false, function() {\n    return [\n        usePortalContext$1,\n        usePopoverContext\n    ];\n})), \"imxxDbChpFY8c2dDlDMvDPvdH74=\", false, function() {\n    return [\n        usePortalContext$1,\n        usePopoverContext\n    ];\n});\n_c191 = PopoverContent$1;\nPopoverContent$1.displayName = CONTENT_NAME$2;\nvar Slot = /* @__PURE__ */ createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s95((props2, forwardedRef)=>{\n    _s95();\n    const context = usePopoverContext(CONTENT_NAME$2, props2.__scopePopover);\n    const contentRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"PopoverContentModal.useEffect\": ()=>{\n            const content = contentRef.current;\n            if (content) return hideOthers(content);\n        }\n    }[\"PopoverContentModal.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReactRemoveScroll, {\n        as: Slot,\n        allowPinchZoom: true,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverContentImpl, {\n            ...props2,\n            ref: composedRefs,\n            trapFocus: context.open,\n            disableOutsidePointerEvents: true,\n            onCloseAutoFocus: composeEventHandlers(props2.onCloseAutoFocus, (event)=>{\n                var _a;\n                event.preventDefault();\n                if (!isRightClickOutsideRef.current) (_a = context.triggerRef.current) == null ? void 0 : _a.focus();\n            }),\n            onPointerDownOutside: composeEventHandlers(props2.onPointerDownOutside, (event)=>{\n                const originalEvent = event.detail.originalEvent;\n                const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n                const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n                isRightClickOutsideRef.current = isRightClick;\n            }, {\n                checkForDefaultPrevented: false\n            }),\n            onFocusOutside: composeEventHandlers(props2.onFocusOutside, (event)=>event.preventDefault(), {\n                checkForDefaultPrevented: false\n            })\n        })\n    });\n}, \"FECBP+0gqHSMxi3FmVm3wtSLePU=\", false, function() {\n    return [\n        usePopoverContext,\n        useComposedRefs\n    ];\n}));\n_c192 = PopoverContentModal;\nvar PopoverContentNonModal = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s96((props2, forwardedRef)=>{\n    _s96();\n    const context = usePopoverContext(CONTENT_NAME$2, props2.__scopePopover);\n    const hasInteractedOutsideRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const hasPointerDownOutsideRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverContentImpl, {\n        ...props2,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event)=>{\n            var _a, _b;\n            (_a = props2.onCloseAutoFocus) == null ? void 0 : _a.call(props2, event);\n            if (!event.defaultPrevented) {\n                if (!hasInteractedOutsideRef.current) (_b = context.triggerRef.current) == null ? void 0 : _b.focus();\n                event.preventDefault();\n            }\n            hasInteractedOutsideRef.current = false;\n            hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event)=>{\n            var _a, _b;\n            (_a = props2.onInteractOutside) == null ? void 0 : _a.call(props2, event);\n            if (!event.defaultPrevented) {\n                hasInteractedOutsideRef.current = true;\n                if (event.detail.originalEvent.type === \"pointerdown\") {\n                    hasPointerDownOutsideRef.current = true;\n                }\n            }\n            const target = event.target;\n            const targetIsTrigger = (_b = context.triggerRef.current) == null ? void 0 : _b.contains(target);\n            if (targetIsTrigger) event.preventDefault();\n            if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n                event.preventDefault();\n            }\n        }\n    });\n}, \"FrFbVQaru0Wx8/HAeaTJNSNETpc=\", false, function() {\n    return [\n        usePopoverContext\n    ];\n}));\n_c193 = PopoverContentNonModal;\nvar PopoverContentImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s97((props2, forwardedRef)=>{\n    _s97();\n    const { __scopePopover, trapFocus, onOpenAutoFocus, onCloseAutoFocus, disableOutsidePointerEvents, onEscapeKeyDown, onPointerDownOutside, onFocusOutside, onInteractOutside, ...contentProps } = props2;\n    const context = usePopoverContext(CONTENT_NAME$2, __scopePopover);\n    const popperScope = usePopperScope$1(__scopePopover);\n    useFocusGuards();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FocusScope, {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DismissableLayer, {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: ()=>context.onOpenChange(false),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content$1, {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                    ...contentProps.style,\n                    // re-namespace exposed content custom properties\n                    ...{\n                        \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                        \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                        \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                        \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                        \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                    }\n                }\n            })\n        })\n    });\n}, \"f0clBE4tqZLxXgtV+IKMfcNA2Ds=\", false, function() {\n    return [\n        usePopoverContext,\n        usePopperScope$1,\n        useFocusGuards\n    ];\n}));\n_c194 = PopoverContentImpl;\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = /*#__PURE__*/ _s98(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c195 = _s98((props2, forwardedRef)=>{\n    _s98();\n    const { __scopePopover, ...closeProps } = props2;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.button, {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props2.onClick, ()=>context.onOpenChange(false))\n    });\n}, \"9et25l8VaLcpuQmtUVmALeCWc4M=\", false, function() {\n    return [\n        usePopoverContext\n    ];\n})), \"9et25l8VaLcpuQmtUVmALeCWc4M=\", false, function() {\n    return [\n        usePopoverContext\n    ];\n});\n_c196 = PopoverClose;\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME$1 = \"PopoverArrow\";\nvar PopoverArrow = /*#__PURE__*/ _s99(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c197 = _s99((props2, forwardedRef)=>{\n    _s99();\n    const { __scopePopover, ...arrowProps } = props2;\n    const popperScope = usePopperScope$1(__scopePopover);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow, {\n        ...popperScope,\n        ...arrowProps,\n        ref: forwardedRef\n    });\n}, \"61R2rP/8uQ4ISv4XsSVsxzRogBA=\", false, function() {\n    return [\n        usePopperScope$1\n    ];\n})), \"61R2rP/8uQ4ISv4XsSVsxzRogBA=\", false, function() {\n    return [\n        usePopperScope$1\n    ];\n});\n_c198 = PopoverArrow;\nPopoverArrow.displayName = ARROW_NAME$1;\nfunction getState(open) {\n    return open ? \"open\" : \"closed\";\n}\nvar Root2$1 = Popover$1;\nvar Anchor2 = PopoverAnchor$1;\nvar Trigger$2 = PopoverTrigger$1;\nvar Portal$1 = PopoverPortal;\nvar Content2$1 = PopoverContent$1;\nfunction Popover(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$1, {\n        \"data-slot\": \"popover\",\n        ...props2\n    });\n}\n_c199 = Popover;\nfunction PopoverTrigger(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Trigger$2, {\n        \"data-slot\": \"popover-trigger\",\n        ...props2\n    });\n}\n_c200 = PopoverTrigger;\nfunction PopoverContent(param) {\n    let { className, align = \"center\", sideOffset = 4, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$1, {\n        container: getPipecatUIContainer(),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content2$1, {\n            \"data-slot\": \"popover-content\",\n            align,\n            sideOffset,\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-popover vkui:text-popover-foreground vkui:data-[state=open]:animate-in vkui:data-[state=closed]:animate-out vkui:data-[state=closed]:fade-out-0 vkui:data-[state=open]:fade-in-0 vkui:data-[state=closed]:zoom-out-95 vkui:data-[state=open]:zoom-in-95 vkui:data-[side=bottom]:slide-in-from-top-2 vkui:data-[side=left]:slide-in-from-right-2 vkui:data-[side=right]:slide-in-from-left-2 vkui:data-[side=top]:slide-in-from-bottom-2 vkui:z-50 vkui:w-72 origin-(--radix-popover-content-transform-origin) vkui:rounded-md vkui:border vkui:p-4 vkui:shadow-md vkui:outline-hidden\", className),\n            ...props2\n        })\n    });\n}\n_c201 = PopoverContent;\nfunction PopoverAnchor(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor2, {\n        \"data-slot\": \"popover-anchor\",\n        ...props2\n    });\n}\n_c202 = PopoverAnchor;\nconst PanelGroupContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nPanelGroupContext.displayName = \"PanelGroupContext\";\nconst DATA_ATTRIBUTES = {\n    group: \"data-panel-group\",\n    groupDirection: \"data-panel-group-direction\",\n    groupId: \"data-panel-group-id\",\n    panel: \"data-panel\",\n    panelCollapsible: \"data-panel-collapsible\",\n    panelId: \"data-panel-id\",\n    panelSize: \"data-panel-size\",\n    resizeHandle: \"data-resize-handle\",\n    resizeHandleActive: \"data-resize-handle-active\",\n    resizeHandleEnabled: \"data-panel-resize-handle-enabled\",\n    resizeHandleId: \"data-panel-resize-handle-id\",\n    resizeHandleState: \"data-resize-handle-state\"\n};\nconst PRECISION = 10;\nconst useIsomorphicLayoutEffect = react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect;\nconst useId = /*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_1___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_1__, 2)))[\"useId\".toString()];\nconst wrappedUseId = typeof useId === \"function\" ? useId : ()=>null;\nlet counter = 0;\nfunction useUniqueId() {\n    let idFromParams = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n    _s100();\n    const idFromUseId = wrappedUseId();\n    const idRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(idFromParams || idFromUseId || null);\n    if (idRef.current === null) {\n        idRef.current = \"\" + counter++;\n    }\n    return idFromParams !== null && idFromParams !== void 0 ? idFromParams : idRef.current;\n}\n_s100(useUniqueId, \"6rVtrzf3zL31kiuSxy/GY4EaNyE=\");\nfunction PanelWithForwardedRef(param) {\n    let { children, className: classNameFromProps = \"\", collapsedSize, collapsible, defaultSize, forwardedRef, id: idFromProps, maxSize, minSize, onCollapse, onExpand, onResize, order, style: styleFromProps, tagName: Type = \"div\", ...rest } = param;\n    _s101();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PanelGroupContext);\n    if (context === null) {\n        throw Error(\"Panel components must be rendered within a PanelGroup container\");\n    }\n    const { collapsePanel, expandPanel, getPanelSize, getPanelStyle, groupId, isPanelCollapsed, reevaluatePanelConstraints, registerPanel, resizePanel: resizePanel2, unregisterPanel } = context;\n    const panelId = useUniqueId(idFromProps);\n    const panelDataRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        callbacks: {\n            onCollapse,\n            onExpand,\n            onResize\n        },\n        constraints: {\n            collapsedSize,\n            collapsible,\n            defaultSize,\n            maxSize,\n            minSize\n        },\n        id: panelId,\n        idIsFromProps: idFromProps !== void 0,\n        order\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        didLogMissingDefaultSizeWarning: false\n    });\n    useIsomorphicLayoutEffect({\n        \"PanelWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n            const { callbacks, constraints } = panelDataRef.current;\n            const prevConstraints = {\n                ...constraints\n            };\n            panelDataRef.current.id = panelId;\n            panelDataRef.current.idIsFromProps = idFromProps !== void 0;\n            panelDataRef.current.order = order;\n            callbacks.onCollapse = onCollapse;\n            callbacks.onExpand = onExpand;\n            callbacks.onResize = onResize;\n            constraints.collapsedSize = collapsedSize;\n            constraints.collapsible = collapsible;\n            constraints.defaultSize = defaultSize;\n            constraints.maxSize = maxSize;\n            constraints.minSize = minSize;\n            if (prevConstraints.collapsedSize !== constraints.collapsedSize || prevConstraints.collapsible !== constraints.collapsible || prevConstraints.maxSize !== constraints.maxSize || prevConstraints.minSize !== constraints.minSize) {\n                reevaluatePanelConstraints(panelDataRef.current, prevConstraints);\n            }\n        }\n    }[\"PanelWithForwardedRef.useIsomorphicLayoutEffect\"]);\n    useIsomorphicLayoutEffect({\n        \"PanelWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n            const panelData = panelDataRef.current;\n            registerPanel(panelData);\n            return ({\n                \"PanelWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n                    unregisterPanel(panelData);\n                }\n            })[\"PanelWithForwardedRef.useIsomorphicLayoutEffect\"];\n        }\n    }[\"PanelWithForwardedRef.useIsomorphicLayoutEffect\"], [\n        order,\n        panelId,\n        registerPanel,\n        unregisterPanel\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, {\n        \"PanelWithForwardedRef.useImperativeHandle\": ()=>({\n                collapse: ({\n                    \"PanelWithForwardedRef.useImperativeHandle\": ()=>{\n                        collapsePanel(panelDataRef.current);\n                    }\n                })[\"PanelWithForwardedRef.useImperativeHandle\"],\n                expand: ({\n                    \"PanelWithForwardedRef.useImperativeHandle\": (minSize2)=>{\n                        expandPanel(panelDataRef.current, minSize2);\n                    }\n                })[\"PanelWithForwardedRef.useImperativeHandle\"],\n                getId () {\n                    return panelId;\n                },\n                getSize () {\n                    return getPanelSize(panelDataRef.current);\n                },\n                isCollapsed () {\n                    return isPanelCollapsed(panelDataRef.current);\n                },\n                isExpanded () {\n                    return !isPanelCollapsed(panelDataRef.current);\n                },\n                resize: ({\n                    \"PanelWithForwardedRef.useImperativeHandle\": (size2)=>{\n                        resizePanel2(panelDataRef.current, size2);\n                    }\n                })[\"PanelWithForwardedRef.useImperativeHandle\"]\n            })\n    }[\"PanelWithForwardedRef.useImperativeHandle\"], [\n        collapsePanel,\n        expandPanel,\n        getPanelSize,\n        isPanelCollapsed,\n        panelId,\n        resizePanel2\n    ]);\n    const style = getPanelStyle(panelDataRef.current, defaultSize);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(Type, {\n        ...rest,\n        children,\n        className: classNameFromProps,\n        id: panelId,\n        style: {\n            ...style,\n            ...styleFromProps\n        },\n        // CSS selectors\n        [DATA_ATTRIBUTES.groupId]: groupId,\n        [DATA_ATTRIBUTES.panel]: \"\",\n        [DATA_ATTRIBUTES.panelCollapsible]: collapsible || void 0,\n        [DATA_ATTRIBUTES.panelId]: panelId,\n        [DATA_ATTRIBUTES.panelSize]: parseFloat(\"\" + style.flexGrow).toFixed(1)\n    });\n}\n_s101(PanelWithForwardedRef, \"m8Gok3bxLMInVOYuxmFV0AnpB9M=\", false, function() {\n    return [\n        useUniqueId,\n        useIsomorphicLayoutEffect,\n        useIsomorphicLayoutEffect\n    ];\n});\n_c203 = PanelWithForwardedRef;\nconst Panel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props2, ref)=>/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(PanelWithForwardedRef, {\n        ...props2,\n        forwardedRef: ref\n    }));\n_c204 = Panel;\nPanelWithForwardedRef.displayName = \"Panel\";\nPanel.displayName = \"forwardRef(Panel)\";\nlet currentCursorStyle = null;\nlet prevRuleIndex = -1;\nlet styleElement = null;\nfunction getCursorStyle(state, constraintFlags) {\n    if (constraintFlags) {\n        const horizontalMin = (constraintFlags & EXCEEDED_HORIZONTAL_MIN) !== 0;\n        const horizontalMax = (constraintFlags & EXCEEDED_HORIZONTAL_MAX) !== 0;\n        const verticalMin = (constraintFlags & EXCEEDED_VERTICAL_MIN) !== 0;\n        const verticalMax = (constraintFlags & EXCEEDED_VERTICAL_MAX) !== 0;\n        if (horizontalMin) {\n            if (verticalMin) {\n                return \"se-resize\";\n            } else if (verticalMax) {\n                return \"ne-resize\";\n            } else {\n                return \"e-resize\";\n            }\n        } else if (horizontalMax) {\n            if (verticalMin) {\n                return \"sw-resize\";\n            } else if (verticalMax) {\n                return \"nw-resize\";\n            } else {\n                return \"w-resize\";\n            }\n        } else if (verticalMin) {\n            return \"s-resize\";\n        } else if (verticalMax) {\n            return \"n-resize\";\n        }\n    }\n    switch(state){\n        case \"horizontal\":\n            return \"ew-resize\";\n        case \"intersection\":\n            return \"move\";\n        case \"vertical\":\n            return \"ns-resize\";\n    }\n}\nfunction resetGlobalCursorStyle() {\n    if (styleElement !== null) {\n        document.head.removeChild(styleElement);\n        currentCursorStyle = null;\n        styleElement = null;\n        prevRuleIndex = -1;\n    }\n}\nfunction setGlobalCursorStyle(state, constraintFlags) {\n    var _styleElement$sheet$i, _styleElement$sheet2;\n    const style = getCursorStyle(state, constraintFlags);\n    if (currentCursorStyle === style) {\n        return;\n    }\n    currentCursorStyle = style;\n    if (styleElement === null) {\n        styleElement = document.createElement(\"style\");\n        document.head.appendChild(styleElement);\n    }\n    if (prevRuleIndex >= 0) {\n        var _styleElement$sheet;\n        (_styleElement$sheet = styleElement.sheet) === null || _styleElement$sheet === void 0 ? void 0 : _styleElement$sheet.removeRule(prevRuleIndex);\n    }\n    prevRuleIndex = (_styleElement$sheet$i = (_styleElement$sheet2 = styleElement.sheet) === null || _styleElement$sheet2 === void 0 ? void 0 : _styleElement$sheet2.insertRule(\"*{cursor: \".concat(style, \" !important;}\"))) !== null && _styleElement$sheet$i !== void 0 ? _styleElement$sheet$i : -1;\n}\nfunction isKeyDown(event) {\n    return event.type === \"keydown\";\n}\nfunction isPointerEvent(event) {\n    return event.type.startsWith(\"pointer\");\n}\nfunction isMouseEvent(event) {\n    return event.type.startsWith(\"mouse\");\n}\nfunction getResizeEventCoordinates(event) {\n    if (isPointerEvent(event)) {\n        if (event.isPrimary) {\n            return {\n                x: event.clientX,\n                y: event.clientY\n            };\n        }\n    } else if (isMouseEvent(event)) {\n        return {\n            x: event.clientX,\n            y: event.clientY\n        };\n    }\n    return {\n        x: Infinity,\n        y: Infinity\n    };\n}\nfunction getInputType() {\n    if (typeof matchMedia === \"function\") {\n        return matchMedia(\"(pointer:coarse)\").matches ? \"coarse\" : \"fine\";\n    }\n}\nfunction intersects(rectOne, rectTwo, strict) {\n    {\n        return rectOne.x < rectTwo.x + rectTwo.width && rectOne.x + rectOne.width > rectTwo.x && rectOne.y < rectTwo.y + rectTwo.height && rectOne.y + rectOne.height > rectTwo.y;\n    }\n}\nfunction compare(a, b) {\n    if (a === b) throw new Error(\"Cannot compare node with itself\");\n    const ancestors = {\n        a: get_ancestors(a),\n        b: get_ancestors(b)\n    };\n    let common_ancestor;\n    while(ancestors.a.at(-1) === ancestors.b.at(-1)){\n        a = ancestors.a.pop();\n        b = ancestors.b.pop();\n        common_ancestor = a;\n    }\n    assert(common_ancestor, \"Stacking order can only be calculated for elements with a common ancestor\");\n    const z_indexes = {\n        a: get_z_index(find_stacking_context(ancestors.a)),\n        b: get_z_index(find_stacking_context(ancestors.b))\n    };\n    if (z_indexes.a === z_indexes.b) {\n        const children = common_ancestor.childNodes;\n        const furthest_ancestors = {\n            a: ancestors.a.at(-1),\n            b: ancestors.b.at(-1)\n        };\n        let i = children.length;\n        while(i--){\n            const child = children[i];\n            if (child === furthest_ancestors.a) return 1;\n            if (child === furthest_ancestors.b) return -1;\n        }\n    }\n    return Math.sign(z_indexes.a - z_indexes.b);\n}\nconst props = /\\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\\b/;\nfunction is_flex_item(node) {\n    var _get_parent;\n    const display = getComputedStyle((_get_parent = get_parent(node)) !== null && _get_parent !== void 0 ? _get_parent : node).display;\n    return display === \"flex\" || display === \"inline-flex\";\n}\nfunction creates_stacking_context(node) {\n    const style = getComputedStyle(node);\n    if (style.position === \"fixed\") return true;\n    if (style.zIndex !== \"auto\" && (style.position !== \"static\" || is_flex_item(node))) return true;\n    if (+style.opacity < 1) return true;\n    if (\"transform\" in style && style.transform !== \"none\") return true;\n    if (\"webkitTransform\" in style && style.webkitTransform !== \"none\") return true;\n    if (\"mixBlendMode\" in style && style.mixBlendMode !== \"normal\") return true;\n    if (\"filter\" in style && style.filter !== \"none\") return true;\n    if (\"webkitFilter\" in style && style.webkitFilter !== \"none\") return true;\n    if (\"isolation\" in style && style.isolation === \"isolate\") return true;\n    if (props.test(style.willChange)) return true;\n    if (style.webkitOverflowScrolling === \"touch\") return true;\n    return false;\n}\nfunction find_stacking_context(nodes) {\n    let i = nodes.length;\n    while(i--){\n        const node = nodes[i];\n        assert(node, \"Missing node\");\n        if (creates_stacking_context(node)) return node;\n    }\n    return null;\n}\nfunction get_z_index(node) {\n    return node && Number(getComputedStyle(node).zIndex) || 0;\n}\nfunction get_ancestors(node) {\n    const ancestors = [];\n    while(node){\n        ancestors.push(node);\n        node = get_parent(node);\n    }\n    return ancestors;\n}\nfunction get_parent(node) {\n    const { parentNode } = node;\n    if (parentNode && parentNode instanceof ShadowRoot) {\n        return parentNode.host;\n    }\n    return parentNode;\n}\nconst EXCEEDED_HORIZONTAL_MIN = 1;\nconst EXCEEDED_HORIZONTAL_MAX = 2;\nconst EXCEEDED_VERTICAL_MIN = 4;\nconst EXCEEDED_VERTICAL_MAX = 8;\nconst isCoarsePointer = getInputType() === \"coarse\";\nlet intersectingHandles = [];\nlet isPointerDown = false;\nlet ownerDocumentCounts = /* @__PURE__ */ new Map();\nlet panelConstraintFlags = /* @__PURE__ */ new Map();\nconst registeredResizeHandlers = /* @__PURE__ */ new Set();\nfunction registerResizeHandle(resizeHandleId, element, direction, hitAreaMargins, setResizeHandlerState) {\n    var _ownerDocumentCounts$;\n    const { ownerDocument } = element;\n    const data = {\n        direction,\n        element,\n        hitAreaMargins,\n        setResizeHandlerState\n    };\n    const count2 = (_ownerDocumentCounts$ = ownerDocumentCounts.get(ownerDocument)) !== null && _ownerDocumentCounts$ !== void 0 ? _ownerDocumentCounts$ : 0;\n    ownerDocumentCounts.set(ownerDocument, count2 + 1);\n    registeredResizeHandlers.add(data);\n    updateListeners();\n    return function unregisterResizeHandle() {\n        var _ownerDocumentCounts$2;\n        panelConstraintFlags.delete(resizeHandleId);\n        registeredResizeHandlers.delete(data);\n        const count3 = (_ownerDocumentCounts$2 = ownerDocumentCounts.get(ownerDocument)) !== null && _ownerDocumentCounts$2 !== void 0 ? _ownerDocumentCounts$2 : 1;\n        ownerDocumentCounts.set(ownerDocument, count3 - 1);\n        updateListeners();\n        if (count3 === 1) {\n            ownerDocumentCounts.delete(ownerDocument);\n        }\n        if (intersectingHandles.includes(data)) {\n            const index2 = intersectingHandles.indexOf(data);\n            if (index2 >= 0) {\n                intersectingHandles.splice(index2, 1);\n            }\n            updateCursor();\n            setResizeHandlerState(\"up\", true, null);\n        }\n    };\n}\nfunction handlePointerDown(event) {\n    const { target } = event;\n    const { x, y } = getResizeEventCoordinates(event);\n    isPointerDown = true;\n    recalculateIntersectingHandles({\n        target,\n        x,\n        y\n    });\n    updateListeners();\n    if (intersectingHandles.length > 0) {\n        updateResizeHandlerStates(\"down\", event);\n        event.preventDefault();\n        if (!isWithinResizeHandle(target)) {\n            event.stopImmediatePropagation();\n        }\n    }\n}\nfunction handlePointerMove(event) {\n    const { x, y } = getResizeEventCoordinates(event);\n    if (isPointerDown && event.buttons === 0) {\n        isPointerDown = false;\n        updateResizeHandlerStates(\"up\", event);\n    }\n    if (!isPointerDown) {\n        const { target } = event;\n        recalculateIntersectingHandles({\n            target,\n            x,\n            y\n        });\n    }\n    updateResizeHandlerStates(\"move\", event);\n    updateCursor();\n    if (intersectingHandles.length > 0) {\n        event.preventDefault();\n    }\n}\nfunction handlePointerUp(event) {\n    const { target } = event;\n    const { x, y } = getResizeEventCoordinates(event);\n    panelConstraintFlags.clear();\n    isPointerDown = false;\n    if (intersectingHandles.length > 0) {\n        event.preventDefault();\n        if (!isWithinResizeHandle(target)) {\n            event.stopImmediatePropagation();\n        }\n    }\n    updateResizeHandlerStates(\"up\", event);\n    recalculateIntersectingHandles({\n        target,\n        x,\n        y\n    });\n    updateCursor();\n    updateListeners();\n}\nfunction isWithinResizeHandle(element) {\n    let currentElement = element;\n    while(currentElement){\n        if (currentElement.hasAttribute(DATA_ATTRIBUTES.resizeHandle)) {\n            return true;\n        }\n        currentElement = currentElement.parentElement;\n    }\n    return false;\n}\nfunction recalculateIntersectingHandles(param) {\n    let { target, x, y } = param;\n    intersectingHandles.splice(0);\n    let targetElement = null;\n    if (target instanceof HTMLElement || target instanceof SVGElement) {\n        targetElement = target;\n    }\n    registeredResizeHandlers.forEach((data)=>{\n        const { element: dragHandleElement, hitAreaMargins } = data;\n        const dragHandleRect = dragHandleElement.getBoundingClientRect();\n        const { bottom, left, right, top } = dragHandleRect;\n        const margin = isCoarsePointer ? hitAreaMargins.coarse : hitAreaMargins.fine;\n        const eventIntersects = x >= left - margin && x <= right + margin && y >= top - margin && y <= bottom + margin;\n        if (eventIntersects) {\n            if (targetElement !== null && document.contains(targetElement) && dragHandleElement !== targetElement && !dragHandleElement.contains(targetElement) && !targetElement.contains(dragHandleElement) && // Calculating stacking order has a cost, so we should avoid it if possible\n            // That is why we only check potentially intersecting handles,\n            // and why we skip if the event target is within the handle's DOM\n            compare(targetElement, dragHandleElement) > 0) {\n                let currentElement = targetElement;\n                let didIntersect = false;\n                while(currentElement){\n                    if (currentElement.contains(dragHandleElement)) {\n                        break;\n                    } else if (intersects(currentElement.getBoundingClientRect(), dragHandleRect)) {\n                        didIntersect = true;\n                        break;\n                    }\n                    currentElement = currentElement.parentElement;\n                }\n                if (didIntersect) {\n                    return;\n                }\n            }\n            intersectingHandles.push(data);\n        }\n    });\n}\nfunction reportConstraintsViolation(resizeHandleId, flag) {\n    panelConstraintFlags.set(resizeHandleId, flag);\n}\nfunction updateCursor() {\n    let intersectsHorizontal = false;\n    let intersectsVertical = false;\n    intersectingHandles.forEach((data)=>{\n        const { direction } = data;\n        if (direction === \"horizontal\") {\n            intersectsHorizontal = true;\n        } else {\n            intersectsVertical = true;\n        }\n    });\n    let constraintFlags = 0;\n    panelConstraintFlags.forEach((flag)=>{\n        constraintFlags |= flag;\n    });\n    if (intersectsHorizontal && intersectsVertical) {\n        setGlobalCursorStyle(\"intersection\", constraintFlags);\n    } else if (intersectsHorizontal) {\n        setGlobalCursorStyle(\"horizontal\", constraintFlags);\n    } else if (intersectsVertical) {\n        setGlobalCursorStyle(\"vertical\", constraintFlags);\n    } else {\n        resetGlobalCursorStyle();\n    }\n}\nlet listenersAbortController;\nfunction updateListeners() {\n    var _listenersAbortContro;\n    (_listenersAbortContro = listenersAbortController) === null || _listenersAbortContro === void 0 ? void 0 : _listenersAbortContro.abort();\n    listenersAbortController = new AbortController();\n    const options = {\n        capture: true,\n        signal: listenersAbortController.signal\n    };\n    if (!registeredResizeHandlers.size) {\n        return;\n    }\n    if (isPointerDown) {\n        if (intersectingHandles.length > 0) {\n            ownerDocumentCounts.forEach((count2, ownerDocument)=>{\n                const { body } = ownerDocument;\n                if (count2 > 0) {\n                    body.addEventListener(\"contextmenu\", handlePointerUp, options);\n                    body.addEventListener(\"pointerleave\", handlePointerMove, options);\n                    body.addEventListener(\"pointermove\", handlePointerMove, options);\n                }\n            });\n        }\n        ownerDocumentCounts.forEach((_, ownerDocument)=>{\n            const { body } = ownerDocument;\n            body.addEventListener(\"pointerup\", handlePointerUp, options);\n            body.addEventListener(\"pointercancel\", handlePointerUp, options);\n        });\n    } else {\n        ownerDocumentCounts.forEach((count2, ownerDocument)=>{\n            const { body } = ownerDocument;\n            if (count2 > 0) {\n                body.addEventListener(\"pointerdown\", handlePointerDown, options);\n                body.addEventListener(\"pointermove\", handlePointerMove, options);\n            }\n        });\n    }\n}\nfunction updateResizeHandlerStates(action, event) {\n    registeredResizeHandlers.forEach((data)=>{\n        const { setResizeHandlerState } = data;\n        const isActive = intersectingHandles.includes(data);\n        setResizeHandlerState(action, isActive, event);\n    });\n}\nfunction useForceUpdate() {\n    _s102();\n    const [_, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useForceUpdate.useCallback\": ()=>setCount({\n                \"useForceUpdate.useCallback\": (prevCount)=>prevCount + 1\n            }[\"useForceUpdate.useCallback\"])\n    }[\"useForceUpdate.useCallback\"], []);\n}\n_s102(useForceUpdate, \"hK0aq9UN0HzpEoHK7IWVvEbt2Ko=\");\nfunction assert(expectedCondition, message) {\n    if (!expectedCondition) {\n        console.error(message);\n        throw Error(message);\n    }\n}\nfunction fuzzyCompareNumbers(actual, expected) {\n    let fractionDigits = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : PRECISION;\n    if (actual.toFixed(fractionDigits) === expected.toFixed(fractionDigits)) {\n        return 0;\n    } else {\n        return actual > expected ? 1 : -1;\n    }\n}\nfunction fuzzyNumbersEqual$1(actual, expected) {\n    let fractionDigits = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : PRECISION;\n    return fuzzyCompareNumbers(actual, expected, fractionDigits) === 0;\n}\nfunction fuzzyNumbersEqual(actual, expected, fractionDigits) {\n    return fuzzyCompareNumbers(actual, expected, fractionDigits) === 0;\n}\nfunction fuzzyLayoutsEqual(actual, expected, fractionDigits) {\n    if (actual.length !== expected.length) {\n        return false;\n    }\n    for(let index2 = 0; index2 < actual.length; index2++){\n        const actualSize = actual[index2];\n        const expectedSize = expected[index2];\n        if (!fuzzyNumbersEqual(actualSize, expectedSize, fractionDigits)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction resizePanel(param) {\n    let { panelConstraints: panelConstraintsArray, panelIndex, size: size2 } = param;\n    const panelConstraints = panelConstraintsArray[panelIndex];\n    assert(panelConstraints != null, \"Panel constraints not found for index \".concat(panelIndex));\n    let { collapsedSize = 0, collapsible, maxSize = 100, minSize = 0 } = panelConstraints;\n    if (fuzzyCompareNumbers(size2, minSize) < 0) {\n        if (collapsible) {\n            const halfwayPoint = (collapsedSize + minSize) / 2;\n            if (fuzzyCompareNumbers(size2, halfwayPoint) < 0) {\n                size2 = collapsedSize;\n            } else {\n                size2 = minSize;\n            }\n        } else {\n            size2 = minSize;\n        }\n    }\n    size2 = Math.min(maxSize, size2);\n    size2 = parseFloat(size2.toFixed(PRECISION));\n    return size2;\n}\nfunction adjustLayoutByDelta(param) {\n    let { delta, initialLayout, panelConstraints: panelConstraintsArray, pivotIndices, prevLayout, trigger } = param;\n    if (fuzzyNumbersEqual(delta, 0)) {\n        return initialLayout;\n    }\n    const nextLayout = [\n        ...initialLayout\n    ];\n    const [firstPivotIndex, secondPivotIndex] = pivotIndices;\n    assert(firstPivotIndex != null, \"Invalid first pivot index\");\n    assert(secondPivotIndex != null, \"Invalid second pivot index\");\n    let deltaApplied = 0;\n    {\n        if (trigger === \"keyboard\") {\n            {\n                const index2 = delta < 0 ? secondPivotIndex : firstPivotIndex;\n                const panelConstraints = panelConstraintsArray[index2];\n                assert(panelConstraints, \"Panel constraints not found for index \".concat(index2));\n                const { collapsedSize = 0, collapsible, minSize = 0 } = panelConstraints;\n                if (collapsible) {\n                    const prevSize = initialLayout[index2];\n                    assert(prevSize != null, \"Previous layout not found for panel index \".concat(index2));\n                    if (fuzzyNumbersEqual(prevSize, collapsedSize)) {\n                        const localDelta = minSize - prevSize;\n                        if (fuzzyCompareNumbers(localDelta, Math.abs(delta)) > 0) {\n                            delta = delta < 0 ? 0 - localDelta : localDelta;\n                        }\n                    }\n                }\n            }\n            {\n                const index2 = delta < 0 ? firstPivotIndex : secondPivotIndex;\n                const panelConstraints = panelConstraintsArray[index2];\n                assert(panelConstraints, \"No panel constraints found for index \".concat(index2));\n                const { collapsedSize = 0, collapsible, minSize = 0 } = panelConstraints;\n                if (collapsible) {\n                    const prevSize = initialLayout[index2];\n                    assert(prevSize != null, \"Previous layout not found for panel index \".concat(index2));\n                    if (fuzzyNumbersEqual(prevSize, minSize)) {\n                        const localDelta = prevSize - collapsedSize;\n                        if (fuzzyCompareNumbers(localDelta, Math.abs(delta)) > 0) {\n                            delta = delta < 0 ? 0 - localDelta : localDelta;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    {\n        const increment = delta < 0 ? 1 : -1;\n        let index2 = delta < 0 ? secondPivotIndex : firstPivotIndex;\n        let maxAvailableDelta = 0;\n        while(true){\n            const prevSize = initialLayout[index2];\n            assert(prevSize != null, \"Previous layout not found for panel index \".concat(index2));\n            const maxSafeSize = resizePanel({\n                panelConstraints: panelConstraintsArray,\n                panelIndex: index2,\n                size: 100\n            });\n            const delta2 = maxSafeSize - prevSize;\n            maxAvailableDelta += delta2;\n            index2 += increment;\n            if (index2 < 0 || index2 >= panelConstraintsArray.length) {\n                break;\n            }\n        }\n        const minAbsDelta = Math.min(Math.abs(delta), Math.abs(maxAvailableDelta));\n        delta = delta < 0 ? 0 - minAbsDelta : minAbsDelta;\n    }\n    {\n        const pivotIndex = delta < 0 ? firstPivotIndex : secondPivotIndex;\n        let index2 = pivotIndex;\n        while(index2 >= 0 && index2 < panelConstraintsArray.length){\n            const deltaRemaining = Math.abs(delta) - Math.abs(deltaApplied);\n            const prevSize = initialLayout[index2];\n            assert(prevSize != null, \"Previous layout not found for panel index \".concat(index2));\n            const unsafeSize = prevSize - deltaRemaining;\n            const safeSize = resizePanel({\n                panelConstraints: panelConstraintsArray,\n                panelIndex: index2,\n                size: unsafeSize\n            });\n            if (!fuzzyNumbersEqual(prevSize, safeSize)) {\n                deltaApplied += prevSize - safeSize;\n                nextLayout[index2] = safeSize;\n                if (deltaApplied.toPrecision(3).localeCompare(Math.abs(delta).toPrecision(3), void 0, {\n                    numeric: true\n                }) >= 0) {\n                    break;\n                }\n            }\n            if (delta < 0) {\n                index2--;\n            } else {\n                index2++;\n            }\n        }\n    }\n    if (fuzzyLayoutsEqual(prevLayout, nextLayout)) {\n        return prevLayout;\n    }\n    {\n        const pivotIndex = delta < 0 ? secondPivotIndex : firstPivotIndex;\n        const prevSize = initialLayout[pivotIndex];\n        assert(prevSize != null, \"Previous layout not found for panel index \".concat(pivotIndex));\n        const unsafeSize = prevSize + deltaApplied;\n        const safeSize = resizePanel({\n            panelConstraints: panelConstraintsArray,\n            panelIndex: pivotIndex,\n            size: unsafeSize\n        });\n        nextLayout[pivotIndex] = safeSize;\n        if (!fuzzyNumbersEqual(safeSize, unsafeSize)) {\n            let deltaRemaining = unsafeSize - safeSize;\n            const pivotIndex2 = delta < 0 ? secondPivotIndex : firstPivotIndex;\n            let index2 = pivotIndex2;\n            while(index2 >= 0 && index2 < panelConstraintsArray.length){\n                const prevSize2 = nextLayout[index2];\n                assert(prevSize2 != null, \"Previous layout not found for panel index \".concat(index2));\n                const unsafeSize2 = prevSize2 + deltaRemaining;\n                const safeSize2 = resizePanel({\n                    panelConstraints: panelConstraintsArray,\n                    panelIndex: index2,\n                    size: unsafeSize2\n                });\n                if (!fuzzyNumbersEqual(prevSize2, safeSize2)) {\n                    deltaRemaining -= safeSize2 - prevSize2;\n                    nextLayout[index2] = safeSize2;\n                }\n                if (fuzzyNumbersEqual(deltaRemaining, 0)) {\n                    break;\n                }\n                if (delta > 0) {\n                    index2--;\n                } else {\n                    index2++;\n                }\n            }\n        }\n    }\n    const totalSize = nextLayout.reduce((total, size2)=>size2 + total, 0);\n    if (!fuzzyNumbersEqual(totalSize, 100)) {\n        return prevLayout;\n    }\n    return nextLayout;\n}\nfunction calculateAriaValues(param) {\n    let { layout, panelsArray, pivotIndices } = param;\n    let currentMinSize = 0;\n    let currentMaxSize = 100;\n    let totalMinSize = 0;\n    let totalMaxSize = 0;\n    const firstIndex = pivotIndices[0];\n    assert(firstIndex != null, \"No pivot index found\");\n    panelsArray.forEach((panelData, index2)=>{\n        const { constraints } = panelData;\n        const { maxSize = 100, minSize = 0 } = constraints;\n        if (index2 === firstIndex) {\n            currentMinSize = minSize;\n            currentMaxSize = maxSize;\n        } else {\n            totalMinSize += minSize;\n            totalMaxSize += maxSize;\n        }\n    });\n    const valueMax = Math.min(currentMaxSize, 100 - totalMinSize);\n    const valueMin = Math.max(currentMinSize, 100 - totalMaxSize);\n    const valueNow = layout[firstIndex];\n    return {\n        valueMax,\n        valueMin,\n        valueNow\n    };\n}\nfunction getResizeHandleElementsForGroup(groupId) {\n    let scope = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : document;\n    return Array.from(scope.querySelectorAll(\"[\".concat(DATA_ATTRIBUTES.resizeHandleId, '][data-panel-group-id=\"').concat(groupId, '\"]')));\n}\nfunction getResizeHandleElementIndex(groupId, id) {\n    let scope = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : document;\n    const handles = getResizeHandleElementsForGroup(groupId, scope);\n    const index2 = handles.findIndex((handle)=>handle.getAttribute(DATA_ATTRIBUTES.resizeHandleId) === id);\n    return index2 !== null && index2 !== void 0 ? index2 : null;\n}\nfunction determinePivotIndices(groupId, dragHandleId, panelGroupElement) {\n    const index2 = getResizeHandleElementIndex(groupId, dragHandleId, panelGroupElement);\n    return index2 != null ? [\n        index2,\n        index2 + 1\n    ] : [\n        -1,\n        -1\n    ];\n}\nfunction isHTMLElement(target) {\n    if (target instanceof HTMLElement) {\n        return true;\n    }\n    return typeof target === \"object\" && target !== null && \"tagName\" in target && \"getAttribute\" in target;\n}\nfunction getPanelGroupElement(id) {\n    let rootElement = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : document;\n    if (isHTMLElement(rootElement) && rootElement.dataset.panelGroupId == id) {\n        return rootElement;\n    }\n    const element = rootElement.querySelector('[data-panel-group][data-panel-group-id=\"'.concat(id, '\"]'));\n    if (element) {\n        return element;\n    }\n    return null;\n}\nfunction getResizeHandleElement(id) {\n    let scope = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : document;\n    const element = scope.querySelector(\"[\".concat(DATA_ATTRIBUTES.resizeHandleId, '=\"').concat(id, '\"]'));\n    if (element) {\n        return element;\n    }\n    return null;\n}\nfunction getResizeHandlePanelIds(groupId, handleId, panelsArray) {\n    let scope = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : document;\n    var _panelsArray$index$id, _panelsArray$index, _panelsArray$id, _panelsArray;\n    const handle = getResizeHandleElement(handleId, scope);\n    const handles = getResizeHandleElementsForGroup(groupId, scope);\n    const index2 = handle ? handles.indexOf(handle) : -1;\n    const idBefore = (_panelsArray$index$id = (_panelsArray$index = panelsArray[index2]) === null || _panelsArray$index === void 0 ? void 0 : _panelsArray$index.id) !== null && _panelsArray$index$id !== void 0 ? _panelsArray$index$id : null;\n    const idAfter = (_panelsArray$id = (_panelsArray = panelsArray[index2 + 1]) === null || _panelsArray === void 0 ? void 0 : _panelsArray.id) !== null && _panelsArray$id !== void 0 ? _panelsArray$id : null;\n    return [\n        idBefore,\n        idAfter\n    ];\n}\nfunction useWindowSplitterPanelGroupBehavior(param) {\n    let { committedValuesRef, eagerValuesRef, groupId, layout, panelDataArray, panelGroupElement, setLayout } = param;\n    _s103();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        didWarnAboutMissingResizeHandle: false\n    });\n    useIsomorphicLayoutEffect({\n        \"useWindowSplitterPanelGroupBehavior.useIsomorphicLayoutEffect\": ()=>{\n            if (!panelGroupElement) {\n                return;\n            }\n            const resizeHandleElements = getResizeHandleElementsForGroup(groupId, panelGroupElement);\n            for(let index2 = 0; index2 < panelDataArray.length - 1; index2++){\n                const { valueMax, valueMin, valueNow } = calculateAriaValues({\n                    layout,\n                    panelsArray: panelDataArray,\n                    pivotIndices: [\n                        index2,\n                        index2 + 1\n                    ]\n                });\n                const resizeHandleElement = resizeHandleElements[index2];\n                if (resizeHandleElement == null) ;\n                else {\n                    const panelData = panelDataArray[index2];\n                    assert(panelData, 'No panel data found for index \"'.concat(index2, '\"'));\n                    resizeHandleElement.setAttribute(\"aria-controls\", panelData.id);\n                    resizeHandleElement.setAttribute(\"aria-valuemax\", \"\" + Math.round(valueMax));\n                    resizeHandleElement.setAttribute(\"aria-valuemin\", \"\" + Math.round(valueMin));\n                    resizeHandleElement.setAttribute(\"aria-valuenow\", valueNow != null ? \"\" + Math.round(valueNow) : \"\");\n                }\n            }\n            return ({\n                \"useWindowSplitterPanelGroupBehavior.useIsomorphicLayoutEffect\": ()=>{\n                    resizeHandleElements.forEach({\n                        \"useWindowSplitterPanelGroupBehavior.useIsomorphicLayoutEffect\": (resizeHandleElement, index2)=>{\n                            resizeHandleElement.removeAttribute(\"aria-controls\");\n                            resizeHandleElement.removeAttribute(\"aria-valuemax\");\n                            resizeHandleElement.removeAttribute(\"aria-valuemin\");\n                            resizeHandleElement.removeAttribute(\"aria-valuenow\");\n                        }\n                    }[\"useWindowSplitterPanelGroupBehavior.useIsomorphicLayoutEffect\"]);\n                }\n            })[\"useWindowSplitterPanelGroupBehavior.useIsomorphicLayoutEffect\"];\n        }\n    }[\"useWindowSplitterPanelGroupBehavior.useIsomorphicLayoutEffect\"], [\n        groupId,\n        layout,\n        panelDataArray,\n        panelGroupElement\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useWindowSplitterPanelGroupBehavior.useEffect\": ()=>{\n            if (!panelGroupElement) {\n                return;\n            }\n            const eagerValues = eagerValuesRef.current;\n            assert(eagerValues, \"Eager values not found\");\n            const { panelDataArray: panelDataArray2 } = eagerValues;\n            const groupElement = getPanelGroupElement(groupId, panelGroupElement);\n            assert(groupElement != null, 'No group found for id \"'.concat(groupId, '\"'));\n            const handles = getResizeHandleElementsForGroup(groupId, panelGroupElement);\n            assert(handles, 'No resize handles found for group id \"'.concat(groupId, '\"'));\n            const cleanupFunctions = handles.map({\n                \"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions\": (handle)=>{\n                    const handleId = handle.getAttribute(DATA_ATTRIBUTES.resizeHandleId);\n                    assert(handleId, \"Resize handle element has no handle id attribute\");\n                    const [idBefore, idAfter] = getResizeHandlePanelIds(groupId, handleId, panelDataArray2, panelGroupElement);\n                    if (idBefore == null || idAfter == null) {\n                        return ({\n                            \"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions\": ()=>{}\n                        })[\"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions\"];\n                    }\n                    const onKeyDown = {\n                        \"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions.onKeyDown\": (event)=>{\n                            if (event.defaultPrevented) {\n                                return;\n                            }\n                            switch(event.key){\n                                case \"Enter\":\n                                    {\n                                        event.preventDefault();\n                                        const index2 = panelDataArray2.findIndex({\n                                            \"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions.onKeyDown.index2\": (panelData)=>panelData.id === idBefore\n                                        }[\"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions.onKeyDown.index2\"]);\n                                        if (index2 >= 0) {\n                                            const panelData = panelDataArray2[index2];\n                                            assert(panelData, \"No panel data found for index \".concat(index2));\n                                            const size2 = layout[index2];\n                                            const { collapsedSize = 0, collapsible, minSize = 0 } = panelData.constraints;\n                                            if (size2 != null && collapsible) {\n                                                const nextLayout = adjustLayoutByDelta({\n                                                    delta: fuzzyNumbersEqual(size2, collapsedSize) ? minSize - collapsedSize : collapsedSize - size2,\n                                                    initialLayout: layout,\n                                                    panelConstraints: panelDataArray2.map({\n                                                        \"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions.onKeyDown.nextLayout\": (panelData2)=>panelData2.constraints\n                                                    }[\"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions.onKeyDown.nextLayout\"]),\n                                                    pivotIndices: determinePivotIndices(groupId, handleId, panelGroupElement),\n                                                    prevLayout: layout,\n                                                    trigger: \"keyboard\"\n                                                });\n                                                if (layout !== nextLayout) {\n                                                    setLayout(nextLayout);\n                                                }\n                                            }\n                                        }\n                                        break;\n                                    }\n                            }\n                        }\n                    }[\"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions.onKeyDown\"];\n                    handle.addEventListener(\"keydown\", onKeyDown);\n                    return ({\n                        \"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions\": ()=>{\n                            handle.removeEventListener(\"keydown\", onKeyDown);\n                        }\n                    })[\"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions\"];\n                }\n            }[\"useWindowSplitterPanelGroupBehavior.useEffect.cleanupFunctions\"]);\n            return ({\n                \"useWindowSplitterPanelGroupBehavior.useEffect\": ()=>{\n                    cleanupFunctions.forEach({\n                        \"useWindowSplitterPanelGroupBehavior.useEffect\": (cleanupFunction)=>cleanupFunction()\n                    }[\"useWindowSplitterPanelGroupBehavior.useEffect\"]);\n                }\n            })[\"useWindowSplitterPanelGroupBehavior.useEffect\"];\n        }\n    }[\"useWindowSplitterPanelGroupBehavior.useEffect\"], [\n        panelGroupElement,\n        committedValuesRef,\n        eagerValuesRef,\n        groupId,\n        layout,\n        panelDataArray,\n        setLayout\n    ]);\n}\n_s103(useWindowSplitterPanelGroupBehavior, \"HCcuh0eQxyZNi4Ij/0bVplqnOLc=\", false, function() {\n    return [\n        useIsomorphicLayoutEffect\n    ];\n});\nfunction areEqual(arrayA, arrayB) {\n    if (arrayA.length !== arrayB.length) {\n        return false;\n    }\n    for(let index2 = 0; index2 < arrayA.length; index2++){\n        if (arrayA[index2] !== arrayB[index2]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getResizeEventCursorPosition(direction, event) {\n    const isHorizontal = direction === \"horizontal\";\n    const { x, y } = getResizeEventCoordinates(event);\n    return isHorizontal ? x : y;\n}\nfunction calculateDragOffsetPercentage(event, dragHandleId, direction, initialDragState, panelGroupElement) {\n    const isHorizontal = direction === \"horizontal\";\n    const handleElement = getResizeHandleElement(dragHandleId, panelGroupElement);\n    assert(handleElement, 'No resize handle element found for id \"'.concat(dragHandleId, '\"'));\n    const groupId = handleElement.getAttribute(DATA_ATTRIBUTES.groupId);\n    assert(groupId, \"Resize handle element has no group id attribute\");\n    let { initialCursorPosition } = initialDragState;\n    const cursorPosition = getResizeEventCursorPosition(direction, event);\n    const groupElement = getPanelGroupElement(groupId, panelGroupElement);\n    assert(groupElement, 'No group element found for id \"'.concat(groupId, '\"'));\n    const groupRect = groupElement.getBoundingClientRect();\n    const groupSizeInPixels = isHorizontal ? groupRect.width : groupRect.height;\n    const offsetPixels = cursorPosition - initialCursorPosition;\n    const offsetPercentage = offsetPixels / groupSizeInPixels * 100;\n    return offsetPercentage;\n}\nfunction calculateDeltaPercentage(event, dragHandleId, direction, initialDragState, keyboardResizeBy, panelGroupElement) {\n    if (isKeyDown(event)) {\n        const isHorizontal = direction === \"horizontal\";\n        let delta = 0;\n        if (event.shiftKey) {\n            delta = 100;\n        } else if (keyboardResizeBy != null) {\n            delta = keyboardResizeBy;\n        } else {\n            delta = 10;\n        }\n        let movement = 0;\n        switch(event.key){\n            case \"ArrowDown\":\n                movement = isHorizontal ? 0 : delta;\n                break;\n            case \"ArrowLeft\":\n                movement = isHorizontal ? -delta : 0;\n                break;\n            case \"ArrowRight\":\n                movement = isHorizontal ? delta : 0;\n                break;\n            case \"ArrowUp\":\n                movement = isHorizontal ? 0 : -delta;\n                break;\n            case \"End\":\n                movement = 100;\n                break;\n            case \"Home\":\n                movement = -100;\n                break;\n        }\n        return movement;\n    } else {\n        if (initialDragState == null) {\n            return 0;\n        }\n        return calculateDragOffsetPercentage(event, dragHandleId, direction, initialDragState, panelGroupElement);\n    }\n}\nfunction calculateUnsafeDefaultLayout(param) {\n    let { panelDataArray } = param;\n    const layout = Array(panelDataArray.length);\n    const panelConstraintsArray = panelDataArray.map((panelData)=>panelData.constraints);\n    let numPanelsWithSizes = 0;\n    let remainingSize = 100;\n    for(let index2 = 0; index2 < panelDataArray.length; index2++){\n        const panelConstraints = panelConstraintsArray[index2];\n        assert(panelConstraints, \"Panel constraints not found for index \".concat(index2));\n        const { defaultSize } = panelConstraints;\n        if (defaultSize != null) {\n            numPanelsWithSizes++;\n            layout[index2] = defaultSize;\n            remainingSize -= defaultSize;\n        }\n    }\n    for(let index2 = 0; index2 < panelDataArray.length; index2++){\n        const panelConstraints = panelConstraintsArray[index2];\n        assert(panelConstraints, \"Panel constraints not found for index \".concat(index2));\n        const { defaultSize } = panelConstraints;\n        if (defaultSize != null) {\n            continue;\n        }\n        const numRemainingPanels = panelDataArray.length - numPanelsWithSizes;\n        const size2 = remainingSize / numRemainingPanels;\n        numPanelsWithSizes++;\n        layout[index2] = size2;\n        remainingSize -= size2;\n    }\n    return layout;\n}\nfunction callPanelCallbacks(panelsArray, layout, panelIdToLastNotifiedSizeMap) {\n    layout.forEach((size2, index2)=>{\n        const panelData = panelsArray[index2];\n        assert(panelData, \"Panel data not found for index \".concat(index2));\n        const { callbacks, constraints, id: panelId } = panelData;\n        const { collapsedSize = 0, collapsible } = constraints;\n        const lastNotifiedSize = panelIdToLastNotifiedSizeMap[panelId];\n        if (lastNotifiedSize == null || size2 !== lastNotifiedSize) {\n            panelIdToLastNotifiedSizeMap[panelId] = size2;\n            const { onCollapse, onExpand, onResize } = callbacks;\n            if (onResize) {\n                onResize(size2, lastNotifiedSize);\n            }\n            if (collapsible && (onCollapse || onExpand)) {\n                if (onExpand && (lastNotifiedSize == null || fuzzyNumbersEqual$1(lastNotifiedSize, collapsedSize)) && !fuzzyNumbersEqual$1(size2, collapsedSize)) {\n                    onExpand();\n                }\n                if (onCollapse && (lastNotifiedSize == null || !fuzzyNumbersEqual$1(lastNotifiedSize, collapsedSize)) && fuzzyNumbersEqual$1(size2, collapsedSize)) {\n                    onCollapse();\n                }\n            }\n        }\n    });\n}\nfunction compareLayouts(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    } else {\n        for(let index2 = 0; index2 < a.length; index2++){\n            if (a[index2] != b[index2]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction computePanelFlexBoxStyle(param) {\n    let { defaultSize, dragState, layout, panelData, panelIndex, precision = 3 } = param;\n    const size2 = layout[panelIndex];\n    let flexGrow;\n    if (size2 == null) {\n        flexGrow = defaultSize != void 0 ? defaultSize.toPrecision(precision) : \"1\";\n    } else if (panelData.length === 1) {\n        flexGrow = \"1\";\n    } else {\n        flexGrow = size2.toPrecision(precision);\n    }\n    return {\n        flexBasis: 0,\n        flexGrow,\n        flexShrink: 1,\n        // Without this, Panel sizes may be unintentionally overridden by their content\n        overflow: \"hidden\",\n        // Disable pointer events inside of a panel during resize\n        // This avoid edge cases like nested iframes\n        pointerEvents: dragState !== null ? \"none\" : void 0\n    };\n}\nfunction debounce(callback) {\n    let durationMs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 10;\n    let timeoutId = null;\n    let callable = function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (timeoutId !== null) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(()=>{\n            callback(...args);\n        }, durationMs);\n    };\n    return callable;\n}\nfunction initializeDefaultStorage(storageObject) {\n    try {\n        if (typeof localStorage !== \"undefined\") {\n            storageObject.getItem = (name)=>{\n                return localStorage.getItem(name);\n            };\n            storageObject.setItem = (name, value1)=>{\n                localStorage.setItem(name, value1);\n            };\n        } else {\n            throw new Error(\"localStorage not supported in this environment\");\n        }\n    } catch (error) {\n        console.error(error);\n        storageObject.getItem = ()=>null;\n        storageObject.setItem = ()=>{};\n    }\n}\nfunction getPanelGroupKey(autoSaveId) {\n    return \"react-resizable-panels:\".concat(autoSaveId);\n}\nfunction getPanelKey(panels) {\n    return panels.map((panel)=>{\n        const { constraints, id, idIsFromProps, order } = panel;\n        if (idIsFromProps) {\n            return id;\n        } else {\n            return order ? \"\".concat(order, \":\").concat(JSON.stringify(constraints)) : JSON.stringify(constraints);\n        }\n    }).sort((a, b)=>a.localeCompare(b)).join(\",\");\n}\nfunction loadSerializedPanelGroupState(autoSaveId, storage) {\n    try {\n        const panelGroupKey = getPanelGroupKey(autoSaveId);\n        const serialized = storage.getItem(panelGroupKey);\n        if (serialized) {\n            const parsed = JSON.parse(serialized);\n            if (typeof parsed === \"object\" && parsed != null) {\n                return parsed;\n            }\n        }\n    } catch (error) {}\n    return null;\n}\nfunction loadPanelGroupState(autoSaveId, panels, storage) {\n    var _loadSerializedPanelG, _state$panelKey;\n    const state = (_loadSerializedPanelG = loadSerializedPanelGroupState(autoSaveId, storage)) !== null && _loadSerializedPanelG !== void 0 ? _loadSerializedPanelG : {};\n    const panelKey = getPanelKey(panels);\n    return (_state$panelKey = state[panelKey]) !== null && _state$panelKey !== void 0 ? _state$panelKey : null;\n}\nfunction savePanelGroupState(autoSaveId, panels, panelSizesBeforeCollapse, sizes, storage) {\n    var _loadSerializedPanelG2;\n    const panelGroupKey = getPanelGroupKey(autoSaveId);\n    const panelKey = getPanelKey(panels);\n    const state = (_loadSerializedPanelG2 = loadSerializedPanelGroupState(autoSaveId, storage)) !== null && _loadSerializedPanelG2 !== void 0 ? _loadSerializedPanelG2 : {};\n    state[panelKey] = {\n        expandToSizes: Object.fromEntries(panelSizesBeforeCollapse.entries()),\n        layout: sizes\n    };\n    try {\n        storage.setItem(panelGroupKey, JSON.stringify(state));\n    } catch (error) {\n        console.error(error);\n    }\n}\nfunction validatePanelGroupLayout(param) {\n    let { layout: prevLayout, panelConstraints } = param;\n    const nextLayout = [\n        ...prevLayout\n    ];\n    const nextLayoutTotalSize = nextLayout.reduce((accumulated, current)=>accumulated + current, 0);\n    if (nextLayout.length !== panelConstraints.length) {\n        throw Error(\"Invalid \".concat(panelConstraints.length, \" panel layout: \").concat(nextLayout.map((size2)=>\"\".concat(size2, \"%\")).join(\", \")));\n    } else if (!fuzzyNumbersEqual(nextLayoutTotalSize, 100) && nextLayout.length > 0) {\n        for(let index2 = 0; index2 < panelConstraints.length; index2++){\n            const unsafeSize = nextLayout[index2];\n            assert(unsafeSize != null, \"No layout data found for index \".concat(index2));\n            const safeSize = 100 / nextLayoutTotalSize * unsafeSize;\n            nextLayout[index2] = safeSize;\n        }\n    }\n    let remainingSize = 0;\n    for(let index2 = 0; index2 < panelConstraints.length; index2++){\n        const unsafeSize = nextLayout[index2];\n        assert(unsafeSize != null, \"No layout data found for index \".concat(index2));\n        const safeSize = resizePanel({\n            panelConstraints,\n            panelIndex: index2,\n            size: unsafeSize\n        });\n        if (unsafeSize != safeSize) {\n            remainingSize += unsafeSize - safeSize;\n            nextLayout[index2] = safeSize;\n        }\n    }\n    if (!fuzzyNumbersEqual(remainingSize, 0)) {\n        for(let index2 = 0; index2 < panelConstraints.length; index2++){\n            const prevSize = nextLayout[index2];\n            assert(prevSize != null, \"No layout data found for index \".concat(index2));\n            const unsafeSize = prevSize + remainingSize;\n            const safeSize = resizePanel({\n                panelConstraints,\n                panelIndex: index2,\n                size: unsafeSize\n            });\n            if (prevSize !== safeSize) {\n                remainingSize -= safeSize - prevSize;\n                nextLayout[index2] = safeSize;\n                if (fuzzyNumbersEqual(remainingSize, 0)) {\n                    break;\n                }\n            }\n        }\n    }\n    return nextLayout;\n}\nconst LOCAL_STORAGE_DEBOUNCE_INTERVAL = 100;\nconst defaultStorage = {\n    getItem: (name)=>{\n        initializeDefaultStorage(defaultStorage);\n        return defaultStorage.getItem(name);\n    },\n    setItem: (name, value1)=>{\n        initializeDefaultStorage(defaultStorage);\n        defaultStorage.setItem(name, value1);\n    }\n};\nconst debounceMap = {};\nfunction PanelGroupWithForwardedRef(param) {\n    let { autoSaveId = null, children, className: classNameFromProps = \"\", direction, forwardedRef, id: idFromProps = null, onLayout = null, keyboardResizeBy = null, storage = defaultStorage, style: styleFromProps, tagName: Type = \"div\", ...rest } = param;\n    _s104();\n    const groupId = useUniqueId(idFromProps);\n    const panelGroupElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [dragState, setDragState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [layout, setLayout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const forceUpdate = useForceUpdate();\n    const panelIdToLastNotifiedSizeMapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const panelSizeBeforeCollapseRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(/* @__PURE__ */ new Map());\n    const prevDeltaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const committedValuesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        autoSaveId,\n        direction,\n        dragState,\n        id: groupId,\n        keyboardResizeBy,\n        onLayout,\n        storage\n    });\n    const eagerValuesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        layout,\n        panelDataArray: [],\n        panelDataArrayChanged: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        didLogIdAndOrderWarning: false,\n        didLogPanelConstraintsWarning: false,\n        prevPanelIds: []\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(forwardedRef, {\n        \"PanelGroupWithForwardedRef.useImperativeHandle\": ()=>({\n                getId: ({\n                    \"PanelGroupWithForwardedRef.useImperativeHandle\": ()=>committedValuesRef.current.id\n                })[\"PanelGroupWithForwardedRef.useImperativeHandle\"],\n                getLayout: ({\n                    \"PanelGroupWithForwardedRef.useImperativeHandle\": ()=>{\n                        const { layout: layout2 } = eagerValuesRef.current;\n                        return layout2;\n                    }\n                })[\"PanelGroupWithForwardedRef.useImperativeHandle\"],\n                setLayout: ({\n                    \"PanelGroupWithForwardedRef.useImperativeHandle\": (unsafeLayout)=>{\n                        const { onLayout: onLayout2 } = committedValuesRef.current;\n                        const { layout: prevLayout, panelDataArray } = eagerValuesRef.current;\n                        const safeLayout = validatePanelGroupLayout({\n                            layout: unsafeLayout,\n                            panelConstraints: panelDataArray.map({\n                                \"PanelGroupWithForwardedRef.useImperativeHandle.safeLayout\": (panelData)=>panelData.constraints\n                            }[\"PanelGroupWithForwardedRef.useImperativeHandle.safeLayout\"])\n                        });\n                        if (!areEqual(prevLayout, safeLayout)) {\n                            setLayout(safeLayout);\n                            eagerValuesRef.current.layout = safeLayout;\n                            if (onLayout2) {\n                                onLayout2(safeLayout);\n                            }\n                            callPanelCallbacks(panelDataArray, safeLayout, panelIdToLastNotifiedSizeMapRef.current);\n                        }\n                    }\n                })[\"PanelGroupWithForwardedRef.useImperativeHandle\"]\n            })\n    }[\"PanelGroupWithForwardedRef.useImperativeHandle\"], []);\n    useIsomorphicLayoutEffect({\n        \"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n            committedValuesRef.current.autoSaveId = autoSaveId;\n            committedValuesRef.current.direction = direction;\n            committedValuesRef.current.dragState = dragState;\n            committedValuesRef.current.id = groupId;\n            committedValuesRef.current.onLayout = onLayout;\n            committedValuesRef.current.storage = storage;\n        }\n    }[\"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\"]);\n    useWindowSplitterPanelGroupBehavior({\n        committedValuesRef,\n        eagerValuesRef,\n        groupId,\n        layout,\n        panelDataArray: eagerValuesRef.current.panelDataArray,\n        setLayout,\n        panelGroupElement: panelGroupElementRef.current\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PanelGroupWithForwardedRef.useEffect\": ()=>{\n            const { panelDataArray } = eagerValuesRef.current;\n            if (autoSaveId) {\n                if (layout.length === 0 || layout.length !== panelDataArray.length) {\n                    return;\n                }\n                let debouncedSave = debounceMap[autoSaveId];\n                if (debouncedSave == null) {\n                    debouncedSave = debounce(savePanelGroupState, LOCAL_STORAGE_DEBOUNCE_INTERVAL);\n                    debounceMap[autoSaveId] = debouncedSave;\n                }\n                const clonedPanelDataArray = [\n                    ...panelDataArray\n                ];\n                const clonedPanelSizesBeforeCollapse = new Map(panelSizeBeforeCollapseRef.current);\n                debouncedSave(autoSaveId, clonedPanelDataArray, clonedPanelSizesBeforeCollapse, layout, storage);\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useEffect\"], [\n        autoSaveId,\n        layout,\n        storage\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PanelGroupWithForwardedRef.useEffect\": ()=>{}\n    }[\"PanelGroupWithForwardedRef.useEffect\"]);\n    const collapsePanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[collapsePanel]\": (panelData)=>{\n            const { onLayout: onLayout2 } = committedValuesRef.current;\n            const { layout: prevLayout, panelDataArray } = eagerValuesRef.current;\n            if (panelData.constraints.collapsible) {\n                const panelConstraintsArray = panelDataArray.map({\n                    \"PanelGroupWithForwardedRef.useCallback[collapsePanel].panelConstraintsArray\": (panelData2)=>panelData2.constraints\n                }[\"PanelGroupWithForwardedRef.useCallback[collapsePanel].panelConstraintsArray\"]);\n                const { collapsedSize = 0, panelSize, pivotIndices } = panelDataHelper(panelDataArray, panelData, prevLayout);\n                assert(panelSize != null, 'Panel size not found for panel \"'.concat(panelData.id, '\"'));\n                if (!fuzzyNumbersEqual$1(panelSize, collapsedSize)) {\n                    panelSizeBeforeCollapseRef.current.set(panelData.id, panelSize);\n                    const isLastPanel = findPanelDataIndex(panelDataArray, panelData) === panelDataArray.length - 1;\n                    const delta = isLastPanel ? panelSize - collapsedSize : collapsedSize - panelSize;\n                    const nextLayout = adjustLayoutByDelta({\n                        delta,\n                        initialLayout: prevLayout,\n                        panelConstraints: panelConstraintsArray,\n                        pivotIndices,\n                        prevLayout,\n                        trigger: \"imperative-api\"\n                    });\n                    if (!compareLayouts(prevLayout, nextLayout)) {\n                        setLayout(nextLayout);\n                        eagerValuesRef.current.layout = nextLayout;\n                        if (onLayout2) {\n                            onLayout2(nextLayout);\n                        }\n                        callPanelCallbacks(panelDataArray, nextLayout, panelIdToLastNotifiedSizeMapRef.current);\n                    }\n                }\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[collapsePanel]\"], []);\n    const expandPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[expandPanel]\": (panelData, minSizeOverride)=>{\n            const { onLayout: onLayout2 } = committedValuesRef.current;\n            const { layout: prevLayout, panelDataArray } = eagerValuesRef.current;\n            if (panelData.constraints.collapsible) {\n                const panelConstraintsArray = panelDataArray.map({\n                    \"PanelGroupWithForwardedRef.useCallback[expandPanel].panelConstraintsArray\": (panelData2)=>panelData2.constraints\n                }[\"PanelGroupWithForwardedRef.useCallback[expandPanel].panelConstraintsArray\"]);\n                const { collapsedSize = 0, panelSize = 0, minSize: minSizeFromProps = 0, pivotIndices } = panelDataHelper(panelDataArray, panelData, prevLayout);\n                const minSize = minSizeOverride !== null && minSizeOverride !== void 0 ? minSizeOverride : minSizeFromProps;\n                if (fuzzyNumbersEqual$1(panelSize, collapsedSize)) {\n                    const prevPanelSize = panelSizeBeforeCollapseRef.current.get(panelData.id);\n                    const baseSize = prevPanelSize != null && prevPanelSize >= minSize ? prevPanelSize : minSize;\n                    const isLastPanel = findPanelDataIndex(panelDataArray, panelData) === panelDataArray.length - 1;\n                    const delta = isLastPanel ? panelSize - baseSize : baseSize - panelSize;\n                    const nextLayout = adjustLayoutByDelta({\n                        delta,\n                        initialLayout: prevLayout,\n                        panelConstraints: panelConstraintsArray,\n                        pivotIndices,\n                        prevLayout,\n                        trigger: \"imperative-api\"\n                    });\n                    if (!compareLayouts(prevLayout, nextLayout)) {\n                        setLayout(nextLayout);\n                        eagerValuesRef.current.layout = nextLayout;\n                        if (onLayout2) {\n                            onLayout2(nextLayout);\n                        }\n                        callPanelCallbacks(panelDataArray, nextLayout, panelIdToLastNotifiedSizeMapRef.current);\n                    }\n                }\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[expandPanel]\"], []);\n    const getPanelSize = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[getPanelSize]\": (panelData)=>{\n            const { layout: layout2, panelDataArray } = eagerValuesRef.current;\n            const { panelSize } = panelDataHelper(panelDataArray, panelData, layout2);\n            assert(panelSize != null, 'Panel size not found for panel \"'.concat(panelData.id, '\"'));\n            return panelSize;\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[getPanelSize]\"], []);\n    const getPanelStyle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[getPanelStyle]\": (panelData, defaultSize)=>{\n            const { panelDataArray } = eagerValuesRef.current;\n            const panelIndex = findPanelDataIndex(panelDataArray, panelData);\n            return computePanelFlexBoxStyle({\n                defaultSize,\n                dragState,\n                layout,\n                panelData: panelDataArray,\n                panelIndex\n            });\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[getPanelStyle]\"], [\n        dragState,\n        layout\n    ]);\n    const isPanelCollapsed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[isPanelCollapsed]\": (panelData)=>{\n            const { layout: layout2, panelDataArray } = eagerValuesRef.current;\n            const { collapsedSize = 0, collapsible, panelSize } = panelDataHelper(panelDataArray, panelData, layout2);\n            assert(panelSize != null, 'Panel size not found for panel \"'.concat(panelData.id, '\"'));\n            return collapsible === true && fuzzyNumbersEqual$1(panelSize, collapsedSize);\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[isPanelCollapsed]\"], []);\n    const isPanelExpanded = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[isPanelExpanded]\": (panelData)=>{\n            const { layout: layout2, panelDataArray } = eagerValuesRef.current;\n            const { collapsedSize = 0, collapsible, panelSize } = panelDataHelper(panelDataArray, panelData, layout2);\n            assert(panelSize != null, 'Panel size not found for panel \"'.concat(panelData.id, '\"'));\n            return !collapsible || fuzzyCompareNumbers(panelSize, collapsedSize) > 0;\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[isPanelExpanded]\"], []);\n    const registerPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[registerPanel]\": (panelData)=>{\n            const { panelDataArray } = eagerValuesRef.current;\n            panelDataArray.push(panelData);\n            panelDataArray.sort({\n                \"PanelGroupWithForwardedRef.useCallback[registerPanel]\": (panelA, panelB)=>{\n                    const orderA = panelA.order;\n                    const orderB = panelB.order;\n                    if (orderA == null && orderB == null) {\n                        return 0;\n                    } else if (orderA == null) {\n                        return -1;\n                    } else if (orderB == null) {\n                        return 1;\n                    } else {\n                        return orderA - orderB;\n                    }\n                }\n            }[\"PanelGroupWithForwardedRef.useCallback[registerPanel]\"]);\n            eagerValuesRef.current.panelDataArrayChanged = true;\n            forceUpdate();\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[registerPanel]\"], [\n        forceUpdate\n    ]);\n    useIsomorphicLayoutEffect({\n        \"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n            if (eagerValuesRef.current.panelDataArrayChanged) {\n                eagerValuesRef.current.panelDataArrayChanged = false;\n                const { autoSaveId: autoSaveId2, onLayout: onLayout2, storage: storage2 } = committedValuesRef.current;\n                const { layout: prevLayout, panelDataArray } = eagerValuesRef.current;\n                let unsafeLayout = null;\n                if (autoSaveId2) {\n                    const state = loadPanelGroupState(autoSaveId2, panelDataArray, storage2);\n                    if (state) {\n                        panelSizeBeforeCollapseRef.current = new Map(Object.entries(state.expandToSizes));\n                        unsafeLayout = state.layout;\n                    }\n                }\n                if (unsafeLayout == null) {\n                    unsafeLayout = calculateUnsafeDefaultLayout({\n                        panelDataArray\n                    });\n                }\n                const nextLayout = validatePanelGroupLayout({\n                    layout: unsafeLayout,\n                    panelConstraints: panelDataArray.map({\n                        \"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect.nextLayout\": (panelData)=>panelData.constraints\n                    }[\"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect.nextLayout\"])\n                });\n                if (!areEqual(prevLayout, nextLayout)) {\n                    setLayout(nextLayout);\n                    eagerValuesRef.current.layout = nextLayout;\n                    if (onLayout2) {\n                        onLayout2(nextLayout);\n                    }\n                    callPanelCallbacks(panelDataArray, nextLayout, panelIdToLastNotifiedSizeMapRef.current);\n                }\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\"]);\n    useIsomorphicLayoutEffect({\n        \"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n            const eagerValues = eagerValuesRef.current;\n            return ({\n                \"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\": ()=>{\n                    eagerValues.layout = [];\n                }\n            })[\"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\"];\n        }\n    }[\"PanelGroupWithForwardedRef.useIsomorphicLayoutEffect\"], []);\n    const registerResizeHandle2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[registerResizeHandle2]\": (dragHandleId)=>{\n            let isRTL2 = false;\n            const panelGroupElement = panelGroupElementRef.current;\n            if (panelGroupElement) {\n                const style2 = window.getComputedStyle(panelGroupElement, null);\n                if (style2.getPropertyValue(\"direction\") === \"rtl\") {\n                    isRTL2 = true;\n                }\n            }\n            return function resizeHandler(event) {\n                event.preventDefault();\n                const panelGroupElement2 = panelGroupElementRef.current;\n                if (!panelGroupElement2) {\n                    return ({\n                        \"PanelGroupWithForwardedRef.useCallback[registerResizeHandle2].resizeHandler\": ()=>null\n                    })[\"PanelGroupWithForwardedRef.useCallback[registerResizeHandle2].resizeHandler\"];\n                }\n                const { direction: direction2, dragState: dragState2, id: groupId2, keyboardResizeBy: keyboardResizeBy2, onLayout: onLayout2 } = committedValuesRef.current;\n                const { layout: prevLayout, panelDataArray } = eagerValuesRef.current;\n                const { initialLayout } = dragState2 !== null && dragState2 !== void 0 ? dragState2 : {};\n                const pivotIndices = determinePivotIndices(groupId2, dragHandleId, panelGroupElement2);\n                let delta = calculateDeltaPercentage(event, dragHandleId, direction2, dragState2, keyboardResizeBy2, panelGroupElement2);\n                const isHorizontal = direction2 === \"horizontal\";\n                if (isHorizontal && isRTL2) {\n                    delta = -delta;\n                }\n                const panelConstraints = panelDataArray.map({\n                    \"PanelGroupWithForwardedRef.useCallback[registerResizeHandle2].resizeHandler.panelConstraints\": (panelData)=>panelData.constraints\n                }[\"PanelGroupWithForwardedRef.useCallback[registerResizeHandle2].resizeHandler.panelConstraints\"]);\n                const nextLayout = adjustLayoutByDelta({\n                    delta,\n                    initialLayout: initialLayout !== null && initialLayout !== void 0 ? initialLayout : prevLayout,\n                    panelConstraints,\n                    pivotIndices,\n                    prevLayout,\n                    trigger: isKeyDown(event) ? \"keyboard\" : \"mouse-or-touch\"\n                });\n                const layoutChanged = !compareLayouts(prevLayout, nextLayout);\n                if (isPointerEvent(event) || isMouseEvent(event)) {\n                    if (prevDeltaRef.current != delta) {\n                        prevDeltaRef.current = delta;\n                        if (!layoutChanged && delta !== 0) {\n                            if (isHorizontal) {\n                                reportConstraintsViolation(dragHandleId, delta < 0 ? EXCEEDED_HORIZONTAL_MIN : EXCEEDED_HORIZONTAL_MAX);\n                            } else {\n                                reportConstraintsViolation(dragHandleId, delta < 0 ? EXCEEDED_VERTICAL_MIN : EXCEEDED_VERTICAL_MAX);\n                            }\n                        } else {\n                            reportConstraintsViolation(dragHandleId, 0);\n                        }\n                    }\n                }\n                if (layoutChanged) {\n                    setLayout(nextLayout);\n                    eagerValuesRef.current.layout = nextLayout;\n                    if (onLayout2) {\n                        onLayout2(nextLayout);\n                    }\n                    callPanelCallbacks(panelDataArray, nextLayout, panelIdToLastNotifiedSizeMapRef.current);\n                }\n            };\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[registerResizeHandle2]\"], []);\n    const resizePanel2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[resizePanel2]\": (panelData, unsafePanelSize)=>{\n            const { onLayout: onLayout2 } = committedValuesRef.current;\n            const { layout: prevLayout, panelDataArray } = eagerValuesRef.current;\n            const panelConstraintsArray = panelDataArray.map({\n                \"PanelGroupWithForwardedRef.useCallback[resizePanel2].panelConstraintsArray\": (panelData2)=>panelData2.constraints\n            }[\"PanelGroupWithForwardedRef.useCallback[resizePanel2].panelConstraintsArray\"]);\n            const { panelSize, pivotIndices } = panelDataHelper(panelDataArray, panelData, prevLayout);\n            assert(panelSize != null, 'Panel size not found for panel \"'.concat(panelData.id, '\"'));\n            const isLastPanel = findPanelDataIndex(panelDataArray, panelData) === panelDataArray.length - 1;\n            const delta = isLastPanel ? panelSize - unsafePanelSize : unsafePanelSize - panelSize;\n            const nextLayout = adjustLayoutByDelta({\n                delta,\n                initialLayout: prevLayout,\n                panelConstraints: panelConstraintsArray,\n                pivotIndices,\n                prevLayout,\n                trigger: \"imperative-api\"\n            });\n            if (!compareLayouts(prevLayout, nextLayout)) {\n                setLayout(nextLayout);\n                eagerValuesRef.current.layout = nextLayout;\n                if (onLayout2) {\n                    onLayout2(nextLayout);\n                }\n                callPanelCallbacks(panelDataArray, nextLayout, panelIdToLastNotifiedSizeMapRef.current);\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[resizePanel2]\"], []);\n    const reevaluatePanelConstraints = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[reevaluatePanelConstraints]\": (panelData, prevConstraints)=>{\n            const { layout: layout2, panelDataArray } = eagerValuesRef.current;\n            const { collapsedSize: prevCollapsedSize = 0, collapsible: prevCollapsible } = prevConstraints;\n            const { collapsedSize: nextCollapsedSize = 0, collapsible: nextCollapsible, maxSize: nextMaxSize = 100, minSize: nextMinSize = 0 } = panelData.constraints;\n            const { panelSize: prevPanelSize } = panelDataHelper(panelDataArray, panelData, layout2);\n            if (prevPanelSize == null) {\n                return;\n            }\n            if (prevCollapsible && nextCollapsible && fuzzyNumbersEqual$1(prevPanelSize, prevCollapsedSize)) {\n                if (!fuzzyNumbersEqual$1(prevCollapsedSize, nextCollapsedSize)) {\n                    resizePanel2(panelData, nextCollapsedSize);\n                }\n            } else if (prevPanelSize < nextMinSize) {\n                resizePanel2(panelData, nextMinSize);\n            } else if (prevPanelSize > nextMaxSize) {\n                resizePanel2(panelData, nextMaxSize);\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[reevaluatePanelConstraints]\"], [\n        resizePanel2\n    ]);\n    const startDragging = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[startDragging]\": (dragHandleId, event)=>{\n            const { direction: direction2 } = committedValuesRef.current;\n            const { layout: layout2 } = eagerValuesRef.current;\n            if (!panelGroupElementRef.current) {\n                return;\n            }\n            const handleElement = getResizeHandleElement(dragHandleId, panelGroupElementRef.current);\n            assert(handleElement, 'Drag handle element not found for id \"'.concat(dragHandleId, '\"'));\n            const initialCursorPosition = getResizeEventCursorPosition(direction2, event);\n            setDragState({\n                dragHandleId,\n                dragHandleRect: handleElement.getBoundingClientRect(),\n                initialCursorPosition,\n                initialLayout: layout2\n            });\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[startDragging]\"], []);\n    const stopDragging = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[stopDragging]\": ()=>{\n            setDragState(null);\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[stopDragging]\"], []);\n    const unregisterPanel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"PanelGroupWithForwardedRef.useCallback[unregisterPanel]\": (panelData)=>{\n            const { panelDataArray } = eagerValuesRef.current;\n            const index2 = findPanelDataIndex(panelDataArray, panelData);\n            if (index2 >= 0) {\n                panelDataArray.splice(index2, 1);\n                delete panelIdToLastNotifiedSizeMapRef.current[panelData.id];\n                eagerValuesRef.current.panelDataArrayChanged = true;\n                forceUpdate();\n            }\n        }\n    }[\"PanelGroupWithForwardedRef.useCallback[unregisterPanel]\"], [\n        forceUpdate\n    ]);\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"PanelGroupWithForwardedRef.useMemo[context]\": ()=>({\n                collapsePanel,\n                direction,\n                dragState,\n                expandPanel,\n                getPanelSize,\n                getPanelStyle,\n                groupId,\n                isPanelCollapsed,\n                isPanelExpanded,\n                reevaluatePanelConstraints,\n                registerPanel,\n                registerResizeHandle: registerResizeHandle2,\n                resizePanel: resizePanel2,\n                startDragging,\n                stopDragging,\n                unregisterPanel,\n                panelGroupElement: panelGroupElementRef.current\n            })\n    }[\"PanelGroupWithForwardedRef.useMemo[context]\"], [\n        collapsePanel,\n        dragState,\n        direction,\n        expandPanel,\n        getPanelSize,\n        getPanelStyle,\n        groupId,\n        isPanelCollapsed,\n        isPanelExpanded,\n        reevaluatePanelConstraints,\n        registerPanel,\n        registerResizeHandle2,\n        resizePanel2,\n        startDragging,\n        stopDragging,\n        unregisterPanel\n    ]);\n    const style = {\n        display: \"flex\",\n        flexDirection: direction === \"horizontal\" ? \"row\" : \"column\",\n        height: \"100%\",\n        overflow: \"hidden\",\n        width: \"100%\"\n    };\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(PanelGroupContext.Provider, {\n        value: context\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(Type, {\n        ...rest,\n        children,\n        className: classNameFromProps,\n        id: idFromProps,\n        ref: panelGroupElementRef,\n        style: {\n            ...style,\n            ...styleFromProps\n        },\n        // CSS selectors\n        [DATA_ATTRIBUTES.group]: \"\",\n        [DATA_ATTRIBUTES.groupDirection]: direction,\n        [DATA_ATTRIBUTES.groupId]: groupId\n    }));\n}\n_s104(PanelGroupWithForwardedRef, \"IHEXX3QNG3GFFPG285CsORYJAus=\", false, function() {\n    return [\n        useUniqueId,\n        useForceUpdate,\n        useIsomorphicLayoutEffect,\n        useWindowSplitterPanelGroupBehavior,\n        useIsomorphicLayoutEffect,\n        useIsomorphicLayoutEffect\n    ];\n});\n_c205 = PanelGroupWithForwardedRef;\nconst PanelGroup = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props2, ref)=>/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(PanelGroupWithForwardedRef, {\n        ...props2,\n        forwardedRef: ref\n    }));\n_c206 = PanelGroup;\nPanelGroupWithForwardedRef.displayName = \"PanelGroup\";\nPanelGroup.displayName = \"forwardRef(PanelGroup)\";\nfunction findPanelDataIndex(panelDataArray, panelData) {\n    return panelDataArray.findIndex((prevPanelData)=>prevPanelData === panelData || prevPanelData.id === panelData.id);\n}\nfunction panelDataHelper(panelDataArray, panelData, layout) {\n    const panelIndex = findPanelDataIndex(panelDataArray, panelData);\n    const isLastPanel = panelIndex === panelDataArray.length - 1;\n    const pivotIndices = isLastPanel ? [\n        panelIndex - 1,\n        panelIndex\n    ] : [\n        panelIndex,\n        panelIndex + 1\n    ];\n    const panelSize = layout[panelIndex];\n    return {\n        ...panelData.constraints,\n        panelSize,\n        pivotIndices\n    };\n}\nfunction useWindowSplitterResizeHandlerBehavior(param) {\n    let { disabled, handleId, resizeHandler, panelGroupElement } = param;\n    _s105();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useWindowSplitterResizeHandlerBehavior.useEffect\": ()=>{\n            if (disabled || resizeHandler == null || panelGroupElement == null) {\n                return;\n            }\n            const handleElement = getResizeHandleElement(handleId, panelGroupElement);\n            if (handleElement == null) {\n                return;\n            }\n            const onKeyDown = {\n                \"useWindowSplitterResizeHandlerBehavior.useEffect.onKeyDown\": (event)=>{\n                    if (event.defaultPrevented) {\n                        return;\n                    }\n                    switch(event.key){\n                        case \"ArrowDown\":\n                        case \"ArrowLeft\":\n                        case \"ArrowRight\":\n                        case \"ArrowUp\":\n                        case \"End\":\n                        case \"Home\":\n                            {\n                                event.preventDefault();\n                                resizeHandler(event);\n                                break;\n                            }\n                        case \"F6\":\n                            {\n                                event.preventDefault();\n                                const groupId = handleElement.getAttribute(DATA_ATTRIBUTES.groupId);\n                                assert(groupId, 'No group element found for id \"'.concat(groupId, '\"'));\n                                const handles = getResizeHandleElementsForGroup(groupId, panelGroupElement);\n                                const index2 = getResizeHandleElementIndex(groupId, handleId, panelGroupElement);\n                                assert(index2 !== null, 'No resize element found for id \"'.concat(handleId, '\"'));\n                                const nextIndex = event.shiftKey ? index2 > 0 ? index2 - 1 : handles.length - 1 : index2 + 1 < handles.length ? index2 + 1 : 0;\n                                const nextHandle = handles[nextIndex];\n                                nextHandle.focus();\n                                break;\n                            }\n                    }\n                }\n            }[\"useWindowSplitterResizeHandlerBehavior.useEffect.onKeyDown\"];\n            handleElement.addEventListener(\"keydown\", onKeyDown);\n            return ({\n                \"useWindowSplitterResizeHandlerBehavior.useEffect\": ()=>{\n                    handleElement.removeEventListener(\"keydown\", onKeyDown);\n                }\n            })[\"useWindowSplitterResizeHandlerBehavior.useEffect\"];\n        }\n    }[\"useWindowSplitterResizeHandlerBehavior.useEffect\"], [\n        panelGroupElement,\n        disabled,\n        handleId,\n        resizeHandler\n    ]);\n}\n_s105(useWindowSplitterResizeHandlerBehavior, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nfunction PanelResizeHandle(param) {\n    let { children = null, className: classNameFromProps = \"\", disabled = false, hitAreaMargins, id: idFromProps, onBlur, onClick, onDragging, onFocus, onPointerDown, onPointerUp, style: styleFromProps = {}, tabIndex = 0, tagName: Type = \"div\", ...rest } = param;\n    _s106();\n    var _hitAreaMargins$coars, _hitAreaMargins$fine;\n    const elementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const callbacksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        onClick,\n        onDragging,\n        onPointerDown,\n        onPointerUp\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PanelResizeHandle.useEffect\": ()=>{\n            callbacksRef.current.onClick = onClick;\n            callbacksRef.current.onDragging = onDragging;\n            callbacksRef.current.onPointerDown = onPointerDown;\n            callbacksRef.current.onPointerUp = onPointerUp;\n        }\n    }[\"PanelResizeHandle.useEffect\"]);\n    const panelGroupContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PanelGroupContext);\n    if (panelGroupContext === null) {\n        throw Error(\"PanelResizeHandle components must be rendered within a PanelGroup container\");\n    }\n    const { direction, groupId, registerResizeHandle: registerResizeHandleWithParentGroup, startDragging, stopDragging, panelGroupElement } = panelGroupContext;\n    const resizeHandleId = useUniqueId(idFromProps);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"inactive\");\n    const [isFocused, setIsFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [resizeHandler, setResizeHandler] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const committedValuesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        state\n    });\n    useIsomorphicLayoutEffect({\n        \"PanelResizeHandle.useIsomorphicLayoutEffect\": ()=>{\n            committedValuesRef.current.state = state;\n        }\n    }[\"PanelResizeHandle.useIsomorphicLayoutEffect\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PanelResizeHandle.useEffect\": ()=>{\n            if (disabled) {\n                setResizeHandler(null);\n            } else {\n                const resizeHandler2 = registerResizeHandleWithParentGroup(resizeHandleId);\n                setResizeHandler({\n                    \"PanelResizeHandle.useEffect\": ()=>resizeHandler2\n                }[\"PanelResizeHandle.useEffect\"]);\n            }\n        }\n    }[\"PanelResizeHandle.useEffect\"], [\n        disabled,\n        resizeHandleId,\n        registerResizeHandleWithParentGroup\n    ]);\n    const coarseHitAreaMargins = (_hitAreaMargins$coars = hitAreaMargins === null || hitAreaMargins === void 0 ? void 0 : hitAreaMargins.coarse) !== null && _hitAreaMargins$coars !== void 0 ? _hitAreaMargins$coars : 15;\n    const fineHitAreaMargins = (_hitAreaMargins$fine = hitAreaMargins === null || hitAreaMargins === void 0 ? void 0 : hitAreaMargins.fine) !== null && _hitAreaMargins$fine !== void 0 ? _hitAreaMargins$fine : 5;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"PanelResizeHandle.useEffect\": ()=>{\n            if (disabled || resizeHandler == null) {\n                return;\n            }\n            const element = elementRef.current;\n            assert(element, \"Element ref not attached\");\n            let didMove = false;\n            const setResizeHandlerState = {\n                \"PanelResizeHandle.useEffect.setResizeHandlerState\": (action, isActive, event)=>{\n                    if (!isActive) {\n                        setState(\"inactive\");\n                        return;\n                    }\n                    switch(action){\n                        case \"down\":\n                            {\n                                setState(\"drag\");\n                                didMove = false;\n                                assert(event, 'Expected event to be defined for \"down\" action');\n                                startDragging(resizeHandleId, event);\n                                const { onDragging: onDragging2, onPointerDown: onPointerDown2 } = callbacksRef.current;\n                                onDragging2 === null || onDragging2 === void 0 ? void 0 : onDragging2(true);\n                                onPointerDown2 === null || onPointerDown2 === void 0 ? void 0 : onPointerDown2();\n                                break;\n                            }\n                        case \"move\":\n                            {\n                                const { state: state2 } = committedValuesRef.current;\n                                didMove = true;\n                                if (state2 !== \"drag\") {\n                                    setState(\"hover\");\n                                }\n                                assert(event, 'Expected event to be defined for \"move\" action');\n                                resizeHandler(event);\n                                break;\n                            }\n                        case \"up\":\n                            {\n                                setState(\"hover\");\n                                stopDragging();\n                                const { onClick: onClick2, onDragging: onDragging2, onPointerUp: onPointerUp2 } = callbacksRef.current;\n                                onDragging2 === null || onDragging2 === void 0 ? void 0 : onDragging2(false);\n                                onPointerUp2 === null || onPointerUp2 === void 0 ? void 0 : onPointerUp2();\n                                if (!didMove) {\n                                    onClick2 === null || onClick2 === void 0 ? void 0 : onClick2();\n                                }\n                                break;\n                            }\n                    }\n                }\n            }[\"PanelResizeHandle.useEffect.setResizeHandlerState\"];\n            return registerResizeHandle(resizeHandleId, element, direction, {\n                coarse: coarseHitAreaMargins,\n                fine: fineHitAreaMargins\n            }, setResizeHandlerState);\n        }\n    }[\"PanelResizeHandle.useEffect\"], [\n        coarseHitAreaMargins,\n        direction,\n        disabled,\n        fineHitAreaMargins,\n        registerResizeHandleWithParentGroup,\n        resizeHandleId,\n        resizeHandler,\n        startDragging,\n        stopDragging\n    ]);\n    useWindowSplitterResizeHandlerBehavior({\n        disabled,\n        handleId: resizeHandleId,\n        resizeHandler,\n        panelGroupElement\n    });\n    const style = {\n        touchAction: \"none\",\n        userSelect: \"none\"\n    };\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(Type, {\n        ...rest,\n        children,\n        className: classNameFromProps,\n        id: idFromProps,\n        onBlur: ()=>{\n            setIsFocused(false);\n            onBlur === null || onBlur === void 0 ? void 0 : onBlur();\n        },\n        onFocus: ()=>{\n            setIsFocused(true);\n            onFocus === null || onFocus === void 0 ? void 0 : onFocus();\n        },\n        ref: elementRef,\n        role: \"separator\",\n        style: {\n            ...style,\n            ...styleFromProps\n        },\n        tabIndex,\n        // CSS selectors\n        [DATA_ATTRIBUTES.groupDirection]: direction,\n        [DATA_ATTRIBUTES.groupId]: groupId,\n        [DATA_ATTRIBUTES.resizeHandle]: \"\",\n        [DATA_ATTRIBUTES.resizeHandleActive]: state === \"drag\" ? \"pointer\" : isFocused ? \"keyboard\" : void 0,\n        [DATA_ATTRIBUTES.resizeHandleEnabled]: !disabled,\n        [DATA_ATTRIBUTES.resizeHandleId]: resizeHandleId,\n        [DATA_ATTRIBUTES.resizeHandleState]: state\n    });\n}\n_s106(PanelResizeHandle, \"+Q3pQUuvJSQiAYVKl8s01O1u3SA=\", false, function() {\n    return [\n        useUniqueId,\n        useIsomorphicLayoutEffect,\n        useWindowSplitterResizeHandlerBehavior\n    ];\n});\n_c207 = PanelResizeHandle;\nPanelResizeHandle.displayName = \"PanelResizeHandle\";\nfunction ResizablePanelGroup(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelGroup, {\n        \"data-slot\": \"resizable-panel-group\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:h-full vkui:w-full vkui:data-[panel-group-direction=vertical]:flex-col\", className),\n        ...props2\n    });\n}\n_c208 = ResizablePanelGroup;\nfunction ResizablePanel(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Panel, {\n        \"data-slot\": \"resizable-panel\",\n        ...props2\n    });\n}\n_c209 = ResizablePanel;\nfunction ResizableHandle(param) {\n    let { withHandle, className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelResizeHandle, {\n        \"data-slot\": \"resizable-handle\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:focus-visible:ring-ring vkui:relative vkui:flex vkui:w-px vkui:items-center vkui:justify-center vkui:after:absolute vkui:after:inset-y-0 vkui:after:left-1/2 vkui:after:w-1 vkui:after:-translate-x-1/2 vkui:focus-visible:ring-1 vkui:focus-visible:ring-offset-1 focus-visible:outline-hidden vkui:data-[panel-group-direction=vertical]:h-px vkui:data-[panel-group-direction=vertical]:w-full vkui:data-[panel-group-direction=vertical]:after:left-0 vkui:data-[panel-group-direction=vertical]:after:h-1 vkui:data-[panel-group-direction=vertical]:after:w-full vkui:data-[panel-group-direction=vertical]:after:-translate-y-1/2 vkui:data-[panel-group-direction=vertical]:after:translate-x-0 vkui:[&[data-panel-group-direction=vertical]>div]:rotate-90\", className),\n        ...props2,\n        children: withHandle && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:border-transparent vkui:z-10 vkui:flex vkui:h-8 vkui:w-4 vkui:items-center vkui:justify-center vkui:rounded-xs vkui:border\", {\n                \"vkui:h-4 vkui:w-8\": props2[\"aria-orientation\"] === \"horizontal\"\n            }),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EllipsisVerticalIcon, {\n                size: 16\n            })\n        })\n    });\n}\n_c210 = ResizableHandle;\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n    createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs$1 = /*#__PURE__*/ _s107(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c211 = _s107((props2, forwardedRef)=>{\n    _s107();\n    const { __scopeTabs, value: valueProp, onValueChange, defaultValue, orientation = \"horizontal\", dir, activationMode = \"automatic\", ...tabsProps } = props2;\n    const direction = useDirection(dir);\n    const [value1, setValue] = useControllableState({\n        prop: valueProp,\n        onChange: onValueChange,\n        defaultProp: defaultValue !== null && defaultValue !== void 0 ? defaultValue : \"\",\n        caller: TABS_NAME\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsProvider, {\n        scope: __scopeTabs,\n        baseId: useId$1(),\n        value: value1,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n        })\n    });\n}, \"WEKWvXRa0JWW3igCjl7c3QN0aKE=\", false, function() {\n    return [\n        useDirection,\n        useControllableState,\n        useId$1\n    ];\n})), \"WEKWvXRa0JWW3igCjl7c3QN0aKE=\", false, function() {\n    return [\n        useDirection,\n        useControllableState,\n        useId$1\n    ];\n});\n_c212 = Tabs$1;\nTabs$1.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList$1 = /*#__PURE__*/ _s108(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c213 = _s108((props2, forwardedRef)=>{\n    _s108();\n    const { __scopeTabs, loop = true, ...listProps } = props2;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root, {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n        })\n    });\n}, \"cfHyu4or5otFl074mR2f59Tyt4o=\", false, function() {\n    return [\n        useTabsContext,\n        useRovingFocusGroupScope\n    ];\n})), \"cfHyu4or5otFl074mR2f59Tyt4o=\", false, function() {\n    return [\n        useTabsContext,\n        useRovingFocusGroupScope\n    ];\n});\n_c214 = TabsList$1;\nTabsList$1.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME$1 = \"TabsTrigger\";\nvar TabsTrigger$1 = /*#__PURE__*/ _s109(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c215 = _s109((props2, forwardedRef)=>{\n    _s109();\n    const { __scopeTabs, value: value1, disabled = false, ...triggerProps } = props2;\n    const context = useTabsContext(TRIGGER_NAME$1, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value1);\n    const contentId = makeContentId(context.baseId, value1);\n    const isSelected = value1 === context.value;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Item, {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.button, {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props2.onMouseDown, (event)=>{\n                if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                    context.onValueChange(value1);\n                } else {\n                    event.preventDefault();\n                }\n            }),\n            onKeyDown: composeEventHandlers(props2.onKeyDown, (event)=>{\n                if ([\n                    \" \",\n                    \"Enter\"\n                ].includes(event.key)) context.onValueChange(value1);\n            }),\n            onFocus: composeEventHandlers(props2.onFocus, ()=>{\n                const isAutomaticActivation = context.activationMode !== \"manual\";\n                if (!isSelected && !disabled && isAutomaticActivation) {\n                    context.onValueChange(value1);\n                }\n            })\n        })\n    });\n}, \"cfHyu4or5otFl074mR2f59Tyt4o=\", false, function() {\n    return [\n        useTabsContext,\n        useRovingFocusGroupScope\n    ];\n})), \"cfHyu4or5otFl074mR2f59Tyt4o=\", false, function() {\n    return [\n        useTabsContext,\n        useRovingFocusGroupScope\n    ];\n});\n_c216 = TabsTrigger$1;\nTabsTrigger$1.displayName = TRIGGER_NAME$1;\nvar CONTENT_NAME$1 = \"TabsContent\";\nvar TabsContent$1 = /*#__PURE__*/ _s110(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c217 = _s110((props2, forwardedRef)=>{\n    _s110();\n    const { __scopeTabs, value: value1, forceMount, children, ...contentProps } = props2;\n    const context = useTabsContext(CONTENT_NAME$1, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value1);\n    const contentId = makeContentId(context.baseId, value1);\n    const isSelected = value1 === context.value;\n    const isMountAnimationPreventedRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(isSelected);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TabsContent$1.useEffect\": ()=>{\n            const rAF = requestAnimationFrame({\n                \"TabsContent$1.useEffect.rAF\": ()=>isMountAnimationPreventedRef.current = false\n            }[\"TabsContent$1.useEffect.rAF\"]);\n            return ({\n                \"TabsContent$1.useEffect\": ()=>cancelAnimationFrame(rAF)\n            })[\"TabsContent$1.useEffect\"];\n        }\n    }[\"TabsContent$1.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n        present: forceMount || isSelected,\n        children: (param)=>{\n            let { present } = param;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.div, {\n                \"data-state\": isSelected ? \"active\" : \"inactive\",\n                \"data-orientation\": context.orientation,\n                role: \"tabpanel\",\n                \"aria-labelledby\": triggerId,\n                hidden: !present,\n                id: contentId,\n                tabIndex: 0,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                    ...props2.style,\n                    animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n                },\n                children: present && children\n            });\n        }\n    });\n}, \"5pMsgA+tqKL6NmsG701SW7bTmuc=\", false, function() {\n    return [\n        useTabsContext\n    ];\n})), \"5pMsgA+tqKL6NmsG701SW7bTmuc=\", false, function() {\n    return [\n        useTabsContext\n    ];\n});\n_c218 = TabsContent$1;\nTabsContent$1.displayName = CONTENT_NAME$1;\nfunction makeTriggerId(baseId, value1) {\n    return \"\".concat(baseId, \"-trigger-\").concat(value1);\n}\nfunction makeContentId(baseId, value1) {\n    return \"\".concat(baseId, \"-content-\").concat(value1);\n}\nvar Root2 = Tabs$1;\nvar List = TabsList$1;\nvar Trigger$1 = TabsTrigger$1;\nvar Content = TabsContent$1;\nfunction Tabs(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2, {\n        \"data-slot\": \"tabs\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:flex-col vkui:gap-2\", className),\n        ...props2\n    });\n}\n_c219 = Tabs;\nfunction TabsList(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(List, {\n        \"data-slot\": \"tabs-list\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-muted vkui:text-muted-foreground vkui:inline-flex vkui:h-9 vkui:w-fit vkui:items-center vkui:justify-center vkui:rounded-lg p-[3px]\", className),\n        ...props2\n    });\n}\n_c220 = TabsList;\nfunction TabsTrigger(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Trigger$1, {\n        \"data-slot\": \"tabs-trigger\",\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:data-[state=active]:bg-background vkui:data-[state=active]:text-foreground vkui:focus-visible:border-ring vkui:focus-visible:ring-ring/50 vkui:focus-visible:outline-ring vkui:hover:bg-muted-foreground/10 vkui:dark:data-[state=active]:border-input vkui:dark:data-[state=active]:bg-input/30 vkui:text-foreground vkui:inline-flex vkui:h-[calc(100%-1px)] vkui:flex-1 vkui:items-center vkui:justify-center vkui:gap-1.5 vkui:rounded-md vkui:border vkui:border-transparent vkui:px-2 vkui:py-1 vkui:text-sm vkui:font-medium vkui:whitespace-nowrap vkui:transition-[color,box-shadow] vkui:focus-visible:ring-[3px] vkui:focus-visible:outline-1 vkui:disabled:pointer-events-none vkui:disabled:opacity-50 vkui:data-[state=active]:shadow-sm vkui:[&_svg]:pointer-events-none vkui:[&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\", className),\n        ...props2\n    });\n}\n_c221 = TabsTrigger;\nfunction TabsContent(param) {\n    let { className, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Content, {\n        \"data-slot\": \"tabs-content\",\n        forceMount: true,\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex-1 vkui:outline-none vkui:data-[state=inactive]:hidden\", className),\n        ...props2\n    });\n}\n_c222 = TabsContent;\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n    createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider$1 = (props2)=>{\n    _s111();\n    const { __scopeTooltip, delayDuration = DEFAULT_DELAY_DURATION, skipDelayDuration = 300, disableHoverableContent = false, children } = props2;\n    const isOpenDelayedRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(true);\n    const isPointerInTransitRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const skipDelayTimerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipProvider$1.useEffect\": ()=>{\n            const skipDelayTimer = skipDelayTimerRef.current;\n            return ({\n                \"TooltipProvider$1.useEffect\": ()=>window.clearTimeout(skipDelayTimer)\n            })[\"TooltipProvider$1.useEffect\"];\n        }\n    }[\"TooltipProvider$1.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipProviderContextProvider, {\n        scope: __scopeTooltip,\n        isOpenDelayedRef,\n        delayDuration,\n        onOpen: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"TooltipProvider$1.useCallback\": ()=>{\n                window.clearTimeout(skipDelayTimerRef.current);\n                isOpenDelayedRef.current = false;\n            }\n        }[\"TooltipProvider$1.useCallback\"], []),\n        onClose: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"TooltipProvider$1.useCallback\": ()=>{\n                window.clearTimeout(skipDelayTimerRef.current);\n                skipDelayTimerRef.current = window.setTimeout({\n                    \"TooltipProvider$1.useCallback\": ()=>isOpenDelayedRef.current = true\n                }[\"TooltipProvider$1.useCallback\"], skipDelayDuration);\n            }\n        }[\"TooltipProvider$1.useCallback\"], [\n            skipDelayDuration\n        ]),\n        isPointerInTransitRef,\n        onPointerInTransitChange: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n            \"TooltipProvider$1.useCallback\": (inTransit)=>{\n                isPointerInTransitRef.current = inTransit;\n            }\n        }[\"TooltipProvider$1.useCallback\"], []),\n        disableHoverableContent,\n        children\n    });\n};\n_s111(TooltipProvider$1, \"4fuC++z6HSmOj4k9l57mS/HTAD8=\");\n_c223 = TooltipProvider$1;\nTooltipProvider$1.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip$1 = (props2)=>{\n    _s112();\n    const { __scopeTooltip, children, open: openProp, defaultOpen, onOpenChange, disableHoverableContent: disableHoverableContentProp, delayDuration: delayDurationProp } = props2;\n    const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props2.__scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const [trigger, setTrigger] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const contentId = useId$1();\n    const openTimerRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(0);\n    const disableHoverableContent = disableHoverableContentProp !== null && disableHoverableContentProp !== void 0 ? disableHoverableContentProp : providerContext.disableHoverableContent;\n    const delayDuration = delayDurationProp !== null && delayDurationProp !== void 0 ? delayDurationProp : providerContext.delayDuration;\n    const wasOpenDelayedRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const [open, setOpen] = useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen !== null && defaultOpen !== void 0 ? defaultOpen : false,\n        onChange: {\n            \"Tooltip$1.useControllableState\": (open2)=>{\n                if (open2) {\n                    providerContext.onOpen();\n                    document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n                } else {\n                    providerContext.onClose();\n                }\n                onOpenChange == null ? void 0 : onOpenChange(open2);\n            }\n        }[\"Tooltip$1.useControllableState\"],\n        caller: TOOLTIP_NAME\n    });\n    const stateAttribute = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"Tooltip$1.useMemo[stateAttribute]\": ()=>{\n            return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n        }\n    }[\"Tooltip$1.useMemo[stateAttribute]\"], [\n        open\n    ]);\n    const handleOpen = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"Tooltip$1.useCallback[handleOpen]\": ()=>{\n            window.clearTimeout(openTimerRef.current);\n            openTimerRef.current = 0;\n            wasOpenDelayedRef.current = false;\n            setOpen(true);\n        }\n    }[\"Tooltip$1.useCallback[handleOpen]\"], [\n        setOpen\n    ]);\n    const handleClose = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"Tooltip$1.useCallback[handleClose]\": ()=>{\n            window.clearTimeout(openTimerRef.current);\n            openTimerRef.current = 0;\n            setOpen(false);\n        }\n    }[\"Tooltip$1.useCallback[handleClose]\"], [\n        setOpen\n    ]);\n    const handleDelayedOpen = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"Tooltip$1.useCallback[handleDelayedOpen]\": ()=>{\n            window.clearTimeout(openTimerRef.current);\n            openTimerRef.current = window.setTimeout({\n                \"Tooltip$1.useCallback[handleDelayedOpen]\": ()=>{\n                    wasOpenDelayedRef.current = true;\n                    setOpen(true);\n                    openTimerRef.current = 0;\n                }\n            }[\"Tooltip$1.useCallback[handleDelayedOpen]\"], delayDuration);\n        }\n    }[\"Tooltip$1.useCallback[handleDelayedOpen]\"], [\n        delayDuration,\n        setOpen\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"Tooltip$1.useEffect\": ()=>{\n            return ({\n                \"Tooltip$1.useEffect\": ()=>{\n                    if (openTimerRef.current) {\n                        window.clearTimeout(openTimerRef.current);\n                        openTimerRef.current = 0;\n                    }\n                }\n            })[\"Tooltip$1.useEffect\"];\n        }\n    }[\"Tooltip$1.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root2$4, {\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipContextProvider, {\n            scope: __scopeTooltip,\n            contentId,\n            open,\n            stateAttribute,\n            trigger,\n            onTriggerChange: setTrigger,\n            onTriggerEnter: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                \"Tooltip$1.useCallback\": ()=>{\n                    if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n                    else handleOpen();\n                }\n            }[\"Tooltip$1.useCallback\"], [\n                providerContext.isOpenDelayedRef,\n                handleDelayedOpen,\n                handleOpen\n            ]),\n            onTriggerLeave: react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n                \"Tooltip$1.useCallback\": ()=>{\n                    if (disableHoverableContent) {\n                        handleClose();\n                    } else {\n                        window.clearTimeout(openTimerRef.current);\n                        openTimerRef.current = 0;\n                    }\n                }\n            }[\"Tooltip$1.useCallback\"], [\n                handleClose,\n                disableHoverableContent\n            ]),\n            onOpen: handleOpen,\n            onClose: handleClose,\n            disableHoverableContent,\n            children\n        })\n    });\n};\n_s112(Tooltip$1, \"Kwye9dxuEFVc1MdY9SdwWvCxRlg=\", false, function() {\n    return [\n        useTooltipProviderContext,\n        usePopperScope,\n        useId$1,\n        useControllableState\n    ];\n});\n_c224 = Tooltip$1;\nTooltip$1.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger$1 = /*#__PURE__*/ _s113(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c225 = _s113((props2, forwardedRef)=>{\n    _s113();\n    const { __scopeTooltip, ...triggerProps } = props2;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const hasPointerMoveOpenedRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);\n    const handlePointerUp2 = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"TooltipTrigger$1.useCallback[handlePointerUp2]\": ()=>isPointerDownRef.current = false\n    }[\"TooltipTrigger$1.useCallback[handlePointerUp2]\"], []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipTrigger$1.useEffect\": ()=>{\n            return ({\n                \"TooltipTrigger$1.useEffect\": ()=>document.removeEventListener(\"pointerup\", handlePointerUp2)\n            })[\"TooltipTrigger$1.useEffect\"];\n        }\n    }[\"TooltipTrigger$1.useEffect\"], [\n        handlePointerUp2\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Anchor, {\n        asChild: true,\n        ...popperScope,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Primitive.button, {\n            \"aria-describedby\": context.open ? context.contentId : void 0,\n            \"data-state\": context.stateAttribute,\n            ...triggerProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(props2.onPointerMove, (event)=>{\n                if (event.pointerType === \"touch\") return;\n                if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n                    context.onTriggerEnter();\n                    hasPointerMoveOpenedRef.current = true;\n                }\n            }),\n            onPointerLeave: composeEventHandlers(props2.onPointerLeave, ()=>{\n                context.onTriggerLeave();\n                hasPointerMoveOpenedRef.current = false;\n            }),\n            onPointerDown: composeEventHandlers(props2.onPointerDown, ()=>{\n                if (context.open) {\n                    context.onClose();\n                }\n                isPointerDownRef.current = true;\n                document.addEventListener(\"pointerup\", handlePointerUp2, {\n                    once: true\n                });\n            }),\n            onFocus: composeEventHandlers(props2.onFocus, ()=>{\n                if (!isPointerDownRef.current) context.onOpen();\n            }),\n            onBlur: composeEventHandlers(props2.onBlur, context.onClose),\n            onClick: composeEventHandlers(props2.onClick, context.onClose)\n        })\n    });\n}, \"FVIQnwxHh6HBMSclXLQDPiwPDDc=\", false, function() {\n    return [\n        useTooltipContext,\n        useTooltipProviderContext,\n        usePopperScope,\n        useComposedRefs\n    ];\n})), \"FVIQnwxHh6HBMSclXLQDPiwPDDc=\", false, function() {\n    return [\n        useTooltipContext,\n        useTooltipProviderContext,\n        usePopperScope,\n        useComposedRefs\n    ];\n});\n_c226 = TooltipTrigger$1;\nTooltipTrigger$1.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n    forceMount: void 0\n});\nvar TooltipPortal = (props2)=>{\n    _s114();\n    const { __scopeTooltip, forceMount, children, container } = props2;\n    const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortalProvider, {\n        scope: __scopeTooltip,\n        forceMount,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n            present: forceMount || context.open,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal$4, {\n                asChild: true,\n                container,\n                children\n            })\n        })\n    });\n};\n_s114(TooltipPortal, \"xB1jeapIst5f8c7+wNiLkfdUmBA=\", false, function() {\n    return [\n        useTooltipContext\n    ];\n});\n_c227 = TooltipPortal;\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent$1 = /*#__PURE__*/ _s115(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c228 = _s115((props2, forwardedRef)=>{\n    _s115();\n    const portalContext = usePortalContext(CONTENT_NAME, props2.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props2;\n    const context = useTooltipContext(CONTENT_NAME, props2.__scopeTooltip);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Presence, {\n        present: forceMount || context.open,\n        children: context.disableHoverableContent ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipContentImpl, {\n            side,\n            ...contentProps,\n            ref: forwardedRef\n        }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipContentHoverable, {\n            side,\n            ...contentProps,\n            ref: forwardedRef\n        })\n    });\n}, \"Z69swUFObjAgmys2CDvyqDb1Nbw=\", false, function() {\n    return [\n        usePortalContext,\n        useTooltipContext\n    ];\n})), \"Z69swUFObjAgmys2CDvyqDb1Nbw=\", false, function() {\n    return [\n        usePortalContext,\n        useTooltipContext\n    ];\n});\n_c229 = TooltipContent$1;\nvar TooltipContentHoverable = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s116((props2, forwardedRef)=>{\n    _s116();\n    const context = useTooltipContext(CONTENT_NAME, props2.__scopeTooltip);\n    const providerContext = useTooltipProviderContext(CONTENT_NAME, props2.__scopeTooltip);\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [pointerGraceArea, setPointerGraceArea] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const { trigger, onClose } = context;\n    const content = ref.current;\n    const { onPointerInTransitChange } = providerContext;\n    const handleRemoveGraceArea = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"TooltipContentHoverable.useCallback[handleRemoveGraceArea]\": ()=>{\n            setPointerGraceArea(null);\n            onPointerInTransitChange(false);\n        }\n    }[\"TooltipContentHoverable.useCallback[handleRemoveGraceArea]\"], [\n        onPointerInTransitChange\n    ]);\n    const handleCreateGraceArea = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"TooltipContentHoverable.useCallback[handleCreateGraceArea]\": (event, hoverTarget)=>{\n            const currentTarget = event.currentTarget;\n            const exitPoint = {\n                x: event.clientX,\n                y: event.clientY\n            };\n            const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n            const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n            const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n            const graceArea = getHull([\n                ...paddedExitPoints,\n                ...hoverTargetPoints\n            ]);\n            setPointerGraceArea(graceArea);\n            onPointerInTransitChange(true);\n        }\n    }[\"TooltipContentHoverable.useCallback[handleCreateGraceArea]\"], [\n        onPointerInTransitChange\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipContentHoverable.useEffect\": ()=>{\n            return ({\n                \"TooltipContentHoverable.useEffect\": ()=>handleRemoveGraceArea()\n            })[\"TooltipContentHoverable.useEffect\"];\n        }\n    }[\"TooltipContentHoverable.useEffect\"], [\n        handleRemoveGraceArea\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipContentHoverable.useEffect\": ()=>{\n            if (trigger && content) {\n                const handleTriggerLeave = {\n                    \"TooltipContentHoverable.useEffect.handleTriggerLeave\": (event)=>handleCreateGraceArea(event, content)\n                }[\"TooltipContentHoverable.useEffect.handleTriggerLeave\"];\n                const handleContentLeave = {\n                    \"TooltipContentHoverable.useEffect.handleContentLeave\": (event)=>handleCreateGraceArea(event, trigger)\n                }[\"TooltipContentHoverable.useEffect.handleContentLeave\"];\n                trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n                content.addEventListener(\"pointerleave\", handleContentLeave);\n                return ({\n                    \"TooltipContentHoverable.useEffect\": ()=>{\n                        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n                        content.removeEventListener(\"pointerleave\", handleContentLeave);\n                    }\n                })[\"TooltipContentHoverable.useEffect\"];\n            }\n        }\n    }[\"TooltipContentHoverable.useEffect\"], [\n        trigger,\n        content,\n        handleCreateGraceArea,\n        handleRemoveGraceArea\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipContentHoverable.useEffect\": ()=>{\n            if (pointerGraceArea) {\n                const handleTrackPointerGrace = {\n                    \"TooltipContentHoverable.useEffect.handleTrackPointerGrace\": (event)=>{\n                        const target = event.target;\n                        const pointerPosition = {\n                            x: event.clientX,\n                            y: event.clientY\n                        };\n                        const hasEnteredTarget = (trigger == null ? void 0 : trigger.contains(target)) || (content == null ? void 0 : content.contains(target));\n                        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n                        if (hasEnteredTarget) {\n                            handleRemoveGraceArea();\n                        } else if (isPointerOutsideGraceArea) {\n                            handleRemoveGraceArea();\n                            onClose();\n                        }\n                    }\n                }[\"TooltipContentHoverable.useEffect.handleTrackPointerGrace\"];\n                document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n                return ({\n                    \"TooltipContentHoverable.useEffect\": ()=>document.removeEventListener(\"pointermove\", handleTrackPointerGrace)\n                })[\"TooltipContentHoverable.useEffect\"];\n            }\n        }\n    }[\"TooltipContentHoverable.useEffect\"], [\n        trigger,\n        content,\n        pointerGraceArea,\n        onClose,\n        handleRemoveGraceArea\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipContentImpl, {\n        ...props2,\n        ref: composedRefs\n    });\n}, \"gHff4ZZbXA0WT6udB7OmagibGvA=\", false, function() {\n    return [\n        useTooltipContext,\n        useTooltipProviderContext,\n        useComposedRefs\n    ];\n}));\n_c230 = TooltipContentHoverable;\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, {\n    isInside: false\n});\nvar Slottable = /* @__PURE__ */ createSlottable(\"TooltipContent\");\n_c231 = Slottable;\nvar TooltipContentImpl = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_s117((props2, forwardedRef)=>{\n    _s117();\n    const { __scopeTooltip, children, \"aria-label\": ariaLabel, onEscapeKeyDown, onPointerDownOutside, ...contentProps } = props2;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipContentImpl.useEffect\": ()=>{\n            document.addEventListener(TOOLTIP_OPEN, onClose);\n            return ({\n                \"TooltipContentImpl.useEffect\": ()=>document.removeEventListener(TOOLTIP_OPEN, onClose)\n            })[\"TooltipContentImpl.useEffect\"];\n        }\n    }[\"TooltipContentImpl.useEffect\"], [\n        onClose\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"TooltipContentImpl.useEffect\": ()=>{\n            if (context.trigger) {\n                const handleScroll2 = {\n                    \"TooltipContentImpl.useEffect.handleScroll2\": (event)=>{\n                        const target = event.target;\n                        if (target == null ? void 0 : target.contains(context.trigger)) onClose();\n                    }\n                }[\"TooltipContentImpl.useEffect.handleScroll2\"];\n                window.addEventListener(\"scroll\", handleScroll2, {\n                    capture: true\n                });\n                return ({\n                    \"TooltipContentImpl.useEffect\": ()=>window.removeEventListener(\"scroll\", handleScroll2, {\n                            capture: true\n                        })\n                })[\"TooltipContentImpl.useEffect\"];\n            }\n        }\n    }[\"TooltipContentImpl.useEffect\"], [\n        context.trigger,\n        onClose\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DismissableLayer, {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event)=>event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Content$1, {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n                ...contentProps.style,\n                // re-namespace exposed content custom properties\n                ...{\n                    \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                }\n            },\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Slottable, {\n                    children\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisuallyHiddenContentContextProvider, {\n                    scope: __scopeTooltip,\n                    isInside: true,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root$1, {\n                        id: context.contentId,\n                        role: \"tooltip\",\n                        children: ariaLabel || children\n                    })\n                })\n            ]\n        })\n    });\n}, \"i9WYRDazLRQfWd3Hvi+XZwDDx40=\", false, function() {\n    return [\n        useTooltipContext,\n        usePopperScope\n    ];\n}));\n_c232 = TooltipContentImpl;\nTooltipContent$1.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = /*#__PURE__*/ _s118(react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(_c233 = _s118((props2, forwardedRef)=>{\n    _s118();\n    const { __scopeTooltip, ...arrowProps } = props2;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(ARROW_NAME, __scopeTooltip);\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow, {\n        ...popperScope,\n        ...arrowProps,\n        ref: forwardedRef\n    });\n}, \"PhtHwCUYJI5ZCq3IiyAmXd8x79Y=\", false, function() {\n    return [\n        usePopperScope,\n        useVisuallyHiddenContentContext\n    ];\n})), \"PhtHwCUYJI5ZCq3IiyAmXd8x79Y=\", false, function() {\n    return [\n        usePopperScope,\n        useVisuallyHiddenContentContext\n    ];\n});\n_c234 = TooltipArrow;\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n    const top = Math.abs(rect.top - point.y);\n    const bottom = Math.abs(rect.bottom - point.y);\n    const right = Math.abs(rect.right - point.x);\n    const left = Math.abs(rect.left - point.x);\n    switch(Math.min(top, bottom, right, left)){\n        case left:\n            return \"left\";\n        case right:\n            return \"right\";\n        case top:\n            return \"top\";\n        case bottom:\n            return \"bottom\";\n        default:\n            throw new Error(\"unreachable\");\n    }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide) {\n    let padding = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 5;\n    const paddedExitPoints = [];\n    switch(exitSide){\n        case \"top\":\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y + padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y + padding\n            });\n            break;\n        case \"bottom\":\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y - padding\n            });\n            break;\n        case \"left\":\n            paddedExitPoints.push({\n                x: exitPoint.x + padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y + padding\n            });\n            break;\n        case \"right\":\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x - padding,\n                y: exitPoint.y + padding\n            });\n            break;\n    }\n    return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n    const { top, right, bottom, left } = rect;\n    return [\n        {\n            x: left,\n            y: top\n        },\n        {\n            x: right,\n            y: top\n        },\n        {\n            x: right,\n            y: bottom\n        },\n        {\n            x: left,\n            y: bottom\n        }\n    ];\n}\nfunction isPointInPolygon(point, polygon) {\n    const { x, y } = point;\n    let inside = false;\n    for(let i = 0, j = polygon.length - 1; i < polygon.length; j = i++){\n        const ii = polygon[i];\n        const jj = polygon[j];\n        const xi = ii.x;\n        const yi = ii.y;\n        const xj = jj.x;\n        const yj = jj.y;\n        const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n        if (intersect) inside = !inside;\n    }\n    return inside;\n}\nfunction getHull(points) {\n    const newPoints = points.slice();\n    newPoints.sort((a, b)=>{\n        if (a.x < b.x) return -1;\n        else if (a.x > b.x) return 1;\n        else if (a.y < b.y) return -1;\n        else if (a.y > b.y) return 1;\n        else return 0;\n    });\n    return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n    if (points.length <= 1) return points.slice();\n    const upperHull = [];\n    for(let i = 0; i < points.length; i++){\n        const p = points[i];\n        while(upperHull.length >= 2){\n            const q = upperHull[upperHull.length - 1];\n            const r = upperHull[upperHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n            else break;\n        }\n        upperHull.push(p);\n    }\n    upperHull.pop();\n    const lowerHull = [];\n    for(let i = points.length - 1; i >= 0; i--){\n        const p = points[i];\n        while(lowerHull.length >= 2){\n            const q = lowerHull[lowerHull.length - 1];\n            const r = lowerHull[lowerHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n            else break;\n        }\n        lowerHull.push(p);\n    }\n    lowerHull.pop();\n    if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n        return upperHull;\n    } else {\n        return upperHull.concat(lowerHull);\n    }\n}\nvar Provider = TooltipProvider$1;\nvar Root3 = Tooltip$1;\nvar Trigger = TooltipTrigger$1;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent$1;\nvar Arrow2 = TooltipArrow;\nfunction TooltipProvider(param) {\n    let { delayDuration = 0, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Provider, {\n        \"data-slot\": \"tooltip-provider\",\n        delayDuration,\n        ...props2\n    });\n}\n_c235 = TooltipProvider;\nfunction Tooltip(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipProvider, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Root3, {\n            \"data-slot\": \"tooltip\",\n            ...props2\n        })\n    });\n}\n_c236 = Tooltip;\nfunction TooltipTrigger(param) {\n    let { ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Trigger, {\n        \"data-slot\": \"tooltip-trigger\",\n        ...props2\n    });\n}\n_c237 = TooltipTrigger;\nfunction TooltipContent(param) {\n    let { className, sideOffset = 0, children, ...props2 } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Portal, {\n        container: getPipecatUIContainer(),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Content2, {\n            \"data-slot\": \"tooltip-content\",\n            sideOffset,\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-primary vkui:text-primary-foreground vkui:animate-in vkui:fade-in-0 vkui:zoom-in-95 vkui:data-[state=closed]:animate-out vkui:data-[state=closed]:fade-out-0 vkui:data-[state=closed]:zoom-out-95 vkui:data-[side=bottom]:slide-in-from-top-2 vkui:data-[side=left]:slide-in-from-right-2 vkui:data-[side=right]:slide-in-from-left-2 vkui:data-[side=top]:slide-in-from-bottom-2 vkui:z-50 vkui:w-fit vkui:origin-(--radix-tooltip-content-transform-origin) vkui:rounded-md vkui:px-3 vkui:py-1.5 vkui:text-xs vkui:text-balance\", className),\n            ...props2,\n            children: [\n                children,\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Arrow2, {\n                    className: \"vkui:bg-primary vkui:fill-primary vkui:z-50 vkui:size-2.5 vkui:translate-y-[calc(-50%_-_2px)] vkui:rotate-45 vkui:rounded-[2px]\"\n                })\n            ]\n        })\n    });\n}\n_c238 = TooltipContent;\nconst ControlBar = (param)=>{\n    let { onConnect, onDisconnect, size: size2 = \"xl\", className } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Card, {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:shadow-long vkui:bg-background\", className),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(CardContent, {\n            className: \"vkui:flex vkui:flex-row vkui:gap-4 vkui:p-4\",\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserAudioControl, {\n                    size: size2,\n                    variant: \"outline\"\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"vkui:w-px vkui:bg-border vkui:self-stretch vkui:mx-2\"\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectButton, {\n                    onConnect: ()=>{\n                        onConnect == null ? void 0 : onConnect();\n                    },\n                    onDisconnect: ()=>{\n                        onDisconnect == null ? void 0 : onDisconnect();\n                    },\n                    defaultVariant: \"outline\",\n                    size: size2\n                })\n            ]\n        })\n    });\n};\n_c239 = ControlBar;\nconst sortByCreatedAt = (a, b)=>{\n    return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\n};\nconst filterEmptyMessages = (message, index2, array)=>{\n    if (message.content) return true;\n    const nextMessageWithSameRole = array.slice(index2 + 1).find((m)=>m.role === message.role && m.content);\n    return !nextMessageWithSameRole;\n};\nconst useConversation = function() {\n    let { onMessageAdded } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _s119();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Connected, {\n        \"useConversation.useRTVIClientEvent\": ()=>{\n            setMessages([]);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotLlmStarted, {\n        \"useConversation.useRTVIClientEvent\": ()=>{\n            const now = /* @__PURE__ */ new Date();\n            setMessages({\n                \"useConversation.useRTVIClientEvent\": (prev)=>{\n                    const lastBotMessageIndex = prev.findLastIndex({\n                        \"useConversation.useRTVIClientEvent.lastBotMessageIndex\": (msg)=>msg.role === \"assistant\"\n                    }[\"useConversation.useRTVIClientEvent.lastBotMessageIndex\"]);\n                    const lastBotMessage = prev[lastBotMessageIndex];\n                    if (lastBotMessage && lastBotMessage.role === \"assistant\" && !lastBotMessage.content) {\n                        return prev.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    const newMessage = {\n                        role: \"assistant\",\n                        content: \"\",\n                        final: false,\n                        createdAt: now.toISOString(),\n                        updatedAt: now.toISOString()\n                    };\n                    onMessageAdded == null ? void 0 : onMessageAdded(newMessage);\n                    return [\n                        ...prev,\n                        newMessage\n                    ].sort(sortByCreatedAt).filter(filterEmptyMessages);\n                }\n            }[\"useConversation.useRTVIClientEvent\"]);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotLlmText, {\n        \"useConversation.useRTVIClientEvent\": (data)=>{\n            const now = /* @__PURE__ */ new Date();\n            setMessages({\n                \"useConversation.useRTVIClientEvent\": (prev)=>{\n                    const lastBotMessageIndex = prev.findLastIndex({\n                        \"useConversation.useRTVIClientEvent.lastBotMessageIndex\": (msg)=>msg.role === \"assistant\"\n                    }[\"useConversation.useRTVIClientEvent.lastBotMessageIndex\"]);\n                    const lastBotMessage = prev[lastBotMessageIndex];\n                    if (!lastBotMessage) {\n                        const newMessage2 = {\n                            role: \"assistant\",\n                            content: data.text,\n                            createdAt: now.toISOString(),\n                            updatedAt: now.toISOString()\n                        };\n                        onMessageAdded == null ? void 0 : onMessageAdded(newMessage2);\n                        return [\n                            ...prev,\n                            newMessage2\n                        ].sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    if (!lastBotMessage.content) {\n                        const newMessages = prev.slice();\n                        newMessages.splice(lastBotMessageIndex, 1, {\n                            ...lastBotMessage,\n                            content: data.text,\n                            createdAt: now.toISOString(),\n                            updatedAt: now.toISOString()\n                        });\n                        return newMessages.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    const isRecent = lastBotMessage && lastBotMessage.role === \"assistant\" && now.getTime() - new Date(lastBotMessage.createdAt).getTime() < 1e4;\n                    if (isRecent) {\n                        const newMessages = prev.slice();\n                        newMessages.splice(lastBotMessageIndex, 1, {\n                            ...lastBotMessage,\n                            content: lastBotMessage.content + data.text,\n                            createdAt: lastBotMessage.content ? lastBotMessage.createdAt : now.toISOString(),\n                            updatedAt: now.toISOString()\n                        });\n                        return newMessages.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    const newMessage = {\n                        role: \"assistant\",\n                        content: data.text,\n                        createdAt: now.toISOString(),\n                        updatedAt: now.toISOString()\n                    };\n                    onMessageAdded == null ? void 0 : onMessageAdded(newMessage);\n                    return [\n                        ...prev,\n                        newMessage\n                    ].sort(sortByCreatedAt).filter(filterEmptyMessages);\n                }\n            }[\"useConversation.useRTVIClientEvent\"]);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotLlmStopped, {\n        \"useConversation.useRTVIClientEvent\": ()=>{\n            setMessages({\n                \"useConversation.useRTVIClientEvent\": (prev)=>{\n                    const lastBotMessageIndex = prev.findLastIndex({\n                        \"useConversation.useRTVIClientEvent.lastBotMessageIndex\": (msg)=>msg.role === \"assistant\"\n                    }[\"useConversation.useRTVIClientEvent.lastBotMessageIndex\"]);\n                    const lastBotMessage = prev[lastBotMessageIndex];\n                    if (!lastBotMessage) return prev;\n                    if (lastBotMessage && lastBotMessage.role === \"assistant\" && !lastBotMessage.content) {\n                        return prev.slice(0, -1).sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    lastBotMessage.final = true;\n                    const newMessages = prev.slice();\n                    newMessages.splice(lastBotMessageIndex, 1, {\n                        ...lastBotMessage,\n                        updatedAt: /* @__PURE__ */ new Date().toISOString()\n                    });\n                    onMessageAdded == null ? void 0 : onMessageAdded(lastBotMessage);\n                    return newMessages.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                }\n            }[\"useConversation.useRTVIClientEvent\"]);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    const userStoppedTimeout = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(void 0);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserStartedSpeaking, {\n        \"useConversation.useRTVIClientEvent\": ()=>{\n            clearTimeout(userStoppedTimeout.current);\n            const now = /* @__PURE__ */ new Date();\n            setMessages({\n                \"useConversation.useRTVIClientEvent\": (prev)=>{\n                    const lastUserMessageIndex = prev.findLastIndex({\n                        \"useConversation.useRTVIClientEvent.lastUserMessageIndex\": (msg)=>msg.role === \"user\"\n                    }[\"useConversation.useRTVIClientEvent.lastUserMessageIndex\"]);\n                    const lastUserMessage = prev[lastUserMessageIndex];\n                    if (lastUserMessage && lastUserMessage.role === \"user\" && !lastUserMessage.content) {\n                        const newMessages = prev.slice();\n                        newMessages.splice(lastUserMessageIndex, 1, {\n                            ...lastUserMessage,\n                            createdAt: now.toISOString(),\n                            updatedAt: now.toISOString()\n                        });\n                        return newMessages.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    const newMessage = {\n                        role: \"user\",\n                        content: \"\",\n                        final: false,\n                        createdAt: now.toISOString(),\n                        updatedAt: now.toISOString()\n                    };\n                    onMessageAdded == null ? void 0 : onMessageAdded(newMessage);\n                    return [\n                        ...prev,\n                        newMessage\n                    ].sort(sortByCreatedAt).filter(filterEmptyMessages);\n                }\n            }[\"useConversation.useRTVIClientEvent\"]);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserTranscript, {\n        \"useConversation.useRTVIClientEvent\": (data)=>{\n            const now = /* @__PURE__ */ new Date();\n            setMessages({\n                \"useConversation.useRTVIClientEvent\": (prev)=>{\n                    const lastUserMessageIndex = prev.findLastIndex({\n                        \"useConversation.useRTVIClientEvent.lastUserMessageIndex\": (msg)=>msg.role === \"user\"\n                    }[\"useConversation.useRTVIClientEvent.lastUserMessageIndex\"]);\n                    const lastUserMessage = prev[lastUserMessageIndex];\n                    if (lastUserMessage && !lastUserMessage.final) {\n                        const updatedMessage = {\n                            ...lastUserMessage,\n                            final: data.final,\n                            content: data.text,\n                            updatedAt: now.toISOString()\n                        };\n                        onMessageAdded == null ? void 0 : onMessageAdded(updatedMessage);\n                        const newMessages = prev.slice();\n                        newMessages.splice(lastUserMessageIndex, 1, updatedMessage);\n                        return newMessages.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                    }\n                    const newMessage = {\n                        role: \"user\",\n                        content: data.text,\n                        final: data.final,\n                        createdAt: now.toISOString()\n                    };\n                    onMessageAdded == null ? void 0 : onMessageAdded(newMessage);\n                    return [\n                        ...prev,\n                        newMessage\n                    ].sort(sortByCreatedAt).filter(filterEmptyMessages);\n                }\n            }[\"useConversation.useRTVIClientEvent\"]);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserStoppedSpeaking, {\n        \"useConversation.useRTVIClientEvent\": ()=>{\n            clearTimeout(userStoppedTimeout.current);\n            userStoppedTimeout.current = setTimeout({\n                \"useConversation.useRTVIClientEvent\": ()=>{\n                    setMessages({\n                        \"useConversation.useRTVIClientEvent\": (prev)=>{\n                            const lastUserMessageIndex = prev.findLastIndex({\n                                \"useConversation.useRTVIClientEvent.lastUserMessageIndex\": (msg)=>msg.role === \"user\"\n                            }[\"useConversation.useRTVIClientEvent.lastUserMessageIndex\"]);\n                            const lastUserMessage = prev[lastUserMessageIndex];\n                            if (!lastUserMessage || lastUserMessage.content) return prev.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                            const newMessages = prev.slice();\n                            newMessages.splice(lastUserMessageIndex, 1);\n                            return newMessages.sort(sortByCreatedAt).filter(filterEmptyMessages);\n                        }\n                    }[\"useConversation.useRTVIClientEvent\"]);\n                }\n            }[\"useConversation.useRTVIClientEvent\"], 5e3);\n        }\n    }[\"useConversation.useRTVIClientEvent\"]);\n    const getMergedMessages = ()=>{\n        const mergedMessages = [];\n        for(let i = 0; i < messages.length; i++){\n            const currentMessage = messages[i];\n            const lastMerged = mergedMessages[mergedMessages.length - 1];\n            const timeDiff = lastMerged ? Math.abs(new Date(currentMessage.createdAt).getTime() - new Date(lastMerged.createdAt).getTime()) : Infinity;\n            const shouldMerge = lastMerged && lastMerged.role === currentMessage.role && timeDiff < 3e4;\n            if (shouldMerge) {\n                mergedMessages[mergedMessages.length - 1] = {\n                    ...lastMerged,\n                    content: \"\".concat(lastMerged.content, \" \").concat(currentMessage.content),\n                    updatedAt: currentMessage.updatedAt || currentMessage.createdAt,\n                    final: currentMessage.final !== false\n                };\n            } else {\n                mergedMessages.push({\n                    ...currentMessage\n                });\n            }\n        }\n        return mergedMessages;\n    };\n    return {\n        messages: getMergedMessages()\n    };\n};\n_s119(useConversation, \"XMmDpnjU00w+f9sg0tMPxBuMT4s=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent\n    ];\n});\nconst Thinking = (param)=>{\n    let { \"aria-label\": ariaLabel = \"Loading\", className = \"\", initialDots = 1, interval = 500, maxDots = 3 } = param;\n    _s120();\n    const [dots, setDots] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialDots);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Thinking.useEffect\": ()=>{\n            const i = setInterval({\n                \"Thinking.useEffect.i\": ()=>{\n                    setDots({\n                        \"Thinking.useEffect.i\": (prevDots)=>prevDots % maxDots + 1\n                    }[\"Thinking.useEffect.i\"]);\n                }\n            }[\"Thinking.useEffect.i\"], interval);\n            return ({\n                \"Thinking.useEffect\": ()=>clearInterval(i)\n            })[\"Thinking.useEffect\"];\n        }\n    }[\"Thinking.useEffect\"], [\n        interval,\n        maxDots\n    ]);\n    const renderDots = ()=>{\n        return \".\".repeat(dots);\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n        className,\n        \"aria-label\": ariaLabel,\n        children: renderDots()\n    });\n};\n_s120(Thinking, \"AnyJy/Z98eGPGmCDoV4IXBUo7Pw=\");\n_c240 = Thinking;\nconst Conversation = (param)=>{\n    let { classNames = {}, noAutoscroll = false } = param;\n    _s121();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isScrolledToBottom = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const transportState = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState)();\n    const maybeScrollToBottom = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Conversation.useCallback[maybeScrollToBottom]\": ()=>{\n            if (!scrollRef.current) return;\n            if (isScrolledToBottom.current) {\n                scrollRef.current.scrollTo({\n                    top: scrollRef.current.scrollHeight,\n                    behavior: \"smooth\"\n                });\n            }\n        }\n    }[\"Conversation.useCallback[maybeScrollToBottom]\"], []);\n    const updateScrollState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Conversation.useCallback[updateScrollState]\": ()=>{\n            if (!scrollRef.current || noAutoscroll) return;\n            isScrolledToBottom.current = Math.ceil(scrollRef.current.scrollHeight - scrollRef.current.scrollTop) <= Math.ceil(scrollRef.current.clientHeight);\n        }\n    }[\"Conversation.useCallback[updateScrollState]\"], [\n        noAutoscroll\n    ]);\n    const { messages } = useConversation({\n        onMessageAdded: {\n            \"Conversation.useConversation\": ()=>{\n                if (noAutoscroll) return;\n                maybeScrollToBottom();\n            }\n        }[\"Conversation.useConversation\"]\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Conversation.useEffect\": ()=>{\n            if (noAutoscroll) return;\n            maybeScrollToBottom();\n        }\n    }[\"Conversation.useEffect\"], [\n        messages,\n        maybeScrollToBottom,\n        noAutoscroll\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Conversation.useEffect\": ()=>{\n            const scrollElement = scrollRef.current;\n            if (!scrollElement) return;\n            const handleScroll2 = {\n                \"Conversation.useEffect.handleScroll2\": ()=>updateScrollState()\n            }[\"Conversation.useEffect.handleScroll2\"];\n            scrollElement.addEventListener(\"scroll\", handleScroll2);\n            updateScrollState();\n            return ({\n                \"Conversation.useEffect\": ()=>scrollElement.removeEventListener(\"scroll\", handleScroll2)\n            })[\"Conversation.useEffect\"];\n        }\n    }[\"Conversation.useEffect\"], [\n        updateScrollState\n    ]);\n    const isConnecting = transportState === \"authenticating\" || transportState === \"connecting\";\n    const isConnected = transportState === \"connected\" || transportState === \"ready\";\n    if (messages.length > 0) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            ref: scrollRef,\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:h-full vkui:overflow-y-auto vkui:p-4\", classNames.container),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:grid vkui:grid-cols-[min-content_1fr] vkui:gap-x-4 vkui:gap-y-2\", classNames.message),\n                children: messages.map((message, index2)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:font-semibold vkui:font-mono vkui:text-xs vkui:leading-6\", {\n                                    \"vkui:text-blue-500\": message.role === \"user\",\n                                    \"vkui:text-purple-500\": message.role === \"assistant\"\n                                }, classNames.role),\n                                children: message.role\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:flex-col vkui:gap-2\", classNames.messageContent),\n                                children: [\n                                    message.content || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Thinking, {\n                                        className: classNames.thinking\n                                    }),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:self-end vkui:text-xs vkui:text-gray-500 vkui:mb-1\", classNames.time),\n                                        children: new Date(message.createdAt).toLocaleTimeString()\n                                    })\n                                ]\n                            })\n                        ]\n                    }, index2))\n            })\n        });\n    }\n    if (isConnecting) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:items-center vkui:justify-center vkui:h-full\", classNames.container),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"vkui:text-muted-foreground vkui:text-sm\",\n                children: \"Connecting to agent...\"\n            })\n        });\n    }\n    if (!isConnected) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:items-center vkui:justify-center vkui:h-full\", classNames.container),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"vkui:text-center vkui:p-4\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"vkui:text-muted-foreground vkui:mb-2\",\n                        children: \"Not connected to agent\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        className: \"vkui:text-sm vkui:text-muted-foreground vkui:max-w-md\",\n                        children: \"Connect to an agent to see conversation messages in real-time.\"\n                    })\n                ]\n            })\n        });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:items-center vkui:justify-center vkui:h-full\", classNames.container),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: \"vkui:text-muted-foreground vkui:text-sm\",\n            children: \"Waiting for messages...\"\n        })\n    });\n};\n_s121(Conversation, \"Q62Wj5+bTtm6BR9ho3R4p5oBBmw=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState,\n        useConversation\n    ];\n});\n_c241 = Conversation;\nconst CopyText = (param)=>{\n    let { text, iconSize = 16, className = \"\" } = param;\n    _s122();\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const copyToClipboard = async ()=>{\n        try {\n            await navigator.clipboard.writeText(text);\n            setCopied(true);\n            setTimeout(()=>setCopied(false), 2e3);\n        } catch (err) {\n            console.error(\"Failed to copy text: \", err);\n        }\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:flex vkui:items-center vkui:overflow-hidden vkui:w-full\", className),\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                className: \"vkui:truncate vkui:min-w-0\",\n                children: text\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipProvider, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Tooltip, {\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipTrigger, {\n                            asChild: true,\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                                variant: \"ghost\",\n                                size: \"icon-sm\",\n                                className: \"vkui:flex-none\",\n                                onClick: copyToClipboard,\n                                \"aria-label\": \"Copy to clipboard\",\n                                children: copied ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CopyCheck, {\n                                    size: iconSize\n                                }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Copy, {\n                                    size: iconSize\n                                })\n                            })\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TooltipContent, {\n                            children: copied ? \"Copied!\" : \"Copy to clipboard\"\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n};\n_s122(CopyText, \"NE86rL3vg4NVcTTWDavsT0hUBJs=\");\n_c242 = CopyText;\nconst aspectRatio = 45 / 26;\nconst PipecatLogo = (param)=>{\n    let { className = \"\", alt = \"Pipecat Logo\", color = \"#171717\", height, width } = param;\n    const resolvedHeight = height ? height : width ? Math.round(width / aspectRatio) : 100;\n    const resolvedWidth = width ? width : height ? Math.round(height * aspectRatio) : 200;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"svg\", {\n        width: resolvedWidth,\n        height: resolvedHeight,\n        viewBox: \"0 0 45 26\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className,\n        \"aria-label\": alt,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M6.19825 0.104287C6.83144 -0.13411 7.5461 0.044779 7.99232 0.553371L13.8037 7.17714H31.1545L36.9659 0.553371C37.4121 0.044779 38.1268 -0.13411 38.76 0.104287C39.3932 0.342685 39.8124 0.948477 39.8124 1.62507V16.25H44.9582V19.5H36.5624V5.94116L33.112 9.87383C32.8035 10.2255 32.3584 10.4271 31.8905 10.4271H13.0677C12.5998 10.4271 12.1547 10.2255 11.8462 9.87383L8.39581 5.94116V19.5H0V16.25H5.14582V1.62507C5.14582 0.948477 5.56505 0.342685 6.19825 0.104287Z\",\n                fill: color\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M36.5624 22.75H44.9582V26H36.5624V22.75Z\",\n                fill: color\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M0 22.75H8.39581V26H0V22.75Z\",\n                fill: color\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M17.3333 17.3334C17.3333 18.53 16.3632 19.5 15.1666 19.5C13.97 19.5 13 18.53 13 17.3334C13 16.1367 13.97 15.1667 15.1666 15.1667C16.3632 15.1667 17.3333 16.1367 17.3333 17.3334Z\",\n                fill: color\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", {\n                d: \"M31.9582 17.3334C31.9582 18.53 30.9882 19.5 29.7916 19.5C28.595 19.5 27.6249 18.53 27.6249 17.3334C27.6249 16.1367 28.595 15.1667 29.7916 15.1667C30.9882 15.1667 31.9582 16.1367 31.9582 17.3334Z\",\n                fill: color\n            })\n        ]\n    });\n};\n_c243 = PipecatLogo;\nconst SessionInfo = (param)=>{\n    let { noTransportType = false, noSessionId = false, noParticipantId = false, noRTVIVersion = false, sessionId, participantId } = param;\n    _s123();\n    const client = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClient)();\n    let transportTypeName = \"Unknown\";\n    if (client && \"dailyCallClient\" in client.transport) {\n        transportTypeName = \"Daily (v\".concat(_daily_co_daily_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].version(), \")\");\n    } else if (// @ts-expect-error - __proto__ not typed\n    (client == null ? void 0 : client.transport.__proto__.constructor.SERVICE_NAME) === \"small-webrtc-transport\") {\n        transportTypeName = \"Small WebRTC\";\n    }\n    const data = {};\n    if (!noTransportType) {\n        data[\"Transport\"] = transportTypeName;\n    }\n    if (!noSessionId) {\n        data[\"Session ID\"] = sessionId ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CopyText, {\n            className: \"vkui:justify-end\",\n            iconSize: 12,\n            text: sessionId\n        }) : \"---\";\n    }\n    if (!noParticipantId) {\n        data[\"Participant ID\"] = participantId ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CopyText, {\n            className: \"vkui:justify-end\",\n            iconSize: 12,\n            text: participantId\n        }) : \"---\";\n    }\n    if (!noRTVIVersion) {\n        data[\"RTVI\"] = (client == null ? void 0 : client.version) || \"---\";\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DataList, {\n        classNames: {\n            container: \"vkui:w-full vkui:overflow-hidden\"\n        },\n        data\n    });\n};\n_s123(SessionInfo, \"hgaSZ0ngj2OAqyLfgjWMCtFSOrU=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClient\n    ];\n});\n_c244 = SessionInfo;\nconst transcriptOverlayVariants = cva(\"vkui:mx-auto vkui:items-center vkui:justify-end vkui:text-center \\n  vkui:*:box-decoration-clone vkui:*:text-balance vkui:*:animate-in vkui:*:fade-in vkui:*:duration-300 vkui:*:mx-auto\\n  vkui:*:**:bg-foreground vkui:*:**:text-background vkui:*:**:box-decoration-clone vkui:*:**:text-balance\\n  \", {\n    variants: {\n        size: {\n            default: \"vkui:*:leading-6 vkui:*:**:px-3 vkui:*:**:py-1.5 vkui:*:**:text-sm vkui:*:**:font-medium vkui:*:**:rounded-lg\",\n            sm: \"vkui:*:leading-4 vkui:*:**:px-2 vkui:*:**:py-1 vkui:*:**:text-xs vkui:*:**:font-medium vkui:*:**:rounded-md\",\n            lg: \"vkui:*:leading-7 vkui:*:**:px-4 vkui:*:**:py-2 vkui:*:**:text-base vkui:*:**:font-medium vkui:*:**:rounded-xl\"\n        }\n    }\n});\nconst TranscriptOverlayPartComponent = (param)=>{\n    let { text } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n        children: text\n    });\n};\n_c245 = TranscriptOverlayPartComponent;\nconst TranscriptOverlayComponent = (param)=>{\n    let { children, className, size: size2 = \"default\", turnEnd } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(transcriptOverlayVariants({\n            size: size2\n        }), turnEnd ? \"vkui:animate-out vkui:fade-out vkui:duration-1000 vkui:fill-mode-forwards\" : \"\", className),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n            children\n        })\n    });\n};\n_c246 = TranscriptOverlayComponent;\nconst TranscriptOverlay = (param)=>{\n    let { participant = \"remote\", className, size: size2 = \"default\" } = param;\n    _s124();\n    const [transcript, setTranscript] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [turnEnd, setIsTurnEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotTtsText, (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TranscriptOverlay.useRTVIClientEvent.useCallback\": (event)=>{\n            if (participant === \"local\") {\n                return;\n            }\n            if (turnEnd) {\n                setTranscript([]);\n                setIsTurnEnd(false);\n            }\n            setTranscript({\n                \"TranscriptOverlay.useRTVIClientEvent.useCallback\": (prev)=>[\n                        ...prev,\n                        event.text\n                    ]\n            }[\"TranscriptOverlay.useRTVIClientEvent.useCallback\"]);\n        }\n    }[\"TranscriptOverlay.useRTVIClientEvent.useCallback\"], [\n        turnEnd,\n        participant\n    ]));\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotStoppedSpeaking, (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TranscriptOverlay.useRTVIClientEvent.useCallback\": ()=>{\n            if (participant === \"local\") {\n                return;\n            }\n            setIsTurnEnd(true);\n        }\n    }[\"TranscriptOverlay.useRTVIClientEvent.useCallback\"], [\n        participant\n    ]));\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotTtsStopped, (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"TranscriptOverlay.useRTVIClientEvent.useCallback\": ()=>{\n            if (participant === \"local\") {\n                return;\n            }\n            setIsTurnEnd(true);\n        }\n    }[\"TranscriptOverlay.useRTVIClientEvent.useCallback\"], [\n        participant\n    ]));\n    if (transcript.length === 0) {\n        return null;\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TranscriptOverlayComponent, {\n        size: size2,\n        turnEnd,\n        className,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TranscriptOverlayPartComponent, {\n            text: transcript.join(\" \")\n        })\n    });\n};\n_s124(TranscriptOverlay, \"oMVj9plSsbEHLF6JdfX1B9o0w0I=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent\n    ];\n});\n_c247 = TranscriptOverlay;\nconst UserVideoComponent = (param)=>{\n    let { buttonProps = {}, classNames = {}, dropdownButtonProps = {}, noDevicePicker = false, noVideo = false, videoProps = {}, onClick, isCamEnabled, availableCams = [], selectedCam, updateCam } = param;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-muted vkui:rounded-xl vkui:relative\", {\n            \"vkui:aspect-video\": isCamEnabled && !noVideo,\n            \"vkui:h-12\": !isCamEnabled || noVideo\n        }, classNames.container),\n        children: [\n            !noVideo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientVideo, {\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:rounded-xl\", {\n                    \"vkui:hidden\": !isCamEnabled\n                }, classNames.video),\n                participant: \"local\",\n                ...videoProps\n            }),\n            (!isCamEnabled || noVideo) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:absolute vkui:h-full vkui:left-28 vkui:flex vkui:items-center vkui:justify-start vkui:rounded-xl\", {\n                    \"vkui:left-16\": noDevicePicker\n                }, classNames.videoOffContainer),\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:text-muted-foreground vkui:font-mono vkui:text-sm\", classNames.videoOffText),\n                    children: isCamEnabled ? \"Camera is on\" : \"Camera is off\"\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                className: \"vkui:absolute vkui:bottom-2 vkui:left-2\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ButtonGroup, {\n                    className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(classNames.buttongroup),\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(classNames.button),\n                            variant: \"outline\",\n                            onClick,\n                            ...buttonProps,\n                            children: isCamEnabled ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VideoIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VideoOffIcon, {})\n                        }),\n                        !noDevicePicker && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DeviceDropDown, {\n                            availableDevices: availableCams,\n                            selectedDevice: selectedCam,\n                            updateDevice: updateCam,\n                            classNames: {\n                                dropdownMenuCheckboxItem: classNames.dropdownMenuCheckboxItem,\n                                dropdownMenuContent: classNames.dropdownMenuContent,\n                                dropdownMenuTrigger: classNames.dropdownMenuTrigger\n                            },\n                            menuLabel: \"Camera device\",\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(classNames.dropdownMenuTrigger),\n                                variant: \"outline\",\n                                ...dropdownButtonProps,\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronDownIcon, {})\n                            })\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n};\n_c248 = UserVideoComponent;\nconst UserVideoControl = (props2)=>{\n    _s125();\n    const { availableCams, selectedCam, updateCam } = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaDevices)();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientCamToggle, {\n        children: (param)=>{\n            let { isCamEnabled, onClick } = param;\n            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserVideoComponent, {\n                ...props2,\n                isCamEnabled,\n                onClick,\n                availableCams,\n                selectedCam,\n                updateCam\n            });\n        }\n    });\n};\n_s125(UserVideoControl, \"7+MNo9GOiptOh4tS/LD3WLvbg78=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaDevices\n    ];\n});\n_c249 = UserVideoControl;\nconst initialState = {\n    resolvedTheme: \"light\",\n    theme: \"system\",\n    setTheme: ()=>null\n};\nconst ThemeProviderContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(initialState);\nfunction ThemeProvider(param) {\n    let { children, defaultTheme = \"system\", storageKey = \"voice-ui-kit-theme\", ...props2 } = param;\n    _s126();\n    const [theme, setTheme] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"ThemeProvider.useState\": ()=>{\n            if (true) {\n                const storedTheme = localStorage.getItem(storageKey);\n                return storedTheme || defaultTheme;\n            }\n            return defaultTheme;\n        }\n    }[\"ThemeProvider.useState\"]);\n    const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThemeProvider.useEffect\": ()=>{\n            setMounted(true);\n        }\n    }[\"ThemeProvider.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThemeProvider.useEffect\": ()=>{\n            if (!mounted) return;\n            if (theme !== \"system\") {\n                localStorage.setItem(storageKey, theme);\n            } else {\n                localStorage.removeItem(storageKey);\n            }\n        }\n    }[\"ThemeProvider.useEffect\"], [\n        mounted,\n        storageKey,\n        theme\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThemeProvider.useEffect\": ()=>{\n            if (!mounted) return;\n            const root = window.document.documentElement;\n            root.classList.remove(\"vkui:light\", \"vkui:dark\");\n            if (theme === \"system\") {\n                const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"vkui:dark\" : \"vkui:light\";\n                root.classList.add(systemTheme);\n                return;\n            }\n            root.classList.add(\"vkui:\".concat(theme));\n        }\n    }[\"ThemeProvider.useEffect\"], [\n        theme,\n        mounted\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ThemeProvider.useEffect\": ()=>{\n            if (!mounted) return;\n            const storedTheme = localStorage.getItem(storageKey);\n            if (!storedTheme) {\n                setTheme(defaultTheme);\n            }\n        }\n    }[\"ThemeProvider.useEffect\"], [\n        defaultTheme,\n        mounted,\n        storageKey\n    ]);\n    const value1 = {\n        theme,\n        setTheme: (newTheme)=>{\n            setTheme(newTheme);\n        },\n        resolvedTheme: theme === \"system\" ?  true && window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\" : theme\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeProviderContext.Provider, {\n        ...props2,\n        value: value1,\n        children\n    });\n}\n_s126(ThemeProvider, \"+7qyOnvYiT+kpWbTduSiBdSVRa8=\");\n_c250 = ThemeProvider;\nconst AudioClientHelper = (param)=>{\n    let { connectParams, transportType, clientOptions, children } = param;\n    _s127();\n    const [client, setClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AudioClientHelper.useEffect\": ()=>{\n            let transport;\n            switch(transportType){\n                case \"smallwebrtc\":\n                    transport = new _pipecat_ai_small_webrtc_transport__WEBPACK_IMPORTED_MODULE_8__.SmallWebRTCTransport();\n                    break;\n                case \"daily\":\n                default:\n                    transport = new _pipecat_ai_daily_transport__WEBPACK_IMPORTED_MODULE_7__.DailyTransport();\n                    break;\n            }\n            const pcClient = new _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.PipecatClient({\n                enableCam: false,\n                enableMic: true,\n                transport,\n                ...clientOptions\n            });\n            setClient(pcClient);\n            return ({\n                \"AudioClientHelper.useEffect\": ()=>{\n                    pcClient.disconnect();\n                }\n            })[\"AudioClientHelper.useEffect\"];\n        }\n    }[\"AudioClientHelper.useEffect\"], [\n        connectParams,\n        transportType,\n        clientOptions\n    ]);\n    const handleConnect = async ()=>{\n        if (!client || ![\n            \"initialized\",\n            \"disconnected\",\n            \"error\"\n        ].includes(client.state)) {\n            return;\n        }\n        setError(null);\n        try {\n            await client.connect(connectParams);\n        } catch (err) {\n            console.error(\"Connection error:\", err);\n            setError(\"Failed to start session: \".concat(err instanceof Error ? err.message : String(err)));\n        }\n    };\n    const handleDisconnect = async ()=>{\n        if (!client) return;\n        await client.disconnect();\n    };\n    if (!client) {\n        return children({\n            loading: true,\n            error: null\n        });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeProvider, {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientProvider, {\n            client,\n            children: [\n                children({\n                    handleConnect,\n                    handleDisconnect,\n                    loading: false,\n                    error\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientAudio, {})\n            ]\n        })\n    });\n};\n_s127(AudioClientHelper, \"CCzUbJVzLIkI4l4ymhfkyLj/WEI=\");\n_c251 = AudioClientHelper;\nconst useTheme = ()=>{\n    _s128();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeProviderContext);\n    if (context === void 0) throw new Error(\"useTheme must be used within a ThemeProvider\");\n    return context;\n};\n_s128(useTheme, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction ThemeModeToggle() {\n    _s129();\n    const { setTheme } = useTheme();\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DropdownMenu, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuTrigger, {\n                asChild: true,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Button, {\n                    variant: \"ghost\",\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SunIcon, {\n                            className: \"vkui:h-[1.2rem] vkui:w-[1.2rem] vkui:scale-100 vkui:rotate-0 vkui:transition-all vkui:dark:scale-0 vkui:dark:-rotate-90\"\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MoonIcon, {\n                            className: \"vkui:absolute vkui:h-[1.2rem] vkui:w-[1.2rem] vkui:scale-0 vkui:rotate-90 vkui:transition-all vkui:dark:scale-100 vkui:dark:rotate-0\"\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                            className: \"vkui:sr-only\",\n                            children: \"Toggle theme\"\n                        })\n                    ]\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DropdownMenuContent, {\n                align: \"end\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuItem, {\n                        onClick: ()=>setTheme(\"light\"),\n                        children: \"Light\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuItem, {\n                        onClick: ()=>setTheme(\"dark\"),\n                        children: \"Dark\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DropdownMenuItem, {\n                        onClick: ()=>setTheme(\"system\"),\n                        children: \"System\"\n                    })\n                ]\n            })\n        ]\n    });\n}\n_s129(ThemeModeToggle, \"a3u8LKbpX4CXbd+e8SJ1SuQ9KPw=\", false, function() {\n    return [\n        useTheme\n    ];\n});\n_c252 = ThemeModeToggle;\nconst barCount = 10;\nconst BotAudioPanel = (param)=>{\n    let { className, collapsed = false } = param;\n    _s130();\n    const track = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaTrack)(\"audio\", \"bot\");\n    const [maxHeight, setMaxHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(48);\n    const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(4);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BotAudioPanel.useEffect\": ()=>{\n            if (!containerRef.current) return;\n            const observer = new ResizeObserver({\n                \"BotAudioPanel.useEffect\": (entries)=>{\n                    for (const entry of entries){\n                        const { width: width2, height } = entry.contentRect;\n                        const maxWidth = 240;\n                        const maxBarWidth = maxWidth / (2 * barCount - 1);\n                        const maxMaxHeight = 240 / (16 / 9);\n                        const barWidth = Math.max(Math.min(width2 / (barCount * 2), maxBarWidth), 2);\n                        const maxHeight2 = Math.max(Math.min(height, maxMaxHeight), 20);\n                        setMaxHeight(maxHeight2);\n                        setWidth(barWidth);\n                    }\n                }\n            }[\"BotAudioPanel.useEffect\"]);\n            observer.observe(containerRef.current);\n            return ({\n                \"BotAudioPanel.useEffect\": ()=>{\n                    observer.disconnect();\n                }\n            })[\"BotAudioPanel.useEffect\"];\n        }\n    }[\"BotAudioPanel.useEffect\"], []);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Panel$1, {\n        className,\n        children: [\n            !collapsed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelHeader, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelTitle, {\n                    children: \"Bot Audio\"\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelContent, {\n                className: \"vkui:overflow-hidden\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    ref: containerRef,\n                    className: \"vkui:relative vkui:aspect-video vkui:flex vkui:max-h-full vkui:overflow-hidden\",\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"vkui:m-auto\",\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.VoiceVisualizer, {\n                                participantType: \"bot\",\n                                backgroundColor: \"transparent\",\n                                barColor: \"#ad46ff\",\n                                barCount,\n                                barGap: width,\n                                barLineCap: \"square\",\n                                barMaxHeight: maxHeight,\n                                barOrigin: \"bottom\",\n                                barWidth: width\n                            })\n                        }),\n                        !track && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"vkui:absolute vkui:inset-0 vkui:flex vkui:gap-1 vkui:items-center vkui:justify-center\",\n                            children: [\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MicOffIcon, {\n                                    size: 16\n                                }),\n                                !collapsed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                    className: \"vkui:font-mono vkui:text-xs\",\n                                    children: \"No audio\"\n                                })\n                            ]\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n};\n_s130(BotAudioPanel, \"g4+IFcm5nejNqmNjxUCdPuHcy9M=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaTrack\n    ];\n});\n_c253 = BotAudioPanel;\nconst BotVideoPanel = (param)=>{\n    let { className, collapsed = false } = param;\n    _s131();\n    const track = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaTrack)(\"video\", \"bot\");\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Panel$1, {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(className, {\n            \"vkui:border-none\": collapsed\n        }),\n        children: [\n            !collapsed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelHeader, {\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelTitle, {\n                    children: \"Bot Video\"\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PanelContent, {\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:relative vkui:overflow-hidden\", {\n                    \"vkui:p-0!\": collapsed\n                }),\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientVideo, {\n                        participant: \"bot\",\n                        className: \"vkui:aspect-video vkui:bg-muted vkui:rounded-sm vkui:max-h-full\",\n                        fit: \"contain\"\n                    }),\n                    !track && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"vkui:absolute vkui:inset-0 vkui:flex vkui:gap-1 vkui:items-center vkui:justify-center\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VideoOffIcon, {\n                                size: 16\n                            }),\n                            !collapsed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                                className: \"vkui:font-mono vkui:text-xs\",\n                                children: \"No video\"\n                            })\n                        ]\n                    })\n                ]\n            })\n        ]\n    });\n};\n_s131(BotVideoPanel, \"J4OuSnk3GQGv62/08KKcIsmxSCc=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientMediaTrack\n    ];\n});\n_c254 = BotVideoPanel;\nconst ConversationPanel = (param)=>{\n    let { noConversation = false, noMetrics = false } = param;\n    const defaultValue = noConversation ? \"metrics\" : \"conversation\";\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Tabs, {\n        className: \"vkui:h-full\",\n        defaultValue,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Panel$1, {\n            className: \"vkui:h-full vkui:max-sm:border-none\",\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelHeader, {\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TabsList, {\n                        children: [\n                            !noConversation && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TabsTrigger, {\n                                className: \"vkui:text-mono-upper\",\n                                value: \"conversation\",\n                                children: [\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MessagesSquareIcon, {\n                                        size: 16\n                                    }),\n                                    \"Conversation\"\n                                ]\n                            }),\n                            !noMetrics && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TabsTrigger, {\n                                className: \"vkui:text-mono-upper\",\n                                value: \"metrics\",\n                                children: [\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LineChartIcon, {\n                                        size: 16\n                                    }),\n                                    \"Metrics\"\n                                ]\n                            })\n                        ]\n                    })\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PanelContent, {\n                    className: \"vkui:p-0! vkui:overflow-hidden vkui:h-full\",\n                    children: [\n                        !noConversation && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsContent, {\n                            value: \"conversation\",\n                            className: \"vkui:overflow-hidden vkui:h-full\",\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Conversation, {})\n                        }),\n                        !noMetrics && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsContent, {\n                            value: \"metrics\",\n                            className: \"vkui:h-full\",\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.M, {})\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n};\n_c255 = ConversationPanel;\nconst EventsPanel = (param)=>{\n    let { collapsed = false } = param;\n    _s132();\n    const client = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClient)();\n    const [events, setEvents] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isScrolledToBottom = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    const addEvent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"EventsPanel.useCallback[addEvent]\": (data)=>{\n            if (scrollRef.current) {\n                isScrolledToBottom.current = Math.ceil(scrollRef.current.scrollHeight - scrollRef.current.scrollTop) <= Math.ceil(scrollRef.current.clientHeight);\n            }\n            setEvents({\n                \"EventsPanel.useCallback[addEvent]\": (prev)=>{\n                    return [\n                        ...prev,\n                        data\n                    ];\n                }\n            }[\"EventsPanel.useCallback[addEvent]\"]);\n        }\n    }[\"EventsPanel.useCallback[addEvent]\"], []);\n    const transportState = (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState)();\n    const lastTransportState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EventsPanel.useEffect\": ()=>{\n            if (transportState === lastTransportState.current) return;\n            addEvent({\n                event: \"transportState\",\n                message: \"Transport state changed: \".concat(transportState),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n            lastTransportState.current = transportState;\n        }\n    }[\"EventsPanel.useEffect\"], [\n        addEvent,\n        transportState\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EventsPanel.useEffect\": ()=>{\n            if (!client) return;\n            addEvent({\n                event: \"initialized\",\n                message: \"RTVI Client initialized (version \".concat(client.version, \")\"),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useEffect\"], [\n        addEvent,\n        client\n    ]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotConnected, {\n        \"EventsPanel.useRTVIClientEvent\": (participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotConnected,\n                message: \"Bot connected: \".concat(participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotDisconnected, {\n        \"EventsPanel.useRTVIClientEvent\": (participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotDisconnected,\n                message: \"Bot disconnected: \".concat(participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotReady, {\n        \"EventsPanel.useRTVIClientEvent\": (botData)=>{\n            var _botData_about;\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotReady,\n                message: \"Bot ready (v\".concat(botData.version, \"): \").concat(JSON.stringify((_botData_about = botData.about) !== null && _botData_about !== void 0 ? _botData_about : {})),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotStartedSpeaking, {\n        \"EventsPanel.useRTVIClientEvent\": ()=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotStartedSpeaking,\n                message: \"Bot started speaking\",\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotStoppedSpeaking, {\n        \"EventsPanel.useRTVIClientEvent\": ()=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.BotStoppedSpeaking,\n                message: \"Bot stopped speaking\",\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Connected, {\n        \"EventsPanel.useRTVIClientEvent\": ()=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Connected,\n                message: \"Client connected\",\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Disconnected, {\n        \"EventsPanel.useRTVIClientEvent\": ()=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Disconnected,\n                message: \"Client disconnected\",\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Error, {\n        \"EventsPanel.useRTVIClientEvent\": (message)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.Error,\n                message: \"Error: \".concat(JSON.stringify(message)),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ParticipantConnected, {\n        \"EventsPanel.useRTVIClientEvent\": (participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ParticipantConnected,\n                message: \"Participant connected: \".concat(participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ParticipantLeft, {\n        \"EventsPanel.useRTVIClientEvent\": (participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ParticipantLeft,\n                message: \"Participant left: \".concat(participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ServerMessage, {\n        \"EventsPanel.useRTVIClientEvent\": (data)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ServerMessage,\n                message: \"Server message: \".concat(JSON.stringify(data)),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.TrackStarted, {\n        \"EventsPanel.useRTVIClientEvent\": (track, participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.TrackStarted,\n                message: \"Track started: \".concat(track.kind, \" for participant \").concat(participant == null ? void 0 : participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.TrackStopped, {\n        \"EventsPanel.useRTVIClientEvent\": (track, participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.TrackStopped,\n                message: \"Track stopped: \".concat(track.kind, \" for participant \").concat(participant == null ? void 0 : participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ScreenTrackStarted, {\n        \"EventsPanel.useRTVIClientEvent\": (track, participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ScreenTrackStarted,\n                message: \"Screen track started: \".concat(track.kind, \" for participant \").concat(participant == null ? void 0 : participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ScreenTrackStopped, {\n        \"EventsPanel.useRTVIClientEvent\": (track, participant)=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.ScreenTrackStopped,\n                message: \"Screen track stopped: \".concat(track.kind, \" for participant \").concat(participant == null ? void 0 : participant.id),\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserStartedSpeaking, {\n        \"EventsPanel.useRTVIClientEvent\": ()=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserStartedSpeaking,\n                message: \"User started speaking\",\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent)(_pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserStoppedSpeaking, {\n        \"EventsPanel.useRTVIClientEvent\": ()=>{\n            addEvent({\n                event: _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.RTVIEvent.UserStoppedSpeaking,\n                message: \"User stopped speaking\",\n                time: /* @__PURE__ */ new Date().toLocaleTimeString()\n            });\n        }\n    }[\"EventsPanel.useRTVIClientEvent\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EventsPanel.useEffect\": ()=>{\n            if (!scrollRef.current) return;\n            if (!isScrolledToBottom.current) return;\n            scrollRef.current.scrollTo({\n                top: scrollRef.current.scrollHeight,\n                behavior: \"instant\"\n            });\n        }\n    }[\"EventsPanel.useEffect\"], [\n        events\n    ]);\n    const [filter, setFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const filteredEvents = events.filter((eventData)=>eventData.event.toString().toLowerCase().includes(filter) || eventData.message.toLowerCase().includes(filter));\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Panel$1, {\n        className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:bg-secondary/20 vkui:h-full vkui:rounded-none! vkui:max-sm:border-none vkui:sm:border-x-0 vkui:sm:mt-2\", {\n            \"vkui:bg-secondary vkui:opacity-50\": collapsed\n        }),\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PanelHeader, {\n                className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)(\"vkui:gap-4 vkui:justify-start vkui:items-center\", {\n                    \"vkui:py-2!\": collapsed\n                }),\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelTitle, {\n                        children: \"Events\"\n                    }),\n                    !collapsed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                        className: \"vkui:relative\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                className: \"vkui:absolute vkui:inset-y-0 vkui:left-0 vkui:flex vkui:items-center vkui:pl-2 vkui:pointer-events-none\",\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FunnelIcon, {\n                                    size: 16\n                                })\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Input, {\n                                type: \"text\",\n                                placeholder: \"Filter\",\n                                className: \"vkui:bg-secondary vkui:max-w-48 vkui:ps-8\",\n                                onChange: (e)=>{\n                                    setFilter(e.target.value.toLowerCase());\n                                }\n                            })\n                        ]\n                    })\n                ]\n            }),\n            !collapsed && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelContent, {\n                ref: scrollRef,\n                className: \"vkui:overflow-y-auto\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"vkui:grid vkui:grid-cols-[min-content_min-content_1fr] vkui:gap-x-4 vkui:gap-y-2 vkui:items-center vkui:font-mono vkui:text-xs\",\n                    children: filteredEvents.map((eventData, index2)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                            children: [\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"vkui:text-xs vkui:text-muted-foreground vkui:text-nowrap\",\n                                    children: eventData.time\n                                }),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    className: \"vkui:font-semibold\",\n                                    children: eventData.event\n                                }),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                                    children: eventData.message\n                                })\n                            ]\n                        }, index2))\n                })\n            })\n        ]\n    });\n};\n_s132(EventsPanel, \"MOo9n40g+fny5zMxQxpn2x7RYZQ=\", false, function() {\n    return [\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClient,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.usePipecatClientTransportState,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent,\n        _pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.useRTVIClientEvent\n    ];\n});\n_c256 = EventsPanel;\nconst InfoPanel = (param)=>{\n    let { noAudioOutput = false, noSessionInfo = false, noStatusInfo = false, noUserAudio = false, noUserVideo = false, participantId, sessionId } = param;\n    const noDevices = noAudioOutput && noUserAudio && noUserVideo;\n    const noInfoPanel = noStatusInfo && noDevices && noSessionInfo;\n    if (noInfoPanel) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Panel$1, {\n        className: \"vkui:h-full vkui:overflow-y-auto vkui:overflow-x-hidden\",\n        children: [\n            !noStatusInfo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelHeader, {\n                        variant: \"inline\",\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelTitle, {\n                            children: \"Status\"\n                        })\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelContent, {\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ClientStatus, {})\n                    })\n                ]\n            }),\n            !noDevices && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelHeader, {\n                        className: \"vkui:border-t vkui:border-t-border\",\n                        variant: \"inline\",\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelTitle, {\n                            children: \"Devices\"\n                        })\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PanelContent, {\n                        children: [\n                            !noUserAudio && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserAudioControl, {}),\n                            !noUserVideo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserVideoControl, {}),\n                            !noAudioOutput && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AudioOutput, {})\n                        ]\n                    })\n                ]\n            }),\n            !noSessionInfo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelHeader, {\n                        className: \"vkui:border-t vkui:border-t-border\",\n                        variant: \"inline\",\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelTitle, {\n                            children: \"Session\"\n                        })\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PanelContent, {\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SessionInfo, {\n                            sessionId,\n                            participantId\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n};\n_c257 = InfoPanel;\nconst defaultClientOptions = {};\nconst ConsoleTemplate = (param)=>{\n    let { audioCodec = \"default\", clientOptions = defaultClientOptions, connectParams, noAudioOutput = false, noBotAudio = false, noBotVideo = false, noConversation = false, noLogo = false, noMetrics = false, noSessionInfo = false, noStatusInfo = false, noThemeSwitch = false, noUserAudio = false, noUserVideo = false, title = \"Pipecat Playground\", transportType = \"daily\", videoCodec = \"default\" } = param;\n    _s133();\n    const [isBotAreaCollapsed, setIsBotAreaCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isInfoPanelCollapsed, setIsInfoPanelCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isEventsPanelCollapsed, setIsEventsPanelCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sessionId, setSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [participantId, setParticipantId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [client, setClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isClientReady, setIsClientReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { resolvedTheme } = useTheme();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function initClient() {\n        if (false) {}\n        let transport;\n        switch(transportType){\n            case \"smallwebrtc\":\n                transport = new _pipecat_ai_small_webrtc_transport__WEBPACK_IMPORTED_MODULE_8__.SmallWebRTCTransport();\n                break;\n            case \"daily\":\n            default:\n                transport = new _pipecat_ai_daily_transport__WEBPACK_IMPORTED_MODULE_7__.DailyTransport();\n                transport.dailyCallClient.on(\"meeting-session-updated\", {\n                    \"ConsoleTemplate.useEffect.initClient\": (event)=>{\n                        setSessionId(event.meetingSession.id);\n                    }\n                }[\"ConsoleTemplate.useEffect.initClient\"]);\n                break;\n        }\n        var _ref;\n        const pcClient = new _pipecat_ai_client_js__WEBPACK_IMPORTED_MODULE_5__.PipecatClient({\n            enableCam: !noUserVideo,\n            enableMic: !noUserAudio,\n            ...clientOptions,\n            transport: (_ref = clientOptions == null ? void 0 : clientOptions.transport) !== null && _ref !== void 0 ? _ref : transport,\n            callbacks: {\n                onParticipantJoined: {\n                    \"ConsoleTemplate.useEffect.initClient\": (participant)=>{\n                        var _a, _b;\n                        setParticipantId(participant.id || \"\");\n                        (_b = (_a = clientOptions == null ? void 0 : clientOptions.callbacks) == null ? void 0 : _a.onParticipantJoined) == null ? void 0 : _b.call(_a, participant);\n                    }\n                }[\"ConsoleTemplate.useEffect.initClient\"],\n                onTrackStarted (track, participant) {\n                    var _a, _b;\n                    if ((participant == null ? void 0 : participant.id) && participant.local) setParticipantId(participant.id);\n                    (_b = (_a = clientOptions == null ? void 0 : clientOptions.callbacks) == null ? void 0 : _a.onTrackStarted) == null ? void 0 : _b.call(_a, track, participant);\n                }\n            }\n        });\n        pcClient.initDevices();\n        setClient(pcClient);\n        setIsClientReady(true);\n        return ({\n            \"ConsoleTemplate.useEffect.initClient\": ()=>{\n                pcClient.disconnect();\n            }\n        })[\"ConsoleTemplate.useEffect.initClient\"];\n    }, [\n        clientOptions,\n        noUserAudio,\n        noUserVideo,\n        transportType\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function updateSmallWebRTCCodecs() {\n        if (!client || transportType !== \"smallwebrtc\") return;\n        const transport = client.transport;\n        if (audioCodec) {\n            transport.setAudioCodec(audioCodec);\n        }\n        if (videoCodec) {\n            transport.setVideoCodec(videoCodec);\n        }\n    }, [\n        audioCodec,\n        client,\n        videoCodec,\n        transportType\n    ]);\n    const handleConnect = async ()=>{\n        if (!client) return;\n        try {\n            await client.connect(connectParams);\n        } catch (e) {\n            await client.disconnect();\n        }\n    };\n    const handleDisconnect = async ()=>{\n        if (!client) return;\n        await client.disconnect();\n    };\n    if (!isClientReady || !client) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n            className: \"flex items-center justify-center h-full w-full\",\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                children: \"Loading...\"\n            })\n        });\n    }\n    const noBotArea = noBotAudio && noBotVideo;\n    const noConversationPanel = noConversation && noMetrics;\n    const noDevices = noAudioOutput && noUserAudio && noUserVideo;\n    const noInfoPanel = noStatusInfo && noDevices && noSessionInfo;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientProvider, {\n        client,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"vkui:grid vkui:grid-cols-1 vkui:grid-rows-[min-content_1fr] vkui:sm:grid-rows-[min-content_1fr_auto] vkui:h-full vkui:w-full vkui:overflow-auto\",\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"vkui:grid vkui:grid-cols-2 vkui:sm:grid-cols-[150px_1fr_150px] vkui:gap-2 vkui:items-center vkui:justify-center vkui:p-2 vkui:bg-background vkui:sm:relative vkui:top-0 vkui:w-full vkui:z-10\",\n                    children: [\n                        noLogo ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {\n                            className: \"vkui:h-6\"\n                        }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PipecatLogo, {\n                            className: \"vkui:h-6 vkui:w-auto\",\n                            color: resolvedTheme === \"dark\" ? \"#ffffff\" : \"#171717\"\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"strong\", {\n                            className: \"vkui:hidden vkui:sm:block vkui:text-center\",\n                            children: title\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"vkui:flex vkui:items-center vkui:justify-end vkui:gap-4\",\n                            children: [\n                                !noThemeSwitch && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeModeToggle, {}),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConnectButton, {\n                                    onConnect: handleConnect,\n                                    onDisconnect: handleDisconnect\n                                })\n                            ]\n                        })\n                    ]\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                    className: \"vkui:hidden vkui:sm:block\",\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResizablePanelGroup, {\n                        direction: \"vertical\",\n                        className: \"vkui:h-full\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizablePanel, {\n                                defaultSize: 70,\n                                minSize: 50,\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResizablePanelGroup, {\n                                    direction: \"horizontal\",\n                                    children: [\n                                        !noBotArea && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ResizablePanel, {\n                                                    className: \"vkui:flex vkui:flex-col vkui:gap-2 vkui:p-2\",\n                                                    defaultSize: 15,\n                                                    maxSize: 30,\n                                                    minSize: 9,\n                                                    collapsible: true,\n                                                    collapsedSize: 8,\n                                                    onCollapse: ()=>setIsBotAreaCollapsed(true),\n                                                    onExpand: ()=>setIsBotAreaCollapsed(false),\n                                                    children: [\n                                                        !noBotAudio && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BotAudioPanel, {\n                                                            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)({\n                                                                \"vkui:max-h-[calc(50%-4px)] vkui:mt-auto\": !noBotVideo\n                                                            }),\n                                                            collapsed: isBotAreaCollapsed\n                                                        }),\n                                                        !noBotVideo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BotVideoPanel, {\n                                                            className: (0,_Metrics_B9xaddk1_js__WEBPACK_IMPORTED_MODULE_4__.a)({\n                                                                \"vkui:max-h-[calc(50%-4px)] vkui:mb-auto\": !noBotAudio\n                                                            }),\n                                                            collapsed: isBotAreaCollapsed\n                                                        })\n                                                    ]\n                                                }),\n                                                (!noConversationPanel || !noInfoPanel) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizableHandle, {\n                                                    withHandle: true\n                                                })\n                                            ]\n                                        }),\n                                        !noConversationPanel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizablePanel, {\n                                                    className: \"vkui:h-full vkui:p-2\",\n                                                    defaultSize: 60,\n                                                    minSize: 40,\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConversationPanel, {\n                                                        noConversation,\n                                                        noMetrics\n                                                    })\n                                                }),\n                                                !noInfoPanel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizableHandle, {\n                                                    withHandle: true\n                                                })\n                                            ]\n                                        }),\n                                        !noInfoPanel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizablePanel, {\n                                            id: \"info-panel\",\n                                            collapsible: true,\n                                            collapsedSize: 4,\n                                            minSize: 15,\n                                            defaultSize: 20,\n                                            onCollapse: ()=>setIsInfoPanelCollapsed(true),\n                                            onExpand: ()=>setIsInfoPanelCollapsed(false),\n                                            className: \"vkui:p-2\",\n                                            children: isInfoPanelCollapsed ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                className: \"vkui:flex vkui:flex-col vkui:items-center vkui:justify-center vkui:gap-4 vkui:h-full\",\n                                                children: [\n                                                    !noStatusInfo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Popover, {\n                                                        children: [\n                                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverTrigger, {\n                                                                asChild: true,\n                                                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                                                                    variant: \"ghost\",\n                                                                    size: \"icon\",\n                                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronsLeftRightEllipsisIcon, {\n                                                                        size: 16\n                                                                    })\n                                                                })\n                                                            }),\n                                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverContent, {\n                                                                side: \"left\",\n                                                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ClientStatus, {})\n                                                            })\n                                                        ]\n                                                    }),\n                                                    !noDevices && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Popover, {\n                                                        children: [\n                                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverTrigger, {\n                                                                asChild: true,\n                                                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                                                                    variant: \"ghost\",\n                                                                    size: \"icon\",\n                                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MicIcon, {\n                                                                        size: 16\n                                                                    })\n                                                                })\n                                                            }),\n                                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(PopoverContent, {\n                                                                className: \"vkui:flex vkui:flex-col vkui:gap-2\",\n                                                                side: \"left\",\n                                                                children: [\n                                                                    !noUserAudio && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserAudioControl, {}),\n                                                                    !noUserVideo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UserVideoControl, {}),\n                                                                    !noAudioOutput && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AudioOutput, {})\n                                                                ]\n                                                            })\n                                                        ]\n                                                    }),\n                                                    !noSessionInfo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Popover, {\n                                                        children: [\n                                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverTrigger, {\n                                                                asChild: true,\n                                                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button, {\n                                                                    variant: \"ghost\",\n                                                                    size: \"icon\",\n                                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InfoIcon, {\n                                                                        size: 16\n                                                                    })\n                                                                })\n                                                            }),\n                                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PopoverContent, {\n                                                                side: \"left\",\n                                                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SessionInfo, {\n                                                                    sessionId,\n                                                                    participantId\n                                                                })\n                                                            })\n                                                        ]\n                                                    })\n                                                ]\n                                            }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InfoPanel, {\n                                                noAudioOutput,\n                                                noSessionInfo,\n                                                noStatusInfo,\n                                                noUserAudio,\n                                                noUserVideo,\n                                                participantId,\n                                                sessionId\n                                            })\n                                        })\n                                    ]\n                                })\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizableHandle, {\n                                withHandle: true\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ResizablePanel, {\n                                collapsible: true,\n                                collapsedSize: 4,\n                                minSize: 7,\n                                onCollapse: ()=>setIsEventsPanelCollapsed(true),\n                                onExpand: ()=>setIsEventsPanelCollapsed(false),\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EventsPanel, {\n                                    collapsed: isEventsPanelCollapsed\n                                })\n                            })\n                        ]\n                    })\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Tabs, {\n                    defaultValue: noBotArea ? noConversationPanel ? \"info\" : \"conversation\" : \"bot\",\n                    className: \"vkui:flex vkui:flex-col vkui:gap-0 vkui:sm:hidden vkui:overflow-hidden\",\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"vkui:flex vkui:flex-col vkui:overflow-hidden\",\n                            children: [\n                                !noBotArea && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TabsContent, {\n                                    value: \"bot\",\n                                    className: \"vkui:flex-1 vkui:overflow-auto vkui:flex vkui:flex-col vkui:gap-4 vkui:p-2\",\n                                    children: [\n                                        !noBotAudio && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BotAudioPanel, {}),\n                                        !noBotVideo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BotVideoPanel, {})\n                                    ]\n                                }),\n                                !noConversationPanel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsContent, {\n                                    value: \"conversation\",\n                                    className: \"vkui:flex-1 vkui:overflow-auto\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConversationPanel, {\n                                        noConversation,\n                                        noMetrics\n                                    })\n                                }),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsContent, {\n                                    value: \"info\",\n                                    className: \"vkui:flex-1 vkui:overflow-auto vkui:p-2\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InfoPanel, {\n                                        noAudioOutput,\n                                        noUserAudio,\n                                        noUserVideo,\n                                        participantId,\n                                        sessionId\n                                    })\n                                }),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsContent, {\n                                    value: \"events\",\n                                    className: \"vkui:flex-1 vkui:overflow-auto\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EventsPanel, {})\n                                })\n                            ]\n                        }),\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(TabsList, {\n                            className: \"vkui:w-full vkui:h-12 vkui:rounded-none vkui:z-10 vkui:mt-auto vkui:shrink-0\",\n                            children: [\n                                !noBotArea && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsTrigger, {\n                                    value: \"bot\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BotIcon, {})\n                                }),\n                                !noConversationPanel && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsTrigger, {\n                                    value: \"conversation\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MessagesSquareIcon, {})\n                                }),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsTrigger, {\n                                    value: \"info\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InfoIcon, {})\n                                }),\n                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TabsTrigger, {\n                                    value: \"events\",\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronsLeftRightEllipsisIcon, {})\n                                })\n                            ]\n                        })\n                    ]\n                }),\n                !noAudioOutput && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pipecat_ai_client_react__WEBPACK_IMPORTED_MODULE_2__.PipecatClientAudio, {})\n            ]\n        })\n    });\n};\n_s133(ConsoleTemplate, \"oK+hp0mRU7+jICeknzmulVpyNDM=\", false, function() {\n    return [\n        useTheme\n    ];\n});\n_c258 = ConsoleTemplate;\n //# sourceMappingURL=index.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32, _c33, _c34, _c35, _c36, _c37, _c38, _c39, _c40, _c41, _c42, _c43, _c44, _c45, _c46, _c47, _c48, _c49, _c50, _c51, _c52, _c53, _c54, _c55, _c56, _c57, _c58, _c59, _c60, _c61, _c62, _c63, _c64, _c65, _c66, _c67, _c68, _c69, _c70, _c71, _c72, _c73, _c74, _c75, _c76, _c77, _c78, _c79, _c80, _c81, _c82, _c83, _c84, _c85, _c86, _c87, _c88, _c89, _c90, _c91, _c92, _c93, _c94, _c95, _c96, _c97, _c98, _c99, _c100, _c101, _c102, _c103, _c104, _c105, _c106, _c107, _c108, _c109, _c110, _c111, _c112, _c113, _c114, _c115, _c116, _c117, _c118, _c119, _c120, _c121, _c122, _c123, _c124, _c125, _c126, _c127, _c128, _c129, _c130, _c131, _c132, _c133, _c134, _c135, _c136, _c137, _c138, _c139, _c140, _c141, _c142, _c143, _c144, _c145, _c146, _c147, _c148, _c149, _c150, _c151, _c152, _c153, _c154, _c155, _c156, _c157, _c158, _c159, _c160, _c161, _c162, _c163, _c164, _c165, _c166, _c167, _c168, _c169, _c170, _c171, _c172, _c173, _c174, _c175, _c176, _c177, _c178, _c179, _c180, _c181, _c182, _c183, _c184, _c185, _c186, _c187, _c188, _c189, _c190, _c191, _c192, _c193, _c194, _c195, _c196, _c197, _c198, _c199, _c200, _c201, _c202, _c203, _c204, _c205, _c206, _c207, _c208, _c209, _c210, _c211, _c212, _c213, _c214, _c215, _c216, _c217, _c218, _c219, _c220, _c221, _c222, _c223, _c224, _c225, _c226, _c227, _c228, _c229, _c230, _c231, _c232, _c233, _c234, _c235, _c236, _c237, _c238, _c239, _c240, _c241, _c242, _c243, _c244, _c245, _c246, _c247, _c248, _c249, _c250, _c251, _c252, _c253, _c254, _c255, _c256, _c257, _c258;\n$RefreshReg$(_c, \"Primitive$NODES.reduce\");\n$RefreshReg$(_c1, \"Primitive\");\n$RefreshReg$(_c2, \"DismissableLayer\");\n$RefreshReg$(_c3, \"DismissableLayerBranch$React.forwardRef\");\n$RefreshReg$(_c4, \"DismissableLayerBranch\");\n$RefreshReg$(_c5, \"FocusScope\");\n$RefreshReg$(_c6, \"Arrow$1$React.forwardRef\");\n$RefreshReg$(_c7, \"Arrow$1\");\n$RefreshReg$(_c8, \"Popper\");\n$RefreshReg$(_c9, \"PopperAnchor$React.forwardRef\");\n$RefreshReg$(_c10, \"PopperAnchor\");\n$RefreshReg$(_c11, \"PopperContent$React.forwardRef\");\n$RefreshReg$(_c12, \"PopperContent\");\n$RefreshReg$(_c13, \"PopperArrow$React.forwardRef\");\n$RefreshReg$(_c14, \"PopperArrow\");\n$RefreshReg$(_c15, \"Portal$4\");\n$RefreshReg$(_c16, \"VisuallyHidden$React.forwardRef\");\n$RefreshReg$(_c17, \"VisuallyHidden\");\n$RefreshReg$(_c18, \"ItoI\");\n$RefreshReg$(_c19, \"SideCar$1\");\n$RefreshReg$(_c20, \"RemoveScroll\");\n$RefreshReg$(_c21, \"Style\");\n$RefreshReg$(_c22, \"RemoveScrollBar\");\n$RefreshReg$(_c23, \"RemoveScrollSideCar\");\n$RefreshReg$(_c24, \"ReactRemoveScroll\");\n$RefreshReg$(_c25, \"Select$1\");\n$RefreshReg$(_c26, \"SelectTrigger$1$React.forwardRef\");\n$RefreshReg$(_c27, \"SelectTrigger$1\");\n$RefreshReg$(_c28, \"SelectValue$1$React.forwardRef\");\n$RefreshReg$(_c29, \"SelectValue$1\");\n$RefreshReg$(_c30, \"SelectIcon$React.forwardRef\");\n$RefreshReg$(_c31, \"SelectIcon\");\n$RefreshReg$(_c32, \"SelectPortal\");\n$RefreshReg$(_c33, \"SelectContent$1$React.forwardRef\");\n$RefreshReg$(_c34, \"SelectContent$1\");\n$RefreshReg$(_c35, \"SelectContentImpl\");\n$RefreshReg$(_c36, \"SelectItemAlignedPosition$React.forwardRef\");\n$RefreshReg$(_c37, \"SelectItemAlignedPosition\");\n$RefreshReg$(_c38, \"SelectPopperPosition$React.forwardRef\");\n$RefreshReg$(_c39, \"SelectPopperPosition\");\n$RefreshReg$(_c40, \"SelectViewport$React.forwardRef\");\n$RefreshReg$(_c41, \"SelectViewport\");\n$RefreshReg$(_c42, \"SelectGroup$1$React.forwardRef\");\n$RefreshReg$(_c43, \"SelectGroup$1\");\n$RefreshReg$(_c44, \"SelectLabel$React.forwardRef\");\n$RefreshReg$(_c45, \"SelectLabel\");\n$RefreshReg$(_c46, \"SelectItem$1$React.forwardRef\");\n$RefreshReg$(_c47, \"SelectItem$1\");\n$RefreshReg$(_c48, \"SelectItemText$React.forwardRef\");\n$RefreshReg$(_c49, \"SelectItemText\");\n$RefreshReg$(_c50, \"SelectItemIndicator$React.forwardRef\");\n$RefreshReg$(_c51, \"SelectItemIndicator\");\n$RefreshReg$(_c52, \"SelectScrollUpButton$1$React.forwardRef\");\n$RefreshReg$(_c53, \"SelectScrollUpButton$1\");\n$RefreshReg$(_c54, \"SelectScrollDownButton$1$React.forwardRef\");\n$RefreshReg$(_c55, \"SelectScrollDownButton$1\");\n$RefreshReg$(_c56, \"SelectScrollButtonImpl\");\n$RefreshReg$(_c57, \"SelectSeparator$1$React.forwardRef\");\n$RefreshReg$(_c58, \"SelectSeparator$1\");\n$RefreshReg$(_c59, \"SelectArrow$React.forwardRef\");\n$RefreshReg$(_c60, \"SelectArrow\");\n$RefreshReg$(_c61, \"SelectBubbleInput\");\n$RefreshReg$(_c62, \"Icon\");\n$RefreshReg$(_c63, \"CopyCheck\");\n$RefreshReg$(_c64, \"Copy\");\n$RefreshReg$(_c65, \"Select\");\n$RefreshReg$(_c66, \"SelectGroup\");\n$RefreshReg$(_c67, \"SelectValue\");\n$RefreshReg$(_c68, \"SelectTrigger\");\n$RefreshReg$(_c69, \"SelectGuide\");\n$RefreshReg$(_c70, \"SelectContent\");\n$RefreshReg$(_c71, \"SelectItem\");\n$RefreshReg$(_c72, \"SelectSeparator\");\n$RefreshReg$(_c73, \"SelectScrollUpButton\");\n$RefreshReg$(_c74, \"SelectScrollDownButton\");\n$RefreshReg$(_c75, \"AudioOutput\");\n$RefreshReg$(_c76, \"DataList\");\n$RefreshReg$(_c77, \"ClientStatus\");\n$RefreshReg$(_c78, \"Button\");\n$RefreshReg$(_c79, \"ConnectButtonComponent\");\n$RefreshReg$(_c80, \"ConnectButton\");\n$RefreshReg$(_c81, \"ButtonGroup\");\n$RefreshReg$(_c82, \"VoiceVisualizer\");\n$RefreshReg$(_c83, \"Presence\");\n$RefreshReg$(_c84, \"RovingFocusGroup$React.forwardRef\");\n$RefreshReg$(_c85, \"RovingFocusGroup\");\n$RefreshReg$(_c86, \"RovingFocusGroupImpl\");\n$RefreshReg$(_c87, \"RovingFocusGroupItem$React.forwardRef\");\n$RefreshReg$(_c88, \"RovingFocusGroupItem\");\n$RefreshReg$(_c89, \"Menu\");\n$RefreshReg$(_c90, \"MenuAnchor\");\n$RefreshReg$(_c91, \"MenuPortal\");\n$RefreshReg$(_c92, \"MenuContent$React.forwardRef\");\n$RefreshReg$(_c93, \"MenuContent\");\n$RefreshReg$(_c94, \"MenuRootContentModal\");\n$RefreshReg$(_c95, \"MenuRootContentNonModal\");\n$RefreshReg$(_c96, \"MenuContentImpl\");\n$RefreshReg$(_c97, \"MenuGroup\");\n$RefreshReg$(_c98, \"MenuLabel$React.forwardRef\");\n$RefreshReg$(_c99, \"MenuLabel\");\n$RefreshReg$(_c100, \"MenuItem\");\n$RefreshReg$(_c101, \"MenuItemImpl\");\n$RefreshReg$(_c102, \"MenuCheckboxItem$React.forwardRef\");\n$RefreshReg$(_c103, \"MenuCheckboxItem\");\n$RefreshReg$(_c104, \"MenuRadioGroup$React.forwardRef\");\n$RefreshReg$(_c105, \"MenuRadioGroup\");\n$RefreshReg$(_c106, \"MenuRadioItem$React.forwardRef\");\n$RefreshReg$(_c107, \"MenuRadioItem\");\n$RefreshReg$(_c108, \"MenuItemIndicator$React.forwardRef\");\n$RefreshReg$(_c109, \"MenuItemIndicator\");\n$RefreshReg$(_c110, \"MenuSeparator$React.forwardRef\");\n$RefreshReg$(_c111, \"MenuSeparator\");\n$RefreshReg$(_c112, \"MenuArrow$React.forwardRef\");\n$RefreshReg$(_c113, \"MenuArrow\");\n$RefreshReg$(_c114, \"MenuSub\");\n$RefreshReg$(_c115, \"MenuSubTrigger$React.forwardRef\");\n$RefreshReg$(_c116, \"MenuSubTrigger\");\n$RefreshReg$(_c117, \"MenuSubContent$React.forwardRef\");\n$RefreshReg$(_c118, \"MenuSubContent\");\n$RefreshReg$(_c119, \"DropdownMenu$1\");\n$RefreshReg$(_c120, \"DropdownMenuTrigger$1$React.forwardRef\");\n$RefreshReg$(_c121, \"DropdownMenuTrigger$1\");\n$RefreshReg$(_c122, \"DropdownMenuPortal$1\");\n$RefreshReg$(_c123, \"DropdownMenuContent$1$React.forwardRef\");\n$RefreshReg$(_c124, \"DropdownMenuContent$1\");\n$RefreshReg$(_c125, \"DropdownMenuGroup$1$React.forwardRef\");\n$RefreshReg$(_c126, \"DropdownMenuGroup$1\");\n$RefreshReg$(_c127, \"DropdownMenuLabel$1$React.forwardRef\");\n$RefreshReg$(_c128, \"DropdownMenuLabel$1\");\n$RefreshReg$(_c129, \"DropdownMenuItem$1$React.forwardRef\");\n$RefreshReg$(_c130, \"DropdownMenuItem$1\");\n$RefreshReg$(_c131, \"DropdownMenuCheckboxItem$1$React.forwardRef\");\n$RefreshReg$(_c132, \"DropdownMenuCheckboxItem$1\");\n$RefreshReg$(_c133, \"DropdownMenuRadioGroup$1$React.forwardRef\");\n$RefreshReg$(_c134, \"DropdownMenuRadioGroup$1\");\n$RefreshReg$(_c135, \"DropdownMenuRadioItem$1$React.forwardRef\");\n$RefreshReg$(_c136, \"DropdownMenuRadioItem$1\");\n$RefreshReg$(_c137, \"DropdownMenuItemIndicator$React.forwardRef\");\n$RefreshReg$(_c138, \"DropdownMenuItemIndicator\");\n$RefreshReg$(_c139, \"DropdownMenuSeparator$1$React.forwardRef\");\n$RefreshReg$(_c140, \"DropdownMenuSeparator$1\");\n$RefreshReg$(_c141, \"DropdownMenuArrow$React.forwardRef\");\n$RefreshReg$(_c142, \"DropdownMenuArrow\");\n$RefreshReg$(_c143, \"DropdownMenuSub$1\");\n$RefreshReg$(_c144, \"DropdownMenuSubTrigger$1$React.forwardRef\");\n$RefreshReg$(_c145, \"DropdownMenuSubTrigger$1\");\n$RefreshReg$(_c146, \"DropdownMenuSubContent$1$React.forwardRef\");\n$RefreshReg$(_c147, \"DropdownMenuSubContent$1\");\n$RefreshReg$(_c148, \"DropdownMenu\");\n$RefreshReg$(_c149, \"DropdownMenuPortal\");\n$RefreshReg$(_c150, \"DropdownMenuTrigger\");\n$RefreshReg$(_c151, \"DropdownMenuContent\");\n$RefreshReg$(_c152, \"DropdownMenuGroup\");\n$RefreshReg$(_c153, \"DropdownMenuItem\");\n$RefreshReg$(_c154, \"DropdownMenuCheckboxItem\");\n$RefreshReg$(_c155, \"DropdownMenuRadioGroup\");\n$RefreshReg$(_c156, \"DropdownMenuRadioItem\");\n$RefreshReg$(_c157, \"DropdownMenuLabel\");\n$RefreshReg$(_c158, \"DropdownMenuSeparator\");\n$RefreshReg$(_c159, \"DropdownMenuShortcut\");\n$RefreshReg$(_c160, \"DropdownMenuSub\");\n$RefreshReg$(_c161, \"DropdownMenuSubTrigger\");\n$RefreshReg$(_c162, \"DropdownMenuSubContent\");\n$RefreshReg$(_c163, \"DeviceDropDown\");\n$RefreshReg$(_c164, \"UserAudioComponent\");\n$RefreshReg$(_c165, \"UserAudioControl\");\n$RefreshReg$(_c166, \"Card\");\n$RefreshReg$(_c167, \"CardHeader\");\n$RefreshReg$(_c168, \"CardTitle\");\n$RefreshReg$(_c169, \"CardDescription\");\n$RefreshReg$(_c170, \"CardAction\");\n$RefreshReg$(_c171, \"CardContent\");\n$RefreshReg$(_c172, \"CardFooter\");\n$RefreshReg$(_c173, \"FullScreenContainer\");\n$RefreshReg$(_c174, \"ErrorCard\");\n$RefreshReg$(_c175, \"Input\");\n$RefreshReg$(_c176, \"LayoutSection\");\n$RefreshReg$(_c177, \"LoaderSpinner\");\n$RefreshReg$(_c178, \"Panel$1\");\n$RefreshReg$(_c179, \"PanelHeader\");\n$RefreshReg$(_c180, \"PanelTitle\");\n$RefreshReg$(_c181, \"PanelContent\");\n$RefreshReg$(_c182, \"PanelFooter\");\n$RefreshReg$(_c183, \"PanelActions\");\n$RefreshReg$(_c184, \"Popover$1\");\n$RefreshReg$(_c185, \"PopoverAnchor$1$React.forwardRef\");\n$RefreshReg$(_c186, \"PopoverAnchor$1\");\n$RefreshReg$(_c187, \"PopoverTrigger$1$React.forwardRef\");\n$RefreshReg$(_c188, \"PopoverTrigger$1\");\n$RefreshReg$(_c189, \"PopoverPortal\");\n$RefreshReg$(_c190, \"PopoverContent$1$React.forwardRef\");\n$RefreshReg$(_c191, \"PopoverContent$1\");\n$RefreshReg$(_c192, \"PopoverContentModal\");\n$RefreshReg$(_c193, \"PopoverContentNonModal\");\n$RefreshReg$(_c194, \"PopoverContentImpl\");\n$RefreshReg$(_c195, \"PopoverClose$React.forwardRef\");\n$RefreshReg$(_c196, \"PopoverClose\");\n$RefreshReg$(_c197, \"PopoverArrow$React.forwardRef\");\n$RefreshReg$(_c198, \"PopoverArrow\");\n$RefreshReg$(_c199, \"Popover\");\n$RefreshReg$(_c200, \"PopoverTrigger\");\n$RefreshReg$(_c201, \"PopoverContent\");\n$RefreshReg$(_c202, \"PopoverAnchor\");\n$RefreshReg$(_c203, \"PanelWithForwardedRef\");\n$RefreshReg$(_c204, \"Panel\");\n$RefreshReg$(_c205, \"PanelGroupWithForwardedRef\");\n$RefreshReg$(_c206, \"PanelGroup\");\n$RefreshReg$(_c207, \"PanelResizeHandle\");\n$RefreshReg$(_c208, \"ResizablePanelGroup\");\n$RefreshReg$(_c209, \"ResizablePanel\");\n$RefreshReg$(_c210, \"ResizableHandle\");\n$RefreshReg$(_c211, \"Tabs$1$React.forwardRef\");\n$RefreshReg$(_c212, \"Tabs$1\");\n$RefreshReg$(_c213, \"TabsList$1$React.forwardRef\");\n$RefreshReg$(_c214, \"TabsList$1\");\n$RefreshReg$(_c215, \"TabsTrigger$1$React.forwardRef\");\n$RefreshReg$(_c216, \"TabsTrigger$1\");\n$RefreshReg$(_c217, \"TabsContent$1$React.forwardRef\");\n$RefreshReg$(_c218, \"TabsContent$1\");\n$RefreshReg$(_c219, \"Tabs\");\n$RefreshReg$(_c220, \"TabsList\");\n$RefreshReg$(_c221, \"TabsTrigger\");\n$RefreshReg$(_c222, \"TabsContent\");\n$RefreshReg$(_c223, \"TooltipProvider$1\");\n$RefreshReg$(_c224, \"Tooltip$1\");\n$RefreshReg$(_c225, \"TooltipTrigger$1$React.forwardRef\");\n$RefreshReg$(_c226, \"TooltipTrigger$1\");\n$RefreshReg$(_c227, \"TooltipPortal\");\n$RefreshReg$(_c228, \"TooltipContent$1$React.forwardRef\");\n$RefreshReg$(_c229, \"TooltipContent$1\");\n$RefreshReg$(_c230, \"TooltipContentHoverable\");\n$RefreshReg$(_c231, \"Slottable\");\n$RefreshReg$(_c232, \"TooltipContentImpl\");\n$RefreshReg$(_c233, \"TooltipArrow$React.forwardRef\");\n$RefreshReg$(_c234, \"TooltipArrow\");\n$RefreshReg$(_c235, \"TooltipProvider\");\n$RefreshReg$(_c236, \"Tooltip\");\n$RefreshReg$(_c237, \"TooltipTrigger\");\n$RefreshReg$(_c238, \"TooltipContent\");\n$RefreshReg$(_c239, \"ControlBar\");\n$RefreshReg$(_c240, \"Thinking\");\n$RefreshReg$(_c241, \"Conversation\");\n$RefreshReg$(_c242, \"CopyText\");\n$RefreshReg$(_c243, \"PipecatLogo\");\n$RefreshReg$(_c244, \"SessionInfo\");\n$RefreshReg$(_c245, \"TranscriptOverlayPartComponent\");\n$RefreshReg$(_c246, \"TranscriptOverlayComponent\");\n$RefreshReg$(_c247, \"TranscriptOverlay\");\n$RefreshReg$(_c248, \"UserVideoComponent\");\n$RefreshReg$(_c249, \"UserVideoControl\");\n$RefreshReg$(_c250, \"ThemeProvider\");\n$RefreshReg$(_c251, \"AudioClientHelper\");\n$RefreshReg$(_c252, \"ThemeModeToggle\");\n$RefreshReg$(_c253, \"BotAudioPanel\");\n$RefreshReg$(_c254, \"BotVideoPanel\");\n$RefreshReg$(_c255, \"ConversationPanel\");\n$RefreshReg$(_c256, \"EventsPanel\");\n$RefreshReg$(_c257, \"InfoPanel\");\n$RefreshReg$(_c258, \"ConsoleTemplate\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = __webpack_module__.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                __webpack_module__.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                __webpack_module__.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        __webpack_module__.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    __webpack_module__.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLFNBQVNBLFFBQU0sYUFBZ0I7U0FBUkMsTUFBS0MsSUFBRyxHQUFHLENBQVo7SUFDcEIsT0FBTyxLQUFLLElBQUlBLE1BQUssS0FBSyxJQUFJRCxNQUFLLEtBQUssQ0FBQztBQUMzQztBQ0ZBLFNBQVMscUJBQXFCLHNCQUFzQjtRQUFpQixFQUFFLDJCQUEyQixLQUFJLHFFQUFLO0lBQ3pHLE9BQU8sU0FBUyxZQUFZLE9BQU87UUFDakMsNkRBQXVCO1FBQ3ZCLElBQUksNkJBQTZCLFNBQVMsQ0FBQyxNQUFNLGtCQUFrQjtZQUNqRSxPQUFPLG1EQUFrQjtRQUMvQjtJQUNBO0FBQ0E7QUNXQSxTQUFTLG1CQUFtQjtpQ0FBVyxpRUFBeUI7SUFDOUQsSUFBSSxrQkFBa0I7SUFDdEIsU0FBUyxlQUFlLG1CQUFtQixnQkFBZ0I7O1FBQ3pELE1BQU0sNEJBQWMsZ0RBQU0sQ0FBYyxjQUFjO1FBQ3RELE1BQU1FLFNBQVEsZ0JBQWdCO1FBQzlCLGtCQUFrQixDQUFDO2VBQUc7WUFBaUIsY0FBYztTQUFBO1FBQ3JELE1BQU1DLFlBQVcsQ0FBQ0M7OztZQUNoQixNQUFNLEVBQUUsT0FBTyxVQUFVLEdBQUcsUUFBTyxJQUFLQTtZQUN4QyxNQUFNLGlCQUFVLCtCQUFRLGVBQVIsbUJBQXFCRixPQUFBQSxLQUFVO1lBQy9DLE1BQU0sU0FBUSwwQ0FBTTs4RUFBUSxJQUFNOzZFQUFTLE9BQU8sT0FBTyxPQUFPLENBQUM7WUFDakUsT0FBdUIsc0VBQUcsQ0FBQyxRQUFRLFVBQVU7dUJBQUU7Z0JBQU87WUFBUSxDQUFFO1FBQ3RFOztRQUNJ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O29DQUVWLGlGQUFDLGVBQVk7Z0NBQUE7NkJBQ2Y7d0JBQUEsQ0FDRjt3QkFDQSx3RUFBQzs0QkFBUyxXQUFVOzRCQUNqQjtnQ0FBQSxDQUFDLGFBQ0EsdUVBQUM7b0NBQVksT0FBTTtvQ0FDakIsaUZBQUMsV0FBUTtnQ0FBQSxDQUNYO2dDQUVELENBQUMsdUJBQ0EsdUVBQUM7b0NBQVksT0FBTTtvQ0FDakIsaUZBQUMsc0JBQW1CO2dDQUFBLENBQ3RCO2dDQUFBLHVFQUVEO29DQUFZLE9BQU07b0NBQ2pCLGlGQUFDLFlBQVM7Z0NBQUEsQ0FDWjtnQ0FBQSx1RUFDQztvQ0FBWSxPQUFNO29DQUNqQixpRkFBQyxpQ0FBOEI7Z0NBQUEsQ0FDakM7NkJBQUE7d0JBQUEsQ0FDRjtxQkFBQTtnQkFBQTtnQkFFRCxDQUFDLGlCQUFpQix1RUFBQyx3RUFBa0IsRUFBbEIsRUFBbUI7YUFBQTtRQUFBLENBQ3pDO0lBQUEsQ0FDRjtBQUVKOzs7UUFwVTRCOzs7UUEzQmYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvbnVtYmVyL2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9wcmltaXRpdmUvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWNvbnRleHQvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmcy9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3Qtc2xvdC9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtY29sbGVjdGlvbi9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZGlyZWN0aW9uL2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1wcmltaXRpdmUvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWYvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXVzZS1lc2NhcGUta2V5ZG93bi9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZGlzbWlzc2FibGUtbGF5ZXIvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LWZvY3VzLWd1YXJkcy9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtZm9jdXMtc2NvcGUvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXVzZS1sYXlvdXQtZWZmZWN0L2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1pZC9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQGZsb2F0aW5nLXVpL2NvcmUvZGlzdC9mbG9hdGluZy11aS5jb3JlLm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5kb20ubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS9kb20vZGlzdC9mbG9hdGluZy11aS5kb20ubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS9yZWFjdC1kb20vZGlzdC9mbG9hdGluZy11aS5yZWFjdC1kb20ubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1hcnJvdy9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdXNlLXNpemUvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXBvcHBlci9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcG9ydGFsL2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtY29udHJvbGxhYmxlLXN0YXRlL2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC11c2UtcHJldmlvdXMvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXZpc3VhbGx5LWhpZGRlbi9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9hcmlhLWhpZGRlbi9kaXN0L2VzMjAxNS9pbmRleC5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyL2Rpc3QvZXMyMDE1L2NvbnN0YW50cy5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy91c2UtY2FsbGJhY2stcmVmL2Rpc3QvZXMyMDE1L2Fzc2lnblJlZi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy91c2UtY2FsbGJhY2stcmVmL2Rpc3QvZXMyMDE1L3VzZVJlZi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy91c2UtY2FsbGJhY2stcmVmL2Rpc3QvZXMyMDE1L3VzZU1lcmdlUmVmLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3VzZS1zaWRlY2FyL2Rpc3QvZXMyMDE1L21lZGl1bS5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy91c2Utc2lkZWNhci9kaXN0L2VzMjAxNS9leHBvcnRzLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvbWVkaXVtLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvVUkuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvZ2V0LW5vbmNlL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXN0eWxlLXNpbmdsZXRvbi9kaXN0L2VzMjAxNS9zaW5nbGV0b24uanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvcmVhY3Qtc3R5bGUtc2luZ2xldG9uL2Rpc3QvZXMyMDE1L2hvb2suanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvcmVhY3Qtc3R5bGUtc2luZ2xldG9uL2Rpc3QvZXMyMDE1L2NvbXBvbmVudC5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9kaXN0L2VzMjAxNS91dGlscy5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9kaXN0L2VzMjAxNS9jb21wb25lbnQuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9kaXN0L2VzMjAxNS9hZ2dyZXNpdmVDYXB0dXJlLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvaGFuZGxlU2Nyb2xsLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvU2lkZUVmZmVjdC5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L3NpZGVjYXIuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9kaXN0L2VzMjAxNS9Db21iaW5hdGlvbi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3Qtc2VsZWN0L2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9zaGFyZWQvc3JjL3V0aWxzLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9kZWZhdWx0QXR0cmlidXRlcy5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vSWNvbi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vY3JlYXRlTHVjaWRlSWNvbi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvYXJyb3ctZG93bi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvYm90LmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGFydC1saW5lLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGVjay5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvY2hldnJvbi1kb3duLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9uLXJpZ2h0LmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9uLXVwLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9ucy1sZWZ0LXJpZ2h0LWVsbGlwc2lzLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9ucy11cC1kb3duLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaXJjbGUuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NvcHktY2hlY2suanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NvcHkuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2VsbGlwc2lzLXZlcnRpY2FsLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9lbGxpcHNpcy5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZnVubmVsLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9pbmZvLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9sb2FkZXItY2lyY2xlLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9sb2ctb3V0LmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9tZXNzYWdlcy1zcXVhcmUuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL21pYy1vZmYuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL21pYy5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbW9vbi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGhvbmUtY2FsbC5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGhvbmUtb2ZmLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9zZW5kLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9zdW4uanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3ZpZGVvLW9mZi5qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvdmlkZW8uanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3ZvbHVtZS0yLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy92b2x1bWUtb2ZmLmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy94LmpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2ljb25zLnRzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2xpYi9kb20udHMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5L2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvdWkvc2VsZWN0LnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL0F1ZGlvT3V0cHV0LnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL0RhdGFMaXN0LnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL0NsaWVudFN0YXR1cy50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy91aS9idXR0b25WYXJpYW50cy50cyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9Db25uZWN0QnV0dG9uLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL2J1dHRvbmdyb3VwLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy92aXN1YWxpemVycy9Wb2ljZVZpc3VhbGl6ZXIvaW5kZXgudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1wcmVzZW5jZS9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3Qtcm92aW5nLWZvY3VzL2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1tZW51L2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC1kcm9wZG93bi1tZW51L2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvdWkvZHJvcGRvd24tbWVudS50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9EZXZpY2VEcm9wRG93bi50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9Vc2VyQXVkaW9Db250cm9sLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL2NhcmQudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvdWkvY29udGFpbmVyLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL2Vycm9yLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL2xheW91dC50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy91aS9sb2FkZXJzLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL3BhbmVsLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcG9wb3Zlci9kaXN0L2luZGV4Lm1qcyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3VpL3BvcG92ZXIudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL3JlYWN0LXJlc2l6YWJsZS1wYW5lbHMvZGlzdC9yZWFjdC1yZXNpemFibGUtcGFuZWxzLmJyb3dzZXIuanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy91aS9yZXNpemFibGUudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvbm9kZV9tb2R1bGVzL0ByYWRpeC11aS9yZWFjdC10YWJzL2Rpc3QvaW5kZXgubWpzIiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvdWkvdGFicy50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXRvb2x0aXAvZGlzdC9pbmRleC5tanMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy91aS90b29sdGlwLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL0NvbnRyb2xCYXIudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2hvb2tzL3VzZUNvbnZlcnNhdGlvbi50cyIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL1RoaW5raW5nLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL2VsZW1lbnRzL0NvbnZlcnNhdGlvbi50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9Db3B5VGV4dC50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9QaXBlY2F0TG9nby50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9TZXNzaW9uSW5mby50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9UcmFuc2NyaXB0T3ZlcmxheS50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9lbGVtZW50cy9Vc2VyVmlkZW9Db250cm9sLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL1RoZW1lUHJvdmlkZXJDb250ZXh0LnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL1RoZW1lUHJvdmlkZXIudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvaGVscGVycy9BdWRpb0NsaWVudEhlbHBlci50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvaG9va3MvdXNlVGhlbWUudHMiLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9UaGVtZU1vZGVUb2dnbGUudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvcGFuZWxzL0JvdEF1ZGlvUGFuZWwudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvcGFuZWxzL0JvdFZpZGVvUGFuZWwudHN4IiwiL1VzZXJzL2pvbnRheWxvci9TaXRlcy92b2ljZS11aS1raXQvZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvcGFuZWxzL0NvbnZlcnNhdGlvblBhbmVsLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy9jb21wb25lbnRzL3BhbmVscy9FdmVudHNQYW5lbC50c3giLCIvVXNlcnMvam9udGF5bG9yL1NpdGVzL3ZvaWNlLXVpLWtpdC9leGFtcGxlcy9zcmMvY29tcG9uZW50cy9wYW5lbHMvSW5mb1BhbmVsLnRzeCIsIi9Vc2Vycy9qb250YXlsb3IvU2l0ZXMvdm9pY2UtdWkta2l0L2V4YW1wbGVzL3NyYy90ZW1wbGF0ZXMvQ29uc29sZS9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFja2FnZXMvY29yZS9udW1iZXIvc3JjL251bWJlci50c1xuZnVuY3Rpb24gY2xhbXAodmFsdWUsIFttaW4sIG1heF0pIHtcbiAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWx1ZSkpO1xufVxuZXhwb3J0IHtcbiAgY2xhbXBcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCIvLyBwYWNrYWdlcy9jb3JlL3ByaW1pdGl2ZS9zcmMvcHJpbWl0aXZlLnRzeFxuZnVuY3Rpb24gY29tcG9zZUV2ZW50SGFuZGxlcnMob3JpZ2luYWxFdmVudEhhbmRsZXIsIG91ckV2ZW50SGFuZGxlciwgeyBjaGVja0ZvckRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlIH0gPSB7fSkge1xuICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICBvcmlnaW5hbEV2ZW50SGFuZGxlcj8uKGV2ZW50KTtcbiAgICBpZiAoY2hlY2tGb3JEZWZhdWx0UHJldmVudGVkID09PSBmYWxzZSB8fCAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuIG91ckV2ZW50SGFuZGxlcj8uKGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQge1xuICBjb21wb3NlRXZlbnRIYW5kbGVyc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L2NvbnRleHQvc3JjL2NyZWF0ZS1jb250ZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQyKHJvb3RDb21wb25lbnROYW1lLCBkZWZhdWx0Q29udGV4dCkge1xuICBjb25zdCBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChkZWZhdWx0Q29udGV4dCk7XG4gIGNvbnN0IFByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4uY29udGV4dCB9ID0gcHJvcHM7XG4gICAgY29uc3QgdmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IGNvbnRleHQsIE9iamVjdC52YWx1ZXMoY29udGV4dCkpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWUsIGNoaWxkcmVuIH0pO1xuICB9O1xuICBQcm92aWRlci5kaXNwbGF5TmFtZSA9IHJvb3RDb21wb25lbnROYW1lICsgXCJQcm92aWRlclwiO1xuICBmdW5jdGlvbiB1c2VDb250ZXh0Mihjb25zdW1lck5hbWUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICBpZiAoY29udGV4dCkgcmV0dXJuIGNvbnRleHQ7XG4gICAgaWYgKGRlZmF1bHRDb250ZXh0ICE9PSB2b2lkIDApIHJldHVybiBkZWZhdWx0Q29udGV4dDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFxcYCR7Y29uc3VtZXJOYW1lfVxcYCBtdXN0IGJlIHVzZWQgd2l0aGluIFxcYCR7cm9vdENvbXBvbmVudE5hbWV9XFxgYCk7XG4gIH1cbiAgcmV0dXJuIFtQcm92aWRlciwgdXNlQ29udGV4dDJdO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dFNjb3BlKHNjb3BlTmFtZSwgY3JlYXRlQ29udGV4dFNjb3BlRGVwcyA9IFtdKSB7XG4gIGxldCBkZWZhdWx0Q29udGV4dHMgPSBbXTtcbiAgZnVuY3Rpb24gY3JlYXRlQ29udGV4dDMocm9vdENvbXBvbmVudE5hbWUsIGRlZmF1bHRDb250ZXh0KSB7XG4gICAgY29uc3QgQmFzZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KGRlZmF1bHRDb250ZXh0KTtcbiAgICBjb25zdCBpbmRleCA9IGRlZmF1bHRDb250ZXh0cy5sZW5ndGg7XG4gICAgZGVmYXVsdENvbnRleHRzID0gWy4uLmRlZmF1bHRDb250ZXh0cywgZGVmYXVsdENvbnRleHRdO1xuICAgIGNvbnN0IFByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgICBjb25zdCB7IHNjb3BlLCBjaGlsZHJlbiwgLi4uY29udGV4dCB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBDb250ZXh0ID0gc2NvcGU/LltzY29wZU5hbWVdPy5baW5kZXhdIHx8IEJhc2VDb250ZXh0O1xuICAgICAgY29uc3QgdmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IGNvbnRleHQsIE9iamVjdC52YWx1ZXMoY29udGV4dCkpO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW4gfSk7XG4gICAgfTtcbiAgICBQcm92aWRlci5kaXNwbGF5TmFtZSA9IHJvb3RDb21wb25lbnROYW1lICsgXCJQcm92aWRlclwiO1xuICAgIGZ1bmN0aW9uIHVzZUNvbnRleHQyKGNvbnN1bWVyTmFtZSwgc2NvcGUpIHtcbiAgICAgIGNvbnN0IENvbnRleHQgPSBzY29wZT8uW3Njb3BlTmFtZV0/LltpbmRleF0gfHwgQmFzZUNvbnRleHQ7XG4gICAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICAgIGlmIChjb250ZXh0KSByZXR1cm4gY29udGV4dDtcbiAgICAgIGlmIChkZWZhdWx0Q29udGV4dCAhPT0gdm9pZCAwKSByZXR1cm4gZGVmYXVsdENvbnRleHQ7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFxcYCR7Y29uc3VtZXJOYW1lfVxcYCBtdXN0IGJlIHVzZWQgd2l0aGluIFxcYCR7cm9vdENvbXBvbmVudE5hbWV9XFxgYCk7XG4gICAgfVxuICAgIHJldHVybiBbUHJvdmlkZXIsIHVzZUNvbnRleHQyXTtcbiAgfVxuICBjb25zdCBjcmVhdGVTY29wZSA9ICgpID0+IHtcbiAgICBjb25zdCBzY29wZUNvbnRleHRzID0gZGVmYXVsdENvbnRleHRzLm1hcCgoZGVmYXVsdENvbnRleHQpID0+IHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVDb250ZXh0KGRlZmF1bHRDb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdXNlU2NvcGUoc2NvcGUpIHtcbiAgICAgIGNvbnN0IGNvbnRleHRzID0gc2NvcGU/LltzY29wZU5hbWVdIHx8IHNjb3BlQ29udGV4dHM7XG4gICAgICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICAgICAgKCkgPT4gKHsgW2BfX3Njb3BlJHtzY29wZU5hbWV9YF06IHsgLi4uc2NvcGUsIFtzY29wZU5hbWVdOiBjb250ZXh0cyB9IH0pLFxuICAgICAgICBbc2NvcGUsIGNvbnRleHRzXVxuICAgICAgKTtcbiAgICB9O1xuICB9O1xuICBjcmVhdGVTY29wZS5zY29wZU5hbWUgPSBzY29wZU5hbWU7XG4gIHJldHVybiBbY3JlYXRlQ29udGV4dDMsIGNvbXBvc2VDb250ZXh0U2NvcGVzKGNyZWF0ZVNjb3BlLCAuLi5jcmVhdGVDb250ZXh0U2NvcGVEZXBzKV07XG59XG5mdW5jdGlvbiBjb21wb3NlQ29udGV4dFNjb3BlcyguLi5zY29wZXMpIHtcbiAgY29uc3QgYmFzZVNjb3BlID0gc2NvcGVzWzBdO1xuICBpZiAoc2NvcGVzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGJhc2VTY29wZTtcbiAgY29uc3QgY3JlYXRlU2NvcGUgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2NvcGVIb29rcyA9IHNjb3Blcy5tYXAoKGNyZWF0ZVNjb3BlMikgPT4gKHtcbiAgICAgIHVzZVNjb3BlOiBjcmVhdGVTY29wZTIoKSxcbiAgICAgIHNjb3BlTmFtZTogY3JlYXRlU2NvcGUyLnNjb3BlTmFtZVxuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdXNlQ29tcG9zZWRTY29wZXMob3ZlcnJpZGVTY29wZXMpIHtcbiAgICAgIGNvbnN0IG5leHRTY29wZXMgPSBzY29wZUhvb2tzLnJlZHVjZSgobmV4dFNjb3BlczIsIHsgdXNlU2NvcGUsIHNjb3BlTmFtZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHNjb3BlUHJvcHMgPSB1c2VTY29wZShvdmVycmlkZVNjb3Blcyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTY29wZSA9IHNjb3BlUHJvcHNbYF9fc2NvcGUke3Njb3BlTmFtZX1gXTtcbiAgICAgICAgcmV0dXJuIHsgLi4ubmV4dFNjb3BlczIsIC4uLmN1cnJlbnRTY29wZSB9O1xuICAgICAgfSwge30pO1xuICAgICAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgW2BfX3Njb3BlJHtiYXNlU2NvcGUuc2NvcGVOYW1lfWBdOiBuZXh0U2NvcGVzIH0pLCBbbmV4dFNjb3Blc10pO1xuICAgIH07XG4gIH07XG4gIGNyZWF0ZVNjb3BlLnNjb3BlTmFtZSA9IGJhc2VTY29wZS5zY29wZU5hbWU7XG4gIHJldHVybiBjcmVhdGVTY29wZTtcbn1cbmV4cG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQyIGFzIGNyZWF0ZUNvbnRleHQsXG4gIGNyZWF0ZUNvbnRleHRTY29wZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L2NvbXBvc2UtcmVmcy9zcmMvY29tcG9zZS1yZWZzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBzZXRSZWYocmVmLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHJlZih2YWx1ZSk7XG4gIH0gZWxzZSBpZiAocmVmICE9PSBudWxsICYmIHJlZiAhPT0gdm9pZCAwKSB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gY29tcG9zZVJlZnMoLi4ucmVmcykge1xuICByZXR1cm4gKG5vZGUpID0+IHtcbiAgICBsZXQgaGFzQ2xlYW51cCA9IGZhbHNlO1xuICAgIGNvbnN0IGNsZWFudXBzID0gcmVmcy5tYXAoKHJlZikgPT4ge1xuICAgICAgY29uc3QgY2xlYW51cCA9IHNldFJlZihyZWYsIG5vZGUpO1xuICAgICAgaWYgKCFoYXNDbGVhbnVwICYmIHR5cGVvZiBjbGVhbnVwID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBoYXNDbGVhbnVwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbGVhbnVwO1xuICAgIH0pO1xuICAgIGlmIChoYXNDbGVhbnVwKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsZWFudXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2xlYW51cCA9IGNsZWFudXBzW2ldO1xuICAgICAgICAgIGlmICh0eXBlb2YgY2xlYW51cCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0UmVmKHJlZnNbaV0sIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB1c2VDb21wb3NlZFJlZnMoLi4ucmVmcykge1xuICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soY29tcG9zZVJlZnMoLi4ucmVmcyksIHJlZnMpO1xufVxuZXhwb3J0IHtcbiAgY29tcG9zZVJlZnMsXG4gIHVzZUNvbXBvc2VkUmVmc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHNyYy9zbG90LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb21wb3NlUmVmcyB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29tcG9zZS1yZWZzXCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDIsIGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGNyZWF0ZVNsb3Qob3duZXJOYW1lKSB7XG4gIGNvbnN0IFNsb3RDbG9uZSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVTbG90Q2xvbmUob3duZXJOYW1lKTtcbiAgY29uc3QgU2xvdDIgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4uc2xvdFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjaGlsZHJlbkFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbik7XG4gICAgY29uc3Qgc2xvdHRhYmxlID0gY2hpbGRyZW5BcnJheS5maW5kKGlzU2xvdHRhYmxlKTtcbiAgICBpZiAoc2xvdHRhYmxlKSB7XG4gICAgICBjb25zdCBuZXdFbGVtZW50ID0gc2xvdHRhYmxlLnByb3BzLmNoaWxkcmVuO1xuICAgICAgY29uc3QgbmV3Q2hpbGRyZW4gPSBjaGlsZHJlbkFycmF5Lm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBzbG90dGFibGUpIHtcbiAgICAgICAgICBpZiAoUmVhY3QuQ2hpbGRyZW4uY291bnQobmV3RWxlbWVudCkgPiAxKSByZXR1cm4gUmVhY3QuQ2hpbGRyZW4ub25seShudWxsKTtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuaXNWYWxpZEVsZW1lbnQobmV3RWxlbWVudCkgPyBuZXdFbGVtZW50LnByb3BzLmNoaWxkcmVuIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goU2xvdENsb25lLCB7IC4uLnNsb3RQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYsIGNoaWxkcmVuOiBSZWFjdC5pc1ZhbGlkRWxlbWVudChuZXdFbGVtZW50KSA/IFJlYWN0LmNsb25lRWxlbWVudChuZXdFbGVtZW50LCB2b2lkIDAsIG5ld0NoaWxkcmVuKSA6IG51bGwgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFNsb3RDbG9uZSwgeyAuLi5zbG90UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmLCBjaGlsZHJlbiB9KTtcbiAgfSk7XG4gIFNsb3QyLmRpc3BsYXlOYW1lID0gYCR7b3duZXJOYW1lfS5TbG90YDtcbiAgcmV0dXJuIFNsb3QyO1xufVxudmFyIFNsb3QgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlU2xvdChcIlNsb3RcIik7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gY3JlYXRlU2xvdENsb25lKG93bmVyTmFtZSkge1xuICBjb25zdCBTbG90Q2xvbmUgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4uc2xvdFByb3BzIH0gPSBwcm9wcztcbiAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgICBjb25zdCBjaGlsZHJlblJlZiA9IGdldEVsZW1lbnRSZWYoY2hpbGRyZW4pO1xuICAgICAgY29uc3QgcHJvcHMyID0gbWVyZ2VQcm9wcyhzbG90UHJvcHMsIGNoaWxkcmVuLnByb3BzKTtcbiAgICAgIGlmIChjaGlsZHJlbi50eXBlICE9PSBSZWFjdC5GcmFnbWVudCkge1xuICAgICAgICBwcm9wczIucmVmID0gZm9yd2FyZGVkUmVmID8gY29tcG9zZVJlZnMoZm9yd2FyZGVkUmVmLCBjaGlsZHJlblJlZikgOiBjaGlsZHJlblJlZjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHByb3BzMik7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPiAxID8gUmVhY3QuQ2hpbGRyZW4ub25seShudWxsKSA6IG51bGw7XG4gIH0pO1xuICBTbG90Q2xvbmUuZGlzcGxheU5hbWUgPSBgJHtvd25lck5hbWV9LlNsb3RDbG9uZWA7XG4gIHJldHVybiBTbG90Q2xvbmU7XG59XG52YXIgU0xPVFRBQkxFX0lERU5USUZJRVIgPSBTeW1ib2woXCJyYWRpeC5zbG90dGFibGVcIik7XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gY3JlYXRlU2xvdHRhYmxlKG93bmVyTmFtZSkge1xuICBjb25zdCBTbG90dGFibGUyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50MiwgeyBjaGlsZHJlbiB9KTtcbiAgfTtcbiAgU2xvdHRhYmxlMi5kaXNwbGF5TmFtZSA9IGAke293bmVyTmFtZX0uU2xvdHRhYmxlYDtcbiAgU2xvdHRhYmxlMi5fX3JhZGl4SWQgPSBTTE9UVEFCTEVfSURFTlRJRklFUjtcbiAgcmV0dXJuIFNsb3R0YWJsZTI7XG59XG52YXIgU2xvdHRhYmxlID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVNsb3R0YWJsZShcIlNsb3R0YWJsZVwiKTtcbmZ1bmN0aW9uIGlzU2xvdHRhYmxlKGNoaWxkKSB7XG4gIHJldHVybiBSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgdHlwZW9mIGNoaWxkLnR5cGUgPT09IFwiZnVuY3Rpb25cIiAmJiBcIl9fcmFkaXhJZFwiIGluIGNoaWxkLnR5cGUgJiYgY2hpbGQudHlwZS5fX3JhZGl4SWQgPT09IFNMT1RUQUJMRV9JREVOVElGSUVSO1xufVxuZnVuY3Rpb24gbWVyZ2VQcm9wcyhzbG90UHJvcHMsIGNoaWxkUHJvcHMpIHtcbiAgY29uc3Qgb3ZlcnJpZGVQcm9wcyA9IHsgLi4uY2hpbGRQcm9wcyB9O1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGNoaWxkUHJvcHMpIHtcbiAgICBjb25zdCBzbG90UHJvcFZhbHVlID0gc2xvdFByb3BzW3Byb3BOYW1lXTtcbiAgICBjb25zdCBjaGlsZFByb3BWYWx1ZSA9IGNoaWxkUHJvcHNbcHJvcE5hbWVdO1xuICAgIGNvbnN0IGlzSGFuZGxlciA9IC9eb25bQS1aXS8udGVzdChwcm9wTmFtZSk7XG4gICAgaWYgKGlzSGFuZGxlcikge1xuICAgICAgaWYgKHNsb3RQcm9wVmFsdWUgJiYgY2hpbGRQcm9wVmFsdWUpIHtcbiAgICAgICAgb3ZlcnJpZGVQcm9wc1twcm9wTmFtZV0gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoaWxkUHJvcFZhbHVlKC4uLmFyZ3MpO1xuICAgICAgICAgIHNsb3RQcm9wVmFsdWUoLi4uYXJncyk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdFByb3BWYWx1ZSkge1xuICAgICAgICBvdmVycmlkZVByb3BzW3Byb3BOYW1lXSA9IHNsb3RQcm9wVmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wTmFtZSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICBvdmVycmlkZVByb3BzW3Byb3BOYW1lXSA9IHsgLi4uc2xvdFByb3BWYWx1ZSwgLi4uY2hpbGRQcm9wVmFsdWUgfTtcbiAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09PSBcImNsYXNzTmFtZVwiKSB7XG4gICAgICBvdmVycmlkZVByb3BzW3Byb3BOYW1lXSA9IFtzbG90UHJvcFZhbHVlLCBjaGlsZFByb3BWYWx1ZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4geyAuLi5zbG90UHJvcHMsIC4uLm92ZXJyaWRlUHJvcHMgfTtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnRSZWYoZWxlbWVudCkge1xuICBsZXQgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlbGVtZW50LnByb3BzLCBcInJlZlwiKT8uZ2V0O1xuICBsZXQgbWF5V2FybiA9IGdldHRlciAmJiBcImlzUmVhY3RXYXJuaW5nXCIgaW4gZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZztcbiAgaWYgKG1heVdhcm4pIHtcbiAgICByZXR1cm4gZWxlbWVudC5yZWY7XG4gIH1cbiAgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlbGVtZW50LCBcInJlZlwiKT8uZ2V0O1xuICBtYXlXYXJuID0gZ2V0dGVyICYmIFwiaXNSZWFjdFdhcm5pbmdcIiBpbiBnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nO1xuICBpZiAobWF5V2Fybikge1xuICAgIHJldHVybiBlbGVtZW50LnByb3BzLnJlZjtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wcm9wcy5yZWYgfHwgZWxlbWVudC5yZWY7XG59XG5leHBvcnQge1xuICBTbG90IGFzIFJvb3QsXG4gIFNsb3QsXG4gIFNsb3R0YWJsZSxcbiAgY3JlYXRlU2xvdCxcbiAgY3JlYXRlU2xvdHRhYmxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHNyYy9jb2xsZWN0aW9uLWxlZ2FjeS50c3hcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IGNyZWF0ZVNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gY3JlYXRlQ29sbGVjdGlvbihuYW1lKSB7XG4gIGNvbnN0IFBST1ZJREVSX05BTUUgPSBuYW1lICsgXCJDb2xsZWN0aW9uUHJvdmlkZXJcIjtcbiAgY29uc3QgW2NyZWF0ZUNvbGxlY3Rpb25Db250ZXh0LCBjcmVhdGVDb2xsZWN0aW9uU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKFBST1ZJREVSX05BTUUpO1xuICBjb25zdCBbQ29sbGVjdGlvblByb3ZpZGVySW1wbCwgdXNlQ29sbGVjdGlvbkNvbnRleHRdID0gY3JlYXRlQ29sbGVjdGlvbkNvbnRleHQoXG4gICAgUFJPVklERVJfTkFNRSxcbiAgICB7IGNvbGxlY3Rpb25SZWY6IHsgY3VycmVudDogbnVsbCB9LCBpdGVtTWFwOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpIH1cbiAgKTtcbiAgY29uc3QgQ29sbGVjdGlvblByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzY29wZSwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBpdGVtTWFwID0gUmVhY3QudXNlUmVmKC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpLmN1cnJlbnQ7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGVjdGlvblByb3ZpZGVySW1wbCwgeyBzY29wZSwgaXRlbU1hcCwgY29sbGVjdGlvblJlZjogcmVmLCBjaGlsZHJlbiB9KTtcbiAgfTtcbiAgQ29sbGVjdGlvblByb3ZpZGVyLmRpc3BsYXlOYW1lID0gUFJPVklERVJfTkFNRTtcbiAgY29uc3QgQ09MTEVDVElPTl9TTE9UX05BTUUgPSBuYW1lICsgXCJDb2xsZWN0aW9uU2xvdFwiO1xuICBjb25zdCBDb2xsZWN0aW9uU2xvdEltcGwgPSBjcmVhdGVTbG90KENPTExFQ1RJT05fU0xPVF9OQU1FKTtcbiAgY29uc3QgQ29sbGVjdGlvblNsb3QgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAgIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgICBjb25zdCB7IHNjb3BlLCBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29sbGVjdGlvbkNvbnRleHQoQ09MTEVDVElPTl9TTE9UX05BTUUsIHNjb3BlKTtcbiAgICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIGNvbnRleHQuY29sbGVjdGlvblJlZik7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChDb2xsZWN0aW9uU2xvdEltcGwsIHsgcmVmOiBjb21wb3NlZFJlZnMsIGNoaWxkcmVuIH0pO1xuICAgIH1cbiAgKTtcbiAgQ29sbGVjdGlvblNsb3QuZGlzcGxheU5hbWUgPSBDT0xMRUNUSU9OX1NMT1RfTkFNRTtcbiAgY29uc3QgSVRFTV9TTE9UX05BTUUgPSBuYW1lICsgXCJDb2xsZWN0aW9uSXRlbVNsb3RcIjtcbiAgY29uc3QgSVRFTV9EQVRBX0FUVFIgPSBcImRhdGEtcmFkaXgtY29sbGVjdGlvbi1pdGVtXCI7XG4gIGNvbnN0IENvbGxlY3Rpb25JdGVtU2xvdEltcGwgPSBjcmVhdGVTbG90KElURU1fU0xPVF9OQU1FKTtcbiAgY29uc3QgQ29sbGVjdGlvbkl0ZW1TbG90ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgICAgY29uc3QgeyBzY29wZSwgY2hpbGRyZW4sIC4uLml0ZW1EYXRhIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHJlZik7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29sbGVjdGlvbkNvbnRleHQoSVRFTV9TTE9UX05BTUUsIHNjb3BlKTtcbiAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnRleHQuaXRlbU1hcC5zZXQocmVmLCB7IHJlZiwgLi4uaXRlbURhdGEgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB2b2lkIGNvbnRleHQuaXRlbU1hcC5kZWxldGUocmVmKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGVjdGlvbkl0ZW1TbG90SW1wbCwgeyAuLi57IFtJVEVNX0RBVEFfQVRUUl06IFwiXCIgfSwgcmVmOiBjb21wb3NlZFJlZnMsIGNoaWxkcmVuIH0pO1xuICAgIH1cbiAgKTtcbiAgQ29sbGVjdGlvbkl0ZW1TbG90LmRpc3BsYXlOYW1lID0gSVRFTV9TTE9UX05BTUU7XG4gIGZ1bmN0aW9uIHVzZUNvbGxlY3Rpb24oc2NvcGUpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29sbGVjdGlvbkNvbnRleHQobmFtZSArIFwiQ29sbGVjdGlvbkNvbnN1bWVyXCIsIHNjb3BlKTtcbiAgICBjb25zdCBnZXRJdGVtcyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25Ob2RlID0gY29udGV4dC5jb2xsZWN0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIWNvbGxlY3Rpb25Ob2RlKSByZXR1cm4gW107XG4gICAgICBjb25zdCBvcmRlcmVkTm9kZXMgPSBBcnJheS5mcm9tKGNvbGxlY3Rpb25Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0lURU1fREFUQV9BVFRSfV1gKSk7XG4gICAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20oY29udGV4dC5pdGVtTWFwLnZhbHVlcygpKTtcbiAgICAgIGNvbnN0IG9yZGVyZWRJdGVtcyA9IGl0ZW1zLnNvcnQoXG4gICAgICAgIChhLCBiKSA9PiBvcmRlcmVkTm9kZXMuaW5kZXhPZihhLnJlZi5jdXJyZW50KSAtIG9yZGVyZWROb2Rlcy5pbmRleE9mKGIucmVmLmN1cnJlbnQpXG4gICAgICApO1xuICAgICAgcmV0dXJuIG9yZGVyZWRJdGVtcztcbiAgICB9LCBbY29udGV4dC5jb2xsZWN0aW9uUmVmLCBjb250ZXh0Lml0ZW1NYXBdKTtcbiAgICByZXR1cm4gZ2V0SXRlbXM7XG4gIH1cbiAgcmV0dXJuIFtcbiAgICB7IFByb3ZpZGVyOiBDb2xsZWN0aW9uUHJvdmlkZXIsIFNsb3Q6IENvbGxlY3Rpb25TbG90LCBJdGVtU2xvdDogQ29sbGVjdGlvbkl0ZW1TbG90IH0sXG4gICAgdXNlQ29sbGVjdGlvbixcbiAgICBjcmVhdGVDb2xsZWN0aW9uU2NvcGVcbiAgXTtcbn1cblxuLy8gc3JjL2NvbGxlY3Rpb24udHN4XG5pbXBvcnQgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIGFzIGNyZWF0ZUNvbnRleHRTY29wZTIgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbnRleHRcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyBhcyB1c2VDb21wb3NlZFJlZnMyIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IGNyZWF0ZVNsb3QgYXMgY3JlYXRlU2xvdDIgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcblxuLy8gc3JjL29yZGVyZWQtZGljdGlvbmFyeS50c1xudmFyIF9faW5zdGFuY2lhdGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgT3JkZXJlZERpY3QgPSBjbGFzcyBfT3JkZXJlZERpY3QgZXh0ZW5kcyBNYXAge1xuICAja2V5cztcbiAgY29uc3RydWN0b3IoZW50cmllcykge1xuICAgIHN1cGVyKGVudHJpZXMpO1xuICAgIHRoaXMuI2tleXMgPSBbLi4uc3VwZXIua2V5cygpXTtcbiAgICBfX2luc3RhbmNpYXRlZC5zZXQodGhpcywgdHJ1ZSk7XG4gIH1cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBpZiAoX19pbnN0YW5jaWF0ZWQuZ2V0KHRoaXMpKSB7XG4gICAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgICB0aGlzLiNrZXlzW3RoaXMuI2tleXMuaW5kZXhPZihrZXkpXSA9IGtleTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuI2tleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlci5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgaW5zZXJ0KGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgaGFzID0gdGhpcy5oYXMoa2V5KTtcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLiNrZXlzLmxlbmd0aDtcbiAgICBjb25zdCByZWxhdGl2ZUluZGV4ID0gdG9TYWZlSW50ZWdlcihpbmRleCk7XG4gICAgbGV0IGFjdHVhbEluZGV4ID0gcmVsYXRpdmVJbmRleCA+PSAwID8gcmVsYXRpdmVJbmRleCA6IGxlbmd0aCArIHJlbGF0aXZlSW5kZXg7XG4gICAgY29uc3Qgc2FmZUluZGV4ID0gYWN0dWFsSW5kZXggPCAwIHx8IGFjdHVhbEluZGV4ID49IGxlbmd0aCA/IC0xIDogYWN0dWFsSW5kZXg7XG4gICAgaWYgKHNhZmVJbmRleCA9PT0gdGhpcy5zaXplIHx8IGhhcyAmJiBzYWZlSW5kZXggPT09IHRoaXMuc2l6ZSAtIDEgfHwgc2FmZUluZGV4ID09PSAtMSkge1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZSArIChoYXMgPyAwIDogMSk7XG4gICAgaWYgKHJlbGF0aXZlSW5kZXggPCAwKSB7XG4gICAgICBhY3R1YWxJbmRleCsrO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gWy4uLnRoaXMuI2tleXNdO1xuICAgIGxldCBuZXh0VmFsdWU7XG4gICAgbGV0IHNob3VsZFNraXAgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gYWN0dWFsSW5kZXg7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIGlmIChhY3R1YWxJbmRleCA9PT0gaSkge1xuICAgICAgICBsZXQgbmV4dEtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChrZXlzW2ldID09PSBrZXkpIHtcbiAgICAgICAgICBuZXh0S2V5ID0ga2V5c1tpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhcykge1xuICAgICAgICAgIHRoaXMuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dFZhbHVlID0gdGhpcy5nZXQobmV4dEtleSk7XG4gICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFzaG91bGRTa2lwICYmIGtleXNbaSAtIDFdID09PSBrZXkpIHtcbiAgICAgICAgICBzaG91bGRTa2lwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0ga2V5c1tzaG91bGRTa2lwID8gaSA6IGkgLSAxXTtcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gbmV4dFZhbHVlO1xuICAgICAgICBuZXh0VmFsdWUgPSB0aGlzLmdldChjdXJyZW50S2V5KTtcbiAgICAgICAgdGhpcy5kZWxldGUoY3VycmVudEtleSk7XG4gICAgICAgIHRoaXMuc2V0KGN1cnJlbnRLZXksIGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHdpdGgoaW5kZXgsIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBjb3B5ID0gbmV3IF9PcmRlcmVkRGljdCh0aGlzKTtcbiAgICBjb3B5Lmluc2VydChpbmRleCwga2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH1cbiAgYmVmb3JlKGtleSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy4ja2V5cy5pbmRleE9mKGtleSkgLSAxO1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVudHJ5QXQoaW5kZXgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGEgbmV3IGtleS12YWx1ZSBwYWlyIGF0IHRoZSBwb3NpdGlvbiBiZWZvcmUgdGhlIGdpdmVuIGtleS5cbiAgICovXG4gIHNldEJlZm9yZShrZXksIG5ld0tleSwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuI2tleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoaW5kZXgsIG5ld0tleSwgdmFsdWUpO1xuICB9XG4gIGFmdGVyKGtleSkge1xuICAgIGxldCBpbmRleCA9IHRoaXMuI2tleXMuaW5kZXhPZihrZXkpO1xuICAgIGluZGV4ID0gaW5kZXggPT09IC0xIHx8IGluZGV4ID09PSB0aGlzLnNpemUgLSAxID8gLTEgOiBpbmRleCArIDE7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZW50cnlBdChpbmRleCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgYXQgdGhlIHBvc2l0aW9uIGFmdGVyIHRoZSBnaXZlbiBrZXkuXG4gICAqL1xuICBzZXRBZnRlcihrZXksIG5ld0tleSwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuI2tleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoaW5kZXggKyAxLCBuZXdLZXksIHZhbHVlKTtcbiAgfVxuICBmaXJzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRyeUF0KDApO1xuICB9XG4gIGxhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cnlBdCgtMSk7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy4ja2V5cyA9IFtdO1xuICAgIHJldHVybiBzdXBlci5jbGVhcigpO1xuICB9XG4gIGRlbGV0ZShrZXkpIHtcbiAgICBjb25zdCBkZWxldGVkID0gc3VwZXIuZGVsZXRlKGtleSk7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgIHRoaXMuI2tleXMuc3BsaWNlKHRoaXMuI2tleXMuaW5kZXhPZihrZXkpLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cbiAgZGVsZXRlQXQoaW5kZXgpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLmtleUF0KGluZGV4KTtcbiAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXQoaW5kZXgpIHtcbiAgICBjb25zdCBrZXkgPSBhdCh0aGlzLiNrZXlzLCBpbmRleCk7XG4gICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoa2V5KTtcbiAgICB9XG4gIH1cbiAgZW50cnlBdChpbmRleCkge1xuICAgIGNvbnN0IGtleSA9IGF0KHRoaXMuI2tleXMsIGluZGV4KTtcbiAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBba2V5LCB0aGlzLmdldChrZXkpXTtcbiAgICB9XG4gIH1cbiAgaW5kZXhPZihrZXkpIHtcbiAgICByZXR1cm4gdGhpcy4ja2V5cy5pbmRleE9mKGtleSk7XG4gIH1cbiAga2V5QXQoaW5kZXgpIHtcbiAgICByZXR1cm4gYXQodGhpcy4ja2V5cywgaW5kZXgpO1xuICB9XG4gIGZyb20oa2V5LCBvZmZzZXQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGxldCBkZXN0ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgaWYgKGRlc3QgPCAwKSBkZXN0ID0gMDtcbiAgICBpZiAoZGVzdCA+PSB0aGlzLnNpemUpIGRlc3QgPSB0aGlzLnNpemUgLSAxO1xuICAgIHJldHVybiB0aGlzLmF0KGRlc3QpO1xuICB9XG4gIGtleUZyb20oa2V5LCBvZmZzZXQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGxldCBkZXN0ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgaWYgKGRlc3QgPCAwKSBkZXN0ID0gMDtcbiAgICBpZiAoZGVzdCA+PSB0aGlzLnNpemUpIGRlc3QgPSB0aGlzLnNpemUgLSAxO1xuICAgIHJldHVybiB0aGlzLmtleUF0KGRlc3QpO1xuICB9XG4gIGZpbmQocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMpIHtcbiAgICAgIGlmIChSZWZsZWN0LmFwcGx5KHByZWRpY2F0ZSwgdGhpc0FyZywgW2VudHJ5LCBpbmRleCwgdGhpc10pKSB7XG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgZmluZEluZGV4KHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzKSB7XG4gICAgICBpZiAoUmVmbGVjdC5hcHBseShwcmVkaWNhdGUsIHRoaXNBcmcsIFtlbnRyeSwgaW5kZXgsIHRoaXNdKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcykge1xuICAgICAgaWYgKFJlZmxlY3QuYXBwbHkocHJlZGljYXRlLCB0aGlzQXJnLCBbZW50cnksIGluZGV4LCB0aGlzXSkpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX09yZGVyZWREaWN0KGVudHJpZXMpO1xuICB9XG4gIG1hcChjYWxsYmFja2ZuLCB0aGlzQXJnKSB7XG4gICAgY29uc3QgZW50cmllcyA9IFtdO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzKSB7XG4gICAgICBlbnRyaWVzLnB1c2goW2VudHJ5WzBdLCBSZWZsZWN0LmFwcGx5KGNhbGxiYWNrZm4sIHRoaXNBcmcsIFtlbnRyeSwgaW5kZXgsIHRoaXNdKV0pO1xuICAgICAgaW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfT3JkZXJlZERpY3QoZW50cmllcyk7XG4gIH1cbiAgcmVkdWNlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbY2FsbGJhY2tmbiwgaW5pdGlhbFZhbHVlXSA9IGFyZ3M7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgYWNjdW11bGF0b3IgPSBpbml0aWFsVmFsdWUgPz8gdGhpcy5hdCgwKTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBhY2N1bXVsYXRvciA9IGVudHJ5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjdW11bGF0b3IgPSBSZWZsZWN0LmFwcGx5KGNhbGxiYWNrZm4sIHRoaXMsIFthY2N1bXVsYXRvciwgZW50cnksIGluZGV4LCB0aGlzXSk7XG4gICAgICB9XG4gICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cbiAgcmVkdWNlUmlnaHQoLi4uYXJncykge1xuICAgIGNvbnN0IFtjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWVdID0gYXJncztcbiAgICBsZXQgYWNjdW11bGF0b3IgPSBpbml0aWFsVmFsdWUgPz8gdGhpcy5hdCgtMSk7XG4gICAgZm9yIChsZXQgaW5kZXggPSB0aGlzLnNpemUgLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuYXQoaW5kZXgpO1xuICAgICAgaWYgKGluZGV4ID09PSB0aGlzLnNpemUgLSAxICYmIGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gZW50cnk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2N1bXVsYXRvciA9IFJlZmxlY3QuYXBwbHkoY2FsbGJhY2tmbiwgdGhpcywgW2FjY3VtdWxhdG9yLCBlbnRyeSwgaW5kZXgsIHRoaXNdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG4gIHRvU29ydGVkKGNvbXBhcmVGbikge1xuICAgIGNvbnN0IGVudHJpZXMgPSBbLi4udGhpcy5lbnRyaWVzKCldLnNvcnQoY29tcGFyZUZuKTtcbiAgICByZXR1cm4gbmV3IF9PcmRlcmVkRGljdChlbnRyaWVzKTtcbiAgfVxuICB0b1JldmVyc2VkKCkge1xuICAgIGNvbnN0IHJldmVyc2VkID0gbmV3IF9PcmRlcmVkRGljdCgpO1xuICAgIGZvciAobGV0IGluZGV4ID0gdGhpcy5zaXplIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBdChpbmRleCk7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5nZXQoa2V5KTtcbiAgICAgIHJldmVyc2VkLnNldChrZXksIGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmV2ZXJzZWQ7XG4gIH1cbiAgdG9TcGxpY2VkKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gWy4uLnRoaXMuZW50cmllcygpXTtcbiAgICBlbnRyaWVzLnNwbGljZSguLi5hcmdzKTtcbiAgICByZXR1cm4gbmV3IF9PcmRlcmVkRGljdChlbnRyaWVzKTtcbiAgfVxuICBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IF9PcmRlcmVkRGljdCgpO1xuICAgIGxldCBzdG9wID0gdGhpcy5zaXplIC0gMTtcbiAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgc3RhcnQgPSBzdGFydCArIHRoaXMuc2l6ZTtcbiAgICB9XG4gICAgaWYgKGVuZCAhPT0gdm9pZCAwICYmIGVuZCA+IDApIHtcbiAgICAgIHN0b3AgPSBlbmQgLSAxO1xuICAgIH1cbiAgICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0OyBpbmRleCA8PSBzdG9wOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBrZXkgPSB0aGlzLmtleUF0KGluZGV4KTtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmdldChrZXkpO1xuICAgICAgcmVzdWx0LnNldChrZXksIGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGV2ZXJ5KHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzKSB7XG4gICAgICBpZiAoIVJlZmxlY3QuYXBwbHkocHJlZGljYXRlLCB0aGlzQXJnLCBbZW50cnksIGluZGV4LCB0aGlzXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc29tZShwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcykge1xuICAgICAgaWYgKFJlZmxlY3QuYXBwbHkocHJlZGljYXRlLCB0aGlzQXJnLCBbZW50cnksIGluZGV4LCB0aGlzXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5mdW5jdGlvbiBhdChhcnJheSwgaW5kZXgpIHtcbiAgaWYgKFwiYXRcIiBpbiBBcnJheS5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmF0LmNhbGwoYXJyYXksIGluZGV4KTtcbiAgfVxuICBjb25zdCBhY3R1YWxJbmRleCA9IHRvU2FmZUluZGV4KGFycmF5LCBpbmRleCk7XG4gIHJldHVybiBhY3R1YWxJbmRleCA9PT0gLTEgPyB2b2lkIDAgOiBhcnJheVthY3R1YWxJbmRleF07XG59XG5mdW5jdGlvbiB0b1NhZmVJbmRleChhcnJheSwgaW5kZXgpIHtcbiAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICBjb25zdCByZWxhdGl2ZUluZGV4ID0gdG9TYWZlSW50ZWdlcihpbmRleCk7XG4gIGNvbnN0IGFjdHVhbEluZGV4ID0gcmVsYXRpdmVJbmRleCA+PSAwID8gcmVsYXRpdmVJbmRleCA6IGxlbmd0aCArIHJlbGF0aXZlSW5kZXg7XG4gIHJldHVybiBhY3R1YWxJbmRleCA8IDAgfHwgYWN0dWFsSW5kZXggPj0gbGVuZ3RoID8gLTEgOiBhY3R1YWxJbmRleDtcbn1cbmZ1bmN0aW9uIHRvU2FmZUludGVnZXIobnVtYmVyKSB7XG4gIHJldHVybiBudW1iZXIgIT09IG51bWJlciB8fCBudW1iZXIgPT09IDAgPyAwIDogTWF0aC50cnVuYyhudW1iZXIpO1xufVxuXG4vLyBzcmMvY29sbGVjdGlvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBjcmVhdGVDb2xsZWN0aW9uMihuYW1lKSB7XG4gIGNvbnN0IFBST1ZJREVSX05BTUUgPSBuYW1lICsgXCJDb2xsZWN0aW9uUHJvdmlkZXJcIjtcbiAgY29uc3QgW2NyZWF0ZUNvbGxlY3Rpb25Db250ZXh0LCBjcmVhdGVDb2xsZWN0aW9uU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlMihQUk9WSURFUl9OQU1FKTtcbiAgY29uc3QgW0NvbGxlY3Rpb25Db250ZXh0UHJvdmlkZXIsIHVzZUNvbGxlY3Rpb25Db250ZXh0XSA9IGNyZWF0ZUNvbGxlY3Rpb25Db250ZXh0KFxuICAgIFBST1ZJREVSX05BTUUsXG4gICAge1xuICAgICAgY29sbGVjdGlvbkVsZW1lbnQ6IG51bGwsXG4gICAgICBjb2xsZWN0aW9uUmVmOiB7IGN1cnJlbnQ6IG51bGwgfSxcbiAgICAgIGNvbGxlY3Rpb25SZWZPYmplY3Q6IHsgY3VycmVudDogbnVsbCB9LFxuICAgICAgaXRlbU1hcDogbmV3IE9yZGVyZWREaWN0KCksXG4gICAgICBzZXRJdGVtTWFwOiAoKSA9PiB2b2lkIDBcbiAgICB9XG4gICk7XG4gIGNvbnN0IENvbGxlY3Rpb25Qcm92aWRlciA9ICh7IHN0YXRlLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlID8gLyogQF9fUFVSRV9fICovIGpzeDIoQ29sbGVjdGlvblByb3ZpZGVySW1wbCwgeyAuLi5wcm9wcywgc3RhdGUgfSkgOiAvKiBAX19QVVJFX18gKi8ganN4MihDb2xsZWN0aW9uSW5pdCwgeyAuLi5wcm9wcyB9KTtcbiAgfTtcbiAgQ29sbGVjdGlvblByb3ZpZGVyLmRpc3BsYXlOYW1lID0gUFJPVklERVJfTkFNRTtcbiAgY29uc3QgQ29sbGVjdGlvbkluaXQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUluaXRDb2xsZWN0aW9uKCk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKENvbGxlY3Rpb25Qcm92aWRlckltcGwsIHsgLi4ucHJvcHMsIHN0YXRlIH0pO1xuICB9O1xuICBDb2xsZWN0aW9uSW5pdC5kaXNwbGF5TmFtZSA9IFBST1ZJREVSX05BTUUgKyBcIkluaXRcIjtcbiAgY29uc3QgQ29sbGVjdGlvblByb3ZpZGVySW1wbCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgc2NvcGUsIGNoaWxkcmVuLCBzdGF0ZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgcmVmID0gUmVhY3QyLnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbY29sbGVjdGlvbkVsZW1lbnQsIHNldENvbGxlY3Rpb25FbGVtZW50XSA9IFJlYWN0Mi51c2VTdGF0ZShcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGNvbnN0IGNvbXBvc2VSZWZzID0gdXNlQ29tcG9zZWRSZWZzMihyZWYsIHNldENvbGxlY3Rpb25FbGVtZW50KTtcbiAgICBjb25zdCBbaXRlbU1hcCwgc2V0SXRlbU1hcF0gPSBzdGF0ZTtcbiAgICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmICghY29sbGVjdGlvbkVsZW1lbnQpIHJldHVybjtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gZ2V0Q2hpbGRMaXN0T2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgfSk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGNvbGxlY3Rpb25FbGVtZW50LCB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH0sIFtjb2xsZWN0aW9uRWxlbWVudF0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihcbiAgICAgIENvbGxlY3Rpb25Db250ZXh0UHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHNjb3BlLFxuICAgICAgICBpdGVtTWFwLFxuICAgICAgICBzZXRJdGVtTWFwLFxuICAgICAgICBjb2xsZWN0aW9uUmVmOiBjb21wb3NlUmVmcyxcbiAgICAgICAgY29sbGVjdGlvblJlZk9iamVjdDogcmVmLFxuICAgICAgICBjb2xsZWN0aW9uRWxlbWVudCxcbiAgICAgICAgY2hpbGRyZW5cbiAgICAgIH1cbiAgICApO1xuICB9O1xuICBDb2xsZWN0aW9uUHJvdmlkZXJJbXBsLmRpc3BsYXlOYW1lID0gUFJPVklERVJfTkFNRSArIFwiSW1wbFwiO1xuICBjb25zdCBDT0xMRUNUSU9OX1NMT1RfTkFNRSA9IG5hbWUgKyBcIkNvbGxlY3Rpb25TbG90XCI7XG4gIGNvbnN0IENvbGxlY3Rpb25TbG90SW1wbCA9IGNyZWF0ZVNsb3QyKENPTExFQ1RJT05fU0xPVF9OQU1FKTtcbiAgY29uc3QgQ29sbGVjdGlvblNsb3QgPSBSZWFjdDIuZm9yd2FyZFJlZihcbiAgICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgICAgY29uc3QgeyBzY29wZSwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgICAgY29uc3QgY29udGV4dCA9IHVzZUNvbGxlY3Rpb25Db250ZXh0KENPTExFQ1RJT05fU0xPVF9OQU1FLCBzY29wZSk7XG4gICAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMyKGZvcndhcmRlZFJlZiwgY29udGV4dC5jb2xsZWN0aW9uUmVmKTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihDb2xsZWN0aW9uU2xvdEltcGwsIHsgcmVmOiBjb21wb3NlZFJlZnMsIGNoaWxkcmVuIH0pO1xuICAgIH1cbiAgKTtcbiAgQ29sbGVjdGlvblNsb3QuZGlzcGxheU5hbWUgPSBDT0xMRUNUSU9OX1NMT1RfTkFNRTtcbiAgY29uc3QgSVRFTV9TTE9UX05BTUUgPSBuYW1lICsgXCJDb2xsZWN0aW9uSXRlbVNsb3RcIjtcbiAgY29uc3QgSVRFTV9EQVRBX0FUVFIgPSBcImRhdGEtcmFkaXgtY29sbGVjdGlvbi1pdGVtXCI7XG4gIGNvbnN0IENvbGxlY3Rpb25JdGVtU2xvdEltcGwgPSBjcmVhdGVTbG90MihJVEVNX1NMT1RfTkFNRSk7XG4gIGNvbnN0IENvbGxlY3Rpb25JdGVtU2xvdCA9IFJlYWN0Mi5mb3J3YXJkUmVmKFxuICAgIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgICBjb25zdCB7IHNjb3BlLCBjaGlsZHJlbiwgLi4uaXRlbURhdGEgfSA9IHByb3BzO1xuICAgICAgY29uc3QgcmVmID0gUmVhY3QyLnVzZVJlZihudWxsKTtcbiAgICAgIGNvbnN0IFtlbGVtZW50LCBzZXRFbGVtZW50XSA9IFJlYWN0Mi51c2VTdGF0ZShudWxsKTtcbiAgICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmczIoZm9yd2FyZGVkUmVmLCByZWYsIHNldEVsZW1lbnQpO1xuICAgICAgY29uc3QgY29udGV4dCA9IHVzZUNvbGxlY3Rpb25Db250ZXh0KElURU1fU0xPVF9OQU1FLCBzY29wZSk7XG4gICAgICBjb25zdCB7IHNldEl0ZW1NYXAgfSA9IGNvbnRleHQ7XG4gICAgICBjb25zdCBpdGVtRGF0YVJlZiA9IFJlYWN0Mi51c2VSZWYoaXRlbURhdGEpO1xuICAgICAgaWYgKCFzaGFsbG93RXF1YWwoaXRlbURhdGFSZWYuY3VycmVudCwgaXRlbURhdGEpKSB7XG4gICAgICAgIGl0ZW1EYXRhUmVmLmN1cnJlbnQgPSBpdGVtRGF0YTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1lbW9pemVkSXRlbURhdGEgPSBpdGVtRGF0YVJlZi5jdXJyZW50O1xuICAgICAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhMiA9IG1lbW9pemVkSXRlbURhdGE7XG4gICAgICAgIHNldEl0ZW1NYXAoKG1hcCkgPT4ge1xuICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFtYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGVsZW1lbnQsIHsgLi4uaXRlbURhdGEyLCBlbGVtZW50IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG1hcC50b1NvcnRlZChzb3J0QnlEb2N1bWVudFBvc2l0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1hcC5zZXQoZWxlbWVudCwgeyAuLi5pdGVtRGF0YTIsIGVsZW1lbnQgfSkudG9Tb3J0ZWQoc29ydEJ5RG9jdW1lbnRQb3NpdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIHNldEl0ZW1NYXAoKG1hcCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50IHx8ICFtYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXAuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkRGljdChtYXApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfSwgW2VsZW1lbnQsIG1lbW9pemVkSXRlbURhdGEsIHNldEl0ZW1NYXBdKTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihDb2xsZWN0aW9uSXRlbVNsb3RJbXBsLCB7IC4uLnsgW0lURU1fREFUQV9BVFRSXTogXCJcIiB9LCByZWY6IGNvbXBvc2VkUmVmcywgY2hpbGRyZW4gfSk7XG4gICAgfVxuICApO1xuICBDb2xsZWN0aW9uSXRlbVNsb3QuZGlzcGxheU5hbWUgPSBJVEVNX1NMT1RfTkFNRTtcbiAgZnVuY3Rpb24gdXNlSW5pdENvbGxlY3Rpb24oKSB7XG4gICAgcmV0dXJuIFJlYWN0Mi51c2VTdGF0ZShuZXcgT3JkZXJlZERpY3QoKSk7XG4gIH1cbiAgZnVuY3Rpb24gdXNlQ29sbGVjdGlvbihzY29wZSkge1xuICAgIGNvbnN0IHsgaXRlbU1hcCB9ID0gdXNlQ29sbGVjdGlvbkNvbnRleHQobmFtZSArIFwiQ29sbGVjdGlvbkNvbnN1bWVyXCIsIHNjb3BlKTtcbiAgICByZXR1cm4gaXRlbU1hcDtcbiAgfVxuICBjb25zdCBmdW5jdGlvbnMgPSB7XG4gICAgY3JlYXRlQ29sbGVjdGlvblNjb3BlLFxuICAgIHVzZUNvbGxlY3Rpb24sXG4gICAgdXNlSW5pdENvbGxlY3Rpb25cbiAgfTtcbiAgcmV0dXJuIFtcbiAgICB7IFByb3ZpZGVyOiBDb2xsZWN0aW9uUHJvdmlkZXIsIFNsb3Q6IENvbGxlY3Rpb25TbG90LCBJdGVtU2xvdDogQ29sbGVjdGlvbkl0ZW1TbG90IH0sXG4gICAgZnVuY3Rpb25zXG4gIF07XG59XG5mdW5jdGlvbiBzaGFsbG93RXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG4gIGlmICh0eXBlb2YgYSAhPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgYiAhPT0gXCJvYmplY3RcIikgcmV0dXJuIGZhbHNlO1xuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBrZXlzQSA9IE9iamVjdC5rZXlzKGEpO1xuICBjb25zdCBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5c0EpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnRQcmVjZWRpbmcoYSwgYikge1xuICByZXR1cm4gISEoYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HKTtcbn1cbmZ1bmN0aW9uIHNvcnRCeURvY3VtZW50UG9zaXRpb24oYSwgYikge1xuICByZXR1cm4gIWFbMV0uZWxlbWVudCB8fCAhYlsxXS5lbGVtZW50ID8gMCA6IGlzRWxlbWVudFByZWNlZGluZyhhWzFdLmVsZW1lbnQsIGJbMV0uZWxlbWVudCkgPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBnZXRDaGlsZExpc3RPYnNlcnZlcihjYWxsYmFjaykge1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnNMaXN0KSA9PiB7XG4gICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7XG4gICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gXCJjaGlsZExpc3RcIikge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9ic2VydmVyO1xufVxuZXhwb3J0IHtcbiAgY3JlYXRlQ29sbGVjdGlvbixcbiAgY3JlYXRlQ29sbGVjdGlvbjIgYXMgdW5zdGFibGVfY3JlYXRlQ29sbGVjdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L2RpcmVjdGlvbi9zcmMvZGlyZWN0aW9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBEaXJlY3Rpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xudmFyIERpcmVjdGlvblByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgZGlyLCBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERpcmVjdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGRpciwgY2hpbGRyZW4gfSk7XG59O1xuZnVuY3Rpb24gdXNlRGlyZWN0aW9uKGxvY2FsRGlyKSB7XG4gIGNvbnN0IGdsb2JhbERpciA9IFJlYWN0LnVzZUNvbnRleHQoRGlyZWN0aW9uQ29udGV4dCk7XG4gIHJldHVybiBsb2NhbERpciB8fCBnbG9iYWxEaXIgfHwgXCJsdHJcIjtcbn1cbnZhciBQcm92aWRlciA9IERpcmVjdGlvblByb3ZpZGVyO1xuZXhwb3J0IHtcbiAgRGlyZWN0aW9uUHJvdmlkZXIsXG4gIFByb3ZpZGVyLFxuICB1c2VEaXJlY3Rpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCIvLyBzcmMvcHJpbWl0aXZlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyBjcmVhdGVTbG90IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zbG90XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBOT0RFUyA9IFtcbiAgXCJhXCIsXG4gIFwiYnV0dG9uXCIsXG4gIFwiZGl2XCIsXG4gIFwiZm9ybVwiLFxuICBcImgyXCIsXG4gIFwiaDNcIixcbiAgXCJpbWdcIixcbiAgXCJpbnB1dFwiLFxuICBcImxhYmVsXCIsXG4gIFwibGlcIixcbiAgXCJuYXZcIixcbiAgXCJvbFwiLFxuICBcInBcIixcbiAgXCJzZWxlY3RcIixcbiAgXCJzcGFuXCIsXG4gIFwic3ZnXCIsXG4gIFwidWxcIlxuXTtcbnZhciBQcmltaXRpdmUgPSBOT0RFUy5yZWR1Y2UoKHByaW1pdGl2ZSwgbm9kZSkgPT4ge1xuICBjb25zdCBTbG90ID0gY3JlYXRlU2xvdChgUHJpbWl0aXZlLiR7bm9kZX1gKTtcbiAgY29uc3QgTm9kZSA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IGFzQ2hpbGQsIC4uLnByaW1pdGl2ZVByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QgOiBub2RlO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3dbU3ltYm9sLmZvcihcInJhZGl4LXVpXCIpXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvbXAsIHsgLi4ucHJpbWl0aXZlUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9KTtcbiAgTm9kZS5kaXNwbGF5TmFtZSA9IGBQcmltaXRpdmUuJHtub2RlfWA7XG4gIHJldHVybiB7IC4uLnByaW1pdGl2ZSwgW25vZGVdOiBOb2RlIH07XG59LCB7fSk7XG5mdW5jdGlvbiBkaXNwYXRjaERpc2NyZXRlQ3VzdG9tRXZlbnQodGFyZ2V0LCBldmVudCkge1xuICBpZiAodGFyZ2V0KSBSZWFjdERPTS5mbHVzaFN5bmMoKCkgPT4gdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpKTtcbn1cbnZhciBSb290ID0gUHJpbWl0aXZlO1xuZXhwb3J0IHtcbiAgUHJpbWl0aXZlLFxuICBSb290LFxuICBkaXNwYXRjaERpc2NyZXRlQ3VzdG9tRXZlbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCIvLyBwYWNrYWdlcy9yZWFjdC91c2UtY2FsbGJhY2stcmVmL3NyYy91c2UtY2FsbGJhY2stcmVmLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDYWxsYmFja1JlZihjYWxsYmFjaykge1xuICBjb25zdCBjYWxsYmFja1JlZiA9IFJlYWN0LnVzZVJlZihjYWxsYmFjayk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FsbGJhY2tSZWYuY3VycmVudCA9IGNhbGxiYWNrO1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4gKC4uLmFyZ3MpID0+IGNhbGxiYWNrUmVmLmN1cnJlbnQ/LiguLi5hcmdzKSwgW10pO1xufVxuZXhwb3J0IHtcbiAgdXNlQ2FsbGJhY2tSZWZcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCIvLyBwYWNrYWdlcy9yZWFjdC91c2UtZXNjYXBlLWtleWRvd24vc3JjL3VzZS1lc2NhcGUta2V5ZG93bi50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWZcIjtcbmZ1bmN0aW9uIHVzZUVzY2FwZUtleWRvd24ob25Fc2NhcGVLZXlEb3duUHJvcCwgb3duZXJEb2N1bWVudCA9IGdsb2JhbFRoaXM/LmRvY3VtZW50KSB7XG4gIGNvbnN0IG9uRXNjYXBlS2V5RG93biA9IHVzZUNhbGxiYWNrUmVmKG9uRXNjYXBlS2V5RG93blByb3ApO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgb25Fc2NhcGVLZXlEb3duKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93biwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIHJldHVybiAoKSA9PiBvd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfSwgW29uRXNjYXBlS2V5RG93biwgb3duZXJEb2N1bWVudF0pO1xufVxuZXhwb3J0IHtcbiAgdXNlRXNjYXBlS2V5ZG93blxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvZGlzbWlzc2FibGUtbGF5ZXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSwgZGlzcGF0Y2hEaXNjcmV0ZUN1c3RvbUV2ZW50IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29tcG9zZS1yZWZzXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgdXNlRXNjYXBlS2V5ZG93biB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWVzY2FwZS1rZXlkb3duXCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBESVNNSVNTQUJMRV9MQVlFUl9OQU1FID0gXCJEaXNtaXNzYWJsZUxheWVyXCI7XG52YXIgQ09OVEVYVF9VUERBVEUgPSBcImRpc21pc3NhYmxlTGF5ZXIudXBkYXRlXCI7XG52YXIgUE9JTlRFUl9ET1dOX09VVFNJREUgPSBcImRpc21pc3NhYmxlTGF5ZXIucG9pbnRlckRvd25PdXRzaWRlXCI7XG52YXIgRk9DVVNfT1VUU0lERSA9IFwiZGlzbWlzc2FibGVMYXllci5mb2N1c091dHNpZGVcIjtcbnZhciBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzO1xudmFyIERpc21pc3NhYmxlTGF5ZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIGxheWVyczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgbGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gIGJyYW5jaGVzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG59KTtcbnZhciBEaXNtaXNzYWJsZUxheWVyID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHMgPSBmYWxzZSxcbiAgICAgIG9uRXNjYXBlS2V5RG93bixcbiAgICAgIG9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgb25Gb2N1c091dHNpZGUsXG4gICAgICBvbkludGVyYWN0T3V0c2lkZSxcbiAgICAgIG9uRGlzbWlzcyxcbiAgICAgIC4uLmxheWVyUHJvcHNcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRGlzbWlzc2FibGVMYXllckNvbnRleHQpO1xuICAgIGNvbnN0IFtub2RlLCBzZXROb2RlXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBub2RlPy5vd25lckRvY3VtZW50ID8/IGdsb2JhbFRoaXM/LmRvY3VtZW50O1xuICAgIGNvbnN0IFssIGZvcmNlXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCAobm9kZTIpID0+IHNldE5vZGUobm9kZTIpKTtcbiAgICBjb25zdCBsYXllcnMgPSBBcnJheS5mcm9tKGNvbnRleHQubGF5ZXJzKTtcbiAgICBjb25zdCBbaGlnaGVzdExheWVyV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWRdID0gWy4uLmNvbnRleHQubGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWRdLnNsaWNlKC0xKTtcbiAgICBjb25zdCBoaWdoZXN0TGF5ZXJXaXRoT3V0c2lkZVBvaW50ZXJFdmVudHNEaXNhYmxlZEluZGV4ID0gbGF5ZXJzLmluZGV4T2YoaGlnaGVzdExheWVyV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQpO1xuICAgIGNvbnN0IGluZGV4ID0gbm9kZSA/IGxheWVycy5pbmRleE9mKG5vZGUpIDogLTE7XG4gICAgY29uc3QgaXNCb2R5UG9pbnRlckV2ZW50c0Rpc2FibGVkID0gY29udGV4dC5sYXllcnNXaXRoT3V0c2lkZVBvaW50ZXJFdmVudHNEaXNhYmxlZC5zaXplID4gMDtcbiAgICBjb25zdCBpc1BvaW50ZXJFdmVudHNFbmFibGVkID0gaW5kZXggPj0gaGlnaGVzdExheWVyV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWRJbmRleDtcbiAgICBjb25zdCBwb2ludGVyRG93bk91dHNpZGUgPSB1c2VQb2ludGVyRG93bk91dHNpZGUoKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICBjb25zdCBpc1BvaW50ZXJEb3duT25CcmFuY2ggPSBbLi4uY29udGV4dC5icmFuY2hlc10uc29tZSgoYnJhbmNoKSA9PiBicmFuY2guY29udGFpbnModGFyZ2V0KSk7XG4gICAgICBpZiAoIWlzUG9pbnRlckV2ZW50c0VuYWJsZWQgfHwgaXNQb2ludGVyRG93bk9uQnJhbmNoKSByZXR1cm47XG4gICAgICBvblBvaW50ZXJEb3duT3V0c2lkZT8uKGV2ZW50KTtcbiAgICAgIG9uSW50ZXJhY3RPdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSBvbkRpc21pc3M/LigpO1xuICAgIH0sIG93bmVyRG9jdW1lbnQpO1xuICAgIGNvbnN0IGZvY3VzT3V0c2lkZSA9IHVzZUZvY3VzT3V0c2lkZSgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGNvbnN0IGlzRm9jdXNJbkJyYW5jaCA9IFsuLi5jb250ZXh0LmJyYW5jaGVzXS5zb21lKChicmFuY2gpID0+IGJyYW5jaC5jb250YWlucyh0YXJnZXQpKTtcbiAgICAgIGlmIChpc0ZvY3VzSW5CcmFuY2gpIHJldHVybjtcbiAgICAgIG9uRm9jdXNPdXRzaWRlPy4oZXZlbnQpO1xuICAgICAgb25JbnRlcmFjdE91dHNpZGU/LihldmVudCk7XG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIG9uRGlzbWlzcz8uKCk7XG4gICAgfSwgb3duZXJEb2N1bWVudCk7XG4gICAgdXNlRXNjYXBlS2V5ZG93bigoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGlzSGlnaGVzdExheWVyID0gaW5kZXggPT09IGNvbnRleHQubGF5ZXJzLnNpemUgLSAxO1xuICAgICAgaWYgKCFpc0hpZ2hlc3RMYXllcikgcmV0dXJuO1xuICAgICAgb25Fc2NhcGVLZXlEb3duPy4oZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIG9uRGlzbWlzcykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBvbkRpc21pc3MoKTtcbiAgICAgIH1cbiAgICB9LCBvd25lckRvY3VtZW50KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKCFub2RlKSByZXR1cm47XG4gICAgICBpZiAoZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgIGlmIChjb250ZXh0LmxheWVyc1dpdGhPdXRzaWRlUG9pbnRlckV2ZW50c0Rpc2FibGVkLnNpemUgPT09IDApIHtcbiAgICAgICAgICBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzID0gb3duZXJEb2N1bWVudC5ib2R5LnN0eWxlLnBvaW50ZXJFdmVudHM7XG4gICAgICAgICAgb3duZXJEb2N1bWVudC5ib2R5LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmxheWVyc1dpdGhPdXRzaWRlUG9pbnRlckV2ZW50c0Rpc2FibGVkLmFkZChub2RlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQubGF5ZXJzLmFkZChub2RlKTtcbiAgICAgIGRpc3BhdGNoVXBkYXRlKCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzICYmIGNvbnRleHQubGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgIG93bmVyRG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LCBbbm9kZSwgb3duZXJEb2N1bWVudCwgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzLCBjb250ZXh0XSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmICghbm9kZSkgcmV0dXJuO1xuICAgICAgICBjb250ZXh0LmxheWVycy5kZWxldGUobm9kZSk7XG4gICAgICAgIGNvbnRleHQubGF5ZXJzV2l0aE91dHNpZGVQb2ludGVyRXZlbnRzRGlzYWJsZWQuZGVsZXRlKG5vZGUpO1xuICAgICAgICBkaXNwYXRjaFVwZGF0ZSgpO1xuICAgICAgfTtcbiAgICB9LCBbbm9kZSwgY29udGV4dF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVVcGRhdGUgPSAoKSA9PiBmb3JjZSh7fSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKENPTlRFWFRfVVBEQVRFLCBoYW5kbGVVcGRhdGUpO1xuICAgICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoQ09OVEVYVF9VUERBVEUsIGhhbmRsZVVwZGF0ZSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUHJpbWl0aXZlLmRpdixcbiAgICAgIHtcbiAgICAgICAgLi4ubGF5ZXJQcm9wcyxcbiAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9pbnRlckV2ZW50czogaXNCb2R5UG9pbnRlckV2ZW50c0Rpc2FibGVkID8gaXNQb2ludGVyRXZlbnRzRW5hYmxlZCA/IFwiYXV0b1wiIDogXCJub25lXCIgOiB2b2lkIDAsXG4gICAgICAgICAgLi4ucHJvcHMuc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgb25Gb2N1c0NhcHR1cmU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uRm9jdXNDYXB0dXJlLCBmb2N1c091dHNpZGUub25Gb2N1c0NhcHR1cmUpLFxuICAgICAgICBvbkJsdXJDYXB0dXJlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkJsdXJDYXB0dXJlLCBmb2N1c091dHNpZGUub25CbHVyQ2FwdHVyZSksXG4gICAgICAgIG9uUG9pbnRlckRvd25DYXB0dXJlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICBwcm9wcy5vblBvaW50ZXJEb3duQ2FwdHVyZSxcbiAgICAgICAgICBwb2ludGVyRG93bk91dHNpZGUub25Qb2ludGVyRG93bkNhcHR1cmVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5EaXNtaXNzYWJsZUxheWVyLmRpc3BsYXlOYW1lID0gRElTTUlTU0FCTEVfTEFZRVJfTkFNRTtcbnZhciBCUkFOQ0hfTkFNRSA9IFwiRGlzbWlzc2FibGVMYXllckJyYW5jaFwiO1xudmFyIERpc21pc3NhYmxlTGF5ZXJCcmFuY2ggPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KERpc21pc3NhYmxlTGF5ZXJDb250ZXh0KTtcbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG5vZGUgPSByZWYuY3VycmVudDtcbiAgICBpZiAobm9kZSkge1xuICAgICAgY29udGV4dC5icmFuY2hlcy5hZGQobm9kZSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb250ZXh0LmJyYW5jaGVzLmRlbGV0ZShub2RlKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbY29udGV4dC5icmFuY2hlc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQcmltaXRpdmUuZGl2LCB7IC4uLnByb3BzLCByZWY6IGNvbXBvc2VkUmVmcyB9KTtcbn0pO1xuRGlzbWlzc2FibGVMYXllckJyYW5jaC5kaXNwbGF5TmFtZSA9IEJSQU5DSF9OQU1FO1xuZnVuY3Rpb24gdXNlUG9pbnRlckRvd25PdXRzaWRlKG9uUG9pbnRlckRvd25PdXRzaWRlLCBvd25lckRvY3VtZW50ID0gZ2xvYmFsVGhpcz8uZG9jdW1lbnQpIHtcbiAgY29uc3QgaGFuZGxlUG9pbnRlckRvd25PdXRzaWRlID0gdXNlQ2FsbGJhY2tSZWYob25Qb2ludGVyRG93bk91dHNpZGUpO1xuICBjb25zdCBpc1BvaW50ZXJJbnNpZGVSZWFjdFRyZWVSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVDbGlja1JlZiA9IFJlYWN0LnVzZVJlZigoKSA9PiB7XG4gIH0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICYmICFpc1BvaW50ZXJJbnNpZGVSZWFjdFRyZWVSZWYuY3VycmVudCkge1xuICAgICAgICBsZXQgaGFuZGxlQW5kRGlzcGF0Y2hQb2ludGVyRG93bk91dHNpZGVFdmVudDIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBoYW5kbGVBbmREaXNwYXRjaEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgUE9JTlRFUl9ET1dOX09VVFNJREUsXG4gICAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bk91dHNpZGUsXG4gICAgICAgICAgICBldmVudERldGFpbCxcbiAgICAgICAgICAgIHsgZGlzY3JldGU6IHRydWUgfVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVBbmREaXNwYXRjaFBvaW50ZXJEb3duT3V0c2lkZUV2ZW50ID0gaGFuZGxlQW5kRGlzcGF0Y2hQb2ludGVyRG93bk91dHNpZGVFdmVudDI7XG4gICAgICAgIGNvbnN0IGV2ZW50RGV0YWlsID0geyBvcmlnaW5hbEV2ZW50OiBldmVudCB9O1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgICAgIG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIGhhbmRsZUNsaWNrUmVmLmN1cnJlbnQgPSBoYW5kbGVBbmREaXNwYXRjaFBvaW50ZXJEb3duT3V0c2lkZUV2ZW50MjtcbiAgICAgICAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGlja1JlZi5jdXJyZW50LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlQW5kRGlzcGF0Y2hQb2ludGVyRG93bk91dHNpZGVFdmVudDIoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBpc1BvaW50ZXJJbnNpZGVSZWFjdFRyZWVSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gICAgY29uc3QgdGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGhhbmRsZVBvaW50ZXJEb3duKTtcbiAgICB9LCAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgIG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGhhbmRsZVBvaW50ZXJEb3duKTtcbiAgICAgIG93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrUmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtvd25lckRvY3VtZW50LCBoYW5kbGVQb2ludGVyRG93bk91dHNpZGVdKTtcbiAgcmV0dXJuIHtcbiAgICAvLyBlbnN1cmVzIHdlIGNoZWNrIFJlYWN0IGNvbXBvbmVudCB0cmVlIChub3QganVzdCBET00gdHJlZSlcbiAgICBvblBvaW50ZXJEb3duQ2FwdHVyZTogKCkgPT4gaXNQb2ludGVySW5zaWRlUmVhY3RUcmVlUmVmLmN1cnJlbnQgPSB0cnVlXG4gIH07XG59XG5mdW5jdGlvbiB1c2VGb2N1c091dHNpZGUob25Gb2N1c091dHNpZGUsIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxUaGlzPy5kb2N1bWVudCkge1xuICBjb25zdCBoYW5kbGVGb2N1c091dHNpZGUgPSB1c2VDYWxsYmFja1JlZihvbkZvY3VzT3V0c2lkZSk7XG4gIGNvbnN0IGlzRm9jdXNJbnNpZGVSZWFjdFRyZWVSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ICYmICFpc0ZvY3VzSW5zaWRlUmVhY3RUcmVlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnREZXRhaWwgPSB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH07XG4gICAgICAgIGhhbmRsZUFuZERpc3BhdGNoQ3VzdG9tRXZlbnQoRk9DVVNfT1VUU0lERSwgaGFuZGxlRm9jdXNPdXRzaWRlLCBldmVudERldGFpbCwge1xuICAgICAgICAgIGRpc2NyZXRlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgaGFuZGxlRm9jdXMpO1xuICAgIHJldHVybiAoKSA9PiBvd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsIGhhbmRsZUZvY3VzKTtcbiAgfSwgW293bmVyRG9jdW1lbnQsIGhhbmRsZUZvY3VzT3V0c2lkZV0pO1xuICByZXR1cm4ge1xuICAgIG9uRm9jdXNDYXB0dXJlOiAoKSA9PiBpc0ZvY3VzSW5zaWRlUmVhY3RUcmVlUmVmLmN1cnJlbnQgPSB0cnVlLFxuICAgIG9uQmx1ckNhcHR1cmU6ICgpID0+IGlzRm9jdXNJbnNpZGVSZWFjdFRyZWVSZWYuY3VycmVudCA9IGZhbHNlXG4gIH07XG59XG5mdW5jdGlvbiBkaXNwYXRjaFVwZGF0ZSgpIHtcbiAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoQ09OVEVYVF9VUERBVEUpO1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUFuZERpc3BhdGNoQ3VzdG9tRXZlbnQobmFtZSwgaGFuZGxlciwgZGV0YWlsLCB7IGRpc2NyZXRlIH0pIHtcbiAgY29uc3QgdGFyZ2V0ID0gZGV0YWlsLm9yaWdpbmFsRXZlbnQudGFyZ2V0O1xuICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7IGJ1YmJsZXM6IGZhbHNlLCBjYW5jZWxhYmxlOiB0cnVlLCBkZXRhaWwgfSk7XG4gIGlmIChoYW5kbGVyKSB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyLCB7IG9uY2U6IHRydWUgfSk7XG4gIGlmIChkaXNjcmV0ZSkge1xuICAgIGRpc3BhdGNoRGlzY3JldGVDdXN0b21FdmVudCh0YXJnZXQsIGV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cbn1cbnZhciBSb290ID0gRGlzbWlzc2FibGVMYXllcjtcbnZhciBCcmFuY2ggPSBEaXNtaXNzYWJsZUxheWVyQnJhbmNoO1xuZXhwb3J0IHtcbiAgQnJhbmNoLFxuICBEaXNtaXNzYWJsZUxheWVyLFxuICBEaXNtaXNzYWJsZUxheWVyQnJhbmNoLFxuICBSb290XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHBhY2thZ2VzL3JlYWN0L2ZvY3VzLWd1YXJkcy9zcmMvZm9jdXMtZ3VhcmRzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG52YXIgY291bnQgPSAwO1xuZnVuY3Rpb24gRm9jdXNHdWFyZHMocHJvcHMpIHtcbiAgdXNlRm9jdXNHdWFyZHMoKTtcbiAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuZnVuY3Rpb24gdXNlRm9jdXNHdWFyZHMoKSB7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWRnZUd1YXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1yYWRpeC1mb2N1cy1ndWFyZF1cIik7XG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGVkZ2VHdWFyZHNbMF0gPz8gY3JlYXRlRm9jdXNHdWFyZCgpKTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLCBlZGdlR3VhcmRzWzFdID8/IGNyZWF0ZUZvY3VzR3VhcmQoKSk7XG4gICAgY291bnQrKztcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1yYWRpeC1mb2N1cy1ndWFyZF1cIikuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS5yZW1vdmUoKSk7XG4gICAgICB9XG4gICAgICBjb3VudC0tO1xuICAgIH07XG4gIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZvY3VzR3VhcmQoKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXJhZGl4LWZvY3VzLWd1YXJkXCIsIFwiXCIpO1xuICBlbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgZWxlbWVudC5zdHlsZS5vdXRsaW5lID0gXCJub25lXCI7XG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG52YXIgUm9vdCA9IEZvY3VzR3VhcmRzO1xuZXhwb3J0IHtcbiAgRm9jdXNHdWFyZHMsXG4gIFJvb3QsXG4gIHVzZUZvY3VzR3VhcmRzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHNyYy9mb2N1cy1zY29wZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQVVUT0ZPQ1VTX09OX01PVU5UID0gXCJmb2N1c1Njb3BlLmF1dG9Gb2N1c09uTW91bnRcIjtcbnZhciBBVVRPRk9DVVNfT05fVU5NT1VOVCA9IFwiZm9jdXNTY29wZS5hdXRvRm9jdXNPblVubW91bnRcIjtcbnZhciBFVkVOVF9PUFRJT05TID0geyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogdHJ1ZSB9O1xudmFyIEZPQ1VTX1NDT1BFX05BTUUgPSBcIkZvY3VzU2NvcGVcIjtcbnZhciBGb2N1c1Njb3BlID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgbG9vcCA9IGZhbHNlLFxuICAgIHRyYXBwZWQgPSBmYWxzZSxcbiAgICBvbk1vdW50QXV0b0ZvY3VzOiBvbk1vdW50QXV0b0ZvY3VzUHJvcCxcbiAgICBvblVubW91bnRBdXRvRm9jdXM6IG9uVW5tb3VudEF1dG9Gb2N1c1Byb3AsXG4gICAgLi4uc2NvcGVQcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IFtjb250YWluZXIsIHNldENvbnRhaW5lcl0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgY29uc3Qgb25Nb3VudEF1dG9Gb2N1cyA9IHVzZUNhbGxiYWNrUmVmKG9uTW91bnRBdXRvRm9jdXNQcm9wKTtcbiAgY29uc3Qgb25Vbm1vdW50QXV0b0ZvY3VzID0gdXNlQ2FsbGJhY2tSZWYob25Vbm1vdW50QXV0b0ZvY3VzUHJvcCk7XG4gIGNvbnN0IGxhc3RGb2N1c2VkRWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgKG5vZGUpID0+IHNldENvbnRhaW5lcihub2RlKSk7XG4gIGNvbnN0IGZvY3VzU2NvcGUgPSBSZWFjdC51c2VSZWYoe1xuICAgIHBhdXNlZDogZmFsc2UsXG4gICAgcGF1c2UoKSB7XG4gICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWUoKSB7XG4gICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSkuY3VycmVudDtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHJhcHBlZCkge1xuICAgICAgbGV0IGhhbmRsZUZvY3VzSW4yID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGZvY3VzU2NvcGUucGF1c2VkIHx8ICFjb250YWluZXIpIHJldHVybjtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoY29udGFpbmVyLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICBsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCA9IHRhcmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb2N1cyhsYXN0Rm9jdXNlZEVsZW1lbnRSZWYuY3VycmVudCwgeyBzZWxlY3Q6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGhhbmRsZUZvY3VzT3V0MiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChmb2N1c1Njb3BlLnBhdXNlZCB8fCAhY29udGFpbmVyKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlbGF0ZWRUYXJnZXQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgICBpZiAocmVsYXRlZFRhcmdldCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5jb250YWlucyhyZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgIGZvY3VzKGxhc3RGb2N1c2VkRWxlbWVudFJlZi5jdXJyZW50LCB7IHNlbGVjdDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgaGFuZGxlTXV0YXRpb25zMiA9IGZ1bmN0aW9uKG11dGF0aW9ucykge1xuICAgICAgICBjb25zdCBmb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmIChmb2N1c2VkRWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkgcmV0dXJuO1xuICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykge1xuICAgICAgICAgIGlmIChtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoID4gMCkgZm9jdXMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBoYW5kbGVGb2N1c0luID0gaGFuZGxlRm9jdXNJbjIsIGhhbmRsZUZvY3VzT3V0ID0gaGFuZGxlRm9jdXNPdXQyLCBoYW5kbGVNdXRhdGlvbnMgPSBoYW5kbGVNdXRhdGlvbnMyO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgaGFuZGxlRm9jdXNJbjIpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIGhhbmRsZUZvY3VzT3V0Mik7XG4gICAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoaGFuZGxlTXV0YXRpb25zMik7XG4gICAgICBpZiAoY29udGFpbmVyKSBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyLCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsIGhhbmRsZUZvY3VzSW4yKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIGhhbmRsZUZvY3VzT3V0Mik7XG4gICAgICAgIG11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFt0cmFwcGVkLCBjb250YWluZXIsIGZvY3VzU2NvcGUucGF1c2VkXSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgZm9jdXNTY29wZXNTdGFjay5hZGQoZm9jdXNTY29wZSk7XG4gICAgICBjb25zdCBwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgY29uc3QgaGFzRm9jdXNlZENhbmRpZGF0ZSA9IGNvbnRhaW5lci5jb250YWlucyhwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQpO1xuICAgICAgaWYgKCFoYXNGb2N1c2VkQ2FuZGlkYXRlKSB7XG4gICAgICAgIGNvbnN0IG1vdW50RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoQVVUT0ZPQ1VTX09OX01PVU5ULCBFVkVOVF9PUFRJT05TKTtcbiAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoQVVUT0ZPQ1VTX09OX01PVU5ULCBvbk1vdW50QXV0b0ZvY3VzKTtcbiAgICAgICAgY29udGFpbmVyLmRpc3BhdGNoRXZlbnQobW91bnRFdmVudCk7XG4gICAgICAgIGlmICghbW91bnRFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgZm9jdXNGaXJzdChyZW1vdmVMaW5rcyhnZXRUYWJiYWJsZUNhbmRpZGF0ZXMoY29udGFpbmVyKSksIHsgc2VsZWN0OiB0cnVlIH0pO1xuICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvY3VzKGNvbnRhaW5lcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBVVRPRk9DVVNfT05fTU9VTlQsIG9uTW91bnRBdXRvRm9jdXMpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCB1bm1vdW50RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoQVVUT0ZPQ1VTX09OX1VOTU9VTlQsIEVWRU5UX09QVElPTlMpO1xuICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKEFVVE9GT0NVU19PTl9VTk1PVU5ULCBvblVubW91bnRBdXRvRm9jdXMpO1xuICAgICAgICAgIGNvbnRhaW5lci5kaXNwYXRjaEV2ZW50KHVubW91bnRFdmVudCk7XG4gICAgICAgICAgaWYgKCF1bm1vdW50RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgZm9jdXMocHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHksIHsgc2VsZWN0OiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBVVRPRk9DVVNfT05fVU5NT1VOVCwgb25Vbm1vdW50QXV0b0ZvY3VzKTtcbiAgICAgICAgICBmb2N1c1Njb3Blc1N0YWNrLnJlbW92ZShmb2N1c1Njb3BlKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2NvbnRhaW5lciwgb25Nb3VudEF1dG9Gb2N1cywgb25Vbm1vdW50QXV0b0ZvY3VzLCBmb2N1c1Njb3BlXSk7XG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghbG9vcCAmJiAhdHJhcHBlZCkgcmV0dXJuO1xuICAgICAgaWYgKGZvY3VzU2NvcGUucGF1c2VkKSByZXR1cm47XG4gICAgICBjb25zdCBpc1RhYktleSA9IGV2ZW50LmtleSA9PT0gXCJUYWJcIiAmJiAhZXZlbnQuYWx0S2V5ICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5tZXRhS2V5O1xuICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgaWYgKGlzVGFiS2V5ICYmIGZvY3VzZWRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcjIgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCBbZmlyc3QsIGxhc3RdID0gZ2V0VGFiYmFibGVFZGdlcyhjb250YWluZXIyKTtcbiAgICAgICAgY29uc3QgaGFzVGFiYmFibGVFbGVtZW50c0luc2lkZSA9IGZpcnN0ICYmIGxhc3Q7XG4gICAgICAgIGlmICghaGFzVGFiYmFibGVFbGVtZW50c0luc2lkZSkge1xuICAgICAgICAgIGlmIChmb2N1c2VkRWxlbWVudCA9PT0gY29udGFpbmVyMikgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzZWRFbGVtZW50ID09PSBsYXN0KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKGxvb3ApIGZvY3VzKGZpcnN0LCB7IHNlbGVjdDogdHJ1ZSB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGZvY3VzZWRFbGVtZW50ID09PSBmaXJzdCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChsb29wKSBmb2N1cyhsYXN0LCB7IHNlbGVjdDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtsb29wLCB0cmFwcGVkLCBmb2N1c1Njb3BlLnBhdXNlZF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUHJpbWl0aXZlLmRpdiwgeyB0YWJJbmRleDogLTEsIC4uLnNjb3BlUHJvcHMsIHJlZjogY29tcG9zZWRSZWZzLCBvbktleURvd246IGhhbmRsZUtleURvd24gfSk7XG59KTtcbkZvY3VzU2NvcGUuZGlzcGxheU5hbWUgPSBGT0NVU19TQ09QRV9OQU1FO1xuZnVuY3Rpb24gZm9jdXNGaXJzdChjYW5kaWRhdGVzLCB7IHNlbGVjdCA9IGZhbHNlIH0gPSB7fSkge1xuICBjb25zdCBwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgZm9jdXMoY2FuZGlkYXRlLCB7IHNlbGVjdCB9KTtcbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gcHJldmlvdXNseUZvY3VzZWRFbGVtZW50KSByZXR1cm47XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFRhYmJhYmxlRWRnZXMoY29udGFpbmVyKSB7XG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBnZXRUYWJiYWJsZUNhbmRpZGF0ZXMoY29udGFpbmVyKTtcbiAgY29uc3QgZmlyc3QgPSBmaW5kVmlzaWJsZShjYW5kaWRhdGVzLCBjb250YWluZXIpO1xuICBjb25zdCBsYXN0ID0gZmluZFZpc2libGUoY2FuZGlkYXRlcy5yZXZlcnNlKCksIGNvbnRhaW5lcik7XG4gIHJldHVybiBbZmlyc3QsIGxhc3RdO1xufVxuZnVuY3Rpb24gZ2V0VGFiYmFibGVDYW5kaWRhdGVzKGNvbnRhaW5lcikge1xuICBjb25zdCBub2RlcyA9IFtdO1xuICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRhaW5lciwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIHtcbiAgICBhY2NlcHROb2RlOiAobm9kZSkgPT4ge1xuICAgICAgY29uc3QgaXNIaWRkZW5JbnB1dCA9IG5vZGUudGFnTmFtZSA9PT0gXCJJTlBVVFwiICYmIG5vZGUudHlwZSA9PT0gXCJoaWRkZW5cIjtcbiAgICAgIGlmIChub2RlLmRpc2FibGVkIHx8IG5vZGUuaGlkZGVuIHx8IGlzSGlkZGVuSW5wdXQpIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9TS0lQO1xuICAgICAgcmV0dXJuIG5vZGUudGFiSW5kZXggPj0gMCA/IE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVCA6IE5vZGVGaWx0ZXIuRklMVEVSX1NLSVA7XG4gICAgfVxuICB9KTtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSBub2Rlcy5wdXNoKHdhbGtlci5jdXJyZW50Tm9kZSk7XG4gIHJldHVybiBub2Rlcztcbn1cbmZ1bmN0aW9uIGZpbmRWaXNpYmxlKGVsZW1lbnRzLCBjb250YWluZXIpIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgaWYgKCFpc0hpZGRlbihlbGVtZW50LCB7IHVwVG86IGNvbnRhaW5lciB9KSkgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzSGlkZGVuKG5vZGUsIHsgdXBUbyB9KSB7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKG5vZGUpLnZpc2liaWxpdHkgPT09IFwiaGlkZGVuXCIpIHJldHVybiB0cnVlO1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmICh1cFRvICE9PSB2b2lkIDAgJiYgbm9kZSA9PT0gdXBUbykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKG5vZGUpLmRpc3BsYXkgPT09IFwibm9uZVwiKSByZXR1cm4gdHJ1ZTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2VsZWN0YWJsZUlucHV0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIFwic2VsZWN0XCIgaW4gZWxlbWVudDtcbn1cbmZ1bmN0aW9uIGZvY3VzKGVsZW1lbnQsIHsgc2VsZWN0ID0gZmFsc2UgfSA9IHt9KSB7XG4gIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuZm9jdXMpIHtcbiAgICBjb25zdCBwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIGVsZW1lbnQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgIGlmIChlbGVtZW50ICE9PSBwcmV2aW91c2x5Rm9jdXNlZEVsZW1lbnQgJiYgaXNTZWxlY3RhYmxlSW5wdXQoZWxlbWVudCkgJiYgc2VsZWN0KVxuICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgfVxufVxudmFyIGZvY3VzU2NvcGVzU3RhY2sgPSBjcmVhdGVGb2N1c1Njb3Blc1N0YWNrKCk7XG5mdW5jdGlvbiBjcmVhdGVGb2N1c1Njb3Blc1N0YWNrKCkge1xuICBsZXQgc3RhY2sgPSBbXTtcbiAgcmV0dXJuIHtcbiAgICBhZGQoZm9jdXNTY29wZSkge1xuICAgICAgY29uc3QgYWN0aXZlRm9jdXNTY29wZSA9IHN0YWNrWzBdO1xuICAgICAgaWYgKGZvY3VzU2NvcGUgIT09IGFjdGl2ZUZvY3VzU2NvcGUpIHtcbiAgICAgICAgYWN0aXZlRm9jdXNTY29wZT8ucGF1c2UoKTtcbiAgICAgIH1cbiAgICAgIHN0YWNrID0gYXJyYXlSZW1vdmUoc3RhY2ssIGZvY3VzU2NvcGUpO1xuICAgICAgc3RhY2sudW5zaGlmdChmb2N1c1Njb3BlKTtcbiAgICB9LFxuICAgIHJlbW92ZShmb2N1c1Njb3BlKSB7XG4gICAgICBzdGFjayA9IGFycmF5UmVtb3ZlKHN0YWNrLCBmb2N1c1Njb3BlKTtcbiAgICAgIHN0YWNrWzBdPy5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBhcnJheVJlbW92ZShhcnJheSwgaXRlbSkge1xuICBjb25zdCB1cGRhdGVkQXJyYXkgPSBbLi4uYXJyYXldO1xuICBjb25zdCBpbmRleCA9IHVwZGF0ZWRBcnJheS5pbmRleE9mKGl0ZW0pO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdXBkYXRlZEFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZWRBcnJheTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxpbmtzKGl0ZW1zKSB7XG4gIHJldHVybiBpdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udGFnTmFtZSAhPT0gXCJBXCIpO1xufVxudmFyIFJvb3QgPSBGb2N1c1Njb3BlO1xuZXhwb3J0IHtcbiAgRm9jdXNTY29wZSxcbiAgUm9vdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L3VzZS1sYXlvdXQtZWZmZWN0L3NyYy91c2UtbGF5b3V0LWVmZmVjdC50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUxheW91dEVmZmVjdDIgPSBnbG9iYWxUaGlzPy5kb2N1bWVudCA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6ICgpID0+IHtcbn07XG5leHBvcnQge1xuICB1c2VMYXlvdXRFZmZlY3QyIGFzIHVzZUxheW91dEVmZmVjdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L2lkL3NyYy9pZC50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtbGF5b3V0LWVmZmVjdFwiO1xudmFyIHVzZVJlYWN0SWQgPSBSZWFjdFtcIiB1c2VJZCBcIi50cmltKCkudG9TdHJpbmcoKV0gfHwgKCgpID0+IHZvaWQgMCk7XG52YXIgY291bnQgPSAwO1xuZnVuY3Rpb24gdXNlSWQoZGV0ZXJtaW5pc3RpY0lkKSB7XG4gIGNvbnN0IFtpZCwgc2V0SWRdID0gUmVhY3QudXNlU3RhdGUodXNlUmVhY3RJZCgpKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWRldGVybWluaXN0aWNJZCkgc2V0SWQoKHJlYWN0SWQpID0+IHJlYWN0SWQgPz8gU3RyaW5nKGNvdW50KyspKTtcbiAgfSwgW2RldGVybWluaXN0aWNJZF0pO1xuICByZXR1cm4gZGV0ZXJtaW5pc3RpY0lkIHx8IChpZCA/IGByYWRpeC0ke2lkfWAgOiBcIlwiKTtcbn1cbmV4cG9ydCB7XG4gIHVzZUlkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiLyoqXG4gKiBDdXN0b20gcG9zaXRpb25pbmcgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvdmlydHVhbC1lbGVtZW50c1xuICovXG5cbmNvbnN0IHNpZGVzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbmNvbnN0IGFsaWdubWVudHMgPSBbJ3N0YXJ0JywgJ2VuZCddO1xuY29uc3QgcGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9zaWRlcy5yZWR1Y2UoKGFjYywgc2lkZSkgPT4gYWNjLmNvbmNhdChzaWRlLCBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnRzWzBdLCBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnRzWzFdKSwgW10pO1xuY29uc3QgbWluID0gTWF0aC5taW47XG5jb25zdCBtYXggPSBNYXRoLm1heDtcbmNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IGZsb29yID0gTWF0aC5mbG9vcjtcbmNvbnN0IGNyZWF0ZUNvb3JkcyA9IHYgPT4gKHtcbiAgeDogdixcbiAgeTogdlxufSk7XG5jb25zdCBvcHBvc2l0ZVNpZGVNYXAgPSB7XG4gIGxlZnQ6ICdyaWdodCcsXG4gIHJpZ2h0OiAnbGVmdCcsXG4gIGJvdHRvbTogJ3RvcCcsXG4gIHRvcDogJ2JvdHRvbSdcbn07XG5jb25zdCBvcHBvc2l0ZUFsaWdubWVudE1hcCA9IHtcbiAgc3RhcnQ6ICdlbmQnLFxuICBlbmQ6ICdzdGFydCdcbn07XG5mdW5jdGlvbiBjbGFtcChzdGFydCwgdmFsdWUsIGVuZCkge1xuICByZXR1cm4gbWF4KHN0YXJ0LCBtaW4odmFsdWUsIGVuZCkpO1xufVxuZnVuY3Rpb24gZXZhbHVhdGUodmFsdWUsIHBhcmFtKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZShwYXJhbSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldFNpZGUocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4Jztcbn1cbmZ1bmN0aW9uIGdldEF4aXNMZW5ndGgoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xufVxuZnVuY3Rpb24gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSB7XG4gIHJldHVybiBbJ3RvcCcsICdib3R0b20nXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpID8gJ3knIDogJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGdldE9wcG9zaXRlQXhpcyhnZXRTaWRlQXhpcyhwbGFjZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCkge1xuICBpZiAocnRsID09PSB2b2lkIDApIHtcbiAgICBydGwgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgbGV0IG1haW5BbGlnbm1lbnRTaWRlID0gYWxpZ25tZW50QXhpcyA9PT0gJ3gnID8gYWxpZ25tZW50ID09PSAocnRsID8gJ2VuZCcgOiAnc3RhcnQnKSA/ICdyaWdodCcgOiAnbGVmdCcgOiBhbGlnbm1lbnQgPT09ICdzdGFydCcgPyAnYm90dG9tJyA6ICd0b3AnO1xuICBpZiAocmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gPiByZWN0cy5mbG9hdGluZ1tsZW5ndGhdKSB7XG4gICAgbWFpbkFsaWdubWVudFNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSk7XG4gIH1cbiAgcmV0dXJuIFttYWluQWxpZ25tZW50U2lkZSwgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpbkFsaWdubWVudFNpZGUpXTtcbn1cbmZ1bmN0aW9uIGdldEV4cGFuZGVkUGxhY2VtZW50cyhwbGFjZW1lbnQpIHtcbiAgY29uc3Qgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICByZXR1cm4gW2dldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIGFsaWdubWVudCA9PiBvcHBvc2l0ZUFsaWdubWVudE1hcFthbGlnbm1lbnRdKTtcbn1cbmZ1bmN0aW9uIGdldFNpZGVMaXN0KHNpZGUsIGlzU3RhcnQsIHJ0bCkge1xuICBjb25zdCBsciA9IFsnbGVmdCcsICdyaWdodCddO1xuICBjb25zdCBybCA9IFsncmlnaHQnLCAnbGVmdCddO1xuICBjb25zdCB0YiA9IFsndG9wJywgJ2JvdHRvbSddO1xuICBjb25zdCBidCA9IFsnYm90dG9tJywgJ3RvcCddO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBpZiAocnRsKSByZXR1cm4gaXNTdGFydCA/IHJsIDogbHI7XG4gICAgICByZXR1cm4gaXNTdGFydCA/IGxyIDogcmw7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIGlzU3RhcnQgPyB0YiA6IGJ0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMocGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBkaXJlY3Rpb24sIHJ0bCkge1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgbGV0IGxpc3QgPSBnZXRTaWRlTGlzdChnZXRTaWRlKHBsYWNlbWVudCksIGRpcmVjdGlvbiA9PT0gJ3N0YXJ0JywgcnRsKTtcbiAgaWYgKGFsaWdubWVudCkge1xuICAgIGxpc3QgPSBsaXN0Lm1hcChzaWRlID0+IHNpZGUgKyBcIi1cIiArIGFsaWdubWVudCk7XG4gICAgaWYgKGZsaXBBbGlnbm1lbnQpIHtcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChsaXN0Lm1hcChnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGlzdDtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBzaWRlID0+IG9wcG9zaXRlU2lkZU1hcFtzaWRlXSk7XG59XG5mdW5jdGlvbiBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgLi4ucGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKSB7XG4gIHJldHVybiB0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIDoge1xuICAgIHRvcDogcGFkZGluZyxcbiAgICByaWdodDogcGFkZGluZyxcbiAgICBib3R0b206IHBhZGRpbmcsXG4gICAgbGVmdDogcGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSByZWN0O1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB0b3A6IHksXG4gICAgbGVmdDogeCxcbiAgICByaWdodDogeCArIHdpZHRoLFxuICAgIGJvdHRvbTogeSArIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuZXhwb3J0IHsgYWxpZ25tZW50cywgY2xhbXAsIGNyZWF0ZUNvb3JkcywgZXZhbHVhdGUsIGV4cGFuZFBhZGRpbmdPYmplY3QsIGZsb29yLCBnZXRBbGlnbm1lbnQsIGdldEFsaWdubWVudEF4aXMsIGdldEFsaWdubWVudFNpZGVzLCBnZXRBeGlzTGVuZ3RoLCBnZXRFeHBhbmRlZFBsYWNlbWVudHMsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50LCBnZXRPcHBvc2l0ZUF4aXMsIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMsIGdldE9wcG9zaXRlUGxhY2VtZW50LCBnZXRQYWRkaW5nT2JqZWN0LCBnZXRTaWRlLCBnZXRTaWRlQXhpcywgbWF4LCBtaW4sIHBsYWNlbWVudHMsIHJlY3RUb0NsaWVudFJlY3QsIHJvdW5kLCBzaWRlcyB9O1xuIiwiaW1wb3J0IHsgZ2V0U2lkZUF4aXMsIGdldEFsaWdubWVudEF4aXMsIGdldEF4aXNMZW5ndGgsIGdldFNpZGUsIGdldEFsaWdubWVudCwgZXZhbHVhdGUsIGdldFBhZGRpbmdPYmplY3QsIHJlY3RUb0NsaWVudFJlY3QsIG1pbiwgY2xhbXAsIHBsYWNlbWVudHMsIGdldEFsaWdubWVudFNpZGVzLCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQsIGdldEV4cGFuZGVkUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cywgc2lkZXMsIG1heCwgZ2V0T3Bwb3NpdGVBeGlzIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcbmV4cG9ydCB7IHJlY3RUb0NsaWVudFJlY3QgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuXG5mdW5jdGlvbiBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChfcmVmLCBwbGFjZW1lbnQsIHJ0bCkge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZ1xuICB9ID0gX3JlZjtcbiAgY29uc3Qgc2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbkxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYWxpZ25tZW50QXhpcyk7XG4gIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBzaWRlQXhpcyA9PT0gJ3knO1xuICBjb25zdCBjb21tb25YID0gcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGggLyAyIC0gZmxvYXRpbmcud2lkdGggLyAyO1xuICBjb25zdCBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGZsb2F0aW5nLmhlaWdodCAvIDI7XG4gIGNvbnN0IGNvbW1vbkFsaWduID0gcmVmZXJlbmNlW2FsaWduTGVuZ3RoXSAvIDIgLSBmbG9hdGluZ1thbGlnbkxlbmd0aF0gLyAyO1xuICBsZXQgY29vcmRzO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSAtIGZsb2F0aW5nLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggLSBmbG9hdGluZy53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54LFxuICAgICAgICB5OiByZWZlcmVuY2UueVxuICAgICAgfTtcbiAgfVxuICBzd2l0Y2ggKGdldEFsaWdubWVudChwbGFjZW1lbnQpKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgY29vcmRzW2FsaWdubWVudEF4aXNdIC09IGNvbW1vbkFsaWduICogKHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gKz0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGNvb3Jkcztcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgdGhhdCB3aWxsIHBsYWNlIHRoZSBmbG9hdGluZyBlbGVtZW50XG4gKiBuZXh0IHRvIGEgZ2l2ZW4gcmVmZXJlbmNlIGVsZW1lbnQuXG4gKlxuICogVGhpcyBleHBvcnQgZG9lcyBub3QgaGF2ZSBhbnkgYHBsYXRmb3JtYCBpbnRlcmZhY2UgbG9naWMuIFlvdSB3aWxsIG5lZWQgdG9cbiAqIHdyaXRlIG9uZSBmb3IgdGhlIHBsYXRmb3JtIHlvdSBhcmUgdXNpbmcgRmxvYXRpbmcgVUkgd2l0aC5cbiAqL1xuY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gYXN5bmMgKHJlZmVyZW5jZSwgZmxvYXRpbmcsIGNvbmZpZykgPT4ge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50ID0gJ2JvdHRvbScsXG4gICAgc3RyYXRlZ3kgPSAnYWJzb2x1dGUnLFxuICAgIG1pZGRsZXdhcmUgPSBbXSxcbiAgICBwbGF0Zm9ybVxuICB9ID0gY29uZmlnO1xuICBjb25zdCB2YWxpZE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChmbG9hdGluZykpO1xuICBsZXQgcmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZyxcbiAgICBzdHJhdGVneVxuICB9KTtcbiAgbGV0IHtcbiAgICB4LFxuICAgIHlcbiAgfSA9IGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KHJlY3RzLCBwbGFjZW1lbnQsIHJ0bCk7XG4gIGxldCBzdGF0ZWZ1bFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgbGV0IG1pZGRsZXdhcmVEYXRhID0ge307XG4gIGxldCByZXNldENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxpZE1pZGRsZXdhcmUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgZm5cbiAgICB9ID0gdmFsaWRNaWRkbGV3YXJlW2ldO1xuICAgIGNvbnN0IHtcbiAgICAgIHg6IG5leHRYLFxuICAgICAgeTogbmV4dFksXG4gICAgICBkYXRhLFxuICAgICAgcmVzZXRcbiAgICB9ID0gYXdhaXQgZm4oe1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBpbml0aWFsUGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgIHJlY3RzLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0aW5nXG4gICAgICB9XG4gICAgfSk7XG4gICAgeCA9IG5leHRYICE9IG51bGwgPyBuZXh0WCA6IHg7XG4gICAgeSA9IG5leHRZICE9IG51bGwgPyBuZXh0WSA6IHk7XG4gICAgbWlkZGxld2FyZURhdGEgPSB7XG4gICAgICAuLi5taWRkbGV3YXJlRGF0YSxcbiAgICAgIFtuYW1lXToge1xuICAgICAgICAuLi5taWRkbGV3YXJlRGF0YVtuYW1lXSxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHJlc2V0ICYmIHJlc2V0Q291bnQgPD0gNTApIHtcbiAgICAgIHJlc2V0Q291bnQrKztcbiAgICAgIGlmICh0eXBlb2YgcmVzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChyZXNldC5wbGFjZW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZWZ1bFBsYWNlbWVudCA9IHJlc2V0LnBsYWNlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzZXQucmVjdHMpIHtcbiAgICAgICAgICByZWN0cyA9IHJlc2V0LnJlY3RzID09PSB0cnVlID8gYXdhaXQgcGxhdGZvcm0uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgICAgICAgIHJlZmVyZW5jZSxcbiAgICAgICAgICAgIGZsb2F0aW5nLFxuICAgICAgICAgICAgc3RyYXRlZ3lcbiAgICAgICAgICB9KSA6IHJlc2V0LnJlY3RzO1xuICAgICAgICB9XG4gICAgICAgICh7XG4gICAgICAgICAgeCxcbiAgICAgICAgICB5XG4gICAgICAgIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgc3RhdGVmdWxQbGFjZW1lbnQsIHJ0bCkpO1xuICAgICAgfVxuICAgICAgaSA9IC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgIHN0cmF0ZWd5LFxuICAgIG1pZGRsZXdhcmVEYXRhXG4gIH07XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IG9mIG92ZXJmbG93IHNpZGUgb2Zmc2V0cyB0aGF0IGRldGVybWluZSBob3cgbXVjaCB0aGVcbiAqIGVsZW1lbnQgaXMgb3ZlcmZsb3dpbmcgYSBnaXZlbiBjbGlwcGluZyBib3VuZGFyeSBvbiBlYWNoIHNpZGUuXG4gKiAtIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGJvdW5kYXJ5IGJ5IHRoYXQgbnVtYmVyIG9mIHBpeGVsc1xuICogLSBuZWdhdGl2ZSA9IGhvdyBtYW55IHBpeGVscyBsZWZ0IGJlZm9yZSBpdCB3aWxsIG92ZXJmbG93XG4gKiAtIDAgPSBsaWVzIGZsdXNoIHdpdGggdGhlIGJvdW5kYXJ5XG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZGV0ZWN0T3ZlcmZsb3dcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9hd2FpdCRwbGF0Zm9ybSRpc0VsZTtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIHBsYXRmb3JtLFxuICAgIHJlY3RzLFxuICAgIGVsZW1lbnRzLFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBzdGF0ZTtcbiAgY29uc3Qge1xuICAgIGJvdW5kYXJ5ID0gJ2NsaXBwaW5nQW5jZXN0b3JzJyxcbiAgICByb290Qm91bmRhcnkgPSAndmlld3BvcnQnLFxuICAgIGVsZW1lbnRDb250ZXh0ID0gJ2Zsb2F0aW5nJyxcbiAgICBhbHRCb3VuZGFyeSA9IGZhbHNlLFxuICAgIHBhZGRpbmcgPSAwXG4gIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICBjb25zdCBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09ICdmbG9hdGluZycgPyAncmVmZXJlbmNlJyA6ICdmbG9hdGluZyc7XG4gIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07XG4gIGNvbnN0IGNsaXBwaW5nQ2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QoYXdhaXQgcGxhdGZvcm0uZ2V0Q2xpcHBpbmdSZWN0KHtcbiAgICBlbGVtZW50OiAoKF9hd2FpdCRwbGF0Zm9ybSRpc0VsZSA9IGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChlbGVtZW50KSkpICE9IG51bGwgPyBfYXdhaXQkcGxhdGZvcm0kaXNFbGUgOiB0cnVlKSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IChhd2FpdCAocGxhdGZvcm0uZ2V0RG9jdW1lbnRFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudHMuZmxvYXRpbmcpKSksXG4gICAgYm91bmRhcnksXG4gICAgcm9vdEJvdW5kYXJ5LFxuICAgIHN0cmF0ZWd5XG4gIH0pKTtcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnRDb250ZXh0ID09PSAnZmxvYXRpbmcnID8ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aDogcmVjdHMuZmxvYXRpbmcud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0cy5mbG9hdGluZy5oZWlnaHRcbiAgfSA6IHJlY3RzLnJlZmVyZW5jZTtcbiAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gYXdhaXQgKHBsYXRmb3JtLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gIGNvbnN0IG9mZnNldFNjYWxlID0gKGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSkgPyAoYXdhaXQgKHBsYXRmb3JtLmdldFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRTY2FsZShvZmZzZXRQYXJlbnQpKSkgfHwge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9IDoge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9O1xuICBjb25zdCBlbGVtZW50Q2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QocGxhdGZvcm0uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QgPyBhd2FpdCBwbGF0Zm9ybS5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCh7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSkgOiByZWN0KTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IChjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3ApIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBib3R0b206IChlbGVtZW50Q2xpZW50UmVjdC5ib3R0b20gLSBjbGlwcGluZ0NsaWVudFJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBsZWZ0OiAoY2xpcHBpbmdDbGllbnRSZWN0LmxlZnQgLSBlbGVtZW50Q2xpZW50UmVjdC5sZWZ0ICsgcGFkZGluZ09iamVjdC5sZWZ0KSAvIG9mZnNldFNjYWxlLngsXG4gICAgcmlnaHQ6IChlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQpIC8gb2Zmc2V0U2NhbGUueFxuICB9O1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gcG9zaXRpb24gYW4gaW5uZXIgZWxlbWVudCBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBzbyB0aGF0IGl0XG4gKiBhcHBlYXJzIGNlbnRlcmVkIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyA9IG9wdGlvbnMgPT4gKHtcbiAgbmFtZTogJ2Fycm93JyxcbiAgb3B0aW9ucyxcbiAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHBsYWNlbWVudCxcbiAgICAgIHJlY3RzLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBlbGVtZW50cyxcbiAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgfSA9IHN0YXRlO1xuICAgIC8vIFNpbmNlIGBlbGVtZW50YCBpcyByZXF1aXJlZCwgd2UgZG9uJ3QgUGFydGlhbDw+IHRoZSB0eXBlLlxuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwYWRkaW5nID0gMFxuICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSkgfHwge307XG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICB4LFxuICAgICAgeVxuICAgIH07XG4gICAgY29uc3QgYXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGF4aXMpO1xuICAgIGNvbnN0IGFycm93RGltZW5zaW9ucyA9IGF3YWl0IHBsYXRmb3JtLmdldERpbWVuc2lvbnMoZWxlbWVudCk7XG4gICAgY29uc3QgaXNZQXhpcyA9IGF4aXMgPT09ICd5JztcbiAgICBjb25zdCBtaW5Qcm9wID0gaXNZQXhpcyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgIGNvbnN0IG1heFByb3AgPSBpc1lBeGlzID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgIGNvbnN0IGNsaWVudFByb3AgPSBpc1lBeGlzID8gJ2NsaWVudEhlaWdodCcgOiAnY2xpZW50V2lkdGgnO1xuICAgIGNvbnN0IGVuZERpZmYgPSByZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSArIHJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIGNvb3Jkc1theGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbmd0aF07XG4gICAgY29uc3Qgc3RhcnREaWZmID0gY29vcmRzW2F4aXNdIC0gcmVjdHMucmVmZXJlbmNlW2F4aXNdO1xuICAgIGNvbnN0IGFycm93T2Zmc2V0UGFyZW50ID0gYXdhaXQgKHBsYXRmb3JtLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpKTtcbiAgICBsZXQgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXJyb3dPZmZzZXRQYXJlbnRbY2xpZW50UHJvcF0gOiAwO1xuXG4gICAgLy8gRE9NIHBsYXRmb3JtIGNhbiByZXR1cm4gYHdpbmRvd2AgYXMgdGhlIGBvZmZzZXRQYXJlbnRgLlxuICAgIGlmICghY2xpZW50U2l6ZSB8fCAhKGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChhcnJvd09mZnNldFBhcmVudCkpKSkge1xuICAgICAgY2xpZW50U2l6ZSA9IGVsZW1lbnRzLmZsb2F0aW5nW2NsaWVudFByb3BdIHx8IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF07XG4gICAgfVxuICAgIGNvbnN0IGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyO1xuXG4gICAgLy8gSWYgdGhlIHBhZGRpbmcgaXMgbGFyZ2UgZW5vdWdoIHRoYXQgaXQgY2F1c2VzIHRoZSBhcnJvdyB0byBubyBsb25nZXIgYmVcbiAgICAvLyBjZW50ZXJlZCwgbW9kaWZ5IHRoZSBwYWRkaW5nIHNvIHRoYXQgaXQgaXMgY2VudGVyZWQuXG4gICAgY29uc3QgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyA9IGNsaWVudFNpemUgLyAyIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyIC0gMTtcbiAgICBjb25zdCBtaW5QYWRkaW5nID0gbWluKHBhZGRpbmdPYmplY3RbbWluUHJvcF0sIGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcpO1xuICAgIGNvbnN0IG1heFBhZGRpbmcgPSBtaW4ocGFkZGluZ09iamVjdFttYXhQcm9wXSwgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyk7XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaWYgdGhlIGNlbnRlclxuICAgIC8vIHBvaW50IGlzIG91dHNpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQncyBib3VuZHMuXG4gICAgY29uc3QgbWluJDEgPSBtaW5QYWRkaW5nO1xuICAgIGNvbnN0IG1heCA9IGNsaWVudFNpemUgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAtIG1heFBhZGRpbmc7XG4gICAgY29uc3QgY2VudGVyID0gY2xpZW50U2l6ZSAvIDIgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgKyBjZW50ZXJUb1JlZmVyZW5jZTtcbiAgICBjb25zdCBvZmZzZXQgPSBjbGFtcChtaW4kMSwgY2VudGVyLCBtYXgpO1xuXG4gICAgLy8gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbCBlbm91Z2ggdGhhdCB0aGUgYXJyb3cncyBwYWRkaW5nIGNhdXNlcyBpdCB0b1xuICAgIC8vIHRvIHBvaW50IHRvIG5vdGhpbmcgZm9yIGFuIGFsaWduZWQgcGxhY2VtZW50LCBhZGp1c3QgdGhlIG9mZnNldCBvZiB0aGVcbiAgICAvLyBmbG9hdGluZyBlbGVtZW50IGl0c2VsZi4gVG8gZW5zdXJlIGBzaGlmdCgpYCBjb250aW51ZXMgdG8gdGFrZSBhY3Rpb24sXG4gICAgLy8gYSBzaW5nbGUgcmVzZXQgaXMgcGVyZm9ybWVkIHdoZW4gdGhpcyBpcyB0cnVlLlxuICAgIGNvbnN0IHNob3VsZEFkZE9mZnNldCA9ICFtaWRkbGV3YXJlRGF0YS5hcnJvdyAmJiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSAhPSBudWxsICYmIGNlbnRlciAhPT0gb2Zmc2V0ICYmIHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdIC8gMiAtIChjZW50ZXIgPCBtaW4kMSA/IG1pblBhZGRpbmcgOiBtYXhQYWRkaW5nKSAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiA8IDA7XG4gICAgY29uc3QgYWxpZ25tZW50T2Zmc2V0ID0gc2hvdWxkQWRkT2Zmc2V0ID8gY2VudGVyIDwgbWluJDEgPyBjZW50ZXIgLSBtaW4kMSA6IGNlbnRlciAtIG1heCA6IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtheGlzXTogY29vcmRzW2F4aXNdICsgYWxpZ25tZW50T2Zmc2V0LFxuICAgICAgZGF0YToge1xuICAgICAgICBbYXhpc106IG9mZnNldCxcbiAgICAgICAgY2VudGVyT2Zmc2V0OiBjZW50ZXIgLSBvZmZzZXQgLSBhbGlnbm1lbnRPZmZzZXQsXG4gICAgICAgIC4uLihzaG91bGRBZGRPZmZzZXQgJiYge1xuICAgICAgICAgIGFsaWdubWVudE9mZnNldFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlc2V0OiBzaG91bGRBZGRPZmZzZXRcbiAgICB9O1xuICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0UGxhY2VtZW50TGlzdChhbGlnbm1lbnQsIGF1dG9BbGlnbm1lbnQsIGFsbG93ZWRQbGFjZW1lbnRzKSB7XG4gIGNvbnN0IGFsbG93ZWRQbGFjZW1lbnRzU29ydGVkQnlBbGlnbm1lbnQgPSBhbGlnbm1lbnQgPyBbLi4uYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSA9PT0gYWxpZ25tZW50KSwgLi4uYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSAhPT0gYWxpZ25tZW50KV0gOiBhbGxvd2VkUGxhY2VtZW50cy5maWx0ZXIocGxhY2VtZW50ID0+IGdldFNpZGUocGxhY2VtZW50KSA9PT0gcGxhY2VtZW50KTtcbiAgcmV0dXJuIGFsbG93ZWRQbGFjZW1lbnRzU29ydGVkQnlBbGlnbm1lbnQuZmlsdGVyKHBsYWNlbWVudCA9PiB7XG4gICAgaWYgKGFsaWdubWVudCkge1xuICAgICAgcmV0dXJuIGdldEFsaWdubWVudChwbGFjZW1lbnQpID09PSBhbGlnbm1lbnQgfHwgKGF1dG9BbGlnbm1lbnQgPyBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpICE9PSBwbGFjZW1lbnQgOiBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGNob29zaW5nIHRoZSBwbGFjZW1lbnRcbiAqIHRoYXQgaGFzIHRoZSBtb3N0IHNwYWNlIGF2YWlsYWJsZSBhdXRvbWF0aWNhbGx5LCB3aXRob3V0IG5lZWRpbmcgdG8gc3BlY2lmeSBhXG4gKiBwcmVmZXJyZWQgcGxhY2VtZW50LiBBbHRlcm5hdGl2ZSB0byBgZmxpcGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1BsYWNlbWVudFxuICovXG5jb25zdCBhdXRvUGxhY2VtZW50ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdhdXRvUGxhY2VtZW50JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGF1dG9QLCBfbWlkZGxld2FyZURhdGEkYXV0b1AyLCBfcGxhY2VtZW50c1RoYXRGaXRPbkU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlY3RzLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgIGFsaWdubWVudCxcbiAgICAgICAgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLFxuICAgICAgICBhdXRvQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgcGxhY2VtZW50cyQxID0gYWxpZ25tZW50ICE9PSB1bmRlZmluZWQgfHwgYWxsb3dlZFBsYWNlbWVudHMgPT09IHBsYWNlbWVudHMgPyBnZXRQbGFjZW1lbnRMaXN0KGFsaWdubWVudCB8fCBudWxsLCBhdXRvQWxpZ25tZW50LCBhbGxvd2VkUGxhY2VtZW50cykgOiBhbGxvd2VkUGxhY2VtZW50cztcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSAoKF9taWRkbGV3YXJlRGF0YSRhdXRvUCA9IG1pZGRsZXdhcmVEYXRhLmF1dG9QbGFjZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkYXV0b1AuaW5kZXgpIHx8IDA7XG4gICAgICBjb25zdCBjdXJyZW50UGxhY2VtZW50ID0gcGxhY2VtZW50cyQxW2N1cnJlbnRJbmRleF07XG4gICAgICBpZiAoY3VycmVudFBsYWNlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFsaWdubWVudFNpZGVzID0gZ2V0QWxpZ25tZW50U2lkZXMoY3VycmVudFBsYWNlbWVudCwgcmVjdHMsIGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKSk7XG5cbiAgICAgIC8vIE1ha2UgYGNvbXB1dGVDb29yZHNgIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHBsYWNlLlxuICAgICAgaWYgKHBsYWNlbWVudCAhPT0gY3VycmVudFBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudHMkMVswXVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1cnJlbnRPdmVyZmxvd3MgPSBbb3ZlcmZsb3dbZ2V0U2lkZShjdXJyZW50UGxhY2VtZW50KV0sIG92ZXJmbG93W2FsaWdubWVudFNpZGVzWzBdXSwgb3ZlcmZsb3dbYWxpZ25tZW50U2lkZXNbMV1dXTtcbiAgICAgIGNvbnN0IGFsbE92ZXJmbG93cyA9IFsuLi4oKChfbWlkZGxld2FyZURhdGEkYXV0b1AyID0gbWlkZGxld2FyZURhdGEuYXV0b1BsYWNlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRhdXRvUDIub3ZlcmZsb3dzKSB8fCBbXSksIHtcbiAgICAgICAgcGxhY2VtZW50OiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3M6IGN1cnJlbnRPdmVyZmxvd3NcbiAgICAgIH1dO1xuICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHMkMVtjdXJyZW50SW5kZXggKyAxXTtcblxuICAgICAgLy8gVGhlcmUgYXJlIG1vcmUgcGxhY2VtZW50cyB0byBjaGVjay5cbiAgICAgIGlmIChuZXh0UGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IGFsbE92ZXJmbG93c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZSA9IGFsbE92ZXJmbG93cy5tYXAoZCA9PiB7XG4gICAgICAgIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChkLnBsYWNlbWVudCk7XG4gICAgICAgIHJldHVybiBbZC5wbGFjZW1lbnQsIGFsaWdubWVudCAmJiBjcm9zc0F4aXMgP1xuICAgICAgICAvLyBDaGVjayBhbG9uZyB0aGUgbWFpbkF4aXMgYW5kIG1haW4gY3Jvc3NBeGlzIHNpZGUuXG4gICAgICAgIGQub3ZlcmZsb3dzLnNsaWNlKDAsIDIpLnJlZHVjZSgoYWNjLCB2KSA9PiBhY2MgKyB2LCAwKSA6XG4gICAgICAgIC8vIENoZWNrIG9ubHkgdGhlIG1haW5BeGlzLlxuICAgICAgICBkLm92ZXJmbG93c1swXSwgZC5vdmVyZmxvd3NdO1xuICAgICAgfSkuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICAgICAgY29uc3QgcGxhY2VtZW50c1RoYXRGaXRPbkVhY2hTaWRlID0gcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlLmZpbHRlcihkID0+IGRbMl0uc2xpY2UoMCxcbiAgICAgIC8vIEFsaWduZWQgcGxhY2VtZW50cyBzaG91bGQgbm90IGNoZWNrIHRoZWlyIG9wcG9zaXRlIGNyb3NzQXhpc1xuICAgICAgLy8gc2lkZS5cbiAgICAgIGdldEFsaWdubWVudChkWzBdKSA/IDIgOiAzKS5ldmVyeSh2ID0+IHYgPD0gMCkpO1xuICAgICAgY29uc3QgcmVzZXRQbGFjZW1lbnQgPSAoKF9wbGFjZW1lbnRzVGhhdEZpdE9uRSA9IHBsYWNlbWVudHNUaGF0Rml0T25FYWNoU2lkZVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wbGFjZW1lbnRzVGhhdEZpdE9uRVswXSkgfHwgcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlWzBdWzBdO1xuICAgICAgaWYgKHJlc2V0UGxhY2VtZW50ICE9PSBwbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbmRleDogY3VycmVudEluZGV4ICsgMSxcbiAgICAgICAgICAgIG92ZXJmbG93czogYWxsT3ZlcmZsb3dzXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiByZXNldFBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBmbGlwcGluZyB0aGUgYHBsYWNlbWVudGBcbiAqIGluIG9yZGVyIHRvIGtlZXAgaXQgaW4gdmlldyB3aGVuIHRoZSBwcmVmZXJyZWQgcGxhY2VtZW50KHMpIHdpbGwgb3ZlcmZsb3cgdGhlXG4gKiBjbGlwcGluZyBib3VuZGFyeS4gQWx0ZXJuYXRpdmUgdG8gYGF1dG9QbGFjZW1lbnRgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2ZsaXBcbiAqL1xuY29uc3QgZmxpcCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZmxpcCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhcnJvdywgX21pZGRsZXdhcmVEYXRhJGZsaXA7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBpbml0aWFsUGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gdHJ1ZSxcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICAgIGZhbGxiYWNrU3RyYXRlZ3kgPSAnYmVzdEZpdCcsXG4gICAgICAgIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSAnbm9uZScsXG4gICAgICAgIGZsaXBBbGlnbm1lbnQgPSB0cnVlLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG5cbiAgICAgIC8vIElmIGEgcmVzZXQgYnkgdGhlIGFycm93IHdhcyBjYXVzZWQgZHVlIHRvIGFuIGFsaWdubWVudCBvZmZzZXQgYmVpbmdcbiAgICAgIC8vIGFkZGVkLCB3ZSBzaG91bGQgc2tpcCBhbnkgbG9naWMgbm93IHNpbmNlIGBmbGlwKClgIGhhcyBhbHJlYWR5IGRvbmUgaXRzXG4gICAgICAvLyB3b3JrLlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zsb2F0aW5nLXVpL2Zsb2F0aW5nLXVpL2lzc3Vlcy8yNTQ5I2lzc3VlY29tbWVudC0xNzE5NjAxNjQzXG4gICAgICBpZiAoKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGluaXRpYWxTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGluaXRpYWxQbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNCYXNlUGxhY2VtZW50ID0gZ2V0U2lkZShpbml0aWFsUGxhY2VtZW50KSA9PT0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwQWxpZ25tZW50ID8gW2dldE9wcG9zaXRlUGxhY2VtZW50KGluaXRpYWxQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gZmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiAhPT0gJ25vbmUnO1xuICAgICAgaWYgKCFzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgJiYgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHMucHVzaCguLi5nZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24sIHJ0bCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGxhY2VtZW50cyA9IFtpbml0aWFsUGxhY2VtZW50LCAuLi5mYWxsYmFja1BsYWNlbWVudHNdO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93cyA9IFtdO1xuICAgICAgbGV0IG92ZXJmbG93c0RhdGEgPSAoKF9taWRkbGV3YXJlRGF0YSRmbGlwID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwLm92ZXJmbG93cykgfHwgW107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpO1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlc1swXV0sIG92ZXJmbG93W3NpZGVzWzFdXSk7XG4gICAgICB9XG4gICAgICBvdmVyZmxvd3NEYXRhID0gWy4uLm92ZXJmbG93c0RhdGEsIHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3NcbiAgICAgIH1dO1xuXG4gICAgICAvLyBPbmUgb3IgbW9yZSBzaWRlcyBpcyBvdmVyZmxvd2luZy5cbiAgICAgIGlmICghb3ZlcmZsb3dzLmV2ZXJ5KHNpZGUgPT4gc2lkZSA8PSAwKSkge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGZsaXAyLCBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXI7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9ICgoKF9taWRkbGV3YXJlRGF0YSRmbGlwMiA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcDIuaW5kZXgpIHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHNbbmV4dEluZGV4XTtcbiAgICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCBpZ25vcmVDcm9zc0F4aXNPdmVyZmxvdyA9IGNoZWNrQ3Jvc3NBeGlzID09PSAnYWxpZ25tZW50JyA/IGluaXRpYWxTaWRlQXhpcyAhPT0gZ2V0U2lkZUF4aXMobmV4dFBsYWNlbWVudCkgOiBmYWxzZTtcbiAgICAgICAgICBpZiAoIWlnbm9yZUNyb3NzQXhpc092ZXJmbG93IHx8XG4gICAgICAgICAgLy8gV2UgbGVhdmUgdGhlIGN1cnJlbnQgbWFpbiBheGlzIG9ubHkgaWYgZXZlcnkgcGxhY2VtZW50IG9uIHRoYXQgYXhpc1xuICAgICAgICAgIC8vIG92ZXJmbG93cyB0aGUgbWFpbiBheGlzLlxuICAgICAgICAgIG92ZXJmbG93c0RhdGEuZXZlcnkoZCA9PiBkLm92ZXJmbG93c1swXSA+IDAgJiYgZ2V0U2lkZUF4aXMoZC5wbGFjZW1lbnQpID09PSBpbml0aWFsU2lkZUF4aXMpKSB7XG4gICAgICAgICAgICAvLyBUcnkgbmV4dCBwbGFjZW1lbnQgYW5kIHJlLXJ1biB0aGUgbGlmZWN5Y2xlLlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dzOiBvdmVyZmxvd3NEYXRhXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50OiBuZXh0UGxhY2VtZW50XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyc3QsIGZpbmQgdGhlIGNhbmRpZGF0ZXMgdGhhdCBmaXQgb24gdGhlIG1haW5BeGlzIHNpZGUgb2Ygb3ZlcmZsb3csXG4gICAgICAgIC8vIHRoZW4gZmluZCB0aGUgcGxhY2VtZW50IHRoYXQgZml0cyB0aGUgYmVzdCBvbiB0aGUgbWFpbiBjcm9zc0F4aXMgc2lkZS5cbiAgICAgICAgbGV0IHJlc2V0UGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlciA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKGQgPT4gZC5vdmVyZmxvd3NbMF0gPD0gMCkuc29ydCgoYSwgYikgPT4gYS5vdmVyZmxvd3NbMV0gLSBiLm92ZXJmbG93c1sxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIucGxhY2VtZW50O1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSBmYWxsYmFjay5cbiAgICAgICAgaWYgKCFyZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHN3aXRjaCAoZmFsbGJhY2tTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAnYmVzdEZpdCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgX292ZXJmbG93c0RhdGEkZmlsdGVyMjtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyMiA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKGQgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNpZGVBeGlzID0gZ2V0U2lkZUF4aXMoZC5wbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFNpZGVBeGlzID09PSBpbml0aWFsU2lkZUF4aXMgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYmlhcyB0byB0aGUgYHlgIHNpZGUgYXhpcyBkdWUgdG8gaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgICAgICAvLyByZWFkaW5nIGRpcmVjdGlvbnMgZmF2b3JpbmcgZ3JlYXRlciB3aWR0aC5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpZGVBeGlzID09PSAneSc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KS5tYXAoZCA9PiBbZC5wbGFjZW1lbnQsIGQub3ZlcmZsb3dzLmZpbHRlcihvdmVyZmxvdyA9PiBvdmVyZmxvdyA+IDApLnJlZHVjZSgoYWNjLCBvdmVyZmxvdykgPT4gYWNjICsgb3ZlcmZsb3csIDApXSkuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX292ZXJmbG93c0RhdGEkZmlsdGVyMlswXTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2luaXRpYWxQbGFjZW1lbnQnOlxuICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGxhY2VtZW50ICE9PSByZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHJlc2V0UGxhY2VtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0KSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBvdmVyZmxvdy50b3AgLSByZWN0LmhlaWdodCxcbiAgICByaWdodDogb3ZlcmZsb3cucmlnaHQgLSByZWN0LndpZHRoLFxuICAgIGJvdHRvbTogb3ZlcmZsb3cuYm90dG9tIC0gcmVjdC5oZWlnaHQsXG4gICAgbGVmdDogb3ZlcmZsb3cubGVmdCAtIHJlY3Qud2lkdGhcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gc2lkZXMuc29tZShzaWRlID0+IG92ZXJmbG93W3NpZGVdID49IDApO1xufVxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2hpZGUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjdHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RyYXRlZ3kgPSAncmVmZXJlbmNlSGlkZGVuJyxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICBjYXNlICdyZWZlcmVuY2VIaWRkZW4nOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBlbGVtZW50Q29udGV4dDogJ3JlZmVyZW5jZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0cy5yZWZlcmVuY2UpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUhpZGRlbk9mZnNldHM6IG9mZnNldHMsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlSGlkZGVuOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2VzY2FwZWQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBhbHRCb3VuZGFyeTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3RzLmZsb2F0aW5nKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkT2Zmc2V0czogb2Zmc2V0cyxcbiAgICAgICAgICAgICAgICBlc2NhcGVkOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXRCb3VuZGluZ1JlY3QocmVjdHMpIHtcbiAgY29uc3QgbWluWCA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmxlZnQpKTtcbiAgY29uc3QgbWluWSA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LnRvcCkpO1xuICBjb25zdCBtYXhYID0gbWF4KC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QucmlnaHQpKTtcbiAgY29uc3QgbWF4WSA9IG1heCguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmJvdHRvbSkpO1xuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UmVjdHNCeUxpbmUocmVjdHMpIHtcbiAgY29uc3Qgc29ydGVkUmVjdHMgPSByZWN0cy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEueSAtIGIueSk7XG4gIGNvbnN0IGdyb3VwcyA9IFtdO1xuICBsZXQgcHJldlJlY3QgPSBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVjdCA9IHNvcnRlZFJlY3RzW2ldO1xuICAgIGlmICghcHJldlJlY3QgfHwgcmVjdC55IC0gcHJldlJlY3QueSA+IHByZXZSZWN0LmhlaWdodCAvIDIpIHtcbiAgICAgIGdyb3Vwcy5wdXNoKFtyZWN0XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0ucHVzaChyZWN0KTtcbiAgICB9XG4gICAgcHJldlJlY3QgPSByZWN0O1xuICB9XG4gIHJldHVybiBncm91cHMubWFwKHJlY3QgPT4gcmVjdFRvQ2xpZW50UmVjdChnZXRCb3VuZGluZ1JlY3QocmVjdCkpKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgaW1wcm92ZWQgcG9zaXRpb25pbmcgZm9yIGlubGluZSByZWZlcmVuY2UgZWxlbWVudHMgdGhhdCBjYW4gc3BhblxuICogb3ZlciBtdWx0aXBsZSBsaW5lcywgc3VjaCBhcyBoeXBlcmxpbmtzIG9yIHJhbmdlIHNlbGVjdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaW5saW5lXG4gKi9cbmNvbnN0IGlubGluZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnaW5saW5lJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgc3RyYXRlZ3lcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIC8vIEEgTW91c2VFdmVudCdzIGNsaWVudHtYLFl9IGNvb3JkcyBjYW4gYmUgdXAgdG8gMiBwaXhlbHMgb2ZmIGFcbiAgICAgIC8vIENsaWVudFJlY3QncyBib3VuZHMsIGRlc3BpdGUgdGhlIGV2ZW50IGxpc3RlbmVyIGJlaW5nIHRyaWdnZXJlZC4gQVxuICAgICAgLy8gcGFkZGluZyBvZiAyIHNlZW1zIHRvIGhhbmRsZSB0aGlzIGlzc3VlLlxuICAgICAgY29uc3Qge1xuICAgICAgICBwYWRkaW5nID0gMixcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG5hdGl2ZUNsaWVudFJlY3RzID0gQXJyYXkuZnJvbSgoYXdhaXQgKHBsYXRmb3JtLmdldENsaWVudFJlY3RzID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRDbGllbnRSZWN0cyhlbGVtZW50cy5yZWZlcmVuY2UpKSkgfHwgW10pO1xuICAgICAgY29uc3QgY2xpZW50UmVjdHMgPSBnZXRSZWN0c0J5TGluZShuYXRpdmVDbGllbnRSZWN0cyk7XG4gICAgICBjb25zdCBmYWxsYmFjayA9IHJlY3RUb0NsaWVudFJlY3QoZ2V0Qm91bmRpbmdSZWN0KG5hdGl2ZUNsaWVudFJlY3RzKSk7XG4gICAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICAgIGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHR3byByZWN0cyBhbmQgdGhleSBhcmUgZGlzam9pbmVkLlxuICAgICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoID09PSAyICYmIGNsaWVudFJlY3RzWzBdLmxlZnQgPiBjbGllbnRSZWN0c1sxXS5yaWdodCAmJiB4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgcmVjdCBpbiB3aGljaCB0aGUgcG9pbnQgaXMgZnVsbHkgaW5zaWRlLlxuICAgICAgICAgIHJldHVybiBjbGllbnRSZWN0cy5maW5kKHJlY3QgPT4geCA+IHJlY3QubGVmdCAtIHBhZGRpbmdPYmplY3QubGVmdCAmJiB4IDwgcmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQgJiYgeSA+IHJlY3QudG9wIC0gcGFkZGluZ09iamVjdC50b3AgJiYgeSA8IHJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIHx8IGZhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgYXJlIDIgb3IgbW9yZSBjb25uZWN0ZWQgcmVjdHMuXG4gICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGlmIChnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneScpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UmVjdCA9IGNsaWVudFJlY3RzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdFJlY3QgPSBjbGllbnRSZWN0c1tjbGllbnRSZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGlzVG9wID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAndG9wJztcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGZpcnN0UmVjdC50b3A7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBsYXN0UmVjdC5ib3R0b207XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gaXNUb3AgPyBmaXJzdFJlY3QubGVmdCA6IGxhc3RSZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGlzVG9wID8gZmlyc3RSZWN0LnJpZ2h0IDogbGFzdFJlY3QucmlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgeDogbGVmdCxcbiAgICAgICAgICAgICAgeTogdG9wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xlZnRTaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAnbGVmdCc7XG4gICAgICAgICAgY29uc3QgbWF4UmlnaHQgPSBtYXgoLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5yaWdodCkpO1xuICAgICAgICAgIGNvbnN0IG1pbkxlZnQgPSBtaW4oLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5sZWZ0KSk7XG4gICAgICAgICAgY29uc3QgbWVhc3VyZVJlY3RzID0gY2xpZW50UmVjdHMuZmlsdGVyKHJlY3QgPT4gaXNMZWZ0U2lkZSA/IHJlY3QubGVmdCA9PT0gbWluTGVmdCA6IHJlY3QucmlnaHQgPT09IG1heFJpZ2h0KTtcbiAgICAgICAgICBjb25zdCB0b3AgPSBtZWFzdXJlUmVjdHNbMF0udG9wO1xuICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IG1lYXN1cmVSZWN0c1ttZWFzdXJlUmVjdHMubGVuZ3RoIC0gMV0uYm90dG9tO1xuICAgICAgICAgIGNvbnN0IGxlZnQgPSBtaW5MZWZ0O1xuICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbWF4UmlnaHQ7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHg6IGxlZnQsXG4gICAgICAgICAgICB5OiB0b3BcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc2V0UmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICByZWZlcmVuY2U6IHtcbiAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXRpbmc6IGVsZW1lbnRzLmZsb2F0aW5nLFxuICAgICAgICBzdHJhdGVneVxuICAgICAgfSk7XG4gICAgICBpZiAocmVjdHMucmVmZXJlbmNlLnggIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnggfHwgcmVjdHMucmVmZXJlbmNlLnkgIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnkgfHwgcmVjdHMucmVmZXJlbmNlLndpZHRoICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS53aWR0aCB8fCByZWN0cy5yZWZlcmVuY2UuaGVpZ2h0ICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHJlc2V0UmVjdHNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLy8gRm9yIHR5cGUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHksIHRoZSBgT2Zmc2V0T3B0aW9uc2AgdHlwZSB3YXMgYWxzb1xuLy8gRGVyaXZhYmxlLlxuXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50LFxuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnRzXG4gIH0gPSBzdGF0ZTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgY29uc3QgbWFpbkF4aXNNdWx0aSA9IFsnbGVmdCcsICd0b3AnXS5pbmNsdWRlcyhzaWRlKSA/IC0xIDogMTtcbiAgY29uc3QgY3Jvc3NBeGlzTXVsdGkgPSBydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMTtcbiAgY29uc3QgcmF3VmFsdWUgPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQge1xuICAgIG1haW5BeGlzLFxuICAgIGNyb3NzQXhpcyxcbiAgICBhbGlnbm1lbnRBeGlzXG4gIH0gPSB0eXBlb2YgcmF3VmFsdWUgPT09ICdudW1iZXInID8ge1xuICAgIG1haW5BeGlzOiByYXdWYWx1ZSxcbiAgICBjcm9zc0F4aXM6IDAsXG4gICAgYWxpZ25tZW50QXhpczogbnVsbFxuICB9IDoge1xuICAgIG1haW5BeGlzOiByYXdWYWx1ZS5tYWluQXhpcyB8fCAwLFxuICAgIGNyb3NzQXhpczogcmF3VmFsdWUuY3Jvc3NBeGlzIHx8IDAsXG4gICAgYWxpZ25tZW50QXhpczogcmF3VmFsdWUuYWxpZ25tZW50QXhpc1xuICB9O1xuICBpZiAoYWxpZ25tZW50ICYmIHR5cGVvZiBhbGlnbm1lbnRBeGlzID09PSAnbnVtYmVyJykge1xuICAgIGNyb3NzQXhpcyA9IGFsaWdubWVudCA9PT0gJ2VuZCcgPyBhbGlnbm1lbnRBeGlzICogLTEgOiBhbGlnbm1lbnRBeGlzO1xuICB9XG4gIHJldHVybiBpc1ZlcnRpY2FsID8ge1xuICAgIHg6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpLFxuICAgIHk6IG1haW5BeGlzICogbWFpbkF4aXNNdWx0aVxuICB9IDoge1xuICAgIHg6IG1haW5BeGlzICogbWFpbkF4aXNNdWx0aSxcbiAgICB5OiBjcm9zc0F4aXMgKiBjcm9zc0F4aXNNdWx0aVxuICB9O1xufVxuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwbGFjZW1lbnQgYnkgdHJhbnNsYXRpbmcgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYWxvbmcgdGhlXG4gKiBzcGVjaWZpZWQgYXhlcy5cbiAqIEEgbnVtYmVyIChzaG9ydGhhbmQgZm9yIGBtYWluQXhpc2Agb3IgZGlzdGFuY2UpLCBvciBhbiBheGVzIGNvbmZpZ3VyYXRpb25cbiAqIG9iamVjdCBtYXkgYmUgcGFzc2VkLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL29mZnNldFxuICovXG5jb25zdCBvZmZzZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnb2Zmc2V0JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkYXJyb3c7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGFcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IGRpZmZDb29yZHMgPSBhd2FpdCBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIElmIHRoZSBwbGFjZW1lbnQgaXMgdGhlIHNhbWUgYW5kIHRoZSBhcnJvdyBjYXVzZWQgYW4gYWxpZ25tZW50IG9mZnNldFxuICAgICAgLy8gdGhlbiB3ZSBkb24ndCBuZWVkIHRvIGNoYW5nZSB0aGUgcG9zaXRpb25pbmcgY29vcmRpbmF0ZXMuXG4gICAgICBpZiAocGxhY2VtZW50ID09PSAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZSA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZS5wbGFjZW1lbnQpICYmIChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggKyBkaWZmQ29vcmRzLngsXG4gICAgICAgIHk6IHkgKyBkaWZmQ29vcmRzLnksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5kaWZmQ29vcmRzLFxuICAgICAgICAgIHBsYWNlbWVudFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IHNoaWZ0aW5nIGl0IGluIG9yZGVyIHRvXG4gKiBrZWVwIGl0IGluIHZpZXcgd2hlbiBpdCB3aWxsIG92ZXJmbG93IHRoZSBjbGlwcGluZyBib3VuZGFyeS5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaGlmdFxuICovXG5jb25zdCBzaGlmdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc2hpZnQnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50XG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IGZhbHNlLFxuICAgICAgICBsaW1pdGVyID0ge1xuICAgICAgICAgIGZuOiBfcmVmID0+IHtcbiAgICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgIHlcbiAgICAgICAgICAgIH0gPSBfcmVmO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBjcm9zc0F4aXMgPSBnZXRTaWRlQXhpcyhnZXRTaWRlKHBsYWNlbWVudCkpO1xuICAgICAgY29uc3QgbWFpbkF4aXMgPSBnZXRPcHBvc2l0ZUF4aXMoY3Jvc3NBeGlzKTtcbiAgICAgIGxldCBtYWluQXhpc0Nvb3JkID0gY29vcmRzW21haW5BeGlzXTtcbiAgICAgIGxldCBjcm9zc0F4aXNDb29yZCA9IGNvb3Jkc1tjcm9zc0F4aXNdO1xuICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgY29uc3QgbWluU2lkZSA9IG1haW5BeGlzID09PSAneScgPyAndG9wJyA6ICdsZWZ0JztcbiAgICAgICAgY29uc3QgbWF4U2lkZSA9IG1haW5BeGlzID09PSAneScgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gICAgICAgIGNvbnN0IG1pbiA9IG1haW5BeGlzQ29vcmQgKyBvdmVyZmxvd1ttaW5TaWRlXTtcbiAgICAgICAgY29uc3QgbWF4ID0gbWFpbkF4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICBtYWluQXhpc0Nvb3JkID0gY2xhbXAobWluLCBtYWluQXhpc0Nvb3JkLCBtYXgpO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIGNvbnN0IG1pblNpZGUgPSBjcm9zc0F4aXMgPT09ICd5JyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gY3Jvc3NBeGlzID09PSAneScgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gICAgICAgIGNvbnN0IG1pbiA9IGNyb3NzQXhpc0Nvb3JkICsgb3ZlcmZsb3dbbWluU2lkZV07XG4gICAgICAgIGNvbnN0IG1heCA9IGNyb3NzQXhpc0Nvb3JkIC0gb3ZlcmZsb3dbbWF4U2lkZV07XG4gICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gY2xhbXAobWluLCBjcm9zc0F4aXNDb29yZCwgbWF4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxpbWl0ZWRDb29yZHMgPSBsaW1pdGVyLmZuKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIFttYWluQXhpc106IG1haW5BeGlzQ29vcmQsXG4gICAgICAgIFtjcm9zc0F4aXNdOiBjcm9zc0F4aXNDb29yZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5saW1pdGVkQ29vcmRzLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgeDogbGltaXRlZENvb3Jkcy54IC0geCxcbiAgICAgICAgICB5OiBsaW1pdGVkQ29vcmRzLnkgLSB5LFxuICAgICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICAgIFttYWluQXhpc106IGNoZWNrTWFpbkF4aXMsXG4gICAgICAgICAgICBbY3Jvc3NBeGlzXTogY2hlY2tDcm9zc0F4aXNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgb3B0aW9ucyxcbiAgICBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBvZmZzZXQgPSAwLFxuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSB0cnVlXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9O1xuICAgICAgY29uc3QgY3Jvc3NBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IG1haW5BeGlzID0gZ2V0T3Bwb3NpdGVBeGlzKGNyb3NzQXhpcyk7XG4gICAgICBsZXQgbWFpbkF4aXNDb29yZCA9IGNvb3Jkc1ttYWluQXhpc107XG4gICAgICBsZXQgY3Jvc3NBeGlzQ29vcmQgPSBjb29yZHNbY3Jvc3NBeGlzXTtcbiAgICAgIGNvbnN0IHJhd09mZnNldCA9IGV2YWx1YXRlKG9mZnNldCwgc3RhdGUpO1xuICAgICAgY29uc3QgY29tcHV0ZWRPZmZzZXQgPSB0eXBlb2YgcmF3T2Zmc2V0ID09PSAnbnVtYmVyJyA/IHtcbiAgICAgICAgbWFpbkF4aXM6IHJhd09mZnNldCxcbiAgICAgICAgY3Jvc3NBeGlzOiAwXG4gICAgICB9IDoge1xuICAgICAgICBtYWluQXhpczogMCxcbiAgICAgICAgY3Jvc3NBeGlzOiAwLFxuICAgICAgICAuLi5yYXdPZmZzZXRcbiAgICAgIH07XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBjb25zdCBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgICAgICBjb25zdCBsaW1pdE1pbiA9IHJlY3RzLnJlZmVyZW5jZVttYWluQXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5dICsgY29tcHV0ZWRPZmZzZXQubWFpbkF4aXM7XG4gICAgICAgIGNvbnN0IGxpbWl0TWF4ID0gcmVjdHMucmVmZXJlbmNlW21haW5BeGlzXSArIHJlY3RzLnJlZmVyZW5jZVtsZW5dIC0gY29tcHV0ZWRPZmZzZXQubWFpbkF4aXM7XG4gICAgICAgIGlmIChtYWluQXhpc0Nvb3JkIDwgbGltaXRNaW4pIHtcbiAgICAgICAgICBtYWluQXhpc0Nvb3JkID0gbGltaXRNaW47XG4gICAgICAgIH0gZWxzZSBpZiAobWFpbkF4aXNDb29yZCA+IGxpbWl0TWF4KSB7XG4gICAgICAgICAgbWFpbkF4aXNDb29yZCA9IGxpbWl0TWF4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRvZmZzZSwgX21pZGRsZXdhcmVEYXRhJG9mZnNlMjtcbiAgICAgICAgY29uc3QgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcbiAgICAgICAgY29uc3QgaXNPcmlnaW5TaWRlID0gWyd0b3AnLCAnbGVmdCddLmluY2x1ZGVzKGdldFNpZGUocGxhY2VtZW50KSk7XG4gICAgICAgIGNvbnN0IGxpbWl0TWluID0gcmVjdHMucmVmZXJlbmNlW2Nyb3NzQXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5dICsgKGlzT3JpZ2luU2lkZSA/ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlW2Nyb3NzQXhpc10pIHx8IDAgOiAwKSArIChpc09yaWdpblNpZGUgPyAwIDogY29tcHV0ZWRPZmZzZXQuY3Jvc3NBeGlzKTtcbiAgICAgICAgY29uc3QgbGltaXRNYXggPSByZWN0cy5yZWZlcmVuY2VbY3Jvc3NBeGlzXSArIHJlY3RzLnJlZmVyZW5jZVtsZW5dICsgKGlzT3JpZ2luU2lkZSA/IDAgOiAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZTIgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2UyW2Nyb3NzQXhpc10pIHx8IDApIC0gKGlzT3JpZ2luU2lkZSA/IGNvbXB1dGVkT2Zmc2V0LmNyb3NzQXhpcyA6IDApO1xuICAgICAgICBpZiAoY3Jvc3NBeGlzQ29vcmQgPCBsaW1pdE1pbikge1xuICAgICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gbGltaXRNaW47XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NBeGlzQ29vcmQgPiBsaW1pdE1heCkge1xuICAgICAgICAgIGNyb3NzQXhpc0Nvb3JkID0gbGltaXRNYXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIFttYWluQXhpc106IG1haW5BeGlzQ29vcmQsXG4gICAgICAgIFtjcm9zc0F4aXNdOiBjcm9zc0F4aXNDb29yZFxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdGhhdCBhbGxvd3MgeW91IHRvIGNoYW5nZSB0aGUgc2l6ZSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCDigJRcbiAqIGZvciBpbnN0YW5jZSwgcHJldmVudCBpdCBmcm9tIG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyBib3VuZGFyeSBvciBtYXRjaCB0aGVcbiAqIHdpZHRoIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaXplXG4gKi9cbmNvbnN0IHNpemUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3NpemUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfc3RhdGUkbWlkZGxld2FyZURhdGEsIF9zdGF0ZSRtaWRkbGV3YXJlRGF0YTI7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBlbGVtZW50c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBhcHBseSA9ICgpID0+IHt9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNZQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfSA9IHJlY3RzLmZsb2F0aW5nO1xuICAgICAgbGV0IGhlaWdodFNpZGU7XG4gICAgICBsZXQgd2lkdGhTaWRlO1xuICAgICAgaWYgKHNpZGUgPT09ICd0b3AnIHx8IHNpZGUgPT09ICdib3R0b20nKSB7XG4gICAgICAgIGhlaWdodFNpZGUgPSBzaWRlO1xuICAgICAgICB3aWR0aFNpZGUgPSBhbGlnbm1lbnQgPT09ICgoYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpKSA/ICdzdGFydCcgOiAnZW5kJykgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGhTaWRlID0gc2lkZTtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IGFsaWdubWVudCA9PT0gJ2VuZCcgPyAndG9wJyA6ICdib3R0b20nO1xuICAgICAgfVxuICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nSGVpZ2h0ID0gaGVpZ2h0IC0gb3ZlcmZsb3cudG9wIC0gb3ZlcmZsb3cuYm90dG9tO1xuICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nV2lkdGggPSB3aWR0aCAtIG92ZXJmbG93LmxlZnQgLSBvdmVyZmxvdy5yaWdodDtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0ID0gbWluKGhlaWdodCAtIG92ZXJmbG93W2hlaWdodFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVXaWR0aCA9IG1pbih3aWR0aCAtIG92ZXJmbG93W3dpZHRoU2lkZV0sIG1heGltdW1DbGlwcGluZ1dpZHRoKTtcbiAgICAgIGNvbnN0IG5vU2hpZnQgPSAhc3RhdGUubWlkZGxld2FyZURhdGEuc2hpZnQ7XG4gICAgICBsZXQgYXZhaWxhYmxlSGVpZ2h0ID0gb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQ7XG4gICAgICBsZXQgYXZhaWxhYmxlV2lkdGggPSBvdmVyZmxvd0F2YWlsYWJsZVdpZHRoO1xuICAgICAgaWYgKChfc3RhdGUkbWlkZGxld2FyZURhdGEgPSBzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdCkgIT0gbnVsbCAmJiBfc3RhdGUkbWlkZGxld2FyZURhdGEuZW5hYmxlZC54KSB7XG4gICAgICAgIGF2YWlsYWJsZVdpZHRoID0gbWF4aW11bUNsaXBwaW5nV2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoKF9zdGF0ZSRtaWRkbGV3YXJlRGF0YTIgPSBzdGF0ZS5taWRkbGV3YXJlRGF0YS5zaGlmdCkgIT0gbnVsbCAmJiBfc3RhdGUkbWlkZGxld2FyZURhdGEyLmVuYWJsZWQueSkge1xuICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQ7XG4gICAgICB9XG4gICAgICBpZiAobm9TaGlmdCAmJiAhYWxpZ25tZW50KSB7XG4gICAgICAgIGNvbnN0IHhNaW4gPSBtYXgob3ZlcmZsb3cubGVmdCwgMCk7XG4gICAgICAgIGNvbnN0IHhNYXggPSBtYXgob3ZlcmZsb3cucmlnaHQsIDApO1xuICAgICAgICBjb25zdCB5TWluID0gbWF4KG92ZXJmbG93LnRvcCwgMCk7XG4gICAgICAgIGNvbnN0IHlNYXggPSBtYXgob3ZlcmZsb3cuYm90dG9tLCAwKTtcbiAgICAgICAgaWYgKGlzWUF4aXMpIHtcbiAgICAgICAgICBhdmFpbGFibGVXaWR0aCA9IHdpZHRoIC0gMiAqICh4TWluICE9PSAwIHx8IHhNYXggIT09IDAgPyB4TWluICsgeE1heCA6IG1heChvdmVyZmxvdy5sZWZ0LCBvdmVyZmxvdy5yaWdodCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IGhlaWdodCAtIDIgKiAoeU1pbiAhPT0gMCB8fCB5TWF4ICE9PSAwID8geU1pbiArIHlNYXggOiBtYXgob3ZlcmZsb3cudG9wLCBvdmVyZmxvdy5ib3R0b20pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXdhaXQgYXBwbHkoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgYXZhaWxhYmxlV2lkdGgsXG4gICAgICAgIGF2YWlsYWJsZUhlaWdodFxuICAgICAgfSk7XG4gICAgICBjb25zdCBuZXh0RGltZW5zaW9ucyA9IGF3YWl0IHBsYXRmb3JtLmdldERpbWVuc2lvbnMoZWxlbWVudHMuZmxvYXRpbmcpO1xuICAgICAgaWYgKHdpZHRoICE9PSBuZXh0RGltZW5zaW9ucy53aWR0aCB8fCBoZWlnaHQgIT09IG5leHREaW1lbnNpb25zLmhlaWdodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICByZWN0czogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgeyBhcnJvdywgYXV0b1BsYWNlbWVudCwgY29tcHV0ZVBvc2l0aW9uLCBkZXRlY3RPdmVyZmxvdywgZmxpcCwgaGlkZSwgaW5saW5lLCBsaW1pdFNoaWZ0LCBvZmZzZXQsIHNoaWZ0LCBzaXplIH07XG4iLCJmdW5jdGlvbiBoYXNXaW5kb3coKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbn1cbmZ1bmN0aW9uIGdldE5vZGVOYW1lKG5vZGUpIHtcbiAgaWYgKGlzTm9kZShub2RlKSkge1xuICAgIHJldHVybiAobm9kZS5ub2RlTmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvLyBNb2NrZWQgbm9kZXMgaW4gdGVzdGluZyBlbnZpcm9ubWVudHMgbWF5IG5vdCBiZSBpbnN0YW5jZXMgb2YgTm9kZS4gQnlcbiAgLy8gcmV0dXJuaW5nIGAjZG9jdW1lbnRgIGFuIGluZmluaXRlIGxvb3Agd29uJ3Qgb2NjdXIuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMjMxN1xuICByZXR1cm4gJyNkb2N1bWVudCc7XG59XG5mdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIChub2RlID09IG51bGwgfHwgKF9ub2RlJG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG59XG5mdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQobm9kZSkge1xuICB2YXIgX3JlZjtcbiAgcmV0dXJuIChfcmVmID0gKGlzTm9kZShub2RlKSA/IG5vZGUub3duZXJEb2N1bWVudCA6IG5vZGUuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZWYuZG9jdW1lbnRFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgTm9kZSB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuTm9kZTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xuICBpZiAoIWhhc1dpbmRvdygpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkhUTUxFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNTaGFkb3dSb290KHZhbHVlKSB7XG4gIGlmICghaGFzV2luZG93KCkgfHwgdHlwZW9mIFNoYWRvd1Jvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLlNoYWRvd1Jvb3Q7XG59XG5mdW5jdGlvbiBpc092ZXJmbG93RWxlbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICBvdmVyZmxvdyxcbiAgICBvdmVyZmxvd1gsXG4gICAgb3ZlcmZsb3dZLFxuICAgIGRpc3BsYXlcbiAgfSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkgJiYgIVsnaW5saW5lJywgJ2NvbnRlbnRzJ10uaW5jbHVkZXMoZGlzcGxheSk7XG59XG5mdW5jdGlvbiBpc1RhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBbJ3RhYmxlJywgJ3RkJywgJ3RoJ10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUoZWxlbWVudCkpO1xufVxuZnVuY3Rpb24gaXNUb3BMYXllcihlbGVtZW50KSB7XG4gIHJldHVybiBbJzpwb3BvdmVyLW9wZW4nLCAnOm1vZGFsJ10uc29tZShzZWxlY3RvciA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNDb250YWluaW5nQmxvY2soZWxlbWVudE9yQ3NzKSB7XG4gIGNvbnN0IHdlYmtpdCA9IGlzV2ViS2l0KCk7XG4gIGNvbnN0IGNzcyA9IGlzRWxlbWVudChlbGVtZW50T3JDc3MpID8gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50T3JDc3MpIDogZWxlbWVudE9yQ3NzO1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9Db250YWluaW5nX2Jsb2NrI2lkZW50aWZ5aW5nX3RoZV9jb250YWluaW5nX2Jsb2NrXG4gIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdHJhbnNmb3Jtcy0yLyNpbmRpdmlkdWFsLXRyYW5zZm9ybXNcbiAgcmV0dXJuIFsndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZScsICdzY2FsZScsICdyb3RhdGUnLCAncGVyc3BlY3RpdmUnXS5zb21lKHZhbHVlID0+IGNzc1t2YWx1ZV0gPyBjc3NbdmFsdWVdICE9PSAnbm9uZScgOiBmYWxzZSkgfHwgKGNzcy5jb250YWluZXJUeXBlID8gY3NzLmNvbnRhaW5lclR5cGUgIT09ICdub3JtYWwnIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5iYWNrZHJvcEZpbHRlciA/IGNzcy5iYWNrZHJvcEZpbHRlciAhPT0gJ25vbmUnIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5maWx0ZXIgPyBjc3MuZmlsdGVyICE9PSAnbm9uZScgOiBmYWxzZSkgfHwgWyd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlJywgJ3NjYWxlJywgJ3JvdGF0ZScsICdwZXJzcGVjdGl2ZScsICdmaWx0ZXInXS5zb21lKHZhbHVlID0+IChjc3Mud2lsbENoYW5nZSB8fCAnJykuaW5jbHVkZXModmFsdWUpKSB8fCBbJ3BhaW50JywgJ2xheW91dCcsICdzdHJpY3QnLCAnY29udGVudCddLnNvbWUodmFsdWUgPT4gKGNzcy5jb250YWluIHx8ICcnKS5pbmNsdWRlcyh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgbGV0IGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgaWYgKGlzQ29udGFpbmluZ0Jsb2NrKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnROb2RlO1xuICAgIH0gZWxzZSBpZiAoaXNUb3BMYXllcihjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoY3VycmVudE5vZGUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNXZWJLaXQoKSB7XG4gIGlmICh0eXBlb2YgQ1NTID09PSAndW5kZWZpbmVkJyB8fCAhQ1NTLnN1cHBvcnRzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBDU1Muc3VwcG9ydHMoJy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyJywgJ25vbmUnKTtcbn1cbmZ1bmN0aW9uIGlzTGFzdFRyYXZlcnNhYmxlTm9kZShub2RlKSB7XG4gIHJldHVybiBbJ2h0bWwnLCAnYm9keScsICcjZG9jdW1lbnQnXS5pbmNsdWRlcyhnZXROb2RlTmFtZShub2RlKSk7XG59XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KSB7XG4gIGlmIChpc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbFgsXG4gICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudE5vZGUobm9kZSkge1xuICBpZiAoZ2V0Tm9kZU5hbWUobm9kZSkgPT09ICdodG1sJykge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9XG4gIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICBub2RlLmFzc2lnbmVkU2xvdCB8fFxuICAvLyBET00gRWxlbWVudCBkZXRlY3RlZC5cbiAgbm9kZS5wYXJlbnROb2RlIHx8XG4gIC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gIGlzU2hhZG93Um9vdChub2RlKSAmJiBub2RlLmhvc3QgfHxcbiAgLy8gRmFsbGJhY2suXG4gIGdldERvY3VtZW50RWxlbWVudChub2RlKTtcbiAgcmV0dXJuIGlzU2hhZG93Um9vdChyZXN1bHQpID8gcmVzdWx0Lmhvc3QgOiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICBpZiAoaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudCA/IG5vZGUub3duZXJEb2N1bWVudC5ib2R5IDogbm9kZS5ib2R5O1xuICB9XG4gIGlmIChpc0hUTUxFbGVtZW50KHBhcmVudE5vZGUpICYmIGlzT3ZlcmZsb3dFbGVtZW50KHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKHBhcmVudE5vZGUpO1xufVxuZnVuY3Rpb24gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMobm9kZSwgbGlzdCwgdHJhdmVyc2VJZnJhbWVzKSB7XG4gIHZhciBfbm9kZSRvd25lckRvY3VtZW50MjtcbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuICBpZiAodHJhdmVyc2VJZnJhbWVzID09PSB2b2lkIDApIHtcbiAgICB0cmF2ZXJzZUlmcmFtZXMgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHNjcm9sbGFibGVBbmNlc3RvciA9IGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKG5vZGUpO1xuICBjb25zdCBpc0JvZHkgPSBzY3JvbGxhYmxlQW5jZXN0b3IgPT09ICgoX25vZGUkb3duZXJEb2N1bWVudDIgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50Mi5ib2R5KTtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KHNjcm9sbGFibGVBbmNlc3Rvcik7XG4gIGlmIChpc0JvZHkpIHtcbiAgICBjb25zdCBmcmFtZUVsZW1lbnQgPSBnZXRGcmFtZUVsZW1lbnQod2luKTtcbiAgICByZXR1cm4gbGlzdC5jb25jYXQod2luLCB3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzT3ZlcmZsb3dFbGVtZW50KHNjcm9sbGFibGVBbmNlc3RvcikgPyBzY3JvbGxhYmxlQW5jZXN0b3IgOiBbXSwgZnJhbWVFbGVtZW50ICYmIHRyYXZlcnNlSWZyYW1lcyA/IGdldE92ZXJmbG93QW5jZXN0b3JzKGZyYW1lRWxlbWVudCkgOiBbXSk7XG4gIH1cbiAgcmV0dXJuIGxpc3QuY29uY2F0KHNjcm9sbGFibGVBbmNlc3RvciwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoc2Nyb2xsYWJsZUFuY2VzdG9yLCBbXSwgdHJhdmVyc2VJZnJhbWVzKSk7XG59XG5mdW5jdGlvbiBnZXRGcmFtZUVsZW1lbnQod2luKSB7XG4gIHJldHVybiB3aW4ucGFyZW50ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih3aW4ucGFyZW50KSA/IHdpbi5mcmFtZUVsZW1lbnQgOiBudWxsO1xufVxuXG5leHBvcnQgeyBnZXRDb21wdXRlZFN0eWxlLCBnZXRDb250YWluaW5nQmxvY2ssIGdldERvY3VtZW50RWxlbWVudCwgZ2V0RnJhbWVFbGVtZW50LCBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvciwgZ2V0Tm9kZU5hbWUsIGdldE5vZGVTY3JvbGwsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBnZXRXaW5kb3csIGlzQ29udGFpbmluZ0Jsb2NrLCBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIGlzTGFzdFRyYXZlcnNhYmxlTm9kZSwgaXNOb2RlLCBpc092ZXJmbG93RWxlbWVudCwgaXNTaGFkb3dSb290LCBpc1RhYmxlRWxlbWVudCwgaXNUb3BMYXllciwgaXNXZWJLaXQgfTtcbiIsImltcG9ydCB7IHJlY3RUb0NsaWVudFJlY3QsIGFycm93IGFzIGFycm93JDEsIGF1dG9QbGFjZW1lbnQgYXMgYXV0b1BsYWNlbWVudCQxLCBkZXRlY3RPdmVyZmxvdyBhcyBkZXRlY3RPdmVyZmxvdyQxLCBmbGlwIGFzIGZsaXAkMSwgaGlkZSBhcyBoaWRlJDEsIGlubGluZSBhcyBpbmxpbmUkMSwgbGltaXRTaGlmdCBhcyBsaW1pdFNoaWZ0JDEsIG9mZnNldCBhcyBvZmZzZXQkMSwgc2hpZnQgYXMgc2hpZnQkMSwgc2l6ZSBhcyBzaXplJDEsIGNvbXB1dGVQb3NpdGlvbiBhcyBjb21wdXRlUG9zaXRpb24kMSB9IGZyb20gJ0BmbG9hdGluZy11aS9jb3JlJztcbmltcG9ydCB7IHJvdW5kLCBjcmVhdGVDb29yZHMsIG1heCwgbWluLCBmbG9vciB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5pbXBvcnQgeyBnZXRDb21wdXRlZFN0eWxlLCBpc0hUTUxFbGVtZW50LCBpc0VsZW1lbnQsIGdldFdpbmRvdywgaXNXZWJLaXQsIGdldEZyYW1lRWxlbWVudCwgZ2V0Tm9kZVNjcm9sbCwgZ2V0RG9jdW1lbnRFbGVtZW50LCBpc1RvcExheWVyLCBnZXROb2RlTmFtZSwgaXNPdmVyZmxvd0VsZW1lbnQsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUsIGlzQ29udGFpbmluZ0Jsb2NrLCBpc1RhYmxlRWxlbWVudCwgZ2V0Q29udGFpbmluZ0Jsb2NrIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzL2RvbSc7XG5leHBvcnQgeyBnZXRPdmVyZmxvd0FuY2VzdG9ycyB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscy9kb20nO1xuXG5mdW5jdGlvbiBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgLy8gSW4gdGVzdGluZyBlbnZpcm9ubWVudHMsIHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBwcm9wZXJ0aWVzIGFyZSBlbXB0eVxuICAvLyBzdHJpbmdzIGZvciBTVkcgZWxlbWVudHMsIHJldHVybmluZyBOYU4uIEZhbGxiYWNrIHRvIGAwYCBpbiB0aGlzIGNhc2UuXG4gIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoY3NzLndpZHRoKSB8fCAwO1xuICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChjc3MuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBoYXNPZmZzZXQgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBvZmZzZXRXaWR0aCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0V2lkdGggOiB3aWR0aDtcbiAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRIZWlnaHQgOiBoZWlnaHQ7XG4gIGNvbnN0IHNob3VsZEZhbGxiYWNrID0gcm91bmQod2lkdGgpICE9PSBvZmZzZXRXaWR0aCB8fCByb3VuZChoZWlnaHQpICE9PSBvZmZzZXRIZWlnaHQ7XG4gIGlmIChzaG91bGRGYWxsYmFjaykge1xuICAgIHdpZHRoID0gb2Zmc2V0V2lkdGg7XG4gICAgaGVpZ2h0ID0gb2Zmc2V0SGVpZ2h0O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICQ6IHNob3VsZEZhbGxiYWNrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVud3JhcEVsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gIWlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgOiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBnZXRTY2FsZShlbGVtZW50KSB7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZG9tRWxlbWVudCkpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29vcmRzKDEpO1xuICB9XG4gIGNvbnN0IHJlY3QgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgICRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZG9tRWxlbWVudCk7XG4gIGxldCB4ID0gKCQgPyByb3VuZChyZWN0LndpZHRoKSA6IHJlY3Qud2lkdGgpIC8gd2lkdGg7XG4gIGxldCB5ID0gKCQgPyByb3VuZChyZWN0LmhlaWdodCkgOiByZWN0LmhlaWdodCkgLyBoZWlnaHQ7XG5cbiAgLy8gMCwgTmFOLCBvciBJbmZpbml0eSBzaG91bGQgYWx3YXlzIGZhbGxiYWNrIHRvIDEuXG5cbiAgaWYgKCF4IHx8ICFOdW1iZXIuaXNGaW5pdGUoeCkpIHtcbiAgICB4ID0gMTtcbiAgfVxuICBpZiAoIXkgfHwgIU51bWJlci5pc0Zpbml0ZSh5KSkge1xuICAgIHkgPSAxO1xuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmNvbnN0IG5vT2Zmc2V0cyA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb29yZHMoMCk7XG5mdW5jdGlvbiBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoIWlzV2ViS2l0KCkgfHwgIXdpbi52aXN1YWxWaWV3cG9ydCkge1xuICAgIHJldHVybiBub09mZnNldHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcbiAgICB5OiB3aW4udmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGVsZW1lbnQsIGlzRml4ZWQsIGZsb2F0aW5nT2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpc0ZpeGVkID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkID0gZmFsc2U7XG4gIH1cbiAgaWYgKCFmbG9hdGluZ09mZnNldFBhcmVudCB8fCBpc0ZpeGVkICYmIGZsb2F0aW5nT2Zmc2V0UGFyZW50ICE9PSBnZXRXaW5kb3coZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQ7XG59XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBpbmNsdWRlU2NhbGUsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG4gIGlmIChpc0ZpeGVkU3RyYXRlZ3kgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWRTdHJhdGVneSA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBkb21FbGVtZW50ID0gdW53cmFwRWxlbWVudChlbGVtZW50KTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBpZiAoaW5jbHVkZVNjYWxlKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudCkge1xuICAgICAgaWYgKGlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2NhbGUgPSBnZXRTY2FsZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpID8gZ2V0VmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50KSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgbGV0IHggPSAoY2xpZW50UmVjdC5sZWZ0ICsgdmlzdWFsT2Zmc2V0cy54KSAvIHNjYWxlLng7XG4gIGxldCB5ID0gKGNsaWVudFJlY3QudG9wICsgdmlzdWFsT2Zmc2V0cy55KSAvIHNjYWxlLnk7XG4gIGxldCB3aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggLyBzY2FsZS54O1xuICBsZXQgaGVpZ2h0ID0gY2xpZW50UmVjdC5oZWlnaHQgLyBzY2FsZS55O1xuICBpZiAoZG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhkb21FbGVtZW50KTtcbiAgICBjb25zdCBvZmZzZXRXaW4gPSBvZmZzZXRQYXJlbnQgJiYgaXNFbGVtZW50KG9mZnNldFBhcmVudCkgPyBnZXRXaW5kb3cob2Zmc2V0UGFyZW50KSA6IG9mZnNldFBhcmVudDtcbiAgICBsZXQgY3VycmVudFdpbiA9IHdpbjtcbiAgICBsZXQgY3VycmVudElGcmFtZSA9IGdldEZyYW1lRWxlbWVudChjdXJyZW50V2luKTtcbiAgICB3aGlsZSAoY3VycmVudElGcmFtZSAmJiBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0V2luICE9PSBjdXJyZW50V2luKSB7XG4gICAgICBjb25zdCBpZnJhbWVTY2FsZSA9IGdldFNjYWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgaWZyYW1lUmVjdCA9IGN1cnJlbnRJRnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgbGVmdCA9IGlmcmFtZVJlY3QubGVmdCArIChjdXJyZW50SUZyYW1lLmNsaWVudExlZnQgKyBwYXJzZUZsb2F0KGNzcy5wYWRkaW5nTGVmdCkpICogaWZyYW1lU2NhbGUueDtcbiAgICAgIGNvbnN0IHRvcCA9IGlmcmFtZVJlY3QudG9wICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50VG9wICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ1RvcCkpICogaWZyYW1lU2NhbGUueTtcbiAgICAgIHggKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgIHkgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHdpZHRoICo9IGlmcmFtZVNjYWxlLng7XG4gICAgICBoZWlnaHQgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHggKz0gbGVmdDtcbiAgICAgIHkgKz0gdG9wO1xuICAgICAgY3VycmVudFdpbiA9IGdldFdpbmRvdyhjdXJyZW50SUZyYW1lKTtcbiAgICAgIGN1cnJlbnRJRnJhbWUgPSBnZXRGcmFtZUVsZW1lbnQoY3VycmVudFdpbik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH0pO1xufVxuXG4vLyBJZiA8aHRtbD4gaGFzIGEgQ1NTIHdpZHRoIGdyZWF0ZXIgdGhhbiB0aGUgdmlld3BvcnQsIHRoZW4gdGhpcyB3aWxsIGJlXG4vLyBpbmNvcnJlY3QgZm9yIFJUTC5cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCwgcmVjdCkge1xuICBjb25zdCBsZWZ0U2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xuICBpZiAoIXJlY3QpIHtcbiAgICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGxlZnRTY3JvbGw7XG4gIH1cbiAgcmV0dXJuIHJlY3QubGVmdCArIGxlZnRTY3JvbGw7XG59XG5cbmZ1bmN0aW9uIGdldEhUTUxPZmZzZXQoZG9jdW1lbnRFbGVtZW50LCBzY3JvbGwsIGlnbm9yZVNjcm9sbGJhclgpIHtcbiAgaWYgKGlnbm9yZVNjcm9sbGJhclggPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZVNjcm9sbGJhclggPSBmYWxzZTtcbiAgfVxuICBjb25zdCBodG1sUmVjdCA9IGRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeCA9IGh0bWxSZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIChpZ25vcmVTY3JvbGxiYXJYID8gMCA6XG4gIC8vIFJUTCA8Ym9keT4gc2Nyb2xsYmFyLlxuICBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCwgaHRtbFJlY3QpKTtcbiAgY29uc3QgeSA9IGh0bWxSZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3A7XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50cyxcbiAgICByZWN0LFxuICAgIG9mZnNldFBhcmVudCxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSAnZml4ZWQnO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgdG9wTGF5ZXIgPSBlbGVtZW50cyA/IGlzVG9wTGF5ZXIoZWxlbWVudHMuZmxvYXRpbmcpIDogZmFsc2U7XG4gIGlmIChvZmZzZXRQYXJlbnQgPT09IGRvY3VtZW50RWxlbWVudCB8fCB0b3BMYXllciAmJiBpc0ZpeGVkKSB7XG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cbiAgbGV0IHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBsZXQgc2NhbGUgPSBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IG9mZnNldHMgPSBjcmVhdGVDb29yZHMoMCk7XG4gIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgIT09ICdib2R5JyB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcbiAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIG9mZnNldHMueCA9IG9mZnNldFJlY3QueCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgb2Zmc2V0cy55ID0gb2Zmc2V0UmVjdC55ICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9XG4gIH1cbiAgY29uc3QgaHRtbE9mZnNldCA9IGRvY3VtZW50RWxlbWVudCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQgPyBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsLCB0cnVlKSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcmVjdC53aWR0aCAqIHNjYWxlLngsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCAqIHNjYWxlLnksXG4gICAgeDogcmVjdC54ICogc2NhbGUueCAtIHNjcm9sbC5zY3JvbGxMZWZ0ICogc2NhbGUueCArIG9mZnNldHMueCArIGh0bWxPZmZzZXQueCxcbiAgICB5OiByZWN0LnkgKiBzY2FsZS55IC0gc2Nyb2xsLnNjcm9sbFRvcCAqIHNjYWxlLnkgKyBvZmZzZXRzLnkgKyBodG1sT2Zmc2V0LnlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdHMoZWxlbWVudCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmdldENsaWVudFJlY3RzKCkpO1xufVxuXG4vLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlLlxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KTtcbiAgY29uc3QgYm9keSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICBjb25zdCB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5LnNjcm9sbFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgbGV0IHggPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICBjb25zdCB5ID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgbGV0IGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgY29uc3QgdmlzdWFsVmlld3BvcnRCYXNlZCA9IGlzV2ViS2l0KCk7XG4gICAgaWYgKCF2aXN1YWxWaWV3cG9ydEJhc2VkIHx8IHZpc3VhbFZpZXdwb3J0QmFzZWQgJiYgc3RyYXRlZ3kgPT09ICdmaXhlZCcpIHtcbiAgICAgIHggPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0O1xuICAgICAgeSA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbi8vIFJldHVybnMgdGhlIGlubmVyIGNsaWVudCByZWN0LCBzdWJ0cmFjdGluZyBzY3JvbGxiYXJzIGlmIHByZXNlbnQuXG5mdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIHN0cmF0ZWd5ID09PSAnZml4ZWQnKTtcbiAgY29uc3QgdG9wID0gY2xpZW50UmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgY29uc3QgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjYWxlLng7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NhbGUueTtcbiAgY29uc3QgeCA9IGxlZnQgKiBzY2FsZS54O1xuICBjb25zdCB5ID0gdG9wICogc2NhbGUueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpIHtcbiAgbGV0IHJlY3Q7XG4gIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSAndmlld3BvcnQnKSB7XG4gICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gIH0gZWxzZSBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gJ2RvY3VtZW50Jykge1xuICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnQoY2xpcHBpbmdBbmNlc3RvcikpIHtcbiAgICByZWN0ID0gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpO1xuICAgIHJlY3QgPSB7XG4gICAgICB4OiBjbGlwcGluZ0FuY2VzdG9yLnggLSB2aXN1YWxPZmZzZXRzLngsXG4gICAgICB5OiBjbGlwcGluZ0FuY2VzdG9yLnkgLSB2aXN1YWxPZmZzZXRzLnksXG4gICAgICB3aWR0aDogY2xpcHBpbmdBbmNlc3Rvci53aWR0aCxcbiAgICAgIGhlaWdodDogY2xpcHBpbmdBbmNlc3Rvci5oZWlnaHRcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHJlY3QpO1xufVxuZnVuY3Rpb24gaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIHN0b3BOb2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICBpZiAocGFyZW50Tm9kZSA9PT0gc3RvcE5vZGUgfHwgIWlzRWxlbWVudChwYXJlbnROb2RlKSB8fCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUocGFyZW50Tm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSkucG9zaXRpb24gPT09ICdmaXhlZCcgfHwgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKHBhcmVudE5vZGUsIHN0b3BOb2RlKTtcbn1cblxuLy8gQSBcImNsaXBwaW5nIGFuY2VzdG9yXCIgaXMgYW4gYG92ZXJmbG93YCBlbGVtZW50IHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBjaGlsZCBlbGVtZW50cy4gVGhpcyByZXR1cm5zIGFsbCBjbGlwcGluZyBhbmNlc3RvcnNcbi8vIG9mIHRoZSBnaXZlbiBlbGVtZW50IHVwIHRoZSB0cmVlLlxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIGNhY2hlKSB7XG4gIGNvbnN0IGNhY2hlZFJlc3VsdCA9IGNhY2hlLmdldChlbGVtZW50KTtcbiAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgIHJldHVybiBjYWNoZWRSZXN1bHQ7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGdldE92ZXJmbG93QW5jZXN0b3JzKGVsZW1lbnQsIFtdLCBmYWxzZSkuZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkgJiYgZ2V0Tm9kZU5hbWUoZWwpICE9PSAnYm9keScpO1xuICBsZXQgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICBjb25zdCBlbGVtZW50SXNGaXhlZCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCc7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcbiAgd2hpbGUgKGlzRWxlbWVudChjdXJyZW50Tm9kZSkgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShjdXJyZW50Tm9kZSkpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgPSBpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSk7XG4gICAgaWYgKCFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZERyb3BDdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmICFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA6ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJyAmJiAhIWN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlICYmIFsnYWJzb2x1dGUnLCAnZml4ZWQnXS5pbmNsdWRlcyhjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbikgfHwgaXNPdmVyZmxvd0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgY3VycmVudE5vZGUpO1xuICAgIGlmIChzaG91bGREcm9wQ3VycmVudE5vZGUpIHtcbiAgICAgIC8vIERyb3Agbm9uLWNvbnRhaW5pbmcgYmxvY2tzLlxuICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihhbmNlc3RvciA9PiBhbmNlc3RvciAhPT0gY3VycmVudE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWNvcmQgbGFzdCBjb250YWluaW5nIGJsb2NrIGZvciBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICBjYWNoZS5zZXQoZWxlbWVudCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgYW5jZXN0b3JzLlxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50LFxuICAgIGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeSxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzID0gYm91bmRhcnkgPT09ICdjbGlwcGluZ0FuY2VzdG9ycycgPyBpc1RvcExheWVyKGVsZW1lbnQpID8gW10gOiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgdGhpcy5fYykgOiBbXS5jb25jYXQoYm91bmRhcnkpO1xuICBjb25zdCBjbGlwcGluZ0FuY2VzdG9ycyA9IFsuLi5lbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMsIHJvb3RCb3VuZGFyeV07XG4gIGNvbnN0IGZpcnN0Q2xpcHBpbmdBbmNlc3RvciA9IGNsaXBwaW5nQW5jZXN0b3JzWzBdO1xuICBjb25zdCBjbGlwcGluZ1JlY3QgPSBjbGlwcGluZ0FuY2VzdG9ycy5yZWR1Y2UoKGFjY1JlY3QsIGNsaXBwaW5nQW5jZXN0b3IpID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgICBhY2NSZWN0LnRvcCA9IG1heChyZWN0LnRvcCwgYWNjUmVjdC50b3ApO1xuICAgIGFjY1JlY3QucmlnaHQgPSBtaW4ocmVjdC5yaWdodCwgYWNjUmVjdC5yaWdodCk7XG4gICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICBhY2NSZWN0LmxlZnQgPSBtYXgocmVjdC5sZWZ0LCBhY2NSZWN0LmxlZnQpO1xuICAgIHJldHVybiBhY2NSZWN0O1xuICB9LCBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgZmlyc3RDbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBjbGlwcGluZ1JlY3QucmlnaHQgLSBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICBoZWlnaHQ6IGNsaXBwaW5nUmVjdC5ib3R0b20gLSBjbGlwcGluZ1JlY3QudG9wLFxuICAgIHg6IGNsaXBwaW5nUmVjdC5sZWZ0LFxuICAgIHk6IGNsaXBwaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGltZW5zaW9ucyhlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZWxlbWVudCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFJlY3RSZWxhdGl2ZVRvT2Zmc2V0UGFyZW50KGVsZW1lbnQsIG9mZnNldFBhcmVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3QgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09ICdmaXhlZCc7XG4gIGNvbnN0IHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgdHJ1ZSwgaXNGaXhlZCwgb2Zmc2V0UGFyZW50KTtcbiAgbGV0IHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuXG4gIC8vIElmIHRoZSA8Ym9keT4gc2Nyb2xsYmFyIGFwcGVhcnMgb24gdGhlIGxlZnQgKGUuZy4gUlRMIHN5c3RlbXMpLiBVc2VcbiAgLy8gRmlyZWZveCB3aXRoIGxheW91dC5zY3JvbGxiYXIuc2lkZSA9IDMgaW4gYWJvdXQ6Y29uZmlnIHRvIHRlc3QgdGhpcy5cbiAgZnVuY3Rpb24gc2V0TGVmdFJUTFNjcm9sbGJhck9mZnNldCgpIHtcbiAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gIH1cbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICAgICAgb2Zmc2V0cy54ID0gb2Zmc2V0UmVjdC54ICsgb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBzZXRMZWZ0UlRMU2Nyb2xsYmFyT2Zmc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0ZpeGVkICYmICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiBkb2N1bWVudEVsZW1lbnQpIHtcbiAgICBzZXRMZWZ0UlRMU2Nyb2xsYmFyT2Zmc2V0KCk7XG4gIH1cbiAgY29uc3QgaHRtbE9mZnNldCA9IGRvY3VtZW50RWxlbWVudCAmJiAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQgPyBnZXRIVE1MT2Zmc2V0KGRvY3VtZW50RWxlbWVudCwgc2Nyb2xsKSA6IGNyZWF0ZUNvb3JkcygwKTtcbiAgY29uc3QgeCA9IHJlY3QubGVmdCArIHNjcm9sbC5zY3JvbGxMZWZ0IC0gb2Zmc2V0cy54IC0gaHRtbE9mZnNldC54O1xuICBjb25zdCB5ID0gcmVjdC50b3AgKyBzY3JvbGwuc2Nyb2xsVG9wIC0gb2Zmc2V0cy55IC0gaHRtbE9mZnNldC55O1xuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzU3RhdGljUG9zaXRpb25lZChlbGVtZW50KSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnc3RhdGljJztcbn1cblxuZnVuY3Rpb24gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChwb2x5ZmlsbCkge1xuICAgIHJldHVybiBwb2x5ZmlsbChlbGVtZW50KTtcbiAgfVxuICBsZXQgcmF3T2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG5cbiAgLy8gRmlyZWZveCByZXR1cm5zIHRoZSA8aHRtbD4gZWxlbWVudCBhcyB0aGUgb2Zmc2V0UGFyZW50IGlmIGl0J3Mgbm9uLXN0YXRpYyxcbiAgLy8gd2hpbGUgQ2hyb21lIGFuZCBTYWZhcmkgcmV0dXJuIHRoZSA8Ym9keT4gZWxlbWVudC4gVGhlIDxib2R5PiBlbGVtZW50IG11c3RcbiAgLy8gYmUgdXNlZCB0byBwZXJmb3JtIHRoZSBjb3JyZWN0IGNhbGN1bGF0aW9ucyBldmVuIGlmIHRoZSA8aHRtbD4gZWxlbWVudCBpc1xuICAvLyBub24tc3RhdGljLlxuICBpZiAoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpID09PSByYXdPZmZzZXRQYXJlbnQpIHtcbiAgICByYXdPZmZzZXRQYXJlbnQgPSByYXdPZmZzZXRQYXJlbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICB9XG4gIHJldHVybiByYXdPZmZzZXRQYXJlbnQ7XG59XG5cbi8vIEdldHMgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcG9zaXRpb25lZCBlbGVtZW50LiBIYW5kbGVzIHNvbWUgZWRnZSBjYXNlcyxcbi8vIHN1Y2ggYXMgdGFibGUgYW5jZXN0b3JzIGFuZCBjcm9zcyBicm93c2VyIGJ1Z3MuXG5mdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoaXNUb3BMYXllcihlbGVtZW50KSkge1xuICAgIHJldHVybiB3aW47XG4gIH1cbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgbGV0IHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgd2hpbGUgKHN2Z09mZnNldFBhcmVudCAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKHN2Z09mZnNldFBhcmVudCkpIHtcbiAgICAgIGlmIChpc0VsZW1lbnQoc3ZnT2Zmc2V0UGFyZW50KSAmJiAhaXNTdGF0aWNQb3NpdGlvbmVkKHN2Z09mZnNldFBhcmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHN2Z09mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoc3ZnT2Zmc2V0UGFyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbjtcbiAgfVxuICBsZXQgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCk7XG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSkge1xuICAgIG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQob2Zmc2V0UGFyZW50LCBwb2x5ZmlsbCk7XG4gIH1cbiAgaWYgKG9mZnNldFBhcmVudCAmJiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUob2Zmc2V0UGFyZW50KSAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSAmJiAhaXNDb250YWluaW5nQmxvY2sob2Zmc2V0UGFyZW50KSkge1xuICAgIHJldHVybiB3aW47XG4gIH1cbiAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkgfHwgd2luO1xufVxuXG5jb25zdCBnZXRFbGVtZW50UmVjdHMgPSBhc3luYyBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zdCBnZXRPZmZzZXRQYXJlbnRGbiA9IHRoaXMuZ2V0T2Zmc2V0UGFyZW50IHx8IGdldE9mZnNldFBhcmVudDtcbiAgY29uc3QgZ2V0RGltZW5zaW9uc0ZuID0gdGhpcy5nZXREaW1lbnNpb25zO1xuICBjb25zdCBmbG9hdGluZ0RpbWVuc2lvbnMgPSBhd2FpdCBnZXREaW1lbnNpb25zRm4oZGF0YS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChkYXRhLnJlZmVyZW5jZSwgYXdhaXQgZ2V0T2Zmc2V0UGFyZW50Rm4oZGF0YS5mbG9hdGluZyksIGRhdGEuc3RyYXRlZ3kpLFxuICAgIGZsb2F0aW5nOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiBmbG9hdGluZ0RpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGZsb2F0aW5nRGltZW5zaW9ucy5oZWlnaHRcbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBpc1JUTChlbGVtZW50KSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG59XG5cbmNvbnN0IHBsYXRmb3JtID0ge1xuICBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCxcbiAgZ2V0RG9jdW1lbnRFbGVtZW50LFxuICBnZXRDbGlwcGluZ1JlY3QsXG4gIGdldE9mZnNldFBhcmVudCxcbiAgZ2V0RWxlbWVudFJlY3RzLFxuICBnZXRDbGllbnRSZWN0cyxcbiAgZ2V0RGltZW5zaW9ucyxcbiAgZ2V0U2NhbGUsXG4gIGlzRWxlbWVudCxcbiAgaXNSVExcbn07XG5cbmZ1bmN0aW9uIHJlY3RzQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS54ID09PSBiLnggJiYgYS55ID09PSBiLnkgJiYgYS53aWR0aCA9PT0gYi53aWR0aCAmJiBhLmhlaWdodCA9PT0gYi5oZWlnaHQ7XG59XG5cbi8vIGh0dHBzOi8vc2FtdGhvci5hdS8yMDIxL29ic2VydmluZy1kb20vXG5mdW5jdGlvbiBvYnNlcnZlTW92ZShlbGVtZW50LCBvbk1vdmUpIHtcbiAgbGV0IGlvID0gbnVsbDtcbiAgbGV0IHRpbWVvdXRJZDtcbiAgY29uc3Qgcm9vdCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICB2YXIgX2lvO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIChfaW8gPSBpbykgPT0gbnVsbCB8fCBfaW8uZGlzY29ubmVjdCgpO1xuICAgIGlvID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiByZWZyZXNoKHNraXAsIHRocmVzaG9sZCkge1xuICAgIGlmIChza2lwID09PSB2b2lkIDApIHtcbiAgICAgIHNraXAgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRocmVzaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJlc2hvbGQgPSAxO1xuICAgIH1cbiAgICBjbGVhbnVwKCk7XG4gICAgY29uc3QgZWxlbWVudFJlY3RGb3JSb290TWFyZ2luID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB7XG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gZWxlbWVudFJlY3RGb3JSb290TWFyZ2luO1xuICAgIGlmICghc2tpcCkge1xuICAgICAgb25Nb3ZlKCk7XG4gICAgfVxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnNldFRvcCA9IGZsb29yKHRvcCk7XG4gICAgY29uc3QgaW5zZXRSaWdodCA9IGZsb29yKHJvb3QuY2xpZW50V2lkdGggLSAobGVmdCArIHdpZHRoKSk7XG4gICAgY29uc3QgaW5zZXRCb3R0b20gPSBmbG9vcihyb290LmNsaWVudEhlaWdodCAtICh0b3AgKyBoZWlnaHQpKTtcbiAgICBjb25zdCBpbnNldExlZnQgPSBmbG9vcihsZWZ0KTtcbiAgICBjb25zdCByb290TWFyZ2luID0gLWluc2V0VG9wICsgXCJweCBcIiArIC1pbnNldFJpZ2h0ICsgXCJweCBcIiArIC1pbnNldEJvdHRvbSArIFwicHggXCIgKyAtaW5zZXRMZWZ0ICsgXCJweFwiO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290TWFyZ2luLFxuICAgICAgdGhyZXNob2xkOiBtYXgoMCwgbWluKDEsIHRocmVzaG9sZCkpIHx8IDFcbiAgICB9O1xuICAgIGxldCBpc0ZpcnN0VXBkYXRlID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVPYnNlcnZlKGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgIGlmIChyYXRpbyAhPT0gdGhyZXNob2xkKSB7XG4gICAgICAgIGlmICghaXNGaXJzdFVwZGF0ZSkge1xuICAgICAgICAgIHJldHVybiByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXRpbykge1xuICAgICAgICAgIC8vIElmIHRoZSByZWZlcmVuY2UgaXMgY2xpcHBlZCwgdGhlIHJhdGlvIGlzIDAuIFRocm90dGxlIHRoZSByZWZyZXNoXG4gICAgICAgICAgLy8gdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIG9mIHVwZGF0ZXMuXG4gICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWZyZXNoKGZhbHNlLCAxZS03KTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKGZhbHNlLCByYXRpbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyYXRpbyA9PT0gMSAmJiAhcmVjdHNBcmVFcXVhbChlbGVtZW50UmVjdEZvclJvb3RNYXJnaW4sIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpKSB7XG4gICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCBldmVuIHRob3VnaCB0aGUgcmF0aW8gaXMgcmVwb3J0ZWQgYXMgMSwgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgaXMgbm90IGFjdHVhbGx5IGZ1bGx5IHdpdGhpbiB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIncyByb290XG4gICAgICAgIC8vIGFyZWEgYW55bW9yZS4gVGhpcyBjYW4gaGFwcGVuIHVuZGVyIHBlcmZvcm1hbmNlIGNvbnN0cmFpbnRzLiBUaGlzIG1heVxuICAgICAgICAvLyBiZSBhIGJ1ZyBpbiB0aGUgYnJvd3NlcidzIEludGVyc2VjdGlvbk9ic2VydmVyIGltcGxlbWVudGF0aW9uLiBUb1xuICAgICAgICAvLyB3b3JrIGFyb3VuZCB0aGlzLCB3ZSBjb21wYXJlIHRoZSBlbGVtZW50J3MgYm91bmRpbmcgcmVjdCBub3cgd2l0aFxuICAgICAgICAvLyB3aGF0IGl0IHdhcyBhdCB0aGUgdGltZSB3ZSBjcmVhdGVkIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlci4gSWYgdGhleVxuICAgICAgICAvLyBhcmUgbm90IGVxdWFsIHRoZW4gdGhlIGVsZW1lbnQgbW92ZWQsIHNvIHdlIHJlZnJlc2guXG4gICAgICAgIHJlZnJlc2goKTtcbiAgICAgIH1cbiAgICAgIGlzRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBPbGRlciBicm93c2VycyBkb24ndCBzdXBwb3J0IGEgYGRvY3VtZW50YCBhcyB0aGUgcm9vdCBhbmQgd2lsbCB0aHJvdyBhblxuICAgIC8vIGVycm9yLlxuICAgIHRyeSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC8vIEhhbmRsZSA8aWZyYW1lPnNcbiAgICAgICAgcm9vdDogcm9vdC5vd25lckRvY3VtZW50XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChfZSkge1xuICAgICAgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlvLm9ic2VydmUoZWxlbWVudCk7XG4gIH1cbiAgcmVmcmVzaCh0cnVlKTtcbiAgcmV0dXJuIGNsZWFudXA7XG59XG5cbi8qKlxuICogQXV0b21hdGljYWxseSB1cGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCB3aGVuIG5lY2Vzc2FyeS5cbiAqIFNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuIHRoZSBmbG9hdGluZyBlbGVtZW50IGlzIG1vdW50ZWQgb24gdGhlIERPTSBvclxuICogdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICogQHJldHVybnMgY2xlYW51cCBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBpbnZva2VkIHdoZW4gdGhlIGZsb2F0aW5nIGVsZW1lbnQgaXNcbiAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NIG9yIGhpZGRlbiBmcm9tIHRoZSBzY3JlZW4uXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1VwZGF0ZVxuICovXG5mdW5jdGlvbiBhdXRvVXBkYXRlKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBhbmNlc3RvclNjcm9sbCA9IHRydWUsXG4gICAgYW5jZXN0b3JSZXNpemUgPSB0cnVlLFxuICAgIGVsZW1lbnRSZXNpemUgPSB0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicsXG4gICAgbGF5b3V0U2hpZnQgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicsXG4gICAgYW5pbWF0aW9uRnJhbWUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVmZXJlbmNlRWwgPSB1bndyYXBFbGVtZW50KHJlZmVyZW5jZSk7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IGFuY2VzdG9yU2Nyb2xsIHx8IGFuY2VzdG9yUmVzaXplID8gWy4uLihyZWZlcmVuY2VFbCA/IGdldE92ZXJmbG93QW5jZXN0b3JzKHJlZmVyZW5jZUVsKSA6IFtdKSwgLi4uZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoZmxvYXRpbmcpXSA6IFtdO1xuICBhbmNlc3RvcnMuZm9yRWFjaChhbmNlc3RvciA9PiB7XG4gICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlLCB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgYW5jZXN0b3JSZXNpemUgJiYgYW5jZXN0b3IuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdXBkYXRlKTtcbiAgfSk7XG4gIGNvbnN0IGNsZWFudXBJbyA9IHJlZmVyZW5jZUVsICYmIGxheW91dFNoaWZ0ID8gb2JzZXJ2ZU1vdmUocmVmZXJlbmNlRWwsIHVwZGF0ZSkgOiBudWxsO1xuICBsZXQgcmVvYnNlcnZlRnJhbWUgPSAtMTtcbiAgbGV0IHJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgaWYgKGVsZW1lbnRSZXNpemUpIHtcbiAgICByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihfcmVmID0+IHtcbiAgICAgIGxldCBbZmlyc3RFbnRyeV0gPSBfcmVmO1xuICAgICAgaWYgKGZpcnN0RW50cnkgJiYgZmlyc3RFbnRyeS50YXJnZXQgPT09IHJlZmVyZW5jZUVsICYmIHJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgIC8vIFByZXZlbnQgdXBkYXRlIGxvb3BzIHdoZW4gdXNpbmcgdGhlIGBzaXplYCBtaWRkbGV3YXJlLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzE3NDBcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVvYnNlcnZlRnJhbWUpO1xuICAgICAgICByZW9ic2VydmVGcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdmFyIF9yZXNpemVPYnNlcnZlcjtcbiAgICAgICAgICAoX3Jlc2l6ZU9ic2VydmVyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIGlmIChyZWZlcmVuY2VFbCAmJiAhYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUocmVmZXJlbmNlRWwpO1xuICAgIH1cbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgfVxuICBsZXQgZnJhbWVJZDtcbiAgbGV0IHByZXZSZWZSZWN0ID0gYW5pbWF0aW9uRnJhbWUgPyBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKSA6IG51bGw7XG4gIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgIGZyYW1lTG9vcCgpO1xuICB9XG4gIGZ1bmN0aW9uIGZyYW1lTG9vcCgpIHtcbiAgICBjb25zdCBuZXh0UmVmUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpO1xuICAgIGlmIChwcmV2UmVmUmVjdCAmJiAhcmVjdHNBcmVFcXVhbChwcmV2UmVmUmVjdCwgbmV4dFJlZlJlY3QpKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gICAgcHJldlJlZlJlY3QgPSBuZXh0UmVmUmVjdDtcbiAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lTG9vcCk7XG4gIH1cbiAgdXBkYXRlKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgdmFyIF9yZXNpemVPYnNlcnZlcjI7XG4gICAgYW5jZXN0b3JzLmZvckVhY2goYW5jZXN0b3IgPT4ge1xuICAgICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlKTtcbiAgICAgIGFuY2VzdG9yUmVzaXplICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZSk7XG4gICAgfSk7XG4gICAgY2xlYW51cElvID09IG51bGwgfHwgY2xlYW51cElvKCk7XG4gICAgKF9yZXNpemVPYnNlcnZlcjIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIyLmRpc2Nvbm5lY3QoKTtcbiAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3Qgb2Ygb3ZlcmZsb3cgc2lkZSBvZmZzZXRzIHRoYXQgZGV0ZXJtaW5lIGhvdyBtdWNoIHRoZVxuICogZWxlbWVudCBpcyBvdmVyZmxvd2luZyBhIGdpdmVuIGNsaXBwaW5nIGJvdW5kYXJ5IG9uIGVhY2ggc2lkZS5cbiAqIC0gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgYm91bmRhcnkgYnkgdGhhdCBudW1iZXIgb2YgcGl4ZWxzXG4gKiAtIG5lZ2F0aXZlID0gaG93IG1hbnkgcGl4ZWxzIGxlZnQgYmVmb3JlIGl0IHdpbGwgb3ZlcmZsb3dcbiAqIC0gMCA9IGxpZXMgZmx1c2ggd2l0aCB0aGUgYm91bmRhcnlcbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9kZXRlY3RPdmVyZmxvd1xuICovXG5jb25zdCBkZXRlY3RPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93JDE7XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IG9mZnNldCQxO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGF1dG9QbGFjZW1lbnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gc2hpZnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmbGlwJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IOKAlFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IHNpemUkMTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBoaWRlJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2Fycm93XG4gKi9cbmNvbnN0IGFycm93ID0gYXJyb3ckMTtcblxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gaW5saW5lJDE7XG5cbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSBsaW1pdFNoaWZ0JDE7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIHRoYXQgd2lsbCBwbGFjZSB0aGUgZmxvYXRpbmcgZWxlbWVudFxuICogbmV4dCB0byBhIGdpdmVuIHJlZmVyZW5jZSBlbGVtZW50LlxuICovXG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSAocmVmZXJlbmNlLCBmbG9hdGluZywgb3B0aW9ucykgPT4ge1xuICAvLyBUaGlzIGNhY2hlcyB0aGUgZXhwZW5zaXZlIGBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnNgIGZ1bmN0aW9uIHNvIHRoYXRcbiAgLy8gbXVsdGlwbGUgbGlmZWN5Y2xlIHJlc2V0cyByZS11c2UgdGhlIHNhbWUgcmVzdWx0LiBJdCBvbmx5IGxpdmVzIGZvciBhXG4gIC8vIHNpbmdsZSBjYWxsLiBJZiBvdGhlciBmdW5jdGlvbnMgYmVjb21lIGV4cGVuc2l2ZSwgd2UgY2FuIGFkZCB0aGVtIGFzIHdlbGwuXG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcGxhdGZvcm1XaXRoQ2FjaGUgPSB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucy5wbGF0Zm9ybSxcbiAgICBfYzogY2FjaGVcbiAgfTtcbiAgcmV0dXJuIGNvbXB1dGVQb3NpdGlvbiQxKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLFxuICAgIHBsYXRmb3JtOiBwbGF0Zm9ybVdpdGhDYWNoZVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBhdXRvVXBkYXRlLCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBmbGlwLCBoaWRlLCBpbmxpbmUsIGxpbWl0U2hpZnQsIG9mZnNldCwgcGxhdGZvcm0sIHNoaWZ0LCBzaXplIH07XG4iLCJpbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGFycm93IGFzIGFycm93JDIsIGF1dG9QbGFjZW1lbnQgYXMgYXV0b1BsYWNlbWVudCQxLCBmbGlwIGFzIGZsaXAkMSwgaGlkZSBhcyBoaWRlJDEsIGlubGluZSBhcyBpbmxpbmUkMSwgbGltaXRTaGlmdCBhcyBsaW1pdFNoaWZ0JDEsIG9mZnNldCBhcyBvZmZzZXQkMSwgc2hpZnQgYXMgc2hpZnQkMSwgc2l6ZSBhcyBzaXplJDEgfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJztcbmV4cG9ydCB7IGF1dG9VcGRhdGUsIGNvbXB1dGVQb3NpdGlvbiwgZGV0ZWN0T3ZlcmZsb3csIGdldE92ZXJmbG93QW5jZXN0b3JzLCBwbGF0Zm9ybSB9IGZyb20gJ0BmbG9hdGluZy11aS9kb20nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIGlzQ2xpZW50ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG52YXIgaW5kZXggPSBpc0NsaWVudCA/IHVzZUxheW91dEVmZmVjdCA6IG5vb3A7XG5cbi8vIEZvcmsgb2YgYGZhc3QtZGVlcC1lcXVhbGAgdGhhdCBvbmx5IGRvZXMgdGhlIGNvbXBhcmlzb25zIHdlIG5lZWQgYW5kIGNvbXBhcmVzXG4vLyBmdW5jdGlvbnNcbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicgJiYgYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBsZXQgbGVuZ3RoO1xuICBsZXQgaTtcbiAgbGV0IGtleXM7XG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgICBpZiAoIWRlZXBFcXVhbChhW2ldLCBiW2ldKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICBpZiAoIXt9Lmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoa2V5ID09PSAnX293bmVyJyAmJiBhLiQkdHlwZW9mKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGEgIT09IGEgJiYgYiAhPT0gYjtcbn1cblxuZnVuY3Rpb24gZ2V0RFBSKGVsZW1lbnQpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgY29uc3Qgd2luID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgcmV0dXJuIHdpbi5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG59XG5cbmZ1bmN0aW9uIHJvdW5kQnlEUFIoZWxlbWVudCwgdmFsdWUpIHtcbiAgY29uc3QgZHByID0gZ2V0RFBSKGVsZW1lbnQpO1xuICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIGRwcikgLyBkcHI7XG59XG5cbmZ1bmN0aW9uIHVzZUxhdGVzdFJlZih2YWx1ZSkge1xuICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYodmFsdWUpO1xuICBpbmRleCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZWY7XG59XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhIGZsb2F0aW5nIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvdXNlRmxvYXRpbmdcbiAqL1xuZnVuY3Rpb24gdXNlRmxvYXRpbmcob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQgPSAnYm90dG9tJyxcbiAgICBzdHJhdGVneSA9ICdhYnNvbHV0ZScsXG4gICAgbWlkZGxld2FyZSA9IFtdLFxuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICByZWZlcmVuY2U6IGV4dGVybmFsUmVmZXJlbmNlLFxuICAgICAgZmxvYXRpbmc6IGV4dGVybmFsRmxvYXRpbmdcbiAgICB9ID0ge30sXG4gICAgdHJhbnNmb3JtID0gdHJ1ZSxcbiAgICB3aGlsZUVsZW1lbnRzTW91bnRlZCxcbiAgICBvcGVuXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHN0cmF0ZWd5LFxuICAgIHBsYWNlbWVudCxcbiAgICBtaWRkbGV3YXJlRGF0YToge30sXG4gICAgaXNQb3NpdGlvbmVkOiBmYWxzZVxuICB9KTtcbiAgY29uc3QgW2xhdGVzdE1pZGRsZXdhcmUsIHNldExhdGVzdE1pZGRsZXdhcmVdID0gUmVhY3QudXNlU3RhdGUobWlkZGxld2FyZSk7XG4gIGlmICghZGVlcEVxdWFsKGxhdGVzdE1pZGRsZXdhcmUsIG1pZGRsZXdhcmUpKSB7XG4gICAgc2V0TGF0ZXN0TWlkZGxld2FyZShtaWRkbGV3YXJlKTtcbiAgfVxuICBjb25zdCBbX3JlZmVyZW5jZSwgX3NldFJlZmVyZW5jZV0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW19mbG9hdGluZywgX3NldEZsb2F0aW5nXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBzZXRSZWZlcmVuY2UgPSBSZWFjdC51c2VDYWxsYmFjayhub2RlID0+IHtcbiAgICBpZiAobm9kZSAhPT0gcmVmZXJlbmNlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJlZmVyZW5jZVJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgIF9zZXRSZWZlcmVuY2Uobm9kZSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IHNldEZsb2F0aW5nID0gUmVhY3QudXNlQ2FsbGJhY2sobm9kZSA9PiB7XG4gICAgaWYgKG5vZGUgIT09IGZsb2F0aW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgIGZsb2F0aW5nUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgX3NldEZsb2F0aW5nKG5vZGUpO1xuICAgIH1cbiAgfSwgW10pO1xuICBjb25zdCByZWZlcmVuY2VFbCA9IGV4dGVybmFsUmVmZXJlbmNlIHx8IF9yZWZlcmVuY2U7XG4gIGNvbnN0IGZsb2F0aW5nRWwgPSBleHRlcm5hbEZsb2F0aW5nIHx8IF9mbG9hdGluZztcbiAgY29uc3QgcmVmZXJlbmNlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBmbG9hdGluZ1JlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgZGF0YVJlZiA9IFJlYWN0LnVzZVJlZihkYXRhKTtcbiAgY29uc3QgaGFzV2hpbGVFbGVtZW50c01vdW50ZWQgPSB3aGlsZUVsZW1lbnRzTW91bnRlZCAhPSBudWxsO1xuICBjb25zdCB3aGlsZUVsZW1lbnRzTW91bnRlZFJlZiA9IHVzZUxhdGVzdFJlZih3aGlsZUVsZW1lbnRzTW91bnRlZCk7XG4gIGNvbnN0IHBsYXRmb3JtUmVmID0gdXNlTGF0ZXN0UmVmKHBsYXRmb3JtKTtcbiAgY29uc3Qgb3BlblJlZiA9IHVzZUxhdGVzdFJlZihvcGVuKTtcbiAgY29uc3QgdXBkYXRlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghcmVmZXJlbmNlUmVmLmN1cnJlbnQgfHwgIWZsb2F0aW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgcGxhY2VtZW50LFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBtaWRkbGV3YXJlOiBsYXRlc3RNaWRkbGV3YXJlXG4gICAgfTtcbiAgICBpZiAocGxhdGZvcm1SZWYuY3VycmVudCkge1xuICAgICAgY29uZmlnLnBsYXRmb3JtID0gcGxhdGZvcm1SZWYuY3VycmVudDtcbiAgICB9XG4gICAgY29tcHV0ZVBvc2l0aW9uKHJlZmVyZW5jZVJlZi5jdXJyZW50LCBmbG9hdGluZ1JlZi5jdXJyZW50LCBjb25maWcpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zdCBmdWxsRGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgLy8gVGhlIGZsb2F0aW5nIGVsZW1lbnQncyBwb3NpdGlvbiBtYXkgYmUgcmVjb21wdXRlZCB3aGlsZSBpdCdzIGNsb3NlZFxuICAgICAgICAvLyBidXQgc3RpbGwgbW91bnRlZCAoc3VjaCBhcyB3aGVuIHRyYW5zaXRpb25pbmcgb3V0KS4gVG8gZW5zdXJlXG4gICAgICAgIC8vIGBpc1Bvc2l0aW9uZWRgIHdpbGwgYmUgYGZhbHNlYCBpbml0aWFsbHkgb24gdGhlIG5leHQgb3BlbiwgYXZvaWRcbiAgICAgICAgLy8gc2V0dGluZyBpdCB0byBgdHJ1ZWAgd2hlbiBgb3BlbiA9PT0gZmFsc2VgIChtdXN0IGJlIHNwZWNpZmllZCkuXG4gICAgICAgIGlzUG9zaXRpb25lZDogb3BlblJlZi5jdXJyZW50ICE9PSBmYWxzZVxuICAgICAgfTtcbiAgICAgIGlmIChpc01vdW50ZWRSZWYuY3VycmVudCAmJiAhZGVlcEVxdWFsKGRhdGFSZWYuY3VycmVudCwgZnVsbERhdGEpKSB7XG4gICAgICAgIGRhdGFSZWYuY3VycmVudCA9IGZ1bGxEYXRhO1xuICAgICAgICBSZWFjdERPTS5mbHVzaFN5bmMoKCkgPT4ge1xuICAgICAgICAgIHNldERhdGEoZnVsbERhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2xhdGVzdE1pZGRsZXdhcmUsIHBsYWNlbWVudCwgc3RyYXRlZ3ksIHBsYXRmb3JtUmVmLCBvcGVuUmVmXSk7XG4gIGluZGV4KCgpID0+IHtcbiAgICBpZiAob3BlbiA9PT0gZmFsc2UgJiYgZGF0YVJlZi5jdXJyZW50LmlzUG9zaXRpb25lZCkge1xuICAgICAgZGF0YVJlZi5jdXJyZW50LmlzUG9zaXRpb25lZCA9IGZhbHNlO1xuICAgICAgc2V0RGF0YShkYXRhID0+ICh7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGlzUG9zaXRpb25lZDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIFtvcGVuXSk7XG4gIGNvbnN0IGlzTW91bnRlZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGluZGV4KCgpID0+IHtcbiAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW10pO1xuICBpbmRleCgoKSA9PiB7XG4gICAgaWYgKHJlZmVyZW5jZUVsKSByZWZlcmVuY2VSZWYuY3VycmVudCA9IHJlZmVyZW5jZUVsO1xuICAgIGlmIChmbG9hdGluZ0VsKSBmbG9hdGluZ1JlZi5jdXJyZW50ID0gZmxvYXRpbmdFbDtcbiAgICBpZiAocmVmZXJlbmNlRWwgJiYgZmxvYXRpbmdFbCkge1xuICAgICAgaWYgKHdoaWxlRWxlbWVudHNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHdoaWxlRWxlbWVudHNNb3VudGVkUmVmLmN1cnJlbnQocmVmZXJlbmNlRWwsIGZsb2F0aW5nRWwsIHVwZGF0ZSk7XG4gICAgICB9XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0sIFtyZWZlcmVuY2VFbCwgZmxvYXRpbmdFbCwgdXBkYXRlLCB3aGlsZUVsZW1lbnRzTW91bnRlZFJlZiwgaGFzV2hpbGVFbGVtZW50c01vdW50ZWRdKTtcbiAgY29uc3QgcmVmcyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZVJlZixcbiAgICBmbG9hdGluZzogZmxvYXRpbmdSZWYsXG4gICAgc2V0UmVmZXJlbmNlLFxuICAgIHNldEZsb2F0aW5nXG4gIH0pLCBbc2V0UmVmZXJlbmNlLCBzZXRGbG9hdGluZ10pO1xuICBjb25zdCBlbGVtZW50cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZUVsLFxuICAgIGZsb2F0aW5nOiBmbG9hdGluZ0VsXG4gIH0pLCBbcmVmZXJlbmNlRWwsIGZsb2F0aW5nRWxdKTtcbiAgY29uc3QgZmxvYXRpbmdTdHlsZXMgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpbml0aWFsU3R5bGVzID0ge1xuICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMFxuICAgIH07XG4gICAgaWYgKCFlbGVtZW50cy5mbG9hdGluZykge1xuICAgICAgcmV0dXJuIGluaXRpYWxTdHlsZXM7XG4gICAgfVxuICAgIGNvbnN0IHggPSByb3VuZEJ5RFBSKGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLngpO1xuICAgIGNvbnN0IHkgPSByb3VuZEJ5RFBSKGVsZW1lbnRzLmZsb2F0aW5nLCBkYXRhLnkpO1xuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmluaXRpYWxTdHlsZXMsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoXCIgKyB4ICsgXCJweCwgXCIgKyB5ICsgXCJweClcIixcbiAgICAgICAgLi4uKGdldERQUihlbGVtZW50cy5mbG9hdGluZykgPj0gMS41ICYmIHtcbiAgICAgICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJ1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgIGxlZnQ6IHgsXG4gICAgICB0b3A6IHlcbiAgICB9O1xuICB9LCBbc3RyYXRlZ3ksIHRyYW5zZm9ybSwgZWxlbWVudHMuZmxvYXRpbmcsIGRhdGEueCwgZGF0YS55XSk7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgLi4uZGF0YSxcbiAgICB1cGRhdGUsXG4gICAgcmVmcyxcbiAgICBlbGVtZW50cyxcbiAgICBmbG9hdGluZ1N0eWxlc1xuICB9KSwgW2RhdGEsIHVwZGF0ZSwgcmVmcywgZWxlbWVudHMsIGZsb2F0aW5nU3R5bGVzXSk7XG59XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogVGhpcyB3cmFwcyB0aGUgY29yZSBgYXJyb3dgIG1pZGRsZXdhcmUgdG8gYWxsb3cgUmVhY3QgcmVmcyBhcyB0aGUgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyQxID0gb3B0aW9ucyA9PiB7XG4gIGZ1bmN0aW9uIGlzUmVmKHZhbHVlKSB7XG4gICAgcmV0dXJuIHt9Lmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjdXJyZW50Jyk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnYXJyb3cnLFxuICAgIG9wdGlvbnMsXG4gICAgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcGFkZGluZ1xuICAgICAgfSA9IHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucyhzdGF0ZSkgOiBvcHRpb25zO1xuICAgICAgaWYgKGVsZW1lbnQgJiYgaXNSZWYoZWxlbWVudCkpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGFycm93JDIoe1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudC5jdXJyZW50LFxuICAgICAgICAgICAgcGFkZGluZ1xuICAgICAgICAgIH0pLmZuKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gYXJyb3ckMih7XG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICBwYWRkaW5nXG4gICAgICAgIH0pLmZuKHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwbGFjZW1lbnQgYnkgdHJhbnNsYXRpbmcgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYWxvbmcgdGhlXG4gKiBzcGVjaWZpZWQgYXhlcy5cbiAqIEEgbnVtYmVyIChzaG9ydGhhbmQgZm9yIGBtYWluQXhpc2Agb3IgZGlzdGFuY2UpLCBvciBhbiBheGVzIGNvbmZpZ3VyYXRpb25cbiAqIG9iamVjdCBtYXkgYmUgcGFzc2VkLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL29mZnNldFxuICovXG5jb25zdCBvZmZzZXQgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4ub2Zmc2V0JDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IHNoaWZ0aW5nIGl0IGluIG9yZGVyIHRvXG4gKiBrZWVwIGl0IGluIHZpZXcgd2hlbiBpdCB3aWxsIG92ZXJmbG93IHRoZSBjbGlwcGluZyBib3VuZGFyeS5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaGlmdFxuICovXG5jb25zdCBzaGlmdCA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5zaGlmdCQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG4vKipcbiAqIEJ1aWx0LWluIGBsaW1pdGVyYCB0aGF0IHdpbGwgc3RvcCBgc2hpZnQoKWAgYXQgYSBjZXJ0YWluIHBvaW50LlxuICovXG5jb25zdCBsaW1pdFNoaWZ0ID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLmxpbWl0U2hpZnQkMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uZmxpcCQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdGhhdCBhbGxvd3MgeW91IHRvIGNoYW5nZSB0aGUgc2l6ZSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCDigJRcbiAqIGZvciBpbnN0YW5jZSwgcHJldmVudCBpdCBmcm9tIG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyBib3VuZGFyeSBvciBtYXRjaCB0aGVcbiAqIHdpZHRoIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaXplXG4gKi9cbmNvbnN0IHNpemUgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uc2l6ZSQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IChvcHRpb25zLCBkZXBzKSA9PiAoe1xuICAuLi5hdXRvUGxhY2VtZW50JDEob3B0aW9ucyksXG4gIG9wdGlvbnM6IFtvcHRpb25zLCBkZXBzXVxufSk7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBoaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50IGluIGFwcGxpY2FibGUgc2l0dWF0aW9ucywgc3VjaCBhc1xuICogd2hlbiBpdCBpcyBub3QgaW4gdGhlIHNhbWUgY2xpcHBpbmcgY29udGV4dCBhcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaGlkZVxuICovXG5jb25zdCBoaWRlID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLmhpZGUkMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcblxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gKG9wdGlvbnMsIGRlcHMpID0+ICh7XG4gIC4uLmlubGluZSQxKG9wdGlvbnMpLFxuICBvcHRpb25zOiBbb3B0aW9ucywgZGVwc11cbn0pO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gcG9zaXRpb24gYW4gaW5uZXIgZWxlbWVudCBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBzbyB0aGF0IGl0XG4gKiBhcHBlYXJzIGNlbnRlcmVkIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIFRoaXMgd3JhcHMgdGhlIGNvcmUgYGFycm93YCBtaWRkbGV3YXJlIHRvIGFsbG93IFJlYWN0IHJlZnMgYXMgdGhlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXJyb3dcbiAqL1xuY29uc3QgYXJyb3cgPSAob3B0aW9ucywgZGVwcykgPT4gKHtcbiAgLi4uYXJyb3ckMShvcHRpb25zKSxcbiAgb3B0aW9uczogW29wdGlvbnMsIGRlcHNdXG59KTtcblxuZXhwb3J0IHsgYXJyb3csIGF1dG9QbGFjZW1lbnQsIGZsaXAsIGhpZGUsIGlubGluZSwgbGltaXRTaGlmdCwgb2Zmc2V0LCBzaGlmdCwgc2l6ZSwgdXNlRmxvYXRpbmcgfTtcbiIsIi8vIHNyYy9hcnJvdy50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIE5BTUUgPSBcIkFycm93XCI7XG52YXIgQXJyb3cgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIHdpZHRoID0gMTAsIGhlaWdodCA9IDUsIC4uLmFycm93UHJvcHMgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBQcmltaXRpdmUuc3ZnLFxuICAgIHtcbiAgICAgIC4uLmFycm93UHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgdmlld0JveDogXCIwIDAgMzAgMTBcIixcbiAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwibm9uZVwiLFxuICAgICAgY2hpbGRyZW46IHByb3BzLmFzQ2hpbGQgPyBjaGlsZHJlbiA6IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwb2x5Z29uXCIsIHsgcG9pbnRzOiBcIjAsMCAzMCwwIDE1LDEwXCIgfSlcbiAgICB9XG4gICk7XG59KTtcbkFycm93LmRpc3BsYXlOYW1lID0gTkFNRTtcbnZhciBSb290ID0gQXJyb3c7XG5leHBvcnQge1xuICBBcnJvdyxcbiAgUm9vdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L3VzZS1zaXplL3NyYy91c2Utc2l6ZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtbGF5b3V0LWVmZmVjdFwiO1xuZnVuY3Rpb24gdXNlU2l6ZShlbGVtZW50KSB7XG4gIGNvbnN0IFtzaXplLCBzZXRTaXplXSA9IFJlYWN0LnVzZVN0YXRlKHZvaWQgMCk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHNldFNpemUoeyB3aWR0aDogZWxlbWVudC5vZmZzZXRXaWR0aCwgaGVpZ2h0OiBlbGVtZW50Lm9mZnNldEhlaWdodCB9KTtcbiAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyaWVzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1swXTtcbiAgICAgICAgbGV0IHdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0O1xuICAgICAgICBpZiAoXCJib3JkZXJCb3hTaXplXCIgaW4gZW50cnkpIHtcbiAgICAgICAgICBjb25zdCBib3JkZXJTaXplRW50cnkgPSBlbnRyeVtcImJvcmRlckJveFNpemVcIl07XG4gICAgICAgICAgY29uc3QgYm9yZGVyU2l6ZSA9IEFycmF5LmlzQXJyYXkoYm9yZGVyU2l6ZUVudHJ5KSA/IGJvcmRlclNpemVFbnRyeVswXSA6IGJvcmRlclNpemVFbnRyeTtcbiAgICAgICAgICB3aWR0aCA9IGJvcmRlclNpemVbXCJpbmxpbmVTaXplXCJdO1xuICAgICAgICAgIGhlaWdodCA9IGJvcmRlclNpemVbXCJibG9ja1NpemVcIl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHNldFNpemUoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgfSk7XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHsgYm94OiBcImJvcmRlci1ib3hcIiB9KTtcbiAgICAgIHJldHVybiAoKSA9PiByZXNpemVPYnNlcnZlci51bm9ic2VydmUoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNpemUodm9pZCAwKTtcbiAgICB9XG4gIH0sIFtlbGVtZW50XSk7XG4gIHJldHVybiBzaXplO1xufVxuZXhwb3J0IHtcbiAgdXNlU2l6ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvcG9wcGVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICB1c2VGbG9hdGluZyxcbiAgYXV0b1VwZGF0ZSxcbiAgb2Zmc2V0LFxuICBzaGlmdCxcbiAgbGltaXRTaGlmdCxcbiAgaGlkZSxcbiAgYXJyb3cgYXMgZmxvYXRpbmdVSWFycm93LFxuICBmbGlwLFxuICBzaXplXG59IGZyb20gXCJAZmxvYXRpbmctdWkvcmVhY3QtZG9tXCI7XG5pbXBvcnQgKiBhcyBBcnJvd1ByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWFycm93XCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jYWxsYmFjay1yZWZcIjtcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3RcIjtcbmltcG9ydCB7IHVzZVNpemUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1zaXplXCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTSURFX09QVElPTlMgPSBbXCJ0b3BcIiwgXCJyaWdodFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIl07XG52YXIgQUxJR05fT1BUSU9OUyA9IFtcInN0YXJ0XCIsIFwiY2VudGVyXCIsIFwiZW5kXCJdO1xudmFyIFBPUFBFUl9OQU1FID0gXCJQb3BwZXJcIjtcbnZhciBbY3JlYXRlUG9wcGVyQ29udGV4dCwgY3JlYXRlUG9wcGVyU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKFBPUFBFUl9OQU1FKTtcbnZhciBbUG9wcGVyUHJvdmlkZXIsIHVzZVBvcHBlckNvbnRleHRdID0gY3JlYXRlUG9wcGVyQ29udGV4dChQT1BQRVJfTkFNRSk7XG52YXIgUG9wcGVyID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgX19zY29wZVBvcHBlciwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICBjb25zdCBbYW5jaG9yLCBzZXRBbmNob3JdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFBvcHBlclByb3ZpZGVyLCB7IHNjb3BlOiBfX3Njb3BlUG9wcGVyLCBhbmNob3IsIG9uQW5jaG9yQ2hhbmdlOiBzZXRBbmNob3IsIGNoaWxkcmVuIH0pO1xufTtcblBvcHBlci5kaXNwbGF5TmFtZSA9IFBPUFBFUl9OQU1FO1xudmFyIEFOQ0hPUl9OQU1FID0gXCJQb3BwZXJBbmNob3JcIjtcbnZhciBQb3BwZXJBbmNob3IgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVBvcHBlciwgdmlydHVhbFJlZiwgLi4uYW5jaG9yUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VQb3BwZXJDb250ZXh0KEFOQ0hPUl9OQU1FLCBfX3Njb3BlUG9wcGVyKTtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29udGV4dC5vbkFuY2hvckNoYW5nZSh2aXJ0dWFsUmVmPy5jdXJyZW50IHx8IHJlZi5jdXJyZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmlydHVhbFJlZiA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5kaXYsIHsgLi4uYW5jaG9yUHJvcHMsIHJlZjogY29tcG9zZWRSZWZzIH0pO1xuICB9XG4pO1xuUG9wcGVyQW5jaG9yLmRpc3BsYXlOYW1lID0gQU5DSE9SX05BTUU7XG52YXIgQ09OVEVOVF9OQU1FID0gXCJQb3BwZXJDb250ZW50XCI7XG52YXIgW1BvcHBlckNvbnRlbnRQcm92aWRlciwgdXNlQ29udGVudENvbnRleHRdID0gY3JlYXRlUG9wcGVyQ29udGV4dChDT05URU5UX05BTUUpO1xudmFyIFBvcHBlckNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fc2NvcGVQb3BwZXIsXG4gICAgICBzaWRlID0gXCJib3R0b21cIixcbiAgICAgIHNpZGVPZmZzZXQgPSAwLFxuICAgICAgYWxpZ24gPSBcImNlbnRlclwiLFxuICAgICAgYWxpZ25PZmZzZXQgPSAwLFxuICAgICAgYXJyb3dQYWRkaW5nID0gMCxcbiAgICAgIGF2b2lkQ29sbGlzaW9ucyA9IHRydWUsXG4gICAgICBjb2xsaXNpb25Cb3VuZGFyeSA9IFtdLFxuICAgICAgY29sbGlzaW9uUGFkZGluZzogY29sbGlzaW9uUGFkZGluZ1Byb3AgPSAwLFxuICAgICAgc3RpY2t5ID0gXCJwYXJ0aWFsXCIsXG4gICAgICBoaWRlV2hlbkRldGFjaGVkID0gZmFsc2UsXG4gICAgICB1cGRhdGVQb3NpdGlvblN0cmF0ZWd5ID0gXCJvcHRpbWl6ZWRcIixcbiAgICAgIG9uUGxhY2VkLFxuICAgICAgLi4uY29udGVudFByb3BzXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VQb3BwZXJDb250ZXh0KENPTlRFTlRfTkFNRSwgX19zY29wZVBvcHBlcik7XG4gICAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgKG5vZGUpID0+IHNldENvbnRlbnQobm9kZSkpO1xuICAgIGNvbnN0IFthcnJvdywgc2V0QXJyb3ddID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgYXJyb3dTaXplID0gdXNlU2l6ZShhcnJvdyk7XG4gICAgY29uc3QgYXJyb3dXaWR0aCA9IGFycm93U2l6ZT8ud2lkdGggPz8gMDtcbiAgICBjb25zdCBhcnJvd0hlaWdodCA9IGFycm93U2l6ZT8uaGVpZ2h0ID8/IDA7XG4gICAgY29uc3QgZGVzaXJlZFBsYWNlbWVudCA9IHNpZGUgKyAoYWxpZ24gIT09IFwiY2VudGVyXCIgPyBcIi1cIiArIGFsaWduIDogXCJcIik7XG4gICAgY29uc3QgY29sbGlzaW9uUGFkZGluZyA9IHR5cGVvZiBjb2xsaXNpb25QYWRkaW5nUHJvcCA9PT0gXCJudW1iZXJcIiA/IGNvbGxpc2lvblBhZGRpbmdQcm9wIDogeyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAsIC4uLmNvbGxpc2lvblBhZGRpbmdQcm9wIH07XG4gICAgY29uc3QgYm91bmRhcnkgPSBBcnJheS5pc0FycmF5KGNvbGxpc2lvbkJvdW5kYXJ5KSA/IGNvbGxpc2lvbkJvdW5kYXJ5IDogW2NvbGxpc2lvbkJvdW5kYXJ5XTtcbiAgICBjb25zdCBoYXNFeHBsaWNpdEJvdW5kYXJpZXMgPSBib3VuZGFyeS5sZW5ndGggPiAwO1xuICAgIGNvbnN0IGRldGVjdE92ZXJmbG93T3B0aW9ucyA9IHtcbiAgICAgIHBhZGRpbmc6IGNvbGxpc2lvblBhZGRpbmcsXG4gICAgICBib3VuZGFyeTogYm91bmRhcnkuZmlsdGVyKGlzTm90TnVsbCksXG4gICAgICAvLyB3aXRoIGBzdHJhdGVneTogJ2ZpeGVkJ2AsIHRoaXMgaXMgdGhlIG9ubHkgd2F5IHRvIGdldCBpdCB0byByZXNwZWN0IGJvdW5kYXJpZXNcbiAgICAgIGFsdEJvdW5kYXJ5OiBoYXNFeHBsaWNpdEJvdW5kYXJpZXNcbiAgICB9O1xuICAgIGNvbnN0IHsgcmVmcywgZmxvYXRpbmdTdHlsZXMsIHBsYWNlbWVudCwgaXNQb3NpdGlvbmVkLCBtaWRkbGV3YXJlRGF0YSB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgLy8gZGVmYXVsdCB0byBgZml4ZWRgIHN0cmF0ZWd5IHNvIHVzZXJzIGRvbid0IGhhdmUgdG8gcGljayBhbmQgd2UgYWxzbyBhdm9pZCBmb2N1cyBzY3JvbGwgaXNzdWVzXG4gICAgICBzdHJhdGVneTogXCJmaXhlZFwiLFxuICAgICAgcGxhY2VtZW50OiBkZXNpcmVkUGxhY2VtZW50LFxuICAgICAgd2hpbGVFbGVtZW50c01vdW50ZWQ6ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBhdXRvVXBkYXRlKC4uLmFyZ3MsIHtcbiAgICAgICAgICBhbmltYXRpb25GcmFtZTogdXBkYXRlUG9zaXRpb25TdHJhdGVneSA9PT0gXCJhbHdheXNcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsZWFudXA7XG4gICAgICB9LFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiBjb250ZXh0LmFuY2hvclxuICAgICAgfSxcbiAgICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgICAgb2Zmc2V0KHsgbWFpbkF4aXM6IHNpZGVPZmZzZXQgKyBhcnJvd0hlaWdodCwgYWxpZ25tZW50QXhpczogYWxpZ25PZmZzZXQgfSksXG4gICAgICAgIGF2b2lkQ29sbGlzaW9ucyAmJiBzaGlmdCh7XG4gICAgICAgICAgbWFpbkF4aXM6IHRydWUsXG4gICAgICAgICAgY3Jvc3NBeGlzOiBmYWxzZSxcbiAgICAgICAgICBsaW1pdGVyOiBzdGlja3kgPT09IFwicGFydGlhbFwiID8gbGltaXRTaGlmdCgpIDogdm9pZCAwLFxuICAgICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgICB9KSxcbiAgICAgICAgYXZvaWRDb2xsaXNpb25zICYmIGZsaXAoeyAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMgfSksXG4gICAgICAgIHNpemUoe1xuICAgICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9ucyxcbiAgICAgICAgICBhcHBseTogKHsgZWxlbWVudHMsIHJlY3RzLCBhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGg6IGFuY2hvcldpZHRoLCBoZWlnaHQ6IGFuY2hvckhlaWdodCB9ID0gcmVjdHMucmVmZXJlbmNlO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFN0eWxlID0gZWxlbWVudHMuZmxvYXRpbmcuc3R5bGU7XG4gICAgICAgICAgICBjb250ZW50U3R5bGUuc2V0UHJvcGVydHkoXCItLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtd2lkdGhcIiwgYCR7YXZhaWxhYmxlV2lkdGh9cHhgKTtcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZS5zZXRQcm9wZXJ0eShcIi0tcmFkaXgtcG9wcGVyLWF2YWlsYWJsZS1oZWlnaHRcIiwgYCR7YXZhaWxhYmxlSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICBjb250ZW50U3R5bGUuc2V0UHJvcGVydHkoXCItLXJhZGl4LXBvcHBlci1hbmNob3Itd2lkdGhcIiwgYCR7YW5jaG9yV2lkdGh9cHhgKTtcbiAgICAgICAgICAgIGNvbnRlbnRTdHlsZS5zZXRQcm9wZXJ0eShcIi0tcmFkaXgtcG9wcGVyLWFuY2hvci1oZWlnaHRcIiwgYCR7YW5jaG9ySGVpZ2h0fXB4YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgYXJyb3cgJiYgZmxvYXRpbmdVSWFycm93KHsgZWxlbWVudDogYXJyb3csIHBhZGRpbmc6IGFycm93UGFkZGluZyB9KSxcbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luKHsgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQgfSksXG4gICAgICAgIGhpZGVXaGVuRGV0YWNoZWQgJiYgaGlkZSh7IHN0cmF0ZWd5OiBcInJlZmVyZW5jZUhpZGRlblwiLCAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMgfSlcbiAgICAgIF1cbiAgICB9KTtcbiAgICBjb25zdCBbcGxhY2VkU2lkZSwgcGxhY2VkQWxpZ25dID0gZ2V0U2lkZUFuZEFsaWduRnJvbVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICAgIGNvbnN0IGhhbmRsZVBsYWNlZCA9IHVzZUNhbGxiYWNrUmVmKG9uUGxhY2VkKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGlzUG9zaXRpb25lZCkge1xuICAgICAgICBoYW5kbGVQbGFjZWQ/LigpO1xuICAgICAgfVxuICAgIH0sIFtpc1Bvc2l0aW9uZWQsIGhhbmRsZVBsYWNlZF0pO1xuICAgIGNvbnN0IGFycm93WCA9IG1pZGRsZXdhcmVEYXRhLmFycm93Py54O1xuICAgIGNvbnN0IGFycm93WSA9IG1pZGRsZXdhcmVEYXRhLmFycm93Py55O1xuICAgIGNvbnN0IGNhbm5vdENlbnRlckFycm93ID0gbWlkZGxld2FyZURhdGEuYXJyb3c/LmNlbnRlck9mZnNldCAhPT0gMDtcbiAgICBjb25zdCBbY29udGVudFpJbmRleCwgc2V0Q29udGVudFpJbmRleF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoY29udGVudCkgc2V0Q29udGVudFpJbmRleCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250ZW50KS56SW5kZXgpO1xuICAgIH0sIFtjb250ZW50XSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICByZWY6IHJlZnMuc2V0RmxvYXRpbmcsXG4gICAgICAgIFwiZGF0YS1yYWRpeC1wb3BwZXItY29udGVudC13cmFwcGVyXCI6IFwiXCIsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgLi4uZmxvYXRpbmdTdHlsZXMsXG4gICAgICAgICAgdHJhbnNmb3JtOiBpc1Bvc2l0aW9uZWQgPyBmbG9hdGluZ1N0eWxlcy50cmFuc2Zvcm0gOiBcInRyYW5zbGF0ZSgwLCAtMjAwJSlcIixcbiAgICAgICAgICAvLyBrZWVwIG9mZiB0aGUgcGFnZSB3aGVuIG1lYXN1cmluZ1xuICAgICAgICAgIG1pbldpZHRoOiBcIm1heC1jb250ZW50XCIsXG4gICAgICAgICAgekluZGV4OiBjb250ZW50WkluZGV4LFxuICAgICAgICAgIFtcIi0tcmFkaXgtcG9wcGVyLXRyYW5zZm9ybS1vcmlnaW5cIl06IFtcbiAgICAgICAgICAgIG1pZGRsZXdhcmVEYXRhLnRyYW5zZm9ybU9yaWdpbj8ueCxcbiAgICAgICAgICAgIG1pZGRsZXdhcmVEYXRhLnRyYW5zZm9ybU9yaWdpbj8ueVxuICAgICAgICAgIF0uam9pbihcIiBcIiksXG4gICAgICAgICAgLy8gaGlkZSB0aGUgY29udGVudCBpZiB1c2luZyB0aGUgaGlkZSBtaWRkbGV3YXJlIGFuZCBzaG91bGQgYmUgaGlkZGVuXG4gICAgICAgICAgLy8gc2V0IHZpc2liaWxpdHkgdG8gaGlkZGVuIGFuZCBkaXNhYmxlIHBvaW50ZXIgZXZlbnRzIHNvIHRoZSBVSSBiZWhhdmVzXG4gICAgICAgICAgLy8gYXMgaWYgdGhlIFBvcHBlckNvbnRlbnQgaXNuJ3QgdGhlcmUgYXQgYWxsXG4gICAgICAgICAgLi4ubWlkZGxld2FyZURhdGEuaGlkZT8ucmVmZXJlbmNlSGlkZGVuICYmIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGlyOiBwcm9wcy5kaXIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFBvcHBlckNvbnRlbnRQcm92aWRlcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY29wZTogX19zY29wZVBvcHBlcixcbiAgICAgICAgICAgIHBsYWNlZFNpZGUsXG4gICAgICAgICAgICBvbkFycm93Q2hhbmdlOiBzZXRBcnJvdyxcbiAgICAgICAgICAgIGFycm93WCxcbiAgICAgICAgICAgIGFycm93WSxcbiAgICAgICAgICAgIHNob3VsZEhpZGVBcnJvdzogY2Fubm90Q2VudGVyQXJyb3csXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgUHJpbWl0aXZlLmRpdixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZGF0YS1zaWRlXCI6IHBsYWNlZFNpZGUsXG4gICAgICAgICAgICAgICAgXCJkYXRhLWFsaWduXCI6IHBsYWNlZEFsaWduLFxuICAgICAgICAgICAgICAgIC4uLmNvbnRlbnRQcm9wcyxcbiAgICAgICAgICAgICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgLi4uY29udGVudFByb3BzLnN0eWxlLFxuICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIFBvcHBlckNvbnRlbnQgaGFzbid0IGJlZW4gcGxhY2VkIHlldCAobm90IGFsbCBtZWFzdXJlbWVudHMgZG9uZSlcbiAgICAgICAgICAgICAgICAgIC8vIHdlIHByZXZlbnQgYW5pbWF0aW9ucyBzbyB0aGF0IHVzZXJzJ3MgYW5pbWF0aW9uIGRvbid0IGtpY2sgaW4gdG9vIGVhcmx5IHJlZmVycmluZyB3cm9uZyBzaWRlc1xuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAhaXNQb3NpdGlvbmVkID8gXCJub25lXCIgOiB2b2lkIDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuUG9wcGVyQ29udGVudC5kaXNwbGF5TmFtZSA9IENPTlRFTlRfTkFNRTtcbnZhciBBUlJPV19OQU1FID0gXCJQb3BwZXJBcnJvd1wiO1xudmFyIE9QUE9TSVRFX1NJREUgPSB7XG4gIHRvcDogXCJib3R0b21cIixcbiAgcmlnaHQ6IFwibGVmdFwiLFxuICBib3R0b206IFwidG9wXCIsXG4gIGxlZnQ6IFwicmlnaHRcIlxufTtcbnZhciBQb3BwZXJBcnJvdyA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gUG9wcGVyQXJyb3cyKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgY29uc3QgeyBfX3Njb3BlUG9wcGVyLCAuLi5hcnJvd1Byb3BzIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VDb250ZW50Q29udGV4dChBUlJPV19OQU1FLCBfX3Njb3BlUG9wcGVyKTtcbiAgY29uc3QgYmFzZVNpZGUgPSBPUFBPU0lURV9TSURFW2NvbnRlbnRDb250ZXh0LnBsYWNlZFNpZGVdO1xuICByZXR1cm4gKFxuICAgIC8vIHdlIGhhdmUgdG8gdXNlIGFuIGV4dHJhIHdyYXBwZXIgYmVjYXVzZSBgUmVzaXplT2JzZXJ2ZXJgICh1c2VkIGJ5IGB1c2VTaXplYClcbiAgICAvLyBkb2Vzbid0IHJlcG9ydCBzaXplIGFzIHdlJ2QgZXhwZWN0IG9uIFNWRyBlbGVtZW50cy5cbiAgICAvLyBpdCByZXBvcnRzIHRoZWlyIGJvdW5kaW5nIGJveCB3aGljaCBpcyBlZmZlY3RpdmVseSB0aGUgbGFyZ2VzdCBwYXRoIGluc2lkZSB0aGUgU1ZHLlxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcInNwYW5cIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBjb250ZW50Q29udGV4dC5vbkFycm93Q2hhbmdlLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgbGVmdDogY29udGVudENvbnRleHQuYXJyb3dYLFxuICAgICAgICAgIHRvcDogY29udGVudENvbnRleHQuYXJyb3dZLFxuICAgICAgICAgIFtiYXNlU2lkZV06IDAsXG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgICAgICB0b3A6IFwiXCIsXG4gICAgICAgICAgICByaWdodDogXCIwIDBcIixcbiAgICAgICAgICAgIGJvdHRvbTogXCJjZW50ZXIgMFwiLFxuICAgICAgICAgICAgbGVmdDogXCIxMDAlIDBcIlxuICAgICAgICAgIH1bY29udGVudENvbnRleHQucGxhY2VkU2lkZV0sXG4gICAgICAgICAgdHJhbnNmb3JtOiB7XG4gICAgICAgICAgICB0b3A6IFwidHJhbnNsYXRlWSgxMDAlKVwiLFxuICAgICAgICAgICAgcmlnaHQ6IFwidHJhbnNsYXRlWSg1MCUpIHJvdGF0ZSg5MGRlZykgdHJhbnNsYXRlWCgtNTAlKVwiLFxuICAgICAgICAgICAgYm90dG9tOiBgcm90YXRlKDE4MGRlZylgLFxuICAgICAgICAgICAgbGVmdDogXCJ0cmFuc2xhdGVZKDUwJSkgcm90YXRlKC05MGRlZykgdHJhbnNsYXRlWCg1MCUpXCJcbiAgICAgICAgICB9W2NvbnRlbnRDb250ZXh0LnBsYWNlZFNpZGVdLFxuICAgICAgICAgIHZpc2liaWxpdHk6IGNvbnRlbnRDb250ZXh0LnNob3VsZEhpZGVBcnJvdyA/IFwiaGlkZGVuXCIgOiB2b2lkIDBcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgQXJyb3dQcmltaXRpdmUuUm9vdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5hcnJvd1Byb3BzLFxuICAgICAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAuLi5hcnJvd1Byb3BzLnN0eWxlLFxuICAgICAgICAgICAgICAvLyBlbnN1cmVzIHRoZSBlbGVtZW50IGNhbiBiZSBtZWFzdXJlZCBjb3JyZWN0bHkgKG1vc3RseSBmb3IgaWYgU1ZHKVxuICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gICk7XG59KTtcblBvcHBlckFycm93LmRpc3BsYXlOYW1lID0gQVJST1dfTkFNRTtcbmZ1bmN0aW9uIGlzTm90TnVsbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG59XG52YXIgdHJhbnNmb3JtT3JpZ2luID0gKG9wdGlvbnMpID0+ICh7XG4gIG5hbWU6IFwidHJhbnNmb3JtT3JpZ2luXCIsXG4gIG9wdGlvbnMsXG4gIGZuKGRhdGEpIHtcbiAgICBjb25zdCB7IHBsYWNlbWVudCwgcmVjdHMsIG1pZGRsZXdhcmVEYXRhIH0gPSBkYXRhO1xuICAgIGNvbnN0IGNhbm5vdENlbnRlckFycm93ID0gbWlkZGxld2FyZURhdGEuYXJyb3c/LmNlbnRlck9mZnNldCAhPT0gMDtcbiAgICBjb25zdCBpc0Fycm93SGlkZGVuID0gY2Fubm90Q2VudGVyQXJyb3c7XG4gICAgY29uc3QgYXJyb3dXaWR0aCA9IGlzQXJyb3dIaWRkZW4gPyAwIDogb3B0aW9ucy5hcnJvd1dpZHRoO1xuICAgIGNvbnN0IGFycm93SGVpZ2h0ID0gaXNBcnJvd0hpZGRlbiA/IDAgOiBvcHRpb25zLmFycm93SGVpZ2h0O1xuICAgIGNvbnN0IFtwbGFjZWRTaWRlLCBwbGFjZWRBbGlnbl0gPSBnZXRTaWRlQW5kQWxpZ25Gcm9tUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gICAgY29uc3Qgbm9BcnJvd0FsaWduID0geyBzdGFydDogXCIwJVwiLCBjZW50ZXI6IFwiNTAlXCIsIGVuZDogXCIxMDAlXCIgfVtwbGFjZWRBbGlnbl07XG4gICAgY29uc3QgYXJyb3dYQ2VudGVyID0gKG1pZGRsZXdhcmVEYXRhLmFycm93Py54ID8/IDApICsgYXJyb3dXaWR0aCAvIDI7XG4gICAgY29uc3QgYXJyb3dZQ2VudGVyID0gKG1pZGRsZXdhcmVEYXRhLmFycm93Py55ID8/IDApICsgYXJyb3dIZWlnaHQgLyAyO1xuICAgIGxldCB4ID0gXCJcIjtcbiAgICBsZXQgeSA9IFwiXCI7XG4gICAgaWYgKHBsYWNlZFNpZGUgPT09IFwiYm90dG9tXCIpIHtcbiAgICAgIHggPSBpc0Fycm93SGlkZGVuID8gbm9BcnJvd0FsaWduIDogYCR7YXJyb3dYQ2VudGVyfXB4YDtcbiAgICAgIHkgPSBgJHstYXJyb3dIZWlnaHR9cHhgO1xuICAgIH0gZWxzZSBpZiAocGxhY2VkU2lkZSA9PT0gXCJ0b3BcIikge1xuICAgICAgeCA9IGlzQXJyb3dIaWRkZW4gPyBub0Fycm93QWxpZ24gOiBgJHthcnJvd1hDZW50ZXJ9cHhgO1xuICAgICAgeSA9IGAke3JlY3RzLmZsb2F0aW5nLmhlaWdodCArIGFycm93SGVpZ2h0fXB4YDtcbiAgICB9IGVsc2UgaWYgKHBsYWNlZFNpZGUgPT09IFwicmlnaHRcIikge1xuICAgICAgeCA9IGAkey1hcnJvd0hlaWdodH1weGA7XG4gICAgICB5ID0gaXNBcnJvd0hpZGRlbiA/IG5vQXJyb3dBbGlnbiA6IGAke2Fycm93WUNlbnRlcn1weGA7XG4gICAgfSBlbHNlIGlmIChwbGFjZWRTaWRlID09PSBcImxlZnRcIikge1xuICAgICAgeCA9IGAke3JlY3RzLmZsb2F0aW5nLndpZHRoICsgYXJyb3dIZWlnaHR9cHhgO1xuICAgICAgeSA9IGlzQXJyb3dIaWRkZW4gPyBub0Fycm93QWxpZ24gOiBgJHthcnJvd1lDZW50ZXJ9cHhgO1xuICAgIH1cbiAgICByZXR1cm4geyBkYXRhOiB7IHgsIHkgfSB9O1xuICB9XG59KTtcbmZ1bmN0aW9uIGdldFNpZGVBbmRBbGlnbkZyb21QbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIGNvbnN0IFtzaWRlLCBhbGlnbiA9IFwiY2VudGVyXCJdID0gcGxhY2VtZW50LnNwbGl0KFwiLVwiKTtcbiAgcmV0dXJuIFtzaWRlLCBhbGlnbl07XG59XG52YXIgUm9vdDIgPSBQb3BwZXI7XG52YXIgQW5jaG9yID0gUG9wcGVyQW5jaG9yO1xudmFyIENvbnRlbnQgPSBQb3BwZXJDb250ZW50O1xudmFyIEFycm93ID0gUG9wcGVyQXJyb3c7XG5leHBvcnQge1xuICBBTElHTl9PUFRJT05TLFxuICBBbmNob3IsXG4gIEFycm93LFxuICBDb250ZW50LFxuICBQb3BwZXIsXG4gIFBvcHBlckFuY2hvcixcbiAgUG9wcGVyQXJyb3csXG4gIFBvcHBlckNvbnRlbnQsXG4gIFJvb3QyIGFzIFJvb3QsXG4gIFNJREVfT1BUSU9OUyxcbiAgY3JlYXRlUG9wcGVyU2NvcGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcInVzZSBjbGllbnRcIjtcblxuLy8gc3JjL3BvcnRhbC50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1sYXlvdXQtZWZmZWN0XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBQT1JUQUxfTkFNRSA9IFwiUG9ydGFsXCI7XG52YXIgUG9ydGFsID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IGNvbnRhaW5lcjogY29udGFpbmVyUHJvcCwgLi4ucG9ydGFsUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiBzZXRNb3VudGVkKHRydWUpLCBbXSk7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclByb3AgfHwgbW91bnRlZCAmJiBnbG9iYWxUaGlzPy5kb2N1bWVudD8uYm9keTtcbiAgcmV0dXJuIGNvbnRhaW5lciA/IFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCgvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5kaXYsIHsgLi4ucG9ydGFsUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pLCBjb250YWluZXIpIDogbnVsbDtcbn0pO1xuUG9ydGFsLmRpc3BsYXlOYW1lID0gUE9SVEFMX05BTUU7XG52YXIgUm9vdCA9IFBvcnRhbDtcbmV4cG9ydCB7XG4gIFBvcnRhbCxcbiAgUm9vdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHNyYy91c2UtY29udHJvbGxhYmxlLXN0YXRlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1sYXlvdXQtZWZmZWN0XCI7XG52YXIgdXNlSW5zZXJ0aW9uRWZmZWN0ID0gUmVhY3RbXCIgdXNlSW5zZXJ0aW9uRWZmZWN0IFwiLnRyaW0oKS50b1N0cmluZygpXSB8fCB1c2VMYXlvdXRFZmZlY3Q7XG5mdW5jdGlvbiB1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gIHByb3AsXG4gIGRlZmF1bHRQcm9wLFxuICBvbkNoYW5nZSA9ICgpID0+IHtcbiAgfSxcbiAgY2FsbGVyXG59KSB7XG4gIGNvbnN0IFt1bmNvbnRyb2xsZWRQcm9wLCBzZXRVbmNvbnRyb2xsZWRQcm9wLCBvbkNoYW5nZVJlZl0gPSB1c2VVbmNvbnRyb2xsZWRTdGF0ZSh7XG4gICAgZGVmYXVsdFByb3AsXG4gICAgb25DaGFuZ2VcbiAgfSk7XG4gIGNvbnN0IGlzQ29udHJvbGxlZCA9IHByb3AgIT09IHZvaWQgMDtcbiAgY29uc3QgdmFsdWUgPSBpc0NvbnRyb2xsZWQgPyBwcm9wIDogdW5jb250cm9sbGVkUHJvcDtcbiAgaWYgKHRydWUpIHtcbiAgICBjb25zdCBpc0NvbnRyb2xsZWRSZWYgPSBSZWFjdC51c2VSZWYocHJvcCAhPT0gdm9pZCAwKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3Qgd2FzQ29udHJvbGxlZCA9IGlzQ29udHJvbGxlZFJlZi5jdXJyZW50O1xuICAgICAgaWYgKHdhc0NvbnRyb2xsZWQgIT09IGlzQ29udHJvbGxlZCkge1xuICAgICAgICBjb25zdCBmcm9tID0gd2FzQ29udHJvbGxlZCA/IFwiY29udHJvbGxlZFwiIDogXCJ1bmNvbnRyb2xsZWRcIjtcbiAgICAgICAgY29uc3QgdG8gPSBpc0NvbnRyb2xsZWQgPyBcImNvbnRyb2xsZWRcIiA6IFwidW5jb250cm9sbGVkXCI7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgJHtjYWxsZXJ9IGlzIGNoYW5naW5nIGZyb20gJHtmcm9tfSB0byAke3RvfS4gQ29tcG9uZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCB2YWx1ZSBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaXNDb250cm9sbGVkUmVmLmN1cnJlbnQgPSBpc0NvbnRyb2xsZWQ7XG4gICAgfSwgW2lzQ29udHJvbGxlZCwgY2FsbGVyXSk7XG4gIH1cbiAgY29uc3Qgc2V0VmFsdWUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAobmV4dFZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNDb250cm9sbGVkKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlMiA9IGlzRnVuY3Rpb24obmV4dFZhbHVlKSA/IG5leHRWYWx1ZShwcm9wKSA6IG5leHRWYWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlMiAhPT0gcHJvcCkge1xuICAgICAgICAgIG9uQ2hhbmdlUmVmLmN1cnJlbnQ/Lih2YWx1ZTIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRVbmNvbnRyb2xsZWRQcm9wKG5leHRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbaXNDb250cm9sbGVkLCBwcm9wLCBzZXRVbmNvbnRyb2xsZWRQcm9wLCBvbkNoYW5nZVJlZl1cbiAgKTtcbiAgcmV0dXJuIFt2YWx1ZSwgc2V0VmFsdWVdO1xufVxuZnVuY3Rpb24gdXNlVW5jb250cm9sbGVkU3RhdGUoe1xuICBkZWZhdWx0UHJvcCxcbiAgb25DaGFuZ2Vcbn0pIHtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZShkZWZhdWx0UHJvcCk7XG4gIGNvbnN0IHByZXZWYWx1ZVJlZiA9IFJlYWN0LnVzZVJlZih2YWx1ZSk7XG4gIGNvbnN0IG9uQ2hhbmdlUmVmID0gUmVhY3QudXNlUmVmKG9uQ2hhbmdlKTtcbiAgdXNlSW5zZXJ0aW9uRWZmZWN0KCgpID0+IHtcbiAgICBvbkNoYW5nZVJlZi5jdXJyZW50ID0gb25DaGFuZ2U7XG4gIH0sIFtvbkNoYW5nZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmV2VmFsdWVSZWYuY3VycmVudCAhPT0gdmFsdWUpIHtcbiAgICAgIG9uQ2hhbmdlUmVmLmN1cnJlbnQ/Lih2YWx1ZSk7XG4gICAgICBwcmV2VmFsdWVSZWYuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSwgW3ZhbHVlLCBwcmV2VmFsdWVSZWZdKTtcbiAgcmV0dXJuIFt2YWx1ZSwgc2V0VmFsdWUsIG9uQ2hhbmdlUmVmXTtcbn1cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG4vLyBzcmMvdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZS1yZWR1Y2VyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0RXZlbnQgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1lZmZlY3QtZXZlbnRcIjtcbnZhciBTWU5DX1NUQVRFID0gU3ltYm9sKFwiUkFESVg6U1lOQ19TVEFURVwiKTtcbmZ1bmN0aW9uIHVzZUNvbnRyb2xsYWJsZVN0YXRlUmVkdWNlcihyZWR1Y2VyLCB1c2VyQXJncywgaW5pdGlhbEFyZywgaW5pdCkge1xuICBjb25zdCB7IHByb3A6IGNvbnRyb2xsZWRTdGF0ZSwgZGVmYXVsdFByb3AsIG9uQ2hhbmdlOiBvbkNoYW5nZVByb3AsIGNhbGxlciB9ID0gdXNlckFyZ3M7XG4gIGNvbnN0IGlzQ29udHJvbGxlZCA9IGNvbnRyb2xsZWRTdGF0ZSAhPT0gdm9pZCAwO1xuICBjb25zdCBvbkNoYW5nZSA9IHVzZUVmZmVjdEV2ZW50KG9uQ2hhbmdlUHJvcCk7XG4gIGlmICh0cnVlKSB7XG4gICAgY29uc3QgaXNDb250cm9sbGVkUmVmID0gUmVhY3QyLnVzZVJlZihjb250cm9sbGVkU3RhdGUgIT09IHZvaWQgMCk7XG4gICAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCB3YXNDb250cm9sbGVkID0gaXNDb250cm9sbGVkUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAod2FzQ29udHJvbGxlZCAhPT0gaXNDb250cm9sbGVkKSB7XG4gICAgICAgIGNvbnN0IGZyb20gPSB3YXNDb250cm9sbGVkID8gXCJjb250cm9sbGVkXCIgOiBcInVuY29udHJvbGxlZFwiO1xuICAgICAgICBjb25zdCB0byA9IGlzQ29udHJvbGxlZCA/IFwiY29udHJvbGxlZFwiIDogXCJ1bmNvbnRyb2xsZWRcIjtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGAke2NhbGxlcn0gaXMgY2hhbmdpbmcgZnJvbSAke2Zyb219IHRvICR7dG99LiBDb21wb25lbnRzIHNob3VsZCBub3Qgc3dpdGNoIGZyb20gY29udHJvbGxlZCB0byB1bmNvbnRyb2xsZWQgKG9yIHZpY2UgdmVyc2EpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHZhbHVlIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpc0NvbnRyb2xsZWRSZWYuY3VycmVudCA9IGlzQ29udHJvbGxlZDtcbiAgICB9LCBbaXNDb250cm9sbGVkLCBjYWxsZXJdKTtcbiAgfVxuICBjb25zdCBhcmdzID0gW3sgLi4uaW5pdGlhbEFyZywgc3RhdGU6IGRlZmF1bHRQcm9wIH1dO1xuICBpZiAoaW5pdCkge1xuICAgIGFyZ3MucHVzaChpbml0KTtcbiAgfVxuICBjb25zdCBbaW50ZXJuYWxTdGF0ZSwgZGlzcGF0Y2hdID0gUmVhY3QyLnVzZVJlZHVjZXIoXG4gICAgKHN0YXRlMiwgYWN0aW9uKSA9PiB7XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFNZTkNfU1RBVEUpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUyLCBzdGF0ZTogYWN0aW9uLnN0YXRlIH07XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0ID0gcmVkdWNlcihzdGF0ZTIsIGFjdGlvbik7XG4gICAgICBpZiAoaXNDb250cm9sbGVkICYmICFPYmplY3QuaXMobmV4dC5zdGF0ZSwgc3RhdGUyLnN0YXRlKSkge1xuICAgICAgICBvbkNoYW5nZShuZXh0LnN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0sXG4gICAgLi4uYXJnc1xuICApO1xuICBjb25zdCB1bmNvbnRyb2xsZWRTdGF0ZSA9IGludGVybmFsU3RhdGUuc3RhdGU7XG4gIGNvbnN0IHByZXZWYWx1ZVJlZiA9IFJlYWN0Mi51c2VSZWYodW5jb250cm9sbGVkU3RhdGUpO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJldlZhbHVlUmVmLmN1cnJlbnQgIT09IHVuY29udHJvbGxlZFN0YXRlKSB7XG4gICAgICBwcmV2VmFsdWVSZWYuY3VycmVudCA9IHVuY29udHJvbGxlZFN0YXRlO1xuICAgICAgaWYgKCFpc0NvbnRyb2xsZWQpIHtcbiAgICAgICAgb25DaGFuZ2UodW5jb250cm9sbGVkU3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW29uQ2hhbmdlLCB1bmNvbnRyb2xsZWRTdGF0ZSwgcHJldlZhbHVlUmVmLCBpc0NvbnRyb2xsZWRdKTtcbiAgY29uc3Qgc3RhdGUgPSBSZWFjdDIudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgaXNDb250cm9sbGVkMiA9IGNvbnRyb2xsZWRTdGF0ZSAhPT0gdm9pZCAwO1xuICAgIGlmIChpc0NvbnRyb2xsZWQyKSB7XG4gICAgICByZXR1cm4geyAuLi5pbnRlcm5hbFN0YXRlLCBzdGF0ZTogY29udHJvbGxlZFN0YXRlIH07XG4gICAgfVxuICAgIHJldHVybiBpbnRlcm5hbFN0YXRlO1xuICB9LCBbaW50ZXJuYWxTdGF0ZSwgY29udHJvbGxlZFN0YXRlXSk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0NvbnRyb2xsZWQgJiYgIU9iamVjdC5pcyhjb250cm9sbGVkU3RhdGUsIGludGVybmFsU3RhdGUuc3RhdGUpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IFNZTkNfU1RBVEUsIHN0YXRlOiBjb250cm9sbGVkU3RhdGUgfSk7XG4gICAgfVxuICB9LCBbY29udHJvbGxlZFN0YXRlLCBpbnRlcm5hbFN0YXRlLnN0YXRlLCBpc0NvbnRyb2xsZWRdKTtcbiAgcmV0dXJuIFtzdGF0ZSwgZGlzcGF0Y2hdO1xufVxuZXhwb3J0IHtcbiAgdXNlQ29udHJvbGxhYmxlU3RhdGUsXG4gIHVzZUNvbnRyb2xsYWJsZVN0YXRlUmVkdWNlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHBhY2thZ2VzL3JlYWN0L3VzZS1wcmV2aW91cy9zcmMvdXNlLXByZXZpb3VzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSkge1xuICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYoeyB2YWx1ZSwgcHJldmlvdXM6IHZhbHVlIH0pO1xuICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHJlZi5jdXJyZW50LnZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgcmVmLmN1cnJlbnQucHJldmlvdXMgPSByZWYuY3VycmVudC52YWx1ZTtcbiAgICAgIHJlZi5jdXJyZW50LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZWYuY3VycmVudC5wcmV2aW91cztcbiAgfSwgW3ZhbHVlXSk7XG59XG5leHBvcnQge1xuICB1c2VQcmV2aW91c1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8vIHNyYy92aXN1YWxseS1oaWRkZW4udHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBWSVNVQUxMWV9ISURERU5fU1RZTEVTID0gT2JqZWN0LmZyZWV6ZSh7XG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9zY3NzL21peGlucy9fdmlzdWFsbHktaGlkZGVuLnNjc3NcbiAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgYm9yZGVyOiAwLFxuICB3aWR0aDogMSxcbiAgaGVpZ2h0OiAxLFxuICBwYWRkaW5nOiAwLFxuICBtYXJnaW46IC0xLFxuICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgY2xpcDogXCJyZWN0KDAsIDAsIDAsIDApXCIsXG4gIHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG4gIHdvcmRXcmFwOiBcIm5vcm1hbFwiXG59KTtcbnZhciBOQU1FID0gXCJWaXN1YWxseUhpZGRlblwiO1xudmFyIFZpc3VhbGx5SGlkZGVuID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFByaW1pdGl2ZS5zcGFuLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIHN0eWxlOiB7IC4uLlZJU1VBTExZX0hJRERFTl9TVFlMRVMsIC4uLnByb3BzLnN0eWxlIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuVmlzdWFsbHlIaWRkZW4uZGlzcGxheU5hbWUgPSBOQU1FO1xudmFyIFJvb3QgPSBWaXN1YWxseUhpZGRlbjtcbmV4cG9ydCB7XG4gIFJvb3QsXG4gIFZJU1VBTExZX0hJRERFTl9TVFlMRVMsXG4gIFZpc3VhbGx5SGlkZGVuXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwidmFyIGdldERlZmF1bHRQYXJlbnQgPSBmdW5jdGlvbiAob3JpZ2luYWxUYXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHNhbXBsZVRhcmdldCA9IEFycmF5LmlzQXJyYXkob3JpZ2luYWxUYXJnZXQpID8gb3JpZ2luYWxUYXJnZXRbMF0gOiBvcmlnaW5hbFRhcmdldDtcbiAgICByZXR1cm4gc2FtcGxlVGFyZ2V0Lm93bmVyRG9jdW1lbnQuYm9keTtcbn07XG52YXIgY291bnRlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgdW5jb250cm9sbGVkTm9kZXMgPSBuZXcgV2Vha01hcCgpO1xudmFyIG1hcmtlck1hcCA9IHt9O1xudmFyIGxvY2tDb3VudCA9IDA7XG52YXIgdW53cmFwSG9zdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgJiYgKG5vZGUuaG9zdCB8fCB1bndyYXBIb3N0KG5vZGUucGFyZW50Tm9kZSkpO1xufTtcbnZhciBjb3JyZWN0VGFyZ2V0cyA9IGZ1bmN0aW9uIChwYXJlbnQsIHRhcmdldHMpIHtcbiAgICByZXR1cm4gdGFyZ2V0c1xuICAgICAgICAubWFwKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb3JyZWN0ZWRUYXJnZXQgPSB1bndyYXBIb3N0KHRhcmdldCk7XG4gICAgICAgIGlmIChjb3JyZWN0ZWRUYXJnZXQgJiYgcGFyZW50LmNvbnRhaW5zKGNvcnJlY3RlZFRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3JyZWN0ZWRUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcignYXJpYS1oaWRkZW4nLCB0YXJnZXQsICdpbiBub3QgY29udGFpbmVkIGluc2lkZScsIHBhcmVudCwgJy4gRG9pbmcgbm90aGluZycpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiBCb29sZWFuKHgpOyB9KTtcbn07XG4vKipcbiAqIE1hcmtzIGV2ZXJ5dGhpbmcgZXhjZXB0IGdpdmVuIG5vZGUob3Igbm9kZXMpIGFzIGFyaWEtaGlkZGVuXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBFbGVtZW50W119IG9yaWdpbmFsVGFyZ2V0IC0gZWxlbWVudHMgdG8ga2VlcCBvbiB0aGUgcGFnZVxuICogQHBhcmFtIFtwYXJlbnROb2RlXSAtIHRvcCBlbGVtZW50LCBkZWZhdWx0cyB0byBkb2N1bWVudC5ib2R5XG4gKiBAcGFyYW0ge1N0cmluZ30gW21hcmtlck5hbWVdIC0gYSBzcGVjaWFsIGF0dHJpYnV0ZSB0byBtYXJrIGV2ZXJ5IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbY29udHJvbEF0dHJpYnV0ZV0gLSBodG1sIEF0dHJpYnV0ZSB0byBjb250cm9sXG4gKiBAcmV0dXJuIHtVbmRvfSB1bmRvIGNvbW1hbmRcbiAqL1xudmFyIGFwcGx5QXR0cmlidXRlVG9PdGhlcnMgPSBmdW5jdGlvbiAob3JpZ2luYWxUYXJnZXQsIHBhcmVudE5vZGUsIG1hcmtlck5hbWUsIGNvbnRyb2xBdHRyaWJ1dGUpIHtcbiAgICB2YXIgdGFyZ2V0cyA9IGNvcnJlY3RUYXJnZXRzKHBhcmVudE5vZGUsIEFycmF5LmlzQXJyYXkob3JpZ2luYWxUYXJnZXQpID8gb3JpZ2luYWxUYXJnZXQgOiBbb3JpZ2luYWxUYXJnZXRdKTtcbiAgICBpZiAoIW1hcmtlck1hcFttYXJrZXJOYW1lXSkge1xuICAgICAgICBtYXJrZXJNYXBbbWFya2VyTmFtZV0gPSBuZXcgV2Vha01hcCgpO1xuICAgIH1cbiAgICB2YXIgbWFya2VyQ291bnRlciA9IG1hcmtlck1hcFttYXJrZXJOYW1lXTtcbiAgICB2YXIgaGlkZGVuTm9kZXMgPSBbXTtcbiAgICB2YXIgZWxlbWVudHNUb0tlZXAgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGVsZW1lbnRzVG9TdG9wID0gbmV3IFNldCh0YXJnZXRzKTtcbiAgICB2YXIga2VlcCA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBpZiAoIWVsIHx8IGVsZW1lbnRzVG9LZWVwLmhhcyhlbCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50c1RvS2VlcC5hZGQoZWwpO1xuICAgICAgICBrZWVwKGVsLnBhcmVudE5vZGUpO1xuICAgIH07XG4gICAgdGFyZ2V0cy5mb3JFYWNoKGtlZXApO1xuICAgIHZhciBkZWVwID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICBpZiAoIXBhcmVudCB8fCBlbGVtZW50c1RvU3RvcC5oYXMocGFyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwocGFyZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9LZWVwLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgICAgIGRlZXAobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IG5vZGUuZ2V0QXR0cmlidXRlKGNvbnRyb2xBdHRyaWJ1dGUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeUhpZGRlbiA9IGF0dHIgIT09IG51bGwgJiYgYXR0ciAhPT0gJ2ZhbHNlJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJWYWx1ZSA9IChjb3VudGVyTWFwLmdldChub2RlKSB8fCAwKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJWYWx1ZSA9IChtYXJrZXJDb3VudGVyLmdldChub2RlKSB8fCAwKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJNYXAuc2V0KG5vZGUsIGNvdW50ZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXIuc2V0KG5vZGUsIG1hcmtlclZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZGVuTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXJWYWx1ZSA9PT0gMSAmJiBhbHJlYWR5SGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmNvbnRyb2xsZWROb2Rlcy5zZXQobm9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlclZhbHVlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShtYXJrZXJOYW1lLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeUhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoY29udHJvbEF0dHJpYnV0ZSwgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdhcmlhLWhpZGRlbjogY2Fubm90IG9wZXJhdGUgb24gJywgbm9kZSwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGRlZXAocGFyZW50Tm9kZSk7XG4gICAgZWxlbWVudHNUb0tlZXAuY2xlYXIoKTtcbiAgICBsb2NrQ291bnQrKztcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBoaWRkZW5Ob2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgY291bnRlclZhbHVlID0gY291bnRlck1hcC5nZXQobm9kZSkgLSAxO1xuICAgICAgICAgICAgdmFyIG1hcmtlclZhbHVlID0gbWFya2VyQ291bnRlci5nZXQobm9kZSkgLSAxO1xuICAgICAgICAgICAgY291bnRlck1hcC5zZXQobm9kZSwgY291bnRlclZhbHVlKTtcbiAgICAgICAgICAgIG1hcmtlckNvdW50ZXIuc2V0KG5vZGUsIG1hcmtlclZhbHVlKTtcbiAgICAgICAgICAgIGlmICghY291bnRlclZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1bmNvbnRyb2xsZWROb2Rlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoY29udHJvbEF0dHJpYnV0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVuY29udHJvbGxlZE5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWFya2VyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShtYXJrZXJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxvY2tDb3VudC0tO1xuICAgICAgICBpZiAoIWxvY2tDb3VudCkge1xuICAgICAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgICAgIGNvdW50ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICAgICAgY291bnRlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgICAgICB1bmNvbnRyb2xsZWROb2RlcyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgICAgICBtYXJrZXJNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBNYXJrcyBldmVyeXRoaW5nIGV4Y2VwdCBnaXZlbiBub2RlKG9yIG5vZGVzKSBhcyBhcmlhLWhpZGRlblxuICogQHBhcmFtIHtFbGVtZW50IHwgRWxlbWVudFtdfSBvcmlnaW5hbFRhcmdldCAtIGVsZW1lbnRzIHRvIGtlZXAgb24gdGhlIHBhZ2VcbiAqIEBwYXJhbSBbcGFyZW50Tm9kZV0gLSB0b3AgZWxlbWVudCwgZGVmYXVsdHMgdG8gZG9jdW1lbnQuYm9keVxuICogQHBhcmFtIHtTdHJpbmd9IFttYXJrZXJOYW1lXSAtIGEgc3BlY2lhbCBhdHRyaWJ1dGUgdG8gbWFyayBldmVyeSBub2RlXG4gKiBAcmV0dXJuIHtVbmRvfSB1bmRvIGNvbW1hbmRcbiAqL1xuZXhwb3J0IHZhciBoaWRlT3RoZXJzID0gZnVuY3Rpb24gKG9yaWdpbmFsVGFyZ2V0LCBwYXJlbnROb2RlLCBtYXJrZXJOYW1lKSB7XG4gICAgaWYgKG1hcmtlck5hbWUgPT09IHZvaWQgMCkgeyBtYXJrZXJOYW1lID0gJ2RhdGEtYXJpYS1oaWRkZW4nOyB9XG4gICAgdmFyIHRhcmdldHMgPSBBcnJheS5mcm9tKEFycmF5LmlzQXJyYXkob3JpZ2luYWxUYXJnZXQpID8gb3JpZ2luYWxUYXJnZXQgOiBbb3JpZ2luYWxUYXJnZXRdKTtcbiAgICB2YXIgYWN0aXZlUGFyZW50Tm9kZSA9IHBhcmVudE5vZGUgfHwgZ2V0RGVmYXVsdFBhcmVudChvcmlnaW5hbFRhcmdldCk7XG4gICAgaWYgKCFhY3RpdmVQYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgIH1cbiAgICAvLyB3ZSBzaG91bGQgbm90IGhpZGUgYXJpYS1saXZlIGVsZW1lbnRzIC0gaHR0cHM6Ly9naXRodWIuY29tL3RoZUthc2hleS9hcmlhLWhpZGRlbi9pc3N1ZXMvMTBcbiAgICAvLyBhbmQgc2NyaXB0IGVsZW1lbnRzLCBhcyB0aGV5IGhhdmUgbm8gaW1wYWN0IG9uIGFjY2Vzc2liaWxpdHkuXG4gICAgdGFyZ2V0cy5wdXNoLmFwcGx5KHRhcmdldHMsIEFycmF5LmZyb20oYWN0aXZlUGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbYXJpYS1saXZlXSwgc2NyaXB0JykpKTtcbiAgICByZXR1cm4gYXBwbHlBdHRyaWJ1dGVUb090aGVycyh0YXJnZXRzLCBhY3RpdmVQYXJlbnROb2RlLCBtYXJrZXJOYW1lLCAnYXJpYS1oaWRkZW4nKTtcbn07XG4vKipcbiAqIE1hcmtzIGV2ZXJ5dGhpbmcgZXhjZXB0IGdpdmVuIG5vZGUob3Igbm9kZXMpIGFzIGluZXJ0XG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBFbGVtZW50W119IG9yaWdpbmFsVGFyZ2V0IC0gZWxlbWVudHMgdG8ga2VlcCBvbiB0aGUgcGFnZVxuICogQHBhcmFtIFtwYXJlbnROb2RlXSAtIHRvcCBlbGVtZW50LCBkZWZhdWx0cyB0byBkb2N1bWVudC5ib2R5XG4gKiBAcGFyYW0ge1N0cmluZ30gW21hcmtlck5hbWVdIC0gYSBzcGVjaWFsIGF0dHJpYnV0ZSB0byBtYXJrIGV2ZXJ5IG5vZGVcbiAqIEByZXR1cm4ge1VuZG99IHVuZG8gY29tbWFuZFxuICovXG5leHBvcnQgdmFyIGluZXJ0T3RoZXJzID0gZnVuY3Rpb24gKG9yaWdpbmFsVGFyZ2V0LCBwYXJlbnROb2RlLCBtYXJrZXJOYW1lKSB7XG4gICAgaWYgKG1hcmtlck5hbWUgPT09IHZvaWQgMCkgeyBtYXJrZXJOYW1lID0gJ2RhdGEtaW5lcnQtZWQnOyB9XG4gICAgdmFyIGFjdGl2ZVBhcmVudE5vZGUgPSBwYXJlbnROb2RlIHx8IGdldERlZmF1bHRQYXJlbnQob3JpZ2luYWxUYXJnZXQpO1xuICAgIGlmICghYWN0aXZlUGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGx5QXR0cmlidXRlVG9PdGhlcnMob3JpZ2luYWxUYXJnZXQsIGFjdGl2ZVBhcmVudE5vZGUsIG1hcmtlck5hbWUsICdpbmVydCcpO1xufTtcbi8qKlxuICogQHJldHVybnMgaWYgY3VycmVudCBicm93c2VyIHN1cHBvcnRzIGluZXJ0XG4gKi9cbmV4cG9ydCB2YXIgc3VwcG9ydHNJbmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBIVE1MRWxlbWVudC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2luZXJ0Jyk7XG59O1xuLyoqXG4gKiBBdXRvbWF0aWMgZnVuY3Rpb24gdG8gXCJzdXBwcmVzc1wiIERPTSBlbGVtZW50cyAtIF9oaWRlXyBvciBfaW5lcnRfIGluIHRoZSBiZXN0IHBvc3NpYmxlIHdheVxuICogQHBhcmFtIHtFbGVtZW50IHwgRWxlbWVudFtdfSBvcmlnaW5hbFRhcmdldCAtIGVsZW1lbnRzIHRvIGtlZXAgb24gdGhlIHBhZ2VcbiAqIEBwYXJhbSBbcGFyZW50Tm9kZV0gLSB0b3AgZWxlbWVudCwgZGVmYXVsdHMgdG8gZG9jdW1lbnQuYm9keVxuICogQHBhcmFtIHtTdHJpbmd9IFttYXJrZXJOYW1lXSAtIGEgc3BlY2lhbCBhdHRyaWJ1dGUgdG8gbWFyayBldmVyeSBub2RlXG4gKiBAcmV0dXJuIHtVbmRvfSB1bmRvIGNvbW1hbmRcbiAqL1xuZXhwb3J0IHZhciBzdXBwcmVzc090aGVycyA9IGZ1bmN0aW9uIChvcmlnaW5hbFRhcmdldCwgcGFyZW50Tm9kZSwgbWFya2VyTmFtZSkge1xuICAgIGlmIChtYXJrZXJOYW1lID09PSB2b2lkIDApIHsgbWFya2VyTmFtZSA9ICdkYXRhLXN1cHByZXNzZWQnOyB9XG4gICAgcmV0dXJuIChzdXBwb3J0c0luZXJ0KCkgPyBpbmVydE90aGVycyA6IGhpZGVPdGhlcnMpKG9yaWdpbmFsVGFyZ2V0LCBwYXJlbnROb2RlLCBtYXJrZXJOYW1lKTtcbn07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCJleHBvcnQgdmFyIHplcm9SaWdodENsYXNzTmFtZSA9ICdyaWdodC1zY3JvbGwtYmFyLXBvc2l0aW9uJztcbmV4cG9ydCB2YXIgZnVsbFdpZHRoQ2xhc3NOYW1lID0gJ3dpZHRoLWJlZm9yZS1zY3JvbGwtYmFyJztcbmV4cG9ydCB2YXIgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lID0gJ3dpdGgtc2Nyb2xsLWJhcnMtaGlkZGVuJztcbi8qKlxuICogTmFtZSBvZiBhIENTUyB2YXJpYWJsZSBjb250YWluaW5nIHRoZSBhbW91bnQgb2YgXCJoaWRkZW5cIiBzY3JvbGxiYXJcbiAqICEgbWlnaHQgYmUgdW5kZWZpbmVkICEgdXNlIHdpbGwgZmFsbGJhY2shXG4gKi9cbmV4cG9ydCB2YXIgcmVtb3ZlZEJhclNpemVWYXJpYWJsZSA9ICctLXJlbW92ZWQtYm9keS1zY3JvbGwtYmFyLXNpemUnO1xuIiwiLyoqXG4gKiBBc3NpZ25zIGEgdmFsdWUgZm9yIGEgZ2l2ZW4gcmVmLCBubyBtYXR0ZXIgb2YgdGhlIHJlZiBmb3JtYXRcbiAqIEBwYXJhbSB7UmVmT2JqZWN0fSByZWYgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9yIHJlZiBvYmplY3RcbiAqIEBwYXJhbSB2YWx1ZSAtIGEgbmV3IHZhbHVlXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGhlS2FzaGV5L3VzZS1jYWxsYmFjay1yZWYjYXNzaWducmVmXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVmT2JqZWN0ID0gdXNlUmVmKCk7XG4gKiBjb25zdCByZWZGbiA9IChyZWYpID0+IHsuLi4ufVxuICpcbiAqIGFzc2lnblJlZihyZWZPYmplY3QsIFwicmVmVmFsdWVcIik7XG4gKiBhc3NpZ25SZWYocmVmRm4sIFwicmVmVmFsdWVcIik7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25SZWYocmVmLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZikge1xuICAgICAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVmO1xufVxuIiwiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG4vKipcbiAqIGNyZWF0ZXMgYSBNdXRhYmxlUmVmIHdpdGggcmVmIGNoYW5nZSBjYWxsYmFja1xuICogQHBhcmFtIGluaXRpYWxWYWx1ZSAtIGluaXRpYWwgcmVmIHZhbHVlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGEgY2FsbGJhY2sgdG8gcnVuIHdoZW4gdmFsdWUgY2hhbmdlc1xuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZWYgPSB1c2VDYWxsYmFja1JlZigwLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiBjb25zb2xlLmxvZyhvbGRWYWx1ZSwgJy0+JywgbmV3VmFsdWUpO1xuICogcmVmLmN1cnJlbnQgPSAxO1xuICogLy8gcHJpbnRzIDAgLT4gMVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvb2tzLXJlZmVyZW5jZS5odG1sI3VzZXJlZlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGhlS2FzaGV5L3VzZS1jYWxsYmFjay1yZWYjdXNlY2FsbGJhY2tyZWYtLS10by1yZXBsYWNlLXJlYWN0dXNlcmVmXG4gKiBAcmV0dXJucyB7TXV0YWJsZVJlZk9iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhbGxiYWNrUmVmKGluaXRpYWxWYWx1ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgcmVmID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHtcbiAgICAgICAgLy8gdmFsdWVcbiAgICAgICAgdmFsdWU6IGluaXRpYWxWYWx1ZSxcbiAgICAgICAgLy8gbGFzdCBjYWxsYmFja1xuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIC8vIFwibWVtb2l6ZWRcIiBwdWJsaWMgaW50ZXJmYWNlXG4gICAgICAgIGZhY2FkZToge1xuICAgICAgICAgICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZi52YWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQgY3VycmVudCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gcmVmLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0ICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVmLmNhbGxiYWNrKHZhbHVlLCBsYXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pOyB9KVswXTtcbiAgICAvLyB1cGRhdGUgY2FsbGJhY2tcbiAgICByZWYuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gcmVmLmZhY2FkZTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGFzc2lnblJlZiB9IGZyb20gJy4vYXNzaWduUmVmJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmIH0gZnJvbSAnLi91c2VSZWYnO1xudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcbnZhciBjdXJyZW50VmFsdWVzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogTWVyZ2VzIHR3byBvciBtb3JlIHJlZnMgdG9nZXRoZXIgcHJvdmlkaW5nIGEgc2luZ2xlIGludGVyZmFjZSB0byBzZXQgdGhlaXIgdmFsdWVcbiAqIEBwYXJhbSB7UmVmT2JqZWN0fFJlZn0gcmVmc1xuICogQHJldHVybnMge011dGFibGVSZWZPYmplY3R9IC0gYSBuZXcgcmVmLCB3aGljaCB0cmFuc2xhdGVzIGFsbCBjaGFuZ2VzIHRvIHtyZWZzfVxuICpcbiAqIEBzZWUge0BsaW5rIG1lcmdlUmVmc30gYSB2ZXJzaW9uIHdpdGhvdXQgYnVpdC1pbiBtZW1vaXphdGlvblxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGhlS2FzaGV5L3VzZS1jYWxsYmFjay1yZWYjdXNlbWVyZ2VyZWZzXG4gKiBAZXhhbXBsZVxuICogY29uc3QgQ29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICogICBjb25zdCBvd25SZWYgPSB1c2VSZWYoKTtcbiAqICAgY29uc3QgZG9tUmVmID0gdXNlTWVyZ2VSZWZzKFtyZWYsIG93blJlZl0pOyAvLyDwn5GIIG1lcmdlIHRvZ2V0aGVyXG4gKiAgIHJldHVybiA8ZGl2IHJlZj17ZG9tUmVmfT4uLi48L2Rpdj5cbiAqIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lcmdlUmVmcyhyZWZzLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgY2FsbGJhY2tSZWYgPSB1c2VDYWxsYmFja1JlZihkZWZhdWx0VmFsdWUgfHwgbnVsbCwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWZzLmZvckVhY2goZnVuY3Rpb24gKHJlZikgeyByZXR1cm4gYXNzaWduUmVmKHJlZiwgbmV3VmFsdWUpOyB9KTtcbiAgICB9KTtcbiAgICAvLyBoYW5kbGUgcmVmcyBjaGFuZ2VzIC0gYWRkZWQgb3IgcmVtb3ZlZFxuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBjdXJyZW50VmFsdWVzLmdldChjYWxsYmFja1JlZik7XG4gICAgICAgIGlmIChvbGRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIHByZXZSZWZzXzEgPSBuZXcgU2V0KG9sZFZhbHVlKTtcbiAgICAgICAgICAgIHZhciBuZXh0UmVmc18xID0gbmV3IFNldChyZWZzKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50XzEgPSBjYWxsYmFja1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgcHJldlJlZnNfMS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHRSZWZzXzEuaGFzKHJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduUmVmKHJlZiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXh0UmVmc18xLmZvckVhY2goZnVuY3Rpb24gKHJlZikge1xuICAgICAgICAgICAgICAgIGlmICghcHJldlJlZnNfMS5oYXMocmVmKSkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ25SZWYocmVmLCBjdXJyZW50XzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRWYWx1ZXMuc2V0KGNhbGxiYWNrUmVmLCByZWZzKTtcbiAgICB9LCBbcmVmc10pO1xuICAgIHJldHVybiBjYWxsYmFja1JlZjtcbn1cbiIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5mdW5jdGlvbiBJdG9JKGEpIHtcbiAgICByZXR1cm4gYTtcbn1cbmZ1bmN0aW9uIGlubmVyQ3JlYXRlTWVkaXVtKGRlZmF1bHRzLCBtaWRkbGV3YXJlKSB7XG4gICAgaWYgKG1pZGRsZXdhcmUgPT09IHZvaWQgMCkgeyBtaWRkbGV3YXJlID0gSXRvSTsgfVxuICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICB2YXIgYXNzaWduZWQgPSBmYWxzZTtcbiAgICB2YXIgbWVkaXVtID0ge1xuICAgICAgICByZWFkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYXNzaWduZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZGVjYXI6IGNvdWxkIG5vdCBgcmVhZGAgZnJvbSBhbiBgYXNzaWduZWRgIG1lZGl1bS4gYHJlYWRgIGNvdWxkIGJlIHVzZWQgb25seSB3aXRoIGB1c2VNZWRpdW1gLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyW2J1ZmZlci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICAgICAgfSxcbiAgICAgICAgdXNlTWVkaXVtOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBtaWRkbGV3YXJlKGRhdGEsIGFzc2lnbmVkKTtcbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICE9PSBpdGVtOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFzc2lnblN5bmNNZWRpdW06IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgYXNzaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2JzID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgICAgIGNicy5mb3JFYWNoKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICBwdXNoOiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gY2IoeCk7IH0sXG4gICAgICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBidWZmZXI7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBhc3NpZ25NZWRpdW06IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgYXNzaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHBlbmRpbmdRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2JzID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgICAgIGNicy5mb3JFYWNoKGNiKTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUgPSBidWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXhlY3V0ZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjYnMgPSBwZW5kaW5nUXVldWU7XG4gICAgICAgICAgICAgICAgcGVuZGluZ1F1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgY2JzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjeWNsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZXhlY3V0ZVF1ZXVlKTsgfTtcbiAgICAgICAgICAgIGN5Y2xlKCk7XG4gICAgICAgICAgICBidWZmZXIgPSB7XG4gICAgICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1F1ZXVlLnB1c2goeCk7XG4gICAgICAgICAgICAgICAgICAgIGN5Y2xlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1F1ZXVlID0gcGVuZGluZ1F1ZXVlLmZpbHRlcihmaWx0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIG1lZGl1bTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZWRpdW0oZGVmYXVsdHMsIG1pZGRsZXdhcmUpIHtcbiAgICBpZiAobWlkZGxld2FyZSA9PT0gdm9pZCAwKSB7IG1pZGRsZXdhcmUgPSBJdG9JOyB9XG4gICAgcmV0dXJuIGlubmVyQ3JlYXRlTWVkaXVtKGRlZmF1bHRzLCBtaWRkbGV3YXJlKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2lkZWNhck1lZGl1bShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgbWVkaXVtID0gaW5uZXJDcmVhdGVNZWRpdW0obnVsbCk7XG4gICAgbWVkaXVtLm9wdGlvbnMgPSBfX2Fzc2lnbih7IGFzeW5jOiB0cnVlLCBzc3I6IGZhbHNlIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiBtZWRpdW07XG59XG4iLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZXN0IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG52YXIgU2lkZUNhciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzaWRlQ2FyID0gX2Euc2lkZUNhciwgcmVzdCA9IF9fcmVzdChfYSwgW1wic2lkZUNhclwiXSk7XG4gICAgaWYgKCFzaWRlQ2FyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2lkZWNhcjogcGxlYXNlIHByb3ZpZGUgYHNpZGVDYXJgIHByb3BlcnR5IHRvIGltcG9ydCB0aGUgcmlnaHQgY2FyJyk7XG4gICAgfVxuICAgIHZhciBUYXJnZXQgPSBzaWRlQ2FyLnJlYWQoKTtcbiAgICBpZiAoIVRhcmdldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZGVjYXIgbWVkaXVtIG5vdCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYXJnZXQsIF9fYXNzaWduKHt9LCByZXN0KSk7XG59O1xuU2lkZUNhci5pc1NpZGVDYXJFeHBvcnQgPSB0cnVlO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFNpZGVjYXIobWVkaXVtLCBleHBvcnRlZCkge1xuICAgIG1lZGl1bS51c2VNZWRpdW0oZXhwb3J0ZWQpO1xuICAgIHJldHVybiBTaWRlQ2FyO1xufVxuIiwiaW1wb3J0IHsgY3JlYXRlU2lkZWNhck1lZGl1bSB9IGZyb20gJ3VzZS1zaWRlY2FyJztcbmV4cG9ydCB2YXIgZWZmZWN0Q2FyID0gY3JlYXRlU2lkZWNhck1lZGl1bSgpO1xuIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVzdCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZnVsbFdpZHRoQ2xhc3NOYW1lLCB6ZXJvUmlnaHRDbGFzc05hbWUgfSBmcm9tICdyZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9jb25zdGFudHMnO1xuaW1wb3J0IHsgdXNlTWVyZ2VSZWZzIH0gZnJvbSAndXNlLWNhbGxiYWNrLXJlZic7XG5pbXBvcnQgeyBlZmZlY3RDYXIgfSBmcm9tICcuL21lZGl1bSc7XG52YXIgbm90aGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm47XG59O1xuLyoqXG4gKiBSZW1vdmVzIHNjcm9sbGJhciBmcm9tIHRoZSBwYWdlIGFuZCBjb250YWluIHRoZSBzY3JvbGwgd2l0aGluIHRoZSBMb2NrXG4gKi9cbnZhciBSZW1vdmVTY3JvbGwgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcGFyZW50UmVmKSB7XG4gICAgdmFyIHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICB2YXIgX2EgPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgICAgIG9uU2Nyb2xsQ2FwdHVyZTogbm90aGluZyxcbiAgICAgICAgb25XaGVlbENhcHR1cmU6IG5vdGhpbmcsXG4gICAgICAgIG9uVG91Y2hNb3ZlQ2FwdHVyZTogbm90aGluZyxcbiAgICB9KSwgY2FsbGJhY2tzID0gX2FbMF0sIHNldENhbGxiYWNrcyA9IF9hWzFdO1xuICAgIHZhciBmb3J3YXJkUHJvcHMgPSBwcm9wcy5mb3J3YXJkUHJvcHMsIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSwgcmVtb3ZlU2Nyb2xsQmFyID0gcHJvcHMucmVtb3ZlU2Nyb2xsQmFyLCBlbmFibGVkID0gcHJvcHMuZW5hYmxlZCwgc2hhcmRzID0gcHJvcHMuc2hhcmRzLCBzaWRlQ2FyID0gcHJvcHMuc2lkZUNhciwgbm9SZWxhdGl2ZSA9IHByb3BzLm5vUmVsYXRpdmUsIG5vSXNvbGF0aW9uID0gcHJvcHMubm9Jc29sYXRpb24sIGluZXJ0ID0gcHJvcHMuaW5lcnQsIGFsbG93UGluY2hab29tID0gcHJvcHMuYWxsb3dQaW5jaFpvb20sIF9iID0gcHJvcHMuYXMsIENvbnRhaW5lciA9IF9iID09PSB2b2lkIDAgPyAnZGl2JyA6IF9iLCBnYXBNb2RlID0gcHJvcHMuZ2FwTW9kZSwgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wiZm9yd2FyZFByb3BzXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJyZW1vdmVTY3JvbGxCYXJcIiwgXCJlbmFibGVkXCIsIFwic2hhcmRzXCIsIFwic2lkZUNhclwiLCBcIm5vUmVsYXRpdmVcIiwgXCJub0lzb2xhdGlvblwiLCBcImluZXJ0XCIsIFwiYWxsb3dQaW5jaFpvb21cIiwgXCJhc1wiLCBcImdhcE1vZGVcIl0pO1xuICAgIHZhciBTaWRlQ2FyID0gc2lkZUNhcjtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gdXNlTWVyZ2VSZWZzKFtyZWYsIHBhcmVudFJlZl0pO1xuICAgIHZhciBjb250YWluZXJQcm9wcyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXN0KSwgY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIGVuYWJsZWQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZUNhciwgeyBzaWRlQ2FyOiBlZmZlY3RDYXIsIHJlbW92ZVNjcm9sbEJhcjogcmVtb3ZlU2Nyb2xsQmFyLCBzaGFyZHM6IHNoYXJkcywgbm9SZWxhdGl2ZTogbm9SZWxhdGl2ZSwgbm9Jc29sYXRpb246IG5vSXNvbGF0aW9uLCBpbmVydDogaW5lcnQsIHNldENhbGxiYWNrczogc2V0Q2FsbGJhY2tzLCBhbGxvd1BpbmNoWm9vbTogISFhbGxvd1BpbmNoWm9vbSwgbG9ja1JlZjogcmVmLCBnYXBNb2RlOiBnYXBNb2RlIH0pKSxcbiAgICAgICAgZm9yd2FyZFByb3BzID8gKFJlYWN0LmNsb25lRWxlbWVudChSZWFjdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSwgX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbnRhaW5lclByb3BzKSwgeyByZWY6IGNvbnRhaW5lclJlZiB9KSkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCBfX2Fzc2lnbih7fSwgY29udGFpbmVyUHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHJlZjogY29udGFpbmVyUmVmIH0pLCBjaGlsZHJlbikpKSk7XG59KTtcblJlbW92ZVNjcm9sbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICByZW1vdmVTY3JvbGxCYXI6IHRydWUsXG4gICAgaW5lcnQ6IGZhbHNlLFxufTtcblJlbW92ZVNjcm9sbC5jbGFzc05hbWVzID0ge1xuICAgIGZ1bGxXaWR0aDogZnVsbFdpZHRoQ2xhc3NOYW1lLFxuICAgIHplcm9SaWdodDogemVyb1JpZ2h0Q2xhc3NOYW1lLFxufTtcbmV4cG9ydCB7IFJlbW92ZVNjcm9sbCB9O1xuIiwidmFyIGN1cnJlbnROb25jZTtcbmV4cG9ydCB2YXIgc2V0Tm9uY2UgPSBmdW5jdGlvbiAobm9uY2UpIHtcbiAgICBjdXJyZW50Tm9uY2UgPSBub25jZTtcbn07XG5leHBvcnQgdmFyIGdldE5vbmNlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjdXJyZW50Tm9uY2UpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnROb25jZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiIsImltcG9ydCB7IGdldE5vbmNlIH0gZnJvbSAnZ2V0LW5vbmNlJztcbmZ1bmN0aW9uIG1ha2VTdHlsZVRhZygpIHtcbiAgICBpZiAoIWRvY3VtZW50KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICB0YWcudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgdmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcbiAgICBpZiAobm9uY2UpIHtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG59XG5mdW5jdGlvbiBpbmplY3RTdHlsZXModGFnLCBjc3MpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHRhZy5zdHlsZVNoZWV0KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGFnLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnRTdHlsZVRhZyh0YWcpIHtcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHRhZyk7XG59XG5leHBvcnQgdmFyIHN0eWxlc2hlZXRTaW5nbGV0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgIHZhciBzdHlsZXNoZWV0ID0gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICgoc3R5bGVzaGVldCA9IG1ha2VTdHlsZVRhZygpKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmplY3RTdHlsZXMoc3R5bGVzaGVldCwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdHlsZVRhZyhzdHlsZXNoZWV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY291bnRlci0tO1xuICAgICAgICAgICAgaWYgKCFjb3VudGVyICYmIHN0eWxlc2hlZXQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LnBhcmVudE5vZGUgJiYgc3R5bGVzaGVldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlc2hlZXQpO1xuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc3R5bGVzaGVldFNpbmdsZXRvbiB9IGZyb20gJy4vc2luZ2xldG9uJztcbi8qKlxuICogY3JlYXRlcyBhIGhvb2sgdG8gY29udHJvbCBzdHlsZSBzaW5nbGV0b25cbiAqIEBzZWUge0BsaW5rIHN0eWxlU2luZ2xldG9ufSBmb3IgYSBzYWZlciBjb21wb25lbnQgdmVyc2lvblxuICogQGV4YW1wbGVcbiAqIGBgYHRzeFxuICogY29uc3QgdXNlU3R5bGUgPSBzdHlsZUhvb2tTaW5nbGV0b24oKTtcbiAqIC8vL1xuICogdXNlU3R5bGUoJ2JvZHkgeyBvdmVyZmxvdzogaGlkZGVufScpO1xuICovXG5leHBvcnQgdmFyIHN0eWxlSG9va1NpbmdsZXRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hlZXQgPSBzdHlsZXNoZWV0U2luZ2xldG9uKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdHlsZXMsIGlzRHluYW1pYykge1xuICAgICAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2hlZXQuYWRkKHN0eWxlcyk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNoZWV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgW3N0eWxlcyAmJiBpc0R5bmFtaWNdKTtcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IHN0eWxlSG9va1NpbmdsZXRvbiB9IGZyb20gJy4vaG9vayc7XG4vKipcbiAqIGNyZWF0ZSBhIENvbXBvbmVudCB0byBhZGQgc3R5bGVzIG9uIGRlbWFuZFxuICogLSBzdHlsZXMgYXJlIGFkZGVkIHdoZW4gZmlyc3QgaW5zdGFuY2UgaXMgbW91bnRlZFxuICogLSBzdHlsZXMgYXJlIHJlbW92ZWQgd2hlbiB0aGUgbGFzdCBpbnN0YW5jZSBpcyB1bm1vdW50ZWRcbiAqIC0gY2hhbmdpbmcgc3R5bGVzIGluIHJ1bnRpbWUgZG9lcyBub3RoaW5nIHVubGVzcyBkeW5hbWljIGlzIHNldC4gQnV0IHdpdGggbXVsdGlwbGUgY29tcG9uZW50cyB0aGF0IGNhbiBsZWFkIHRvIHRoZSB1bmRlZmluZWQgYmVoYXZpb3JcbiAqL1xuZXhwb3J0IHZhciBzdHlsZVNpbmdsZXRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXNlU3R5bGUgPSBzdHlsZUhvb2tTaW5nbGV0b24oKTtcbiAgICB2YXIgU2hlZXQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IF9hLnN0eWxlcywgZHluYW1pYyA9IF9hLmR5bmFtaWM7XG4gICAgICAgIHVzZVN0eWxlKHN0eWxlcywgZHluYW1pYyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFNoZWV0O1xufTtcbiIsImV4cG9ydCB2YXIgemVyb0dhcCA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBnYXA6IDAsXG59O1xudmFyIHBhcnNlID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHBhcnNlSW50KHggfHwgJycsIDEwKSB8fCAwOyB9O1xudmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uIChnYXBNb2RlKSB7XG4gICAgdmFyIGNzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSk7XG4gICAgdmFyIGxlZnQgPSBjc1tnYXBNb2RlID09PSAncGFkZGluZycgPyAncGFkZGluZ0xlZnQnIDogJ21hcmdpbkxlZnQnXTtcbiAgICB2YXIgdG9wID0gY3NbZ2FwTW9kZSA9PT0gJ3BhZGRpbmcnID8gJ3BhZGRpbmdUb3AnIDogJ21hcmdpblRvcCddO1xuICAgIHZhciByaWdodCA9IGNzW2dhcE1vZGUgPT09ICdwYWRkaW5nJyA/ICdwYWRkaW5nUmlnaHQnIDogJ21hcmdpblJpZ2h0J107XG4gICAgcmV0dXJuIFtwYXJzZShsZWZ0KSwgcGFyc2UodG9wKSwgcGFyc2UocmlnaHQpXTtcbn07XG5leHBvcnQgdmFyIGdldEdhcFdpZHRoID0gZnVuY3Rpb24gKGdhcE1vZGUpIHtcbiAgICBpZiAoZ2FwTW9kZSA9PT0gdm9pZCAwKSB7IGdhcE1vZGUgPSAnbWFyZ2luJzsgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gemVyb0dhcDtcbiAgICB9XG4gICAgdmFyIG9mZnNldHMgPSBnZXRPZmZzZXQoZ2FwTW9kZSk7XG4gICAgdmFyIGRvY3VtZW50V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogb2Zmc2V0c1swXSxcbiAgICAgICAgdG9wOiBvZmZzZXRzWzFdLFxuICAgICAgICByaWdodDogb2Zmc2V0c1syXSxcbiAgICAgICAgZ2FwOiBNYXRoLm1heCgwLCB3aW5kb3dXaWR0aCAtIGRvY3VtZW50V2lkdGggKyBvZmZzZXRzWzJdIC0gb2Zmc2V0c1swXSksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZVNpbmdsZXRvbiB9IGZyb20gJ3JlYWN0LXN0eWxlLXNpbmdsZXRvbic7XG5pbXBvcnQgeyBmdWxsV2lkdGhDbGFzc05hbWUsIHplcm9SaWdodENsYXNzTmFtZSwgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCByZW1vdmVkQmFyU2l6ZVZhcmlhYmxlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0R2FwV2lkdGggfSBmcm9tICcuL3V0aWxzJztcbnZhciBTdHlsZSA9IHN0eWxlU2luZ2xldG9uKCk7XG5leHBvcnQgdmFyIGxvY2tBdHRyaWJ1dGUgPSAnZGF0YS1zY3JvbGwtbG9ja2VkJztcbi8vIGltcG9ydGFudCB0aXAgLSBvbmNlIHdlIG1lYXN1cmUgc2Nyb2xsQmFyIHdpZHRoIGFuZCByZW1vdmUgdGhlbVxuLy8gd2UgY291bGQgbm90IHJlcGVhdCB0aGlzIG9wZXJhdGlvblxuLy8gdGh1cyB3ZSBhcmUgdXNpbmcgc3R5bGUtc2luZ2xldG9uIC0gb25seSB0aGUgZmlyc3QgXCJ5ZXQgY29ycmVjdFwiIHN0eWxlIHdpbGwgYmUgYXBwbGllZC5cbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiAoX2EsIGFsbG93UmVsYXRpdmUsIGdhcE1vZGUsIGltcG9ydGFudCkge1xuICAgIHZhciBsZWZ0ID0gX2EubGVmdCwgdG9wID0gX2EudG9wLCByaWdodCA9IF9hLnJpZ2h0LCBnYXAgPSBfYS5nYXA7XG4gICAgaWYgKGdhcE1vZGUgPT09IHZvaWQgMCkgeyBnYXBNb2RlID0gJ21hcmdpbic7IH1cbiAgICByZXR1cm4gXCJcXG4gIC5cIi5jb25jYXQobm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCBcIiB7XFxuICAgb3ZlcmZsb3c6IGhpZGRlbiBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XFxuICAgcGFkZGluZy1yaWdodDogXCIpLmNvbmNhdChnYXAsIFwicHggXCIpLmNvbmNhdChpbXBvcnRhbnQsIFwiO1xcbiAgfVxcbiAgYm9keVtcIikuY29uY2F0KGxvY2tBdHRyaWJ1dGUsIFwiXSB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW4gXCIpLmNvbmNhdChpbXBvcnRhbnQsIFwiO1xcbiAgICBvdmVyc2Nyb2xsLWJlaGF2aW9yOiBjb250YWluO1xcbiAgICBcIikuY29uY2F0KFtcbiAgICAgICAgYWxsb3dSZWxhdGl2ZSAmJiBcInBvc2l0aW9uOiByZWxhdGl2ZSBcIi5jb25jYXQoaW1wb3J0YW50LCBcIjtcIiksXG4gICAgICAgIGdhcE1vZGUgPT09ICdtYXJnaW4nICYmXG4gICAgICAgICAgICBcIlxcbiAgICBwYWRkaW5nLWxlZnQ6IFwiLmNvbmNhdChsZWZ0LCBcInB4O1xcbiAgICBwYWRkaW5nLXRvcDogXCIpLmNvbmNhdCh0b3AsIFwicHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IFwiKS5jb25jYXQocmlnaHQsIFwicHg7XFxuICAgIG1hcmdpbi1sZWZ0OjA7XFxuICAgIG1hcmdpbi10b3A6MDtcXG4gICAgbWFyZ2luLXJpZ2h0OiBcIikuY29uY2F0KGdhcCwgXCJweCBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XFxuICAgIFwiKSxcbiAgICAgICAgZ2FwTW9kZSA9PT0gJ3BhZGRpbmcnICYmIFwicGFkZGluZy1yaWdodDogXCIuY29uY2F0KGdhcCwgXCJweCBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XCIpLFxuICAgIF1cbiAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAuam9pbignJyksIFwiXFxuICB9XFxuICBcXG4gIC5cIikuY29uY2F0KHplcm9SaWdodENsYXNzTmFtZSwgXCIge1xcbiAgICByaWdodDogXCIpLmNvbmNhdChnYXAsIFwicHggXCIpLmNvbmNhdChpbXBvcnRhbnQsIFwiO1xcbiAgfVxcbiAgXFxuICAuXCIpLmNvbmNhdChmdWxsV2lkdGhDbGFzc05hbWUsIFwiIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiBcIikuY29uY2F0KGdhcCwgXCJweCBcIikuY29uY2F0KGltcG9ydGFudCwgXCI7XFxuICB9XFxuICBcXG4gIC5cIikuY29uY2F0KHplcm9SaWdodENsYXNzTmFtZSwgXCIgLlwiKS5jb25jYXQoemVyb1JpZ2h0Q2xhc3NOYW1lLCBcIiB7XFxuICAgIHJpZ2h0OiAwIFwiKS5jb25jYXQoaW1wb3J0YW50LCBcIjtcXG4gIH1cXG4gIFxcbiAgLlwiKS5jb25jYXQoZnVsbFdpZHRoQ2xhc3NOYW1lLCBcIiAuXCIpLmNvbmNhdChmdWxsV2lkdGhDbGFzc05hbWUsIFwiIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwIFwiKS5jb25jYXQoaW1wb3J0YW50LCBcIjtcXG4gIH1cXG4gIFxcbiAgYm9keVtcIikuY29uY2F0KGxvY2tBdHRyaWJ1dGUsIFwiXSB7XFxuICAgIFwiKS5jb25jYXQocmVtb3ZlZEJhclNpemVWYXJpYWJsZSwgXCI6IFwiKS5jb25jYXQoZ2FwLCBcInB4O1xcbiAgfVxcblwiKTtcbn07XG52YXIgZ2V0Q3VycmVudFVzZUNvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdW50ZXIgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmdldEF0dHJpYnV0ZShsb2NrQXR0cmlidXRlKSB8fCAnMCcsIDEwKTtcbiAgICByZXR1cm4gaXNGaW5pdGUoY291bnRlcikgPyBjb3VudGVyIDogMDtcbn07XG5leHBvcnQgdmFyIHVzZUxvY2tBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUobG9ja0F0dHJpYnV0ZSwgKGdldEN1cnJlbnRVc2VDb3VudGVyKCkgKyAxKS50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdDb3VudGVyID0gZ2V0Q3VycmVudFVzZUNvdW50ZXIoKSAtIDE7XG4gICAgICAgICAgICBpZiAobmV3Q291bnRlciA8PSAwKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUobG9ja0F0dHJpYnV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZShsb2NrQXR0cmlidXRlLCBuZXdDb3VudGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbn07XG4vKipcbiAqIFJlbW92ZXMgcGFnZSBzY3JvbGxiYXIgYW5kIGJsb2NrcyBwYWdlIHNjcm9sbCB3aGVuIG1vdW50ZWRcbiAqL1xuZXhwb3J0IHZhciBSZW1vdmVTY3JvbGxCYXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbm9SZWxhdGl2ZSA9IF9hLm5vUmVsYXRpdmUsIG5vSW1wb3J0YW50ID0gX2Eubm9JbXBvcnRhbnQsIF9iID0gX2EuZ2FwTW9kZSwgZ2FwTW9kZSA9IF9iID09PSB2b2lkIDAgPyAnbWFyZ2luJyA6IF9iO1xuICAgIHVzZUxvY2tBdHRyaWJ1dGUoKTtcbiAgICAvKlxuICAgICBnYXAgd2lsbCBiZSBtZWFzdXJlZCBvbiBldmVyeSBjb21wb25lbnQgbW91bnRcbiAgICAgaG93ZXZlciBpdCB3aWxsIGJlIHVzZWQgb25seSBieSB0aGUgXCJmaXJzdFwiIGludm9jYXRpb25cbiAgICAgZHVlIHRvIHNpbmdsZXRvbiBuYXR1cmUgb2YgPFN0eWxlXG4gICAgICovXG4gICAgdmFyIGdhcCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0R2FwV2lkdGgoZ2FwTW9kZSk7IH0sIFtnYXBNb2RlXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgc3R5bGVzOiBnZXRTdHlsZXMoZ2FwLCAhbm9SZWxhdGl2ZSwgZ2FwTW9kZSwgIW5vSW1wb3J0YW50ID8gJyFpbXBvcnRhbnQnIDogJycpIH0pO1xufTtcbiIsInZhciBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IHZhciBub25QYXNzaXZlID0gcGFzc2l2ZVN1cHBvcnRlZCA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xuIiwidmFyIGFsd2F5c0NvbnRhaW5zU2Nyb2xsID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAvLyB0ZXh0YXJlYSB3aWxsIGFsd2F5cyBfY29udGFpbl8gc2Nyb2xsIGluc2lkZSBzZWxmLiBJdCBvbmx5IGNhbiBiZSBoaWRkZW5cbiAgICByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnVEVYVEFSRUEnO1xufTtcbnZhciBlbGVtZW50Q2FuQmVTY3JvbGxlZCA9IGZ1bmN0aW9uIChub2RlLCBvdmVyZmxvdykge1xuICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICByZXR1cm4gKFxuICAgIC8vIG5vdC1ub3Qtc2Nyb2xsYWJsZVxuICAgIHN0eWxlc1tvdmVyZmxvd10gIT09ICdoaWRkZW4nICYmXG4gICAgICAgIC8vIGNvbnRhaW5zIHNjcm9sbCBpbnNpZGUgc2VsZlxuICAgICAgICAhKHN0eWxlcy5vdmVyZmxvd1kgPT09IHN0eWxlcy5vdmVyZmxvd1ggJiYgIWFsd2F5c0NvbnRhaW5zU2Nyb2xsKG5vZGUpICYmIHN0eWxlc1tvdmVyZmxvd10gPT09ICd2aXNpYmxlJykpO1xufTtcbnZhciBlbGVtZW50Q291bGRCZVZTY3JvbGxlZCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBlbGVtZW50Q2FuQmVTY3JvbGxlZChub2RlLCAnb3ZlcmZsb3dZJyk7IH07XG52YXIgZWxlbWVudENvdWxkQmVIU2Nyb2xsZWQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gZWxlbWVudENhbkJlU2Nyb2xsZWQobm9kZSwgJ292ZXJmbG93WCcpOyB9O1xuZXhwb3J0IHZhciBsb2NhdGlvbkNvdWxkQmVTY3JvbGxlZCA9IGZ1bmN0aW9uIChheGlzLCBub2RlKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgdmFyIGN1cnJlbnQgPSBub2RlO1xuICAgIGRvIHtcbiAgICAgICAgLy8gU2tpcCBvdmVyIHNoYWRvdyByb290XG4gICAgICAgIGlmICh0eXBlb2YgU2hhZG93Um9vdCAhPT0gJ3VuZGVmaW5lZCcgJiYgY3VycmVudCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzU2Nyb2xsYWJsZSA9IGVsZW1lbnRDb3VsZEJlU2Nyb2xsZWQoYXhpcywgY3VycmVudCk7XG4gICAgICAgIGlmIChpc1Njcm9sbGFibGUpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGdldFNjcm9sbFZhcmlhYmxlcyhheGlzLCBjdXJyZW50KSwgc2Nyb2xsSGVpZ2h0ID0gX2FbMV0sIGNsaWVudEhlaWdodCA9IF9hWzJdO1xuICAgICAgICAgICAgaWYgKHNjcm9sbEhlaWdodCA+IGNsaWVudEhlaWdodCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgfSB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBvd25lckRvY3VtZW50LmJvZHkpO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG52YXIgZ2V0VlNjcm9sbFZhcmlhYmxlcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzY3JvbGxUb3AgPSBfYS5zY3JvbGxUb3AsIHNjcm9sbEhlaWdodCA9IF9hLnNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0ID0gX2EuY2xpZW50SGVpZ2h0O1xuICAgIHJldHVybiBbXG4gICAgICAgIHNjcm9sbFRvcCxcbiAgICAgICAgc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBjbGllbnRIZWlnaHQsXG4gICAgXTtcbn07XG52YXIgZ2V0SFNjcm9sbFZhcmlhYmxlcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gX2Euc2Nyb2xsTGVmdCwgc2Nyb2xsV2lkdGggPSBfYS5zY3JvbGxXaWR0aCwgY2xpZW50V2lkdGggPSBfYS5jbGllbnRXaWR0aDtcbiAgICByZXR1cm4gW1xuICAgICAgICBzY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxXaWR0aCxcbiAgICAgICAgY2xpZW50V2lkdGgsXG4gICAgXTtcbn07XG52YXIgZWxlbWVudENvdWxkQmVTY3JvbGxlZCA9IGZ1bmN0aW9uIChheGlzLCBub2RlKSB7XG4gICAgcmV0dXJuIGF4aXMgPT09ICd2JyA/IGVsZW1lbnRDb3VsZEJlVlNjcm9sbGVkKG5vZGUpIDogZWxlbWVudENvdWxkQmVIU2Nyb2xsZWQobm9kZSk7XG59O1xudmFyIGdldFNjcm9sbFZhcmlhYmxlcyA9IGZ1bmN0aW9uIChheGlzLCBub2RlKSB7XG4gICAgcmV0dXJuIGF4aXMgPT09ICd2JyA/IGdldFZTY3JvbGxWYXJpYWJsZXMobm9kZSkgOiBnZXRIU2Nyb2xsVmFyaWFibGVzKG5vZGUpO1xufTtcbnZhciBnZXREaXJlY3Rpb25GYWN0b3IgPSBmdW5jdGlvbiAoYXhpcywgZGlyZWN0aW9uKSB7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGVsZW1lbnQncyBkaXJlY3Rpb24gaXMgcnRsIChyaWdodC10by1sZWZ0KSwgdGhlbiBzY3JvbGxMZWZ0IGlzIDAgd2hlbiB0aGUgc2Nyb2xsYmFyIGlzIGF0IGl0cyByaWdodG1vc3QgcG9zaXRpb24sXG4gICAgICogYW5kIHRoZW4gaW5jcmVhc2luZ2x5IG5lZ2F0aXZlIGFzIHlvdSBzY3JvbGwgdG93YXJkcyB0aGUgZW5kIG9mIHRoZSBjb250ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvc2Nyb2xsTGVmdFxuICAgICAqL1xuICAgIHJldHVybiBheGlzID09PSAnaCcgJiYgZGlyZWN0aW9uID09PSAncnRsJyA/IC0xIDogMTtcbn07XG5leHBvcnQgdmFyIGhhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uIChheGlzLCBlbmRUYXJnZXQsIGV2ZW50LCBzb3VyY2VEZWx0YSwgbm9PdmVyc2Nyb2xsKSB7XG4gICAgdmFyIGRpcmVjdGlvbkZhY3RvciA9IGdldERpcmVjdGlvbkZhY3RvcihheGlzLCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbmRUYXJnZXQpLmRpcmVjdGlvbik7XG4gICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uRmFjdG9yICogc291cmNlRGVsdGE7XG4gICAgLy8gZmluZCBzY3JvbGxhYmxlIHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgdmFyIHRhcmdldEluTG9jayA9IGVuZFRhcmdldC5jb250YWlucyh0YXJnZXQpO1xuICAgIHZhciBzaG91bGRDYW5jZWxTY3JvbGwgPSBmYWxzZTtcbiAgICB2YXIgaXNEZWx0YVBvc2l0aXZlID0gZGVsdGEgPiAwO1xuICAgIHZhciBhdmFpbGFibGVTY3JvbGwgPSAwO1xuICAgIHZhciBhdmFpbGFibGVTY3JvbGxUb3AgPSAwO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGdldFNjcm9sbFZhcmlhYmxlcyhheGlzLCB0YXJnZXQpLCBwb3NpdGlvbiA9IF9hWzBdLCBzY3JvbGxfMSA9IF9hWzFdLCBjYXBhY2l0eSA9IF9hWzJdO1xuICAgICAgICB2YXIgZWxlbWVudFNjcm9sbCA9IHNjcm9sbF8xIC0gY2FwYWNpdHkgLSBkaXJlY3Rpb25GYWN0b3IgKiBwb3NpdGlvbjtcbiAgICAgICAgaWYgKHBvc2l0aW9uIHx8IGVsZW1lbnRTY3JvbGwpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q291bGRCZVNjcm9sbGVkKGF4aXMsIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVTY3JvbGwgKz0gZWxlbWVudFNjcm9sbDtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVTY3JvbGxUb3AgKz0gcG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudF8xID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgIC8vIHdlIHdpbGwgXCJidWJibGVcIiBmcm9tIFNoYWRvd0RvbSBpbiBjYXNlIHdlIGFyZSwgb3IganVzdCB0byB0aGUgcGFyZW50IGluIG5vcm1hbCBjYXNlXG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgbG9naWMgdXNlZCBpbiBmb2N1cy1sb2NrXG4gICAgICAgIHRhcmdldCA9IChwYXJlbnRfMSAmJiBwYXJlbnRfMS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFID8gcGFyZW50XzEuaG9zdCA6IHBhcmVudF8xKTtcbiAgICB9IHdoaWxlIChcbiAgICAvLyBwb3J0YWxlZCBjb250ZW50XG4gICAgKCF0YXJnZXRJbkxvY2sgJiYgdGFyZ2V0ICE9PSBkb2N1bWVudC5ib2R5KSB8fFxuICAgICAgICAvLyBzZWxmIGNvbnRlbnRcbiAgICAgICAgKHRhcmdldEluTG9jayAmJiAoZW5kVGFyZ2V0LmNvbnRhaW5zKHRhcmdldCkgfHwgZW5kVGFyZ2V0ID09PSB0YXJnZXQpKSk7XG4gICAgLy8gaGFuZGxlIGVwc2lsb24gYXJvdW5kIDAgKG5vbiBzdGFuZGFyZCB6b29tIGxldmVscylcbiAgICBpZiAoaXNEZWx0YVBvc2l0aXZlICYmXG4gICAgICAgICgobm9PdmVyc2Nyb2xsICYmIE1hdGguYWJzKGF2YWlsYWJsZVNjcm9sbCkgPCAxKSB8fCAoIW5vT3ZlcnNjcm9sbCAmJiBkZWx0YSA+IGF2YWlsYWJsZVNjcm9sbCkpKSB7XG4gICAgICAgIHNob3VsZENhbmNlbFNjcm9sbCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc0RlbHRhUG9zaXRpdmUgJiZcbiAgICAgICAgKChub092ZXJzY3JvbGwgJiYgTWF0aC5hYnMoYXZhaWxhYmxlU2Nyb2xsVG9wKSA8IDEpIHx8ICghbm9PdmVyc2Nyb2xsICYmIC1kZWx0YSA+IGF2YWlsYWJsZVNjcm9sbFRvcCkpKSB7XG4gICAgICAgIHNob3VsZENhbmNlbFNjcm9sbCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRDYW5jZWxTY3JvbGw7XG59O1xuIiwiaW1wb3J0IHsgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVtb3ZlU2Nyb2xsQmFyIH0gZnJvbSAncmVhY3QtcmVtb3ZlLXNjcm9sbC1iYXInO1xuaW1wb3J0IHsgc3R5bGVTaW5nbGV0b24gfSBmcm9tICdyZWFjdC1zdHlsZS1zaW5nbGV0b24nO1xuaW1wb3J0IHsgbm9uUGFzc2l2ZSB9IGZyb20gJy4vYWdncmVzaXZlQ2FwdHVyZSc7XG5pbXBvcnQgeyBoYW5kbGVTY3JvbGwsIGxvY2F0aW9uQ291bGRCZVNjcm9sbGVkIH0gZnJvbSAnLi9oYW5kbGVTY3JvbGwnO1xuZXhwb3J0IHZhciBnZXRUb3VjaFhZID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdjaGFuZ2VkVG91Y2hlcycgaW4gZXZlbnQgPyBbZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WV0gOiBbMCwgMF07XG59O1xuZXhwb3J0IHZhciBnZXREZWx0YVhZID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBbZXZlbnQuZGVsdGFYLCBldmVudC5kZWx0YVldOyB9O1xudmFyIGV4dHJhY3RSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgcmV0dXJuIHJlZiAmJiAnY3VycmVudCcgaW4gcmVmID8gcmVmLmN1cnJlbnQgOiByZWY7XG59O1xudmFyIGRlbHRhQ29tcGFyZSA9IGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiB4WzBdID09PSB5WzBdICYmIHhbMV0gPT09IHlbMV07IH07XG52YXIgZ2VuZXJhdGVTdHlsZSA9IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCJcXG4gIC5ibG9jay1pbnRlcmFjdGl2aXR5LVwiLmNvbmNhdChpZCwgXCIge3BvaW50ZXItZXZlbnRzOiBub25lO31cXG4gIC5hbGxvdy1pbnRlcmFjdGl2aXR5LVwiKS5jb25jYXQoaWQsIFwiIHtwb2ludGVyLWV2ZW50czogYWxsO31cXG5cIik7IH07XG52YXIgaWRDb3VudGVyID0gMDtcbnZhciBsb2NrU3RhY2sgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVTY3JvbGxTaWRlQ2FyKHByb3BzKSB7XG4gICAgdmFyIHNob3VsZFByZXZlbnRRdWV1ZSA9IFJlYWN0LnVzZVJlZihbXSk7XG4gICAgdmFyIHRvdWNoU3RhcnRSZWYgPSBSZWFjdC51c2VSZWYoWzAsIDBdKTtcbiAgICB2YXIgYWN0aXZlQXhpcyA9IFJlYWN0LnVzZVJlZigpO1xuICAgIHZhciBpZCA9IFJlYWN0LnVzZVN0YXRlKGlkQ291bnRlcisrKVswXTtcbiAgICB2YXIgU3R5bGUgPSBSZWFjdC51c2VTdGF0ZShzdHlsZVNpbmdsZXRvbilbMF07XG4gICAgdmFyIGxhc3RQcm9wcyA9IFJlYWN0LnVzZVJlZihwcm9wcyk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGFzdFByb3BzLmN1cnJlbnQgPSBwcm9wcztcbiAgICB9LCBbcHJvcHNdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocHJvcHMuaW5lcnQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImJsb2NrLWludGVyYWN0aXZpdHktXCIuY29uY2F0KGlkKSk7XG4gICAgICAgICAgICB2YXIgYWxsb3dfMSA9IF9fc3ByZWFkQXJyYXkoW3Byb3BzLmxvY2tSZWYuY3VycmVudF0sIChwcm9wcy5zaGFyZHMgfHwgW10pLm1hcChleHRyYWN0UmVmKSwgdHJ1ZSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgYWxsb3dfMS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChcImFsbG93LWludGVyYWN0aXZpdHktXCIuY29uY2F0KGlkKSk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJibG9jay1pbnRlcmFjdGl2aXR5LVwiLmNvbmNhdChpZCkpO1xuICAgICAgICAgICAgICAgIGFsbG93XzEuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhbGxvdy1pbnRlcmFjdGl2aXR5LVwiLmNvbmNhdChpZCkpOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0sIFtwcm9wcy5pbmVydCwgcHJvcHMubG9ja1JlZi5jdXJyZW50LCBwcm9wcy5zaGFyZHNdKTtcbiAgICB2YXIgc2hvdWxkQ2FuY2VsRXZlbnQgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQsIHBhcmVudCkge1xuICAgICAgICBpZiAoKCd0b3VjaGVzJyBpbiBldmVudCAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMikgfHwgKGV2ZW50LnR5cGUgPT09ICd3aGVlbCcgJiYgZXZlbnQuY3RybEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiAhbGFzdFByb3BzLmN1cnJlbnQuYWxsb3dQaW5jaFpvb207XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdWNoID0gZ2V0VG91Y2hYWShldmVudCk7XG4gICAgICAgIHZhciB0b3VjaFN0YXJ0ID0gdG91Y2hTdGFydFJlZi5jdXJyZW50O1xuICAgICAgICB2YXIgZGVsdGFYID0gJ2RlbHRhWCcgaW4gZXZlbnQgPyBldmVudC5kZWx0YVggOiB0b3VjaFN0YXJ0WzBdIC0gdG91Y2hbMF07XG4gICAgICAgIHZhciBkZWx0YVkgPSAnZGVsdGFZJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWSA6IHRvdWNoU3RhcnRbMV0gLSB0b3VjaFsxXTtcbiAgICAgICAgdmFyIGN1cnJlbnRBeGlzO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICB2YXIgbW92ZURpcmVjdGlvbiA9IE1hdGguYWJzKGRlbHRhWCkgPiBNYXRoLmFicyhkZWx0YVkpID8gJ2gnIDogJ3YnO1xuICAgICAgICAvLyBhbGxvdyBob3Jpem9udGFsIHRvdWNoIG1vdmUgb24gUmFuZ2UgaW5wdXRzLiBUaGV5IHdpbGwgbm90IGNhdXNlIGFueSBzY3JvbGxcbiAgICAgICAgaWYgKCd0b3VjaGVzJyBpbiBldmVudCAmJiBtb3ZlRGlyZWN0aW9uID09PSAnaCcgJiYgdGFyZ2V0LnR5cGUgPT09ICdyYW5nZScpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FuQmVTY3JvbGxlZEluTWFpbkRpcmVjdGlvbiA9IGxvY2F0aW9uQ291bGRCZVNjcm9sbGVkKG1vdmVEaXJlY3Rpb24sIHRhcmdldCk7XG4gICAgICAgIGlmICghY2FuQmVTY3JvbGxlZEluTWFpbkRpcmVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbkJlU2Nyb2xsZWRJbk1haW5EaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGN1cnJlbnRBeGlzID0gbW92ZURpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRBeGlzID0gbW92ZURpcmVjdGlvbiA9PT0gJ3YnID8gJ2gnIDogJ3YnO1xuICAgICAgICAgICAgY2FuQmVTY3JvbGxlZEluTWFpbkRpcmVjdGlvbiA9IGxvY2F0aW9uQ291bGRCZVNjcm9sbGVkKG1vdmVEaXJlY3Rpb24sIHRhcmdldCk7XG4gICAgICAgICAgICAvLyBvdGhlciBheGlzIG1pZ2h0IGJlIG5vdCBzY3JvbGxhYmxlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY3RpdmVBeGlzLmN1cnJlbnQgJiYgJ2NoYW5nZWRUb3VjaGVzJyBpbiBldmVudCAmJiAoZGVsdGFYIHx8IGRlbHRhWSkpIHtcbiAgICAgICAgICAgIGFjdGl2ZUF4aXMuY3VycmVudCA9IGN1cnJlbnRBeGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3VycmVudEF4aXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW5jZWxpbmdBeGlzID0gYWN0aXZlQXhpcy5jdXJyZW50IHx8IGN1cnJlbnRBeGlzO1xuICAgICAgICByZXR1cm4gaGFuZGxlU2Nyb2xsKGNhbmNlbGluZ0F4aXMsIHBhcmVudCwgZXZlbnQsIGNhbmNlbGluZ0F4aXMgPT09ICdoJyA/IGRlbHRhWCA6IGRlbHRhWSwgdHJ1ZSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBzaG91bGRQcmV2ZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKF9ldmVudCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBfZXZlbnQ7XG4gICAgICAgIGlmICghbG9ja1N0YWNrLmxlbmd0aCB8fCBsb2NrU3RhY2tbbG9ja1N0YWNrLmxlbmd0aCAtIDFdICE9PSBTdHlsZSkge1xuICAgICAgICAgICAgLy8gbm90IHRoZSBsYXN0IGFjdGl2ZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWx0YSA9ICdkZWx0YVknIGluIGV2ZW50ID8gZ2V0RGVsdGFYWShldmVudCkgOiBnZXRUb3VjaFhZKGV2ZW50KTtcbiAgICAgICAgdmFyIHNvdXJjZUV2ZW50ID0gc2hvdWxkUHJldmVudFF1ZXVlLmN1cnJlbnQuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLm5hbWUgPT09IGV2ZW50LnR5cGUgJiYgKGUudGFyZ2V0ID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQudGFyZ2V0ID09PSBlLnNoYWRvd1BhcmVudCkgJiYgZGVsdGFDb21wYXJlKGUuZGVsdGEsIGRlbHRhKTsgfSlbMF07XG4gICAgICAgIC8vIHNlbGYgZXZlbnQsIGFuZCBzaG91bGQgYmUgY2FuY2VsZWRcbiAgICAgICAgaWYgKHNvdXJjZUV2ZW50ICYmIHNvdXJjZUV2ZW50LnNob3VsZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG91dHNpZGUgb3Igc2hhcmQgZXZlbnRcbiAgICAgICAgaWYgKCFzb3VyY2VFdmVudCkge1xuICAgICAgICAgICAgdmFyIHNoYXJkTm9kZXMgPSAobGFzdFByb3BzLmN1cnJlbnQuc2hhcmRzIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoZXh0cmFjdFJlZilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5jb250YWlucyhldmVudC50YXJnZXQpOyB9KTtcbiAgICAgICAgICAgIHZhciBzaG91bGRTdG9wID0gc2hhcmROb2Rlcy5sZW5ndGggPiAwID8gc2hvdWxkQ2FuY2VsRXZlbnQoZXZlbnQsIHNoYXJkTm9kZXNbMF0pIDogIWxhc3RQcm9wcy5jdXJyZW50Lm5vSXNvbGF0aW9uO1xuICAgICAgICAgICAgaWYgKHNob3VsZFN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICB2YXIgc2hvdWxkQ2FuY2VsID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5hbWUsIGRlbHRhLCB0YXJnZXQsIHNob3VsZCkge1xuICAgICAgICB2YXIgZXZlbnQgPSB7IG5hbWU6IG5hbWUsIGRlbHRhOiBkZWx0YSwgdGFyZ2V0OiB0YXJnZXQsIHNob3VsZDogc2hvdWxkLCBzaGFkb3dQYXJlbnQ6IGdldE91dGVybW9zdFNoYWRvd1BhcmVudCh0YXJnZXQpIH07XG4gICAgICAgIHNob3VsZFByZXZlbnRRdWV1ZS5jdXJyZW50LnB1c2goZXZlbnQpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3VsZFByZXZlbnRRdWV1ZS5jdXJyZW50ID0gc2hvdWxkUHJldmVudFF1ZXVlLmN1cnJlbnQuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlICE9PSBldmVudDsgfSk7XG4gICAgICAgIH0sIDEpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2Nyb2xsVG91Y2hTdGFydCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0b3VjaFN0YXJ0UmVmLmN1cnJlbnQgPSBnZXRUb3VjaFhZKGV2ZW50KTtcbiAgICAgICAgYWN0aXZlQXhpcy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2Nyb2xsV2hlZWwgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgc2hvdWxkQ2FuY2VsKGV2ZW50LnR5cGUsIGdldERlbHRhWFkoZXZlbnQpLCBldmVudC50YXJnZXQsIHNob3VsZENhbmNlbEV2ZW50KGV2ZW50LCBwcm9wcy5sb2NrUmVmLmN1cnJlbnQpKTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIHNjcm9sbFRvdWNoTW92ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBzaG91bGRDYW5jZWwoZXZlbnQudHlwZSwgZ2V0VG91Y2hYWShldmVudCksIGV2ZW50LnRhcmdldCwgc2hvdWxkQ2FuY2VsRXZlbnQoZXZlbnQsIHByb3BzLmxvY2tSZWYuY3VycmVudCkpO1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NrU3RhY2sucHVzaChTdHlsZSk7XG4gICAgICAgIHByb3BzLnNldENhbGxiYWNrcyh7XG4gICAgICAgICAgICBvblNjcm9sbENhcHR1cmU6IHNjcm9sbFdoZWVsLFxuICAgICAgICAgICAgb25XaGVlbENhcHR1cmU6IHNjcm9sbFdoZWVsLFxuICAgICAgICAgICAgb25Ub3VjaE1vdmVDYXB0dXJlOiBzY3JvbGxUb3VjaE1vdmUsXG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHNob3VsZFByZXZlbnQsIG5vblBhc3NpdmUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBzaG91bGRQcmV2ZW50LCBub25QYXNzaXZlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHNjcm9sbFRvdWNoU3RhcnQsIG5vblBhc3NpdmUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9ja1N0YWNrID0gbG9ja1N0YWNrLmZpbHRlcihmdW5jdGlvbiAoaW5zdCkgeyByZXR1cm4gaW5zdCAhPT0gU3R5bGU7IH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBzaG91bGRQcmV2ZW50LCBub25QYXNzaXZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNob3VsZFByZXZlbnQsIG5vblBhc3NpdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHNjcm9sbFRvdWNoU3RhcnQsIG5vblBhc3NpdmUpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICB2YXIgcmVtb3ZlU2Nyb2xsQmFyID0gcHJvcHMucmVtb3ZlU2Nyb2xsQmFyLCBpbmVydCA9IHByb3BzLmluZXJ0O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgaW5lcnQgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlLCB7IHN0eWxlczogZ2VuZXJhdGVTdHlsZShpZCkgfSkgOiBudWxsLFxuICAgICAgICByZW1vdmVTY3JvbGxCYXIgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlbW92ZVNjcm9sbEJhciwgeyBub1JlbGF0aXZlOiBwcm9wcy5ub1JlbGF0aXZlLCBnYXBNb2RlOiBwcm9wcy5nYXBNb2RlIH0pIDogbnVsbCkpO1xufVxuZnVuY3Rpb24gZ2V0T3V0ZXJtb3N0U2hhZG93UGFyZW50KG5vZGUpIHtcbiAgICB2YXIgc2hhZG93UGFyZW50ID0gbnVsbDtcbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIHNoYWRvd1BhcmVudCA9IG5vZGUuaG9zdDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRvd1BhcmVudDtcbn1cbiIsImltcG9ydCB7IGV4cG9ydFNpZGVjYXIgfSBmcm9tICd1c2Utc2lkZWNhcic7XG5pbXBvcnQgeyBSZW1vdmVTY3JvbGxTaWRlQ2FyIH0gZnJvbSAnLi9TaWRlRWZmZWN0JztcbmltcG9ydCB7IGVmZmVjdENhciB9IGZyb20gJy4vbWVkaXVtJztcbmV4cG9ydCBkZWZhdWx0IGV4cG9ydFNpZGVjYXIoZWZmZWN0Q2FyLCBSZW1vdmVTY3JvbGxTaWRlQ2FyKTtcbiIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW1vdmVTY3JvbGwgfSBmcm9tICcuL1VJJztcbmltcG9ydCBTaWRlQ2FyIGZyb20gJy4vc2lkZWNhcic7XG52YXIgUmVhY3RSZW1vdmVTY3JvbGwgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZW1vdmVTY3JvbGwsIF9fYXNzaWduKHt9LCBwcm9wcywgeyByZWY6IHJlZiwgc2lkZUNhcjogU2lkZUNhciB9KSkpOyB9KTtcblJlYWN0UmVtb3ZlU2Nyb2xsLmNsYXNzTmFtZXMgPSBSZW1vdmVTY3JvbGwuY2xhc3NOYW1lcztcbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVtb3ZlU2Nyb2xsO1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHNyYy9zZWxlY3QudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSBcIkByYWRpeC11aS9udW1iZXJcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbGxlY3Rpb25cIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcyB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29tcG9zZS1yZWZzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0U2NvcGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbnRleHRcIjtcbmltcG9ydCB7IHVzZURpcmVjdGlvbiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZGlyZWN0aW9uXCI7XG5pbXBvcnQgeyBEaXNtaXNzYWJsZUxheWVyIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1kaXNtaXNzYWJsZS1sYXllclwiO1xuaW1wb3J0IHsgdXNlRm9jdXNHdWFyZHMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvY3VzLWd1YXJkc1wiO1xuaW1wb3J0IHsgRm9jdXNTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZm9jdXMtc2NvcGVcIjtcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1pZFwiO1xuaW1wb3J0ICogYXMgUG9wcGVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wcGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVQb3BwZXJTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wcGVyXCI7XG5pbXBvcnQgeyBQb3J0YWwgYXMgUG9ydGFsUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3J0YWxcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBjcmVhdGVTbG90IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zbG90XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3RcIjtcbmltcG9ydCB7IHVzZVByZXZpb3VzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtcHJldmlvdXNcIjtcbmltcG9ydCB7IFZJU1VBTExZX0hJRERFTl9TVFlMRVMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXZpc3VhbGx5LWhpZGRlblwiO1xuaW1wb3J0IHsgaGlkZU90aGVycyB9IGZyb20gXCJhcmlhLWhpZGRlblwiO1xuaW1wb3J0IHsgUmVtb3ZlU2Nyb2xsIH0gZnJvbSBcInJlYWN0LXJlbW92ZS1zY3JvbGxcIjtcbmltcG9ydCB7IEZyYWdtZW50LCBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBPUEVOX0tFWVMgPSBbXCIgXCIsIFwiRW50ZXJcIiwgXCJBcnJvd1VwXCIsIFwiQXJyb3dEb3duXCJdO1xudmFyIFNFTEVDVElPTl9LRVlTID0gW1wiIFwiLCBcIkVudGVyXCJdO1xudmFyIFNFTEVDVF9OQU1FID0gXCJTZWxlY3RcIjtcbnZhciBbQ29sbGVjdGlvbiwgdXNlQ29sbGVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvblNjb3BlXSA9IGNyZWF0ZUNvbGxlY3Rpb24oU0VMRUNUX05BTUUpO1xudmFyIFtjcmVhdGVTZWxlY3RDb250ZXh0LCBjcmVhdGVTZWxlY3RTY29wZV0gPSBjcmVhdGVDb250ZXh0U2NvcGUoU0VMRUNUX05BTUUsIFtcbiAgY3JlYXRlQ29sbGVjdGlvblNjb3BlLFxuICBjcmVhdGVQb3BwZXJTY29wZVxuXSk7XG52YXIgdXNlUG9wcGVyU2NvcGUgPSBjcmVhdGVQb3BwZXJTY29wZSgpO1xudmFyIFtTZWxlY3RQcm92aWRlciwgdXNlU2VsZWN0Q29udGV4dF0gPSBjcmVhdGVTZWxlY3RDb250ZXh0KFNFTEVDVF9OQU1FKTtcbnZhciBbU2VsZWN0TmF0aXZlT3B0aW9uc1Byb3ZpZGVyLCB1c2VTZWxlY3ROYXRpdmVPcHRpb25zQ29udGV4dF0gPSBjcmVhdGVTZWxlY3RDb250ZXh0KFNFTEVDVF9OQU1FKTtcbnZhciBTZWxlY3QgPSAocHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIF9fc2NvcGVTZWxlY3QsXG4gICAgY2hpbGRyZW4sXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgZGVmYXVsdE9wZW4sXG4gICAgb25PcGVuQ2hhbmdlLFxuICAgIHZhbHVlOiB2YWx1ZVByb3AsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIG9uVmFsdWVDaGFuZ2UsXG4gICAgZGlyLFxuICAgIG5hbWUsXG4gICAgYXV0b0NvbXBsZXRlLFxuICAgIGRpc2FibGVkLFxuICAgIHJlcXVpcmVkLFxuICAgIGZvcm1cbiAgfSA9IHByb3BzO1xuICBjb25zdCBwb3BwZXJTY29wZSA9IHVzZVBvcHBlclNjb3BlKF9fc2NvcGVTZWxlY3QpO1xuICBjb25zdCBbdHJpZ2dlciwgc2V0VHJpZ2dlcl0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3ZhbHVlTm9kZSwgc2V0VmFsdWVOb2RlXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbdmFsdWVOb2RlSGFzQ2hpbGRyZW4sIHNldFZhbHVlTm9kZUhhc0NoaWxkcmVuXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZGlyZWN0aW9uID0gdXNlRGlyZWN0aW9uKGRpcik7XG4gIGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICBwcm9wOiBvcGVuUHJvcCxcbiAgICBkZWZhdWx0UHJvcDogZGVmYXVsdE9wZW4gPz8gZmFsc2UsXG4gICAgb25DaGFuZ2U6IG9uT3BlbkNoYW5nZSxcbiAgICBjYWxsZXI6IFNFTEVDVF9OQU1FXG4gIH0pO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICBwcm9wOiB2YWx1ZVByb3AsXG4gICAgZGVmYXVsdFByb3A6IGRlZmF1bHRWYWx1ZSxcbiAgICBvbkNoYW5nZTogb25WYWx1ZUNoYW5nZSxcbiAgICBjYWxsZXI6IFNFTEVDVF9OQU1FXG4gIH0pO1xuICBjb25zdCB0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGlzRm9ybUNvbnRyb2wgPSB0cmlnZ2VyID8gZm9ybSB8fCAhIXRyaWdnZXIuY2xvc2VzdChcImZvcm1cIikgOiB0cnVlO1xuICBjb25zdCBbbmF0aXZlT3B0aW9uc1NldCwgc2V0TmF0aXZlT3B0aW9uc1NldF0gPSBSZWFjdC51c2VTdGF0ZSgvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgY29uc3QgbmF0aXZlU2VsZWN0S2V5ID0gQXJyYXkuZnJvbShuYXRpdmVPcHRpb25zU2V0KS5tYXAoKG9wdGlvbikgPT4gb3B0aW9uLnByb3BzLnZhbHVlKS5qb2luKFwiO1wiKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLlJvb3QsIHsgLi4ucG9wcGVyU2NvcGUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBTZWxlY3RQcm92aWRlcixcbiAgICB7XG4gICAgICByZXF1aXJlZCxcbiAgICAgIHNjb3BlOiBfX3Njb3BlU2VsZWN0LFxuICAgICAgdHJpZ2dlcixcbiAgICAgIG9uVHJpZ2dlckNoYW5nZTogc2V0VHJpZ2dlcixcbiAgICAgIHZhbHVlTm9kZSxcbiAgICAgIG9uVmFsdWVOb2RlQ2hhbmdlOiBzZXRWYWx1ZU5vZGUsXG4gICAgICB2YWx1ZU5vZGVIYXNDaGlsZHJlbixcbiAgICAgIG9uVmFsdWVOb2RlSGFzQ2hpbGRyZW5DaGFuZ2U6IHNldFZhbHVlTm9kZUhhc0NoaWxkcmVuLFxuICAgICAgY29udGVudElkOiB1c2VJZCgpLFxuICAgICAgdmFsdWUsXG4gICAgICBvblZhbHVlQ2hhbmdlOiBzZXRWYWx1ZSxcbiAgICAgIG9wZW4sXG4gICAgICBvbk9wZW5DaGFuZ2U6IHNldE9wZW4sXG4gICAgICBkaXI6IGRpcmVjdGlvbixcbiAgICAgIHRyaWdnZXJQb2ludGVyRG93blBvc1JlZixcbiAgICAgIGRpc2FibGVkLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChDb2xsZWN0aW9uLlByb3ZpZGVyLCB7IHNjb3BlOiBfX3Njb3BlU2VsZWN0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBTZWxlY3ROYXRpdmVPcHRpb25zUHJvdmlkZXIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2NvcGU6IHByb3BzLl9fc2NvcGVTZWxlY3QsXG4gICAgICAgICAgICBvbk5hdGl2ZU9wdGlvbkFkZDogUmVhY3QudXNlQ2FsbGJhY2soKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICBzZXROYXRpdmVPcHRpb25zU2V0KChwcmV2KSA9PiBuZXcgU2V0KHByZXYpLmFkZChvcHRpb24pKTtcbiAgICAgICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIG9uTmF0aXZlT3B0aW9uUmVtb3ZlOiBSZWFjdC51c2VDYWxsYmFjaygob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIHNldE5hdGl2ZU9wdGlvbnNTZXQoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zU2V0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgICAgICAgICAgICBvcHRpb25zU2V0LmRlbGV0ZShvcHRpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zU2V0O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgfVxuICAgICAgICApIH0pLFxuICAgICAgICBpc0Zvcm1Db250cm9sID8gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgICAgU2VsZWN0QnViYmxlSW5wdXQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgICAgICAgcmVxdWlyZWQsXG4gICAgICAgICAgICB0YWJJbmRleDogLTEsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgYXV0b0NvbXBsZXRlLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvbkNoYW5nZTogKGV2ZW50KSA9PiBzZXRWYWx1ZShldmVudC50YXJnZXQudmFsdWUpLFxuICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICBmb3JtLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgdmFsdWUgPT09IHZvaWQgMCA/IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJvcHRpb25cIiwgeyB2YWx1ZTogXCJcIiB9KSA6IG51bGwsXG4gICAgICAgICAgICAgIEFycmF5LmZyb20obmF0aXZlT3B0aW9uc1NldClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG5hdGl2ZVNlbGVjdEtleVxuICAgICAgICApIDogbnVsbFxuICAgICAgXVxuICAgIH1cbiAgKSB9KTtcbn07XG5TZWxlY3QuZGlzcGxheU5hbWUgPSBTRUxFQ1RfTkFNRTtcbnZhciBUUklHR0VSX05BTUUgPSBcIlNlbGVjdFRyaWdnZXJcIjtcbnZhciBTZWxlY3RUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIGRpc2FibGVkID0gZmFsc2UsIC4uLnRyaWdnZXJQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChUUklHR0VSX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBjb250ZXh0LmRpc2FibGVkIHx8IGRpc2FibGVkO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIGNvbnRleHQub25UcmlnZ2VyQ2hhbmdlKTtcbiAgICBjb25zdCBnZXRJdGVtcyA9IHVzZUNvbGxlY3Rpb24oX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgcG9pbnRlclR5cGVSZWYgPSBSZWFjdC51c2VSZWYoXCJ0b3VjaFwiKTtcbiAgICBjb25zdCBbc2VhcmNoUmVmLCBoYW5kbGVUeXBlYWhlYWRTZWFyY2gsIHJlc2V0VHlwZWFoZWFkXSA9IHVzZVR5cGVhaGVhZFNlYXJjaCgoc2VhcmNoKSA9PiB7XG4gICAgICBjb25zdCBlbmFibGVkSXRlbXMgPSBnZXRJdGVtcygpLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0uZGlzYWJsZWQpO1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBlbmFibGVkSXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS52YWx1ZSA9PT0gY29udGV4dC52YWx1ZSk7XG4gICAgICBjb25zdCBuZXh0SXRlbSA9IGZpbmROZXh0SXRlbShlbmFibGVkSXRlbXMsIHNlYXJjaCwgY3VycmVudEl0ZW0pO1xuICAgICAgaWYgKG5leHRJdGVtICE9PSB2b2lkIDApIHtcbiAgICAgICAgY29udGV4dC5vblZhbHVlQ2hhbmdlKG5leHRJdGVtLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBoYW5kbGVPcGVuID0gKHBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgaWYgKCFpc0Rpc2FibGVkKSB7XG4gICAgICAgIGNvbnRleHQub25PcGVuQ2hhbmdlKHRydWUpO1xuICAgICAgICByZXNldFR5cGVhaGVhZCgpO1xuICAgICAgfVxuICAgICAgaWYgKHBvaW50ZXJFdmVudCkge1xuICAgICAgICBjb250ZXh0LnRyaWdnZXJQb2ludGVyRG93blBvc1JlZi5jdXJyZW50ID0ge1xuICAgICAgICAgIHg6IE1hdGgucm91bmQocG9pbnRlckV2ZW50LnBhZ2VYKSxcbiAgICAgICAgICB5OiBNYXRoLnJvdW5kKHBvaW50ZXJFdmVudC5wYWdlWSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFBvcHBlclByaW1pdGl2ZS5BbmNob3IsIHsgYXNDaGlsZDogdHJ1ZSwgLi4ucG9wcGVyU2NvcGUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUHJpbWl0aXZlLmJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgcm9sZTogXCJjb21ib2JveFwiLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogY29udGV4dC5jb250ZW50SWQsXG4gICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBjb250ZXh0Lm9wZW4sXG4gICAgICAgIFwiYXJpYS1yZXF1aXJlZFwiOiBjb250ZXh0LnJlcXVpcmVkLFxuICAgICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwibm9uZVwiLFxuICAgICAgICBkaXI6IGNvbnRleHQuZGlyLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogY29udGV4dC5vcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGlzRGlzYWJsZWQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgICBcImRhdGEtcGxhY2Vob2xkZXJcIjogc2hvdWxkU2hvd1BsYWNlaG9sZGVyKGNvbnRleHQudmFsdWUpID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgLi4udHJpZ2dlclByb3BzLFxuICAgICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgICAgb25DbGljazogY29tcG9zZUV2ZW50SGFuZGxlcnModHJpZ2dlclByb3BzLm9uQ2xpY2ssIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICBpZiAocG9pbnRlclR5cGVSZWYuY3VycmVudCAhPT0gXCJtb3VzZVwiKSB7XG4gICAgICAgICAgICBoYW5kbGVPcGVuKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBvblBvaW50ZXJEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyh0cmlnZ2VyUHJvcHMub25Qb2ludGVyRG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgcG9pbnRlclR5cGVSZWYuY3VycmVudCA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICBpZiAodGFyZ2V0Lmhhc1BvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiBldmVudC5jdHJsS2V5ID09PSBmYWxzZSAmJiBldmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKSB7XG4gICAgICAgICAgICBoYW5kbGVPcGVuKGV2ZW50KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgb25LZXlEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyh0cmlnZ2VyUHJvcHMub25LZXlEb3duLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBpc1R5cGluZ0FoZWFkID0gc2VhcmNoUmVmLmN1cnJlbnQgIT09IFwiXCI7XG4gICAgICAgICAgY29uc3QgaXNNb2RpZmllcktleSA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG4gICAgICAgICAgaWYgKCFpc01vZGlmaWVyS2V5ICYmIGV2ZW50LmtleS5sZW5ndGggPT09IDEpIGhhbmRsZVR5cGVhaGVhZFNlYXJjaChldmVudC5rZXkpO1xuICAgICAgICAgIGlmIChpc1R5cGluZ0FoZWFkICYmIGV2ZW50LmtleSA9PT0gXCIgXCIpIHJldHVybjtcbiAgICAgICAgICBpZiAoT1BFTl9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgICAgICAgIGhhbmRsZU9wZW4oKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICkgfSk7XG4gIH1cbik7XG5TZWxlY3RUcmlnZ2VyLmRpc3BsYXlOYW1lID0gVFJJR0dFUl9OQU1FO1xudmFyIFZBTFVFX05BTUUgPSBcIlNlbGVjdFZhbHVlXCI7XG52YXIgU2VsZWN0VmFsdWUgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgY2xhc3NOYW1lLCBzdHlsZSwgY2hpbGRyZW4sIHBsYWNlaG9sZGVyID0gXCJcIiwgLi4udmFsdWVQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoVkFMVUVfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgeyBvblZhbHVlTm9kZUhhc0NoaWxkcmVuQ2hhbmdlIH0gPSBjb250ZXh0O1xuICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gY2hpbGRyZW4gIT09IHZvaWQgMDtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCBjb250ZXh0Lm9uVmFsdWVOb2RlQ2hhbmdlKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgb25WYWx1ZU5vZGVIYXNDaGlsZHJlbkNoYW5nZShoYXNDaGlsZHJlbik7XG4gICAgfSwgW29uVmFsdWVOb2RlSGFzQ2hpbGRyZW5DaGFuZ2UsIGhhc0NoaWxkcmVuXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBQcmltaXRpdmUuc3BhbixcbiAgICAgIHtcbiAgICAgICAgLi4udmFsdWVQcm9wcyxcbiAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgIHN0eWxlOiB7IHBvaW50ZXJFdmVudHM6IFwibm9uZVwiIH0sXG4gICAgICAgIGNoaWxkcmVuOiBzaG91bGRTaG93UGxhY2Vob2xkZXIoY29udGV4dC52YWx1ZSkgPyAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBwbGFjZWhvbGRlciB9KSA6IGNoaWxkcmVuXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblNlbGVjdFZhbHVlLmRpc3BsYXlOYW1lID0gVkFMVUVfTkFNRTtcbnZhciBJQ09OX05BTUUgPSBcIlNlbGVjdEljb25cIjtcbnZhciBTZWxlY3RJY29uID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIGNoaWxkcmVuLCAuLi5pY29uUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5zcGFuLCB7IFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSwgLi4uaWNvblByb3BzLCByZWY6IGZvcndhcmRlZFJlZiwgY2hpbGRyZW46IGNoaWxkcmVuIHx8IFwiXFx1MjVCQ1wiIH0pO1xuICB9XG4pO1xuU2VsZWN0SWNvbi5kaXNwbGF5TmFtZSA9IElDT05fTkFNRTtcbnZhciBQT1JUQUxfTkFNRSA9IFwiU2VsZWN0UG9ydGFsXCI7XG52YXIgU2VsZWN0UG9ydGFsID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFBvcnRhbFByaW1pdGl2ZSwgeyBhc0NoaWxkOiB0cnVlLCAuLi5wcm9wcyB9KTtcbn07XG5TZWxlY3RQb3J0YWwuZGlzcGxheU5hbWUgPSBQT1JUQUxfTkFNRTtcbnZhciBDT05URU5UX05BTUUgPSBcIlNlbGVjdENvbnRlbnRcIjtcbnZhciBTZWxlY3RDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IFtmcmFnbWVudCwgc2V0RnJhZ21lbnRdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgc2V0RnJhZ21lbnQobmV3IERvY3VtZW50RnJhZ21lbnQoKSk7XG4gICAgfSwgW10pO1xuICAgIGlmICghY29udGV4dC5vcGVuKSB7XG4gICAgICBjb25zdCBmcmFnID0gZnJhZ21lbnQ7XG4gICAgICByZXR1cm4gZnJhZyA/IFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3RDb250ZW50UHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVTZWxlY3QsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENvbGxlY3Rpb24uU2xvdCwgeyBzY29wZTogcHJvcHMuX19zY29wZVNlbGVjdCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4gfSkgfSkgfSksXG4gICAgICAgIGZyYWdcbiAgICAgICkgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3RDb250ZW50SW1wbCwgeyAuLi5wcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG4gIH1cbik7XG5TZWxlY3RDb250ZW50LmRpc3BsYXlOYW1lID0gQ09OVEVOVF9OQU1FO1xudmFyIENPTlRFTlRfTUFSR0lOID0gMTA7XG52YXIgW1NlbGVjdENvbnRlbnRQcm92aWRlciwgdXNlU2VsZWN0Q29udGVudENvbnRleHRdID0gY3JlYXRlU2VsZWN0Q29udGV4dChDT05URU5UX05BTUUpO1xudmFyIENPTlRFTlRfSU1QTF9OQU1FID0gXCJTZWxlY3RDb250ZW50SW1wbFwiO1xudmFyIFNsb3QgPSBjcmVhdGVTbG90KFwiU2VsZWN0Q29udGVudC5SZW1vdmVTY3JvbGxcIik7XG52YXIgU2VsZWN0Q29udGVudEltcGwgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fc2NvcGVTZWxlY3QsXG4gICAgICBwb3NpdGlvbiA9IFwiaXRlbS1hbGlnbmVkXCIsXG4gICAgICBvbkNsb3NlQXV0b0ZvY3VzLFxuICAgICAgb25Fc2NhcGVLZXlEb3duLFxuICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUsXG4gICAgICAvL1xuICAgICAgLy8gUG9wcGVyQ29udGVudCBwcm9wc1xuICAgICAgc2lkZSxcbiAgICAgIHNpZGVPZmZzZXQsXG4gICAgICBhbGlnbixcbiAgICAgIGFsaWduT2Zmc2V0LFxuICAgICAgYXJyb3dQYWRkaW5nLFxuICAgICAgY29sbGlzaW9uQm91bmRhcnksXG4gICAgICBjb2xsaXNpb25QYWRkaW5nLFxuICAgICAgc3RpY2t5LFxuICAgICAgaGlkZVdoZW5EZXRhY2hlZCxcbiAgICAgIGF2b2lkQ29sbGlzaW9ucyxcbiAgICAgIC8vXG4gICAgICAuLi5jb250ZW50UHJvcHNcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoQ09OVEVOVF9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbdmlld3BvcnQsIHNldFZpZXdwb3J0XSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIChub2RlKSA9PiBzZXRDb250ZW50KG5vZGUpKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRJdGVtLCBzZXRTZWxlY3RlZEl0ZW1dID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkSXRlbVRleHQsIHNldFNlbGVjdGVkSXRlbVRleHRdID0gUmVhY3QudXNlU3RhdGUoXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zdCBnZXRJdGVtcyA9IHVzZUNvbGxlY3Rpb24oX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgW2lzUG9zaXRpb25lZCwgc2V0SXNQb3NpdGlvbmVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBmaXJzdFZhbGlkSXRlbUZvdW5kUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGNvbnRlbnQpIHJldHVybiBoaWRlT3RoZXJzKGNvbnRlbnQpO1xuICAgIH0sIFtjb250ZW50XSk7XG4gICAgdXNlRm9jdXNHdWFyZHMoKTtcbiAgICBjb25zdCBmb2N1c0ZpcnN0ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAoY2FuZGlkYXRlcykgPT4ge1xuICAgICAgICBjb25zdCBbZmlyc3RJdGVtLCAuLi5yZXN0SXRlbXNdID0gZ2V0SXRlbXMoKS5tYXAoKGl0ZW0pID0+IGl0ZW0ucmVmLmN1cnJlbnQpO1xuICAgICAgICBjb25zdCBbbGFzdEl0ZW1dID0gcmVzdEl0ZW1zLnNsaWNlKC0xKTtcbiAgICAgICAgY29uc3QgUFJFVklPVVNMWV9GT0NVU0VEX0VMRU1FTlQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjYW5kaWRhdGVzKSB7XG4gICAgICAgICAgaWYgKGNhbmRpZGF0ZSA9PT0gUFJFVklPVVNMWV9GT0NVU0VEX0VMRU1FTlQpIHJldHVybjtcbiAgICAgICAgICBjYW5kaWRhdGU/LnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwibmVhcmVzdFwiIH0pO1xuICAgICAgICAgIGlmIChjYW5kaWRhdGUgPT09IGZpcnN0SXRlbSAmJiB2aWV3cG9ydCkgdmlld3BvcnQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgICBpZiAoY2FuZGlkYXRlID09PSBsYXN0SXRlbSAmJiB2aWV3cG9ydCkgdmlld3BvcnQuc2Nyb2xsVG9wID0gdmlld3BvcnQuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgIGNhbmRpZGF0ZT8uZm9jdXMoKTtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gUFJFVklPVVNMWV9GT0NVU0VEX0VMRU1FTlQpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtnZXRJdGVtcywgdmlld3BvcnRdXG4gICAgKTtcbiAgICBjb25zdCBmb2N1c1NlbGVjdGVkSXRlbSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgKCkgPT4gZm9jdXNGaXJzdChbc2VsZWN0ZWRJdGVtLCBjb250ZW50XSksXG4gICAgICBbZm9jdXNGaXJzdCwgc2VsZWN0ZWRJdGVtLCBjb250ZW50XVxuICAgICk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChpc1Bvc2l0aW9uZWQpIHtcbiAgICAgICAgZm9jdXNTZWxlY3RlZEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9LCBbaXNQb3NpdGlvbmVkLCBmb2N1c1NlbGVjdGVkSXRlbV0pO1xuICAgIGNvbnN0IHsgb25PcGVuQ2hhbmdlLCB0cmlnZ2VyUG9pbnRlckRvd25Qb3NSZWYgfSA9IGNvbnRleHQ7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIGxldCBwb2ludGVyTW92ZURlbHRhID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgcG9pbnRlck1vdmVEZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IE1hdGguYWJzKE1hdGgucm91bmQoZXZlbnQucGFnZVgpIC0gKHRyaWdnZXJQb2ludGVyRG93blBvc1JlZi5jdXJyZW50Py54ID8/IDApKSxcbiAgICAgICAgICAgIHk6IE1hdGguYWJzKE1hdGgucm91bmQoZXZlbnQucGFnZVkpIC0gKHRyaWdnZXJQb2ludGVyRG93blBvc1JlZi5jdXJyZW50Py55ID8/IDApKVxuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9IChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChwb2ludGVyTW92ZURlbHRhLnggPD0gMTAgJiYgcG9pbnRlck1vdmVEZWx0YS55IDw9IDEwKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgICAgIHRyaWdnZXJQb2ludGVyRG93blBvc1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRyaWdnZXJQb2ludGVyRG93blBvc1JlZi5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIGhhbmRsZVBvaW50ZXJVcCwgeyBjYXB0dXJlOiB0cnVlLCBvbmNlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGhhbmRsZVBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIGhhbmRsZVBvaW50ZXJVcCwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIFtjb250ZW50LCBvbk9wZW5DaGFuZ2UsIHRyaWdnZXJQb2ludGVyRG93blBvc1JlZl0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBjbG9zZSA9ICgpID0+IG9uT3BlbkNoYW5nZShmYWxzZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgY2xvc2UpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2xvc2UpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIGNsb3NlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2xvc2UpO1xuICAgICAgfTtcbiAgICB9LCBbb25PcGVuQ2hhbmdlXSk7XG4gICAgY29uc3QgW3NlYXJjaFJlZiwgaGFuZGxlVHlwZWFoZWFkU2VhcmNoXSA9IHVzZVR5cGVhaGVhZFNlYXJjaCgoc2VhcmNoKSA9PiB7XG4gICAgICBjb25zdCBlbmFibGVkSXRlbXMgPSBnZXRJdGVtcygpLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0uZGlzYWJsZWQpO1xuICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBlbmFibGVkSXRlbXMuZmluZCgoaXRlbSkgPT4gaXRlbS5yZWYuY3VycmVudCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICBjb25zdCBuZXh0SXRlbSA9IGZpbmROZXh0SXRlbShlbmFibGVkSXRlbXMsIHNlYXJjaCwgY3VycmVudEl0ZW0pO1xuICAgICAgaWYgKG5leHRJdGVtKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbmV4dEl0ZW0ucmVmLmN1cnJlbnQuZm9jdXMoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgaXRlbVJlZkNhbGxiYWNrID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAobm9kZSwgdmFsdWUsIGRpc2FibGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RWYWxpZEl0ZW0gPSAhZmlyc3RWYWxpZEl0ZW1Gb3VuZFJlZi5jdXJyZW50ICYmICFkaXNhYmxlZDtcbiAgICAgICAgY29uc3QgaXNTZWxlY3RlZEl0ZW0gPSBjb250ZXh0LnZhbHVlICE9PSB2b2lkIDAgJiYgY29udGV4dC52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICAgIGlmIChpc1NlbGVjdGVkSXRlbSB8fCBpc0ZpcnN0VmFsaWRJdGVtKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRJdGVtKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZpcnN0VmFsaWRJdGVtKSBmaXJzdFZhbGlkSXRlbUZvdW5kUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2NvbnRleHQudmFsdWVdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVJdGVtTGVhdmUgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBjb250ZW50Py5mb2N1cygpLCBbY29udGVudF0pO1xuICAgIGNvbnN0IGl0ZW1UZXh0UmVmQ2FsbGJhY2sgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgIChub2RlLCB2YWx1ZSwgZGlzYWJsZWQpID0+IHtcbiAgICAgICAgY29uc3QgaXNGaXJzdFZhbGlkSXRlbSA9ICFmaXJzdFZhbGlkSXRlbUZvdW5kUmVmLmN1cnJlbnQgJiYgIWRpc2FibGVkO1xuICAgICAgICBjb25zdCBpc1NlbGVjdGVkSXRlbSA9IGNvbnRleHQudmFsdWUgIT09IHZvaWQgMCAmJiBjb250ZXh0LnZhbHVlID09PSB2YWx1ZTtcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWRJdGVtIHx8IGlzRmlyc3RWYWxpZEl0ZW0pIHtcbiAgICAgICAgICBzZXRTZWxlY3RlZEl0ZW1UZXh0KG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2NvbnRleHQudmFsdWVdXG4gICAgKTtcbiAgICBjb25zdCBTZWxlY3RQb3NpdGlvbiA9IHBvc2l0aW9uID09PSBcInBvcHBlclwiID8gU2VsZWN0UG9wcGVyUG9zaXRpb24gOiBTZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uO1xuICAgIGNvbnN0IHBvcHBlckNvbnRlbnRQcm9wcyA9IFNlbGVjdFBvc2l0aW9uID09PSBTZWxlY3RQb3BwZXJQb3NpdGlvbiA/IHtcbiAgICAgIHNpZGUsXG4gICAgICBzaWRlT2Zmc2V0LFxuICAgICAgYWxpZ24sXG4gICAgICBhbGlnbk9mZnNldCxcbiAgICAgIGFycm93UGFkZGluZyxcbiAgICAgIGNvbGxpc2lvbkJvdW5kYXJ5LFxuICAgICAgY29sbGlzaW9uUGFkZGluZyxcbiAgICAgIHN0aWNreSxcbiAgICAgIGhpZGVXaGVuRGV0YWNoZWQsXG4gICAgICBhdm9pZENvbGxpc2lvbnNcbiAgICB9IDoge307XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBTZWxlY3RDb250ZW50UHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHNjb3BlOiBfX3Njb3BlU2VsZWN0LFxuICAgICAgICBjb250ZW50LFxuICAgICAgICB2aWV3cG9ydCxcbiAgICAgICAgb25WaWV3cG9ydENoYW5nZTogc2V0Vmlld3BvcnQsXG4gICAgICAgIGl0ZW1SZWZDYWxsYmFjayxcbiAgICAgICAgc2VsZWN0ZWRJdGVtLFxuICAgICAgICBvbkl0ZW1MZWF2ZTogaGFuZGxlSXRlbUxlYXZlLFxuICAgICAgICBpdGVtVGV4dFJlZkNhbGxiYWNrLFxuICAgICAgICBmb2N1c1NlbGVjdGVkSXRlbSxcbiAgICAgICAgc2VsZWN0ZWRJdGVtVGV4dCxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGlzUG9zaXRpb25lZCxcbiAgICAgICAgc2VhcmNoUmVmLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChSZW1vdmVTY3JvbGwsIHsgYXM6IFNsb3QsIGFsbG93UGluY2hab29tOiB0cnVlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBGb2N1c1Njb3BlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgICAgICB0cmFwcGVkOiBjb250ZXh0Lm9wZW4sXG4gICAgICAgICAgICBvbk1vdW50QXV0b0ZvY3VzOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblVubW91bnRBdXRvRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uQ2xvc2VBdXRvRm9jdXMsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBjb250ZXh0LnRyaWdnZXI/LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIERpc21pc3NhYmxlTGF5ZXIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50czogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvbkVzY2FwZUtleURvd24sXG4gICAgICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUsXG4gICAgICAgICAgICAgICAgb25Gb2N1c091dHNpZGU6IChldmVudCkgPT4gZXZlbnQucHJldmVudERlZmF1bHQoKSxcbiAgICAgICAgICAgICAgICBvbkRpc21pc3M6ICgpID0+IGNvbnRleHQub25PcGVuQ2hhbmdlKGZhbHNlKSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgIFNlbGVjdFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByb2xlOiBcImxpc3Rib3hcIixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbnRleHQuY29udGVudElkLFxuICAgICAgICAgICAgICAgICAgICBcImRhdGEtc3RhdGVcIjogY29udGV4dC5vcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgICAgICAgICAgICAgICBkaXI6IGNvbnRleHQuZGlyLFxuICAgICAgICAgICAgICAgICAgICBvbkNvbnRleHRNZW51OiAoZXZlbnQpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCksXG4gICAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgLi4ucG9wcGVyQ29udGVudFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBvblBsYWNlZDogKCkgPT4gc2V0SXNQb3NpdGlvbmVkKHRydWUpLFxuICAgICAgICAgICAgICAgICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBmbGV4IGxheW91dCBzbyB3ZSBjYW4gcGxhY2UgdGhlIHNjcm9sbCBidXR0b25zIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgb3V0bGluZSBieSBkZWZhdWx0IGFzIHRoZSBjb250ZW50IE1BWSBnZXQgZm9jdXNlZFxuICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnRQcm9wcy5zdHlsZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbktleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKGNvbnRlbnRQcm9wcy5vbktleURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTW9kaWZpZXJLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5O1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01vZGlmaWVyS2V5ICYmIGV2ZW50LmtleS5sZW5ndGggPT09IDEpIGhhbmRsZVR5cGVhaGVhZFNlYXJjaChldmVudC5rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChbXCJBcnJvd1VwXCIsIFwiQXJyb3dEb3duXCIsIFwiSG9tZVwiLCBcIkVuZFwiXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGdldEl0ZW1zKCkuZmlsdGVyKChpdGVtKSA9PiAhaXRlbS5kaXNhYmxlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlTm9kZXMgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0ucmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFtcIkFycm93VXBcIiwgXCJFbmRcIl0uaW5jbHVkZXMoZXZlbnQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGVOb2RlcyA9IGNhbmRpZGF0ZU5vZGVzLnNsaWNlKCkucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFtcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIl0uaW5jbHVkZXMoZXZlbnQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gY2FuZGlkYXRlTm9kZXMuaW5kZXhPZihjdXJyZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZU5vZGVzID0gY2FuZGlkYXRlTm9kZXMuc2xpY2UoY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGZvY3VzRmlyc3QoY2FuZGlkYXRlTm9kZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5TZWxlY3RDb250ZW50SW1wbC5kaXNwbGF5TmFtZSA9IENPTlRFTlRfSU1QTF9OQU1FO1xudmFyIElURU1fQUxJR05FRF9QT1NJVElPTl9OQU1FID0gXCJTZWxlY3RJdGVtQWxpZ25lZFBvc2l0aW9uXCI7XG52YXIgU2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvbiA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCBvblBsYWNlZCwgLi4ucG9wcGVyUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChDT05URU5UX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICBjb25zdCBjb250ZW50Q29udGV4dCA9IHVzZVNlbGVjdENvbnRlbnRDb250ZXh0KENPTlRFTlRfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gIGNvbnN0IFtjb250ZW50V3JhcHBlciwgc2V0Q29udGVudFdyYXBwZXJdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjb250ZW50LCBzZXRDb250ZW50XSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCAobm9kZSkgPT4gc2V0Q29udGVudChub2RlKSk7XG4gIGNvbnN0IGdldEl0ZW1zID0gdXNlQ29sbGVjdGlvbihfX3Njb3BlU2VsZWN0KTtcbiAgY29uc3Qgc2hvdWxkRXhwYW5kT25TY3JvbGxSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICBjb25zdCBzaG91bGRSZXBvc2l0aW9uUmVmID0gUmVhY3QudXNlUmVmKHRydWUpO1xuICBjb25zdCB7IHZpZXdwb3J0LCBzZWxlY3RlZEl0ZW0sIHNlbGVjdGVkSXRlbVRleHQsIGZvY3VzU2VsZWN0ZWRJdGVtIH0gPSBjb250ZW50Q29udGV4dDtcbiAgY29uc3QgcG9zaXRpb24gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGNvbnRleHQudHJpZ2dlciAmJiBjb250ZXh0LnZhbHVlTm9kZSAmJiBjb250ZW50V3JhcHBlciAmJiBjb250ZW50ICYmIHZpZXdwb3J0ICYmIHNlbGVjdGVkSXRlbSAmJiBzZWxlY3RlZEl0ZW1UZXh0KSB7XG4gICAgICBjb25zdCB0cmlnZ2VyUmVjdCA9IGNvbnRleHQudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGNvbnRlbnRSZWN0ID0gY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHZhbHVlTm9kZVJlY3QgPSBjb250ZXh0LnZhbHVlTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGl0ZW1UZXh0UmVjdCA9IHNlbGVjdGVkSXRlbVRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAoY29udGV4dC5kaXIgIT09IFwicnRsXCIpIHtcbiAgICAgICAgY29uc3QgaXRlbVRleHRPZmZzZXQgPSBpdGVtVGV4dFJlY3QubGVmdCAtIGNvbnRlbnRSZWN0LmxlZnQ7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB2YWx1ZU5vZGVSZWN0LmxlZnQgLSBpdGVtVGV4dE9mZnNldDtcbiAgICAgICAgY29uc3QgbGVmdERlbHRhID0gdHJpZ2dlclJlY3QubGVmdCAtIGxlZnQ7XG4gICAgICAgIGNvbnN0IG1pbkNvbnRlbnRXaWR0aCA9IHRyaWdnZXJSZWN0LndpZHRoICsgbGVmdERlbHRhO1xuICAgICAgICBjb25zdCBjb250ZW50V2lkdGggPSBNYXRoLm1heChtaW5Db250ZW50V2lkdGgsIGNvbnRlbnRSZWN0LndpZHRoKTtcbiAgICAgICAgY29uc3QgcmlnaHRFZGdlID0gd2luZG93LmlubmVyV2lkdGggLSBDT05URU5UX01BUkdJTjtcbiAgICAgICAgY29uc3QgY2xhbXBlZExlZnQgPSBjbGFtcChsZWZ0LCBbXG4gICAgICAgICAgQ09OVEVOVF9NQVJHSU4sXG4gICAgICAgICAgLy8gUHJldmVudHMgdGhlIGNvbnRlbnQgZnJvbSBnb2luZyBvZmYgdGhlIHN0YXJ0aW5nIGVkZ2Ugb2YgdGhlXG4gICAgICAgICAgLy8gdmlld3BvcnQuIEl0IG1heSBzdGlsbCBnbyBvZmYgdGhlIGVuZGluZyBlZGdlLCBidXQgdGhpcyBjYW4gYmVcbiAgICAgICAgICAvLyBjb250cm9sbGVkIGJ5IHRoZSB1c2VyIHNpbmNlIHRoZXkgbWF5IHdhbnQgdG8gbWFuYWdlIG92ZXJmbG93IGluIGFcbiAgICAgICAgICAvLyBzcGVjaWZpYyB3YXkuXG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JhZGl4LXVpL3ByaW1pdGl2ZXMvaXNzdWVzLzIwNDlcbiAgICAgICAgICBNYXRoLm1heChDT05URU5UX01BUkdJTiwgcmlnaHRFZGdlIC0gY29udGVudFdpZHRoKVxuICAgICAgICBdKTtcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUubWluV2lkdGggPSBtaW5Db250ZW50V2lkdGggKyBcInB4XCI7XG4gICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLmxlZnQgPSBjbGFtcGVkTGVmdCArIFwicHhcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UZXh0T2Zmc2V0ID0gY29udGVudFJlY3QucmlnaHQgLSBpdGVtVGV4dFJlY3QucmlnaHQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLSB2YWx1ZU5vZGVSZWN0LnJpZ2h0IC0gaXRlbVRleHRPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0RGVsdGEgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIHRyaWdnZXJSZWN0LnJpZ2h0IC0gcmlnaHQ7XG4gICAgICAgIGNvbnN0IG1pbkNvbnRlbnRXaWR0aCA9IHRyaWdnZXJSZWN0LndpZHRoICsgcmlnaHREZWx0YTtcbiAgICAgICAgY29uc3QgY29udGVudFdpZHRoID0gTWF0aC5tYXgobWluQ29udGVudFdpZHRoLCBjb250ZW50UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IGxlZnRFZGdlID0gd2luZG93LmlubmVyV2lkdGggLSBDT05URU5UX01BUkdJTjtcbiAgICAgICAgY29uc3QgY2xhbXBlZFJpZ2h0ID0gY2xhbXAocmlnaHQsIFtcbiAgICAgICAgICBDT05URU5UX01BUkdJTixcbiAgICAgICAgICBNYXRoLm1heChDT05URU5UX01BUkdJTiwgbGVmdEVkZ2UgLSBjb250ZW50V2lkdGgpXG4gICAgICAgIF0pO1xuICAgICAgICBjb250ZW50V3JhcHBlci5zdHlsZS5taW5XaWR0aCA9IG1pbkNvbnRlbnRXaWR0aCArIFwicHhcIjtcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUucmlnaHQgPSBjbGFtcGVkUmlnaHQgKyBcInB4XCI7XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtcyA9IGdldEl0ZW1zKCk7XG4gICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBDT05URU5UX01BUkdJTiAqIDI7XG4gICAgICBjb25zdCBpdGVtc0hlaWdodCA9IHZpZXdwb3J0LnNjcm9sbEhlaWdodDtcbiAgICAgIGNvbnN0IGNvbnRlbnRTdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250ZW50KTtcbiAgICAgIGNvbnN0IGNvbnRlbnRCb3JkZXJUb3BXaWR0aCA9IHBhcnNlSW50KGNvbnRlbnRTdHlsZXMuYm9yZGVyVG9wV2lkdGgsIDEwKTtcbiAgICAgIGNvbnN0IGNvbnRlbnRQYWRkaW5nVG9wID0gcGFyc2VJbnQoY29udGVudFN0eWxlcy5wYWRkaW5nVG9wLCAxMCk7XG4gICAgICBjb25zdCBjb250ZW50Qm9yZGVyQm90dG9tV2lkdGggPSBwYXJzZUludChjb250ZW50U3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoLCAxMCk7XG4gICAgICBjb25zdCBjb250ZW50UGFkZGluZ0JvdHRvbSA9IHBhcnNlSW50KGNvbnRlbnRTdHlsZXMucGFkZGluZ0JvdHRvbSwgMTApO1xuICAgICAgY29uc3QgZnVsbENvbnRlbnRIZWlnaHQgPSBjb250ZW50Qm9yZGVyVG9wV2lkdGggKyBjb250ZW50UGFkZGluZ1RvcCArIGl0ZW1zSGVpZ2h0ICsgY29udGVudFBhZGRpbmdCb3R0b20gKyBjb250ZW50Qm9yZGVyQm90dG9tV2lkdGg7XG4gICAgICBjb25zdCBtaW5Db250ZW50SGVpZ2h0ID0gTWF0aC5taW4oc2VsZWN0ZWRJdGVtLm9mZnNldEhlaWdodCAqIDUsIGZ1bGxDb250ZW50SGVpZ2h0KTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodmlld3BvcnQpO1xuICAgICAgY29uc3Qgdmlld3BvcnRQYWRkaW5nVG9wID0gcGFyc2VJbnQodmlld3BvcnRTdHlsZXMucGFkZGluZ1RvcCwgMTApO1xuICAgICAgY29uc3Qgdmlld3BvcnRQYWRkaW5nQm90dG9tID0gcGFyc2VJbnQodmlld3BvcnRTdHlsZXMucGFkZGluZ0JvdHRvbSwgMTApO1xuICAgICAgY29uc3QgdG9wRWRnZVRvVHJpZ2dlck1pZGRsZSA9IHRyaWdnZXJSZWN0LnRvcCArIHRyaWdnZXJSZWN0LmhlaWdodCAvIDIgLSBDT05URU5UX01BUkdJTjtcbiAgICAgIGNvbnN0IHRyaWdnZXJNaWRkbGVUb0JvdHRvbUVkZ2UgPSBhdmFpbGFibGVIZWlnaHQgLSB0b3BFZGdlVG9UcmlnZ2VyTWlkZGxlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtSGFsZkhlaWdodCA9IHNlbGVjdGVkSXRlbS5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgY29uc3QgaXRlbU9mZnNldE1pZGRsZSA9IHNlbGVjdGVkSXRlbS5vZmZzZXRUb3AgKyBzZWxlY3RlZEl0ZW1IYWxmSGVpZ2h0O1xuICAgICAgY29uc3QgY29udGVudFRvcFRvSXRlbU1pZGRsZSA9IGNvbnRlbnRCb3JkZXJUb3BXaWR0aCArIGNvbnRlbnRQYWRkaW5nVG9wICsgaXRlbU9mZnNldE1pZGRsZTtcbiAgICAgIGNvbnN0IGl0ZW1NaWRkbGVUb0NvbnRlbnRCb3R0b20gPSBmdWxsQ29udGVudEhlaWdodCAtIGNvbnRlbnRUb3BUb0l0ZW1NaWRkbGU7XG4gICAgICBjb25zdCB3aWxsQWxpZ25XaXRob3V0VG9wT3ZlcmZsb3cgPSBjb250ZW50VG9wVG9JdGVtTWlkZGxlIDw9IHRvcEVkZ2VUb1RyaWdnZXJNaWRkbGU7XG4gICAgICBpZiAod2lsbEFsaWduV2l0aG91dFRvcE92ZXJmbG93KSB7XG4gICAgICAgIGNvbnN0IGlzTGFzdEl0ZW0gPSBpdGVtcy5sZW5ndGggPiAwICYmIHNlbGVjdGVkSXRlbSA9PT0gaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV0ucmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLmJvdHRvbSA9IFwiMHB4XCI7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0T2Zmc2V0Qm90dG9tID0gY29udGVudC5jbGllbnRIZWlnaHQgLSB2aWV3cG9ydC5vZmZzZXRUb3AgLSB2aWV3cG9ydC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNsYW1wZWRUcmlnZ2VyTWlkZGxlVG9Cb3R0b21FZGdlID0gTWF0aC5tYXgoXG4gICAgICAgICAgdHJpZ2dlck1pZGRsZVRvQm90dG9tRWRnZSxcbiAgICAgICAgICBzZWxlY3RlZEl0ZW1IYWxmSGVpZ2h0ICsgLy8gdmlld3BvcnQgbWlnaHQgaGF2ZSBwYWRkaW5nIGJvdHRvbSwgaW5jbHVkZSBpdCB0byBhdm9pZCBhIHNjcm9sbGFibGUgdmlld3BvcnRcbiAgICAgICAgICAoaXNMYXN0SXRlbSA/IHZpZXdwb3J0UGFkZGluZ0JvdHRvbSA6IDApICsgdmlld3BvcnRPZmZzZXRCb3R0b20gKyBjb250ZW50Qm9yZGVyQm90dG9tV2lkdGhcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gY29udGVudFRvcFRvSXRlbU1pZGRsZSArIGNsYW1wZWRUcmlnZ2VyTWlkZGxlVG9Cb3R0b21FZGdlO1xuICAgICAgICBjb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpc0ZpcnN0SXRlbSA9IGl0ZW1zLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJdGVtID09PSBpdGVtc1swXS5yZWYuY3VycmVudDtcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgY29uc3QgY2xhbXBlZFRvcEVkZ2VUb1RyaWdnZXJNaWRkbGUgPSBNYXRoLm1heChcbiAgICAgICAgICB0b3BFZGdlVG9UcmlnZ2VyTWlkZGxlLFxuICAgICAgICAgIGNvbnRlbnRCb3JkZXJUb3BXaWR0aCArIHZpZXdwb3J0Lm9mZnNldFRvcCArIC8vIHZpZXdwb3J0IG1pZ2h0IGhhdmUgcGFkZGluZyB0b3AsIGluY2x1ZGUgaXQgdG8gYXZvaWQgYSBzY3JvbGxhYmxlIHZpZXdwb3J0XG4gICAgICAgICAgKGlzRmlyc3RJdGVtID8gdmlld3BvcnRQYWRkaW5nVG9wIDogMCkgKyBzZWxlY3RlZEl0ZW1IYWxmSGVpZ2h0XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNsYW1wZWRUb3BFZGdlVG9UcmlnZ2VyTWlkZGxlICsgaXRlbU1pZGRsZVRvQ29udGVudEJvdHRvbTtcbiAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICB2aWV3cG9ydC5zY3JvbGxUb3AgPSBjb250ZW50VG9wVG9JdGVtTWlkZGxlIC0gdG9wRWRnZVRvVHJpZ2dlck1pZGRsZSArIHZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLm1hcmdpbiA9IGAke0NPTlRFTlRfTUFSR0lOfXB4IDBgO1xuICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUubWluSGVpZ2h0ID0gbWluQ29udGVudEhlaWdodCArIFwicHhcIjtcbiAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLm1heEhlaWdodCA9IGF2YWlsYWJsZUhlaWdodCArIFwicHhcIjtcbiAgICAgIG9uUGxhY2VkPy4oKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzaG91bGRFeHBhbmRPblNjcm9sbFJlZi5jdXJyZW50ID0gdHJ1ZSk7XG4gICAgfVxuICB9LCBbXG4gICAgZ2V0SXRlbXMsXG4gICAgY29udGV4dC50cmlnZ2VyLFxuICAgIGNvbnRleHQudmFsdWVOb2RlLFxuICAgIGNvbnRlbnRXcmFwcGVyLFxuICAgIGNvbnRlbnQsXG4gICAgdmlld3BvcnQsXG4gICAgc2VsZWN0ZWRJdGVtLFxuICAgIHNlbGVjdGVkSXRlbVRleHQsXG4gICAgY29udGV4dC5kaXIsXG4gICAgb25QbGFjZWRcbiAgXSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiBwb3NpdGlvbigpLCBbcG9zaXRpb25dKTtcbiAgY29uc3QgW2NvbnRlbnRaSW5kZXgsIHNldENvbnRlbnRaSW5kZXhdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29udGVudCkgc2V0Q29udGVudFpJbmRleCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250ZW50KS56SW5kZXgpO1xuICB9LCBbY29udGVudF0pO1xuICBjb25zdCBoYW5kbGVTY3JvbGxCdXR0b25DaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUgJiYgc2hvdWxkUmVwb3NpdGlvblJlZi5jdXJyZW50ID09PSB0cnVlKSB7XG4gICAgICAgIHBvc2l0aW9uKCk7XG4gICAgICAgIGZvY3VzU2VsZWN0ZWRJdGVtPy4oKTtcbiAgICAgICAgc2hvdWxkUmVwb3NpdGlvblJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcG9zaXRpb24sIGZvY3VzU2VsZWN0ZWRJdGVtXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBTZWxlY3RWaWV3cG9ydFByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHNjb3BlOiBfX3Njb3BlU2VsZWN0LFxuICAgICAgY29udGVudFdyYXBwZXIsXG4gICAgICBzaG91bGRFeHBhbmRPblNjcm9sbFJlZixcbiAgICAgIG9uU2Nyb2xsQnV0dG9uQ2hhbmdlOiBoYW5kbGVTY3JvbGxCdXR0b25DaGFuZ2UsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHJlZjogc2V0Q29udGVudFdyYXBwZXIsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgICAgICB6SW5kZXg6IGNvbnRlbnRaSW5kZXhcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgUHJpbWl0aXZlLmRpdixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLi4ucG9wcGVyUHJvcHMsXG4gICAgICAgICAgICAgIHJlZjogY29tcG9zZWRSZWZzLFxuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IHRoZSBoZWlnaHQgb2YgdGhlIGNvbnRlbnQsIGl0IGluY2x1ZGVzIGJvcmRlcnMuIElmIHdlIHdlcmUgdG8gc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIGhlaWdodCB3aXRob3V0IGhhdmluZyBgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdgIGl0IHdvdWxkIGJlIHRvbyBiaWcuXG4gICAgICAgICAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGVuc3VyZSB0aGUgY29udGVudCBkb2Vzbid0IGdldCB0YWxsZXIgdGhhbiB0aGUgd3JhcHBlclxuICAgICAgICAgICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgLi4ucG9wcGVyUHJvcHMuc3R5bGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pO1xuU2VsZWN0SXRlbUFsaWduZWRQb3NpdGlvbi5kaXNwbGF5TmFtZSA9IElURU1fQUxJR05FRF9QT1NJVElPTl9OQU1FO1xudmFyIFBPUFBFUl9QT1NJVElPTl9OQU1FID0gXCJTZWxlY3RQb3BwZXJQb3NpdGlvblwiO1xudmFyIFNlbGVjdFBvcHBlclBvc2l0aW9uID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgX19zY29wZVNlbGVjdCxcbiAgICBhbGlnbiA9IFwic3RhcnRcIixcbiAgICBjb2xsaXNpb25QYWRkaW5nID0gQ09OVEVOVF9NQVJHSU4sXG4gICAgLi4ucG9wcGVyUHJvcHNcbiAgfSA9IHByb3BzO1xuICBjb25zdCBwb3BwZXJTY29wZSA9IHVzZVBvcHBlclNjb3BlKF9fc2NvcGVTZWxlY3QpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBQb3BwZXJQcmltaXRpdmUuQ29udGVudCxcbiAgICB7XG4gICAgICAuLi5wb3BwZXJTY29wZSxcbiAgICAgIC4uLnBvcHBlclByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBhbGlnbixcbiAgICAgIGNvbGxpc2lvblBhZGRpbmcsXG4gICAgICBzdHlsZToge1xuICAgICAgICAvLyBFbnN1cmUgYm9yZGVyLWJveCBmb3IgZmxvYXRpbmctdWkgY2FsY3VsYXRpb25zXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIC4uLnBvcHBlclByb3BzLnN0eWxlLFxuICAgICAgICAvLyByZS1uYW1lc3BhY2UgZXhwb3NlZCBjb250ZW50IGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgIC4uLntcbiAgICAgICAgICBcIi0tcmFkaXgtc2VsZWN0LWNvbnRlbnQtdHJhbnNmb3JtLW9yaWdpblwiOiBcInZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKVwiLFxuICAgICAgICAgIFwiLS1yYWRpeC1zZWxlY3QtY29udGVudC1hdmFpbGFibGUtd2lkdGhcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYXZhaWxhYmxlLXdpZHRoKVwiLFxuICAgICAgICAgIFwiLS1yYWRpeC1zZWxlY3QtY29udGVudC1hdmFpbGFibGUtaGVpZ2h0XCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWF2YWlsYWJsZS1oZWlnaHQpXCIsXG4gICAgICAgICAgXCItLXJhZGl4LXNlbGVjdC10cmlnZ2VyLXdpZHRoXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aClcIixcbiAgICAgICAgICBcIi0tcmFkaXgtc2VsZWN0LXRyaWdnZXItaGVpZ2h0XCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci1oZWlnaHQpXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn0pO1xuU2VsZWN0UG9wcGVyUG9zaXRpb24uZGlzcGxheU5hbWUgPSBQT1BQRVJfUE9TSVRJT05fTkFNRTtcbnZhciBbU2VsZWN0Vmlld3BvcnRQcm92aWRlciwgdXNlU2VsZWN0Vmlld3BvcnRDb250ZXh0XSA9IGNyZWF0ZVNlbGVjdENvbnRleHQoQ09OVEVOVF9OQU1FLCB7fSk7XG52YXIgVklFV1BPUlRfTkFNRSA9IFwiU2VsZWN0Vmlld3BvcnRcIjtcbnZhciBTZWxlY3RWaWV3cG9ydCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCBub25jZSwgLi4udmlld3BvcnRQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChWSUVXUE9SVF9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCB2aWV3cG9ydENvbnRleHQgPSB1c2VTZWxlY3RWaWV3cG9ydENvbnRleHQoVklFV1BPUlRfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgY29udGVudENvbnRleHQub25WaWV3cG9ydENoYW5nZSk7XG4gICAgY29uc3QgcHJldlNjcm9sbFRvcFJlZiA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwic3R5bGVcIixcbiAgICAgICAge1xuICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgICBfX2h0bWw6IGBbZGF0YS1yYWRpeC1zZWxlY3Qtdmlld3BvcnRde3Njcm9sbGJhci13aWR0aDpub25lOy1tcy1vdmVyZmxvdy1zdHlsZTpub25lOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO31bZGF0YS1yYWRpeC1zZWxlY3Qtdmlld3BvcnRdOjotd2Via2l0LXNjcm9sbGJhcntkaXNwbGF5Om5vbmV9YFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbm9uY2VcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGVjdGlvbi5TbG90LCB7IHNjb3BlOiBfX3Njb3BlU2VsZWN0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgUHJpbWl0aXZlLmRpdixcbiAgICAgICAge1xuICAgICAgICAgIFwiZGF0YS1yYWRpeC1zZWxlY3Qtdmlld3BvcnRcIjogXCJcIixcbiAgICAgICAgICByb2xlOiBcInByZXNlbnRhdGlvblwiLFxuICAgICAgICAgIC4uLnZpZXdwb3J0UHJvcHMsXG4gICAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIC8vIHdlIHVzZSBwb3NpdGlvbjogJ3JlbGF0aXZlJyBoZXJlIG9uIHRoZSBgdmlld3BvcnRgIHNvIHRoYXQgd2hlbiB3ZSBjYWxsXG4gICAgICAgICAgICAvLyBgc2VsZWN0ZWRJdGVtLm9mZnNldFRvcGAgaW4gY2FsY3VsYXRpb25zLCB0aGUgb2Zmc2V0IGlzIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgLy8gKGluZGVwZW5kZW50IG9mIHRoZSBzY3JvbGxVcEJ1dHRvbikuXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIC8vIFZpZXdwb3J0IHNob3VsZCBvbmx5IGJlIHNjcm9sbGFibGUgaW4gdGhlIHZlcnRpY2FsIGRpcmVjdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgd29uJ3Qgd29yayBpbiB2ZXJ0aWNhbCB3cml0aW5nIG1vZGVzLCBzbyB3ZSdsbCBuZWVkIHRvXG4gICAgICAgICAgICAvLyByZXZpc2l0IHRoaXMgaWYvd2hlbiB0aGF0IGlzIHN1cHBvcnRlZFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9ibG9nL3ZlcnRpY2FsLWZvcm0tY29udHJvbHNcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlbiBhdXRvXCIsXG4gICAgICAgICAgICAuLi52aWV3cG9ydFByb3BzLnN0eWxlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblNjcm9sbDogY29tcG9zZUV2ZW50SGFuZGxlcnModmlld3BvcnRQcm9wcy5vblNjcm9sbCwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICBjb25zdCB7IGNvbnRlbnRXcmFwcGVyLCBzaG91bGRFeHBhbmRPblNjcm9sbFJlZiB9ID0gdmlld3BvcnRDb250ZXh0O1xuICAgICAgICAgICAgaWYgKHNob3VsZEV4cGFuZE9uU2Nyb2xsUmVmPy5jdXJyZW50ICYmIGNvbnRlbnRXcmFwcGVyKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNjcm9sbGVkQnkgPSBNYXRoLmFicyhwcmV2U2Nyb2xsVG9wUmVmLmN1cnJlbnQgLSB2aWV3cG9ydC5zY3JvbGxUb3ApO1xuICAgICAgICAgICAgICBpZiAoc2Nyb2xsZWRCeSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBDT05URU5UX01BUkdJTiAqIDI7XG4gICAgICAgICAgICAgICAgY29uc3QgY3NzTWluSGVpZ2h0ID0gcGFyc2VGbG9hdChjb250ZW50V3JhcHBlci5zdHlsZS5taW5IZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzc0hlaWdodCA9IHBhcnNlRmxvYXQoY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2SGVpZ2h0ID0gTWF0aC5tYXgoY3NzTWluSGVpZ2h0LCBjc3NIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2SGVpZ2h0IDwgYXZhaWxhYmxlSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXh0SGVpZ2h0ID0gcHJldkhlaWdodCArIHNjcm9sbGVkQnk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjbGFtcGVkTmV4dEhlaWdodCA9IE1hdGgubWluKGF2YWlsYWJsZUhlaWdodCwgbmV4dEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHREaWZmID0gbmV4dEhlaWdodCAtIGNsYW1wZWROZXh0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gY2xhbXBlZE5leHRIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICBpZiAoY29udGVudFdyYXBwZXIuc3R5bGUuYm90dG9tID09PSBcIjBweFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0LnNjcm9sbFRvcCA9IGhlaWdodERpZmYgPiAwID8gaGVpZ2h0RGlmZiA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXcmFwcGVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJmbGV4LWVuZFwiO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldlNjcm9sbFRvcFJlZi5jdXJyZW50ID0gdmlld3BvcnQuc2Nyb2xsVG9wO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICkgfSlcbiAgICBdIH0pO1xuICB9XG4pO1xuU2VsZWN0Vmlld3BvcnQuZGlzcGxheU5hbWUgPSBWSUVXUE9SVF9OQU1FO1xudmFyIEdST1VQX05BTUUgPSBcIlNlbGVjdEdyb3VwXCI7XG52YXIgW1NlbGVjdEdyb3VwQ29udGV4dFByb3ZpZGVyLCB1c2VTZWxlY3RHcm91cENvbnRleHRdID0gY3JlYXRlU2VsZWN0Q29udGV4dChHUk9VUF9OQU1FKTtcbnZhciBTZWxlY3RHcm91cCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCAuLi5ncm91cFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBncm91cElkID0gdXNlSWQoKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChTZWxlY3RHcm91cENvbnRleHRQcm92aWRlciwgeyBzY29wZTogX19zY29wZVNlbGVjdCwgaWQ6IGdyb3VwSWQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5kaXYsIHsgcm9sZTogXCJncm91cFwiLCBcImFyaWEtbGFiZWxsZWRieVwiOiBncm91cElkLCAuLi5ncm91cFByb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KSB9KTtcbiAgfVxuKTtcblNlbGVjdEdyb3VwLmRpc3BsYXlOYW1lID0gR1JPVVBfTkFNRTtcbnZhciBMQUJFTF9OQU1FID0gXCJTZWxlY3RMYWJlbFwiO1xudmFyIFNlbGVjdExhYmVsID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLmxhYmVsUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGdyb3VwQ29udGV4dCA9IHVzZVNlbGVjdEdyb3VwQ29udGV4dChMQUJFTF9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQcmltaXRpdmUuZGl2LCB7IGlkOiBncm91cENvbnRleHQuaWQsIC4uLmxhYmVsUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xuU2VsZWN0TGFiZWwuZGlzcGxheU5hbWUgPSBMQUJFTF9OQU1FO1xudmFyIElURU1fTkFNRSA9IFwiU2VsZWN0SXRlbVwiO1xudmFyIFtTZWxlY3RJdGVtQ29udGV4dFByb3ZpZGVyLCB1c2VTZWxlY3RJdGVtQ29udGV4dF0gPSBjcmVhdGVTZWxlY3RDb250ZXh0KElURU1fTkFNRSk7XG52YXIgU2VsZWN0SXRlbSA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgX19zY29wZVNlbGVjdCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICAgIHRleHRWYWx1ZTogdGV4dFZhbHVlUHJvcCxcbiAgICAgIC4uLml0ZW1Qcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlU2VsZWN0Q29udGV4dChJVEVNX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlU2VsZWN0Q29udGVudENvbnRleHQoSVRFTV9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gY29udGV4dC52YWx1ZSA9PT0gdmFsdWU7XG4gICAgY29uc3QgW3RleHRWYWx1ZSwgc2V0VGV4dFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKHRleHRWYWx1ZVByb3AgPz8gXCJcIik7XG4gICAgY29uc3QgW2lzRm9jdXNlZCwgc2V0SXNGb2N1c2VkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoXG4gICAgICBmb3J3YXJkZWRSZWYsXG4gICAgICAobm9kZSkgPT4gY29udGVudENvbnRleHQuaXRlbVJlZkNhbGxiYWNrPy4obm9kZSwgdmFsdWUsIGRpc2FibGVkKVxuICAgICk7XG4gICAgY29uc3QgdGV4dElkID0gdXNlSWQoKTtcbiAgICBjb25zdCBwb2ludGVyVHlwZVJlZiA9IFJlYWN0LnVzZVJlZihcInRvdWNoXCIpO1xuICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9ICgpID0+IHtcbiAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgY29udGV4dC5vblZhbHVlQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgY29udGV4dC5vbk9wZW5DaGFuZ2UoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQSA8U2VsZWN0Lkl0ZW0gLz4gbXVzdCBoYXZlIGEgdmFsdWUgcHJvcCB0aGF0IGlzIG5vdCBhbiBlbXB0eSBzdHJpbmcuIFRoaXMgaXMgYmVjYXVzZSB0aGUgU2VsZWN0IHZhbHVlIGNhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBzZWxlY3Rpb24gYW5kIHNob3cgdGhlIHBsYWNlaG9sZGVyLlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFNlbGVjdEl0ZW1Db250ZXh0UHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHNjb3BlOiBfX3Njb3BlU2VsZWN0LFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIHRleHRJZCxcbiAgICAgICAgaXNTZWxlY3RlZCxcbiAgICAgICAgb25JdGVtVGV4dENoYW5nZTogUmVhY3QudXNlQ2FsbGJhY2soKG5vZGUpID0+IHtcbiAgICAgICAgICBzZXRUZXh0VmFsdWUoKHByZXZUZXh0VmFsdWUpID0+IHByZXZUZXh0VmFsdWUgfHwgKG5vZGU/LnRleHRDb250ZW50ID8/IFwiXCIpLnRyaW0oKSk7XG4gICAgICAgIH0sIFtdKSxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgQ29sbGVjdGlvbi5JdGVtU2xvdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzY29wZTogX19zY29wZVNlbGVjdCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICB0ZXh0VmFsdWUsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgUHJpbWl0aXZlLmRpdixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJvbGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogdGV4dElkLFxuICAgICAgICAgICAgICAgIFwiZGF0YS1oaWdobGlnaHRlZFwiOiBpc0ZvY3VzZWQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpc1NlbGVjdGVkICYmIGlzRm9jdXNlZCxcbiAgICAgICAgICAgICAgICBcImRhdGEtc3RhdGVcIjogaXNTZWxlY3RlZCA/IFwiY2hlY2tlZFwiIDogXCJ1bmNoZWNrZWRcIixcbiAgICAgICAgICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogZGlzYWJsZWQgfHwgdm9pZCAwLFxuICAgICAgICAgICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkaXNhYmxlZCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgdGFiSW5kZXg6IGRpc2FibGVkID8gdm9pZCAwIDogLTEsXG4gICAgICAgICAgICAgICAgLi4uaXRlbVByb3BzLFxuICAgICAgICAgICAgICAgIHJlZjogY29tcG9zZWRSZWZzLFxuICAgICAgICAgICAgICAgIG9uRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKGl0ZW1Qcm9wcy5vbkZvY3VzLCAoKSA9PiBzZXRJc0ZvY3VzZWQodHJ1ZSkpLFxuICAgICAgICAgICAgICAgIG9uQmx1cjogY29tcG9zZUV2ZW50SGFuZGxlcnMoaXRlbVByb3BzLm9uQmx1ciwgKCkgPT4gc2V0SXNGb2N1c2VkKGZhbHNlKSksXG4gICAgICAgICAgICAgICAgb25DbGljazogY29tcG9zZUV2ZW50SGFuZGxlcnMoaXRlbVByb3BzLm9uQ2xpY2ssICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChwb2ludGVyVHlwZVJlZi5jdXJyZW50ICE9PSBcIm1vdXNlXCIpIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG9uUG9pbnRlclVwOiBjb21wb3NlRXZlbnRIYW5kbGVycyhpdGVtUHJvcHMub25Qb2ludGVyVXAsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChwb2ludGVyVHlwZVJlZi5jdXJyZW50ID09PSBcIm1vdXNlXCIpIGhhbmRsZVNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKGl0ZW1Qcm9wcy5vblBvaW50ZXJEb3duLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlUmVmLmN1cnJlbnQgPSBldmVudC5wb2ludGVyVHlwZTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBvblBvaW50ZXJNb3ZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhpdGVtUHJvcHMub25Qb2ludGVyTW92ZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICBwb2ludGVyVHlwZVJlZi5jdXJyZW50ID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudENvbnRleHQub25JdGVtTGVhdmU/LigpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb2ludGVyVHlwZVJlZi5jdXJyZW50ID09PSBcIm1vdXNlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb25Qb2ludGVyTGVhdmU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKGl0ZW1Qcm9wcy5vblBvaW50ZXJMZWF2ZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Q29udGV4dC5vbkl0ZW1MZWF2ZT8uKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyhpdGVtUHJvcHMub25LZXlEb3duLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVHlwaW5nQWhlYWQgPSBjb250ZW50Q29udGV4dC5zZWFyY2hSZWY/LmN1cnJlbnQgIT09IFwiXCI7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNUeXBpbmdBaGVhZCAmJiBldmVudC5rZXkgPT09IFwiIFwiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICBpZiAoU0VMRUNUSU9OX0tFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgaGFuZGxlU2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblNlbGVjdEl0ZW0uZGlzcGxheU5hbWUgPSBJVEVNX05BTUU7XG52YXIgSVRFTV9URVhUX05BTUUgPSBcIlNlbGVjdEl0ZW1UZXh0XCI7XG52YXIgU2VsZWN0SXRlbVRleHQgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgY2xhc3NOYW1lLCBzdHlsZSwgLi4uaXRlbVRleHRQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlU2VsZWN0Q29udGVudENvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IGl0ZW1Db250ZXh0ID0gdXNlU2VsZWN0SXRlbUNvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IG5hdGl2ZU9wdGlvbnNDb250ZXh0ID0gdXNlU2VsZWN0TmF0aXZlT3B0aW9uc0NvbnRleHQoSVRFTV9URVhUX05BTUUsIF9fc2NvcGVTZWxlY3QpO1xuICAgIGNvbnN0IFtpdGVtVGV4dE5vZGUsIHNldEl0ZW1UZXh0Tm9kZV0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoXG4gICAgICBmb3J3YXJkZWRSZWYsXG4gICAgICAobm9kZSkgPT4gc2V0SXRlbVRleHROb2RlKG5vZGUpLFxuICAgICAgaXRlbUNvbnRleHQub25JdGVtVGV4dENoYW5nZSxcbiAgICAgIChub2RlKSA9PiBjb250ZW50Q29udGV4dC5pdGVtVGV4dFJlZkNhbGxiYWNrPy4obm9kZSwgaXRlbUNvbnRleHQudmFsdWUsIGl0ZW1Db250ZXh0LmRpc2FibGVkKVxuICAgICk7XG4gICAgY29uc3QgdGV4dENvbnRlbnQgPSBpdGVtVGV4dE5vZGU/LnRleHRDb250ZW50O1xuICAgIGNvbnN0IG5hdGl2ZU9wdGlvbiA9IFJlYWN0LnVzZU1lbW8oXG4gICAgICAoKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwib3B0aW9uXCIsIHsgdmFsdWU6IGl0ZW1Db250ZXh0LnZhbHVlLCBkaXNhYmxlZDogaXRlbUNvbnRleHQuZGlzYWJsZWQsIGNoaWxkcmVuOiB0ZXh0Q29udGVudCB9LCBpdGVtQ29udGV4dC52YWx1ZSksXG4gICAgICBbaXRlbUNvbnRleHQuZGlzYWJsZWQsIGl0ZW1Db250ZXh0LnZhbHVlLCB0ZXh0Q29udGVudF1cbiAgICApO1xuICAgIGNvbnN0IHsgb25OYXRpdmVPcHRpb25BZGQsIG9uTmF0aXZlT3B0aW9uUmVtb3ZlIH0gPSBuYXRpdmVPcHRpb25zQ29udGV4dDtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgb25OYXRpdmVPcHRpb25BZGQobmF0aXZlT3B0aW9uKTtcbiAgICAgIHJldHVybiAoKSA9PiBvbk5hdGl2ZU9wdGlvblJlbW92ZShuYXRpdmVPcHRpb24pO1xuICAgIH0sIFtvbk5hdGl2ZU9wdGlvbkFkZCwgb25OYXRpdmVPcHRpb25SZW1vdmUsIG5hdGl2ZU9wdGlvbl0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChQcmltaXRpdmUuc3BhbiwgeyBpZDogaXRlbUNvbnRleHQudGV4dElkLCAuLi5pdGVtVGV4dFByb3BzLCByZWY6IGNvbXBvc2VkUmVmcyB9KSxcbiAgICAgIGl0ZW1Db250ZXh0LmlzU2VsZWN0ZWQgJiYgY29udGV4dC52YWx1ZU5vZGUgJiYgIWNvbnRleHQudmFsdWVOb2RlSGFzQ2hpbGRyZW4gPyBSZWFjdERPTS5jcmVhdGVQb3J0YWwoaXRlbVRleHRQcm9wcy5jaGlsZHJlbiwgY29udGV4dC52YWx1ZU5vZGUpIDogbnVsbFxuICAgIF0gfSk7XG4gIH1cbik7XG5TZWxlY3RJdGVtVGV4dC5kaXNwbGF5TmFtZSA9IElURU1fVEVYVF9OQU1FO1xudmFyIElURU1fSU5ESUNBVE9SX05BTUUgPSBcIlNlbGVjdEl0ZW1JbmRpY2F0b3JcIjtcbnZhciBTZWxlY3RJdGVtSW5kaWNhdG9yID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLml0ZW1JbmRpY2F0b3JQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgaXRlbUNvbnRleHQgPSB1c2VTZWxlY3RJdGVtQ29udGV4dChJVEVNX0lORElDQVRPUl9OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICByZXR1cm4gaXRlbUNvbnRleHQuaXNTZWxlY3RlZCA/IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJpbWl0aXZlLnNwYW4sIHsgXCJhcmlhLWhpZGRlblwiOiB0cnVlLCAuLi5pdGVtSW5kaWNhdG9yUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIDogbnVsbDtcbiAgfVxuKTtcblNlbGVjdEl0ZW1JbmRpY2F0b3IuZGlzcGxheU5hbWUgPSBJVEVNX0lORElDQVRPUl9OQU1FO1xudmFyIFNDUk9MTF9VUF9CVVRUT05fTkFNRSA9IFwiU2VsZWN0U2Nyb2xsVXBCdXR0b25cIjtcbnZhciBTZWxlY3RTY3JvbGxVcEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChTQ1JPTExfVVBfQlVUVE9OX05BTUUsIHByb3BzLl9fc2NvcGVTZWxlY3QpO1xuICBjb25zdCB2aWV3cG9ydENvbnRleHQgPSB1c2VTZWxlY3RWaWV3cG9ydENvbnRleHQoU0NST0xMX1VQX0JVVFRPTl9OQU1FLCBwcm9wcy5fX3Njb3BlU2VsZWN0KTtcbiAgY29uc3QgW2NhblNjcm9sbFVwLCBzZXRDYW5TY3JvbGxVcF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHZpZXdwb3J0Q29udGV4dC5vblNjcm9sbEJ1dHRvbkNoYW5nZSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnRlbnRDb250ZXh0LnZpZXdwb3J0ICYmIGNvbnRlbnRDb250ZXh0LmlzUG9zaXRpb25lZCkge1xuICAgICAgbGV0IGhhbmRsZVNjcm9sbDIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgY2FuU2Nyb2xsVXAyID0gdmlld3BvcnQuc2Nyb2xsVG9wID4gMDtcbiAgICAgICAgc2V0Q2FuU2Nyb2xsVXAoY2FuU2Nyb2xsVXAyKTtcbiAgICAgIH07XG4gICAgICB2YXIgaGFuZGxlU2Nyb2xsID0gaGFuZGxlU2Nyb2xsMjtcbiAgICAgIGNvbnN0IHZpZXdwb3J0ID0gY29udGVudENvbnRleHQudmlld3BvcnQ7XG4gICAgICBoYW5kbGVTY3JvbGwyKCk7XG4gICAgICB2aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbDIpO1xuICAgICAgcmV0dXJuICgpID0+IHZpZXdwb3J0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsMik7XG4gICAgfVxuICB9LCBbY29udGVudENvbnRleHQudmlld3BvcnQsIGNvbnRlbnRDb250ZXh0LmlzUG9zaXRpb25lZF0pO1xuICByZXR1cm4gY2FuU2Nyb2xsVXAgPyAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFNlbGVjdFNjcm9sbEJ1dHRvbkltcGwsXG4gICAge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgIG9uQXV0b1Njcm9sbDogKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHZpZXdwb3J0LCBzZWxlY3RlZEl0ZW0gfSA9IGNvbnRlbnRDb250ZXh0O1xuICAgICAgICBpZiAodmlld3BvcnQgJiYgc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgdmlld3BvcnQuc2Nyb2xsVG9wID0gdmlld3BvcnQuc2Nyb2xsVG9wIC0gc2VsZWN0ZWRJdGVtLm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKSA6IG51bGw7XG59KTtcblNlbGVjdFNjcm9sbFVwQnV0dG9uLmRpc3BsYXlOYW1lID0gU0NST0xMX1VQX0JVVFRPTl9OQU1FO1xudmFyIFNDUk9MTF9ET1dOX0JVVFRPTl9OQU1FID0gXCJTZWxlY3RTY3JvbGxEb3duQnV0dG9uXCI7XG52YXIgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChTQ1JPTExfRE9XTl9CVVRUT05fTkFNRSwgcHJvcHMuX19zY29wZVNlbGVjdCk7XG4gIGNvbnN0IHZpZXdwb3J0Q29udGV4dCA9IHVzZVNlbGVjdFZpZXdwb3J0Q29udGV4dChTQ1JPTExfRE9XTl9CVVRUT05fTkFNRSwgcHJvcHMuX19zY29wZVNlbGVjdCk7XG4gIGNvbnN0IFtjYW5TY3JvbGxEb3duLCBzZXRDYW5TY3JvbGxEb3duXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgdmlld3BvcnRDb250ZXh0Lm9uU2Nyb2xsQnV0dG9uQ2hhbmdlKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29udGVudENvbnRleHQudmlld3BvcnQgJiYgY29udGVudENvbnRleHQuaXNQb3NpdGlvbmVkKSB7XG4gICAgICBsZXQgaGFuZGxlU2Nyb2xsMiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBtYXhTY3JvbGwgPSB2aWV3cG9ydC5zY3JvbGxIZWlnaHQgLSB2aWV3cG9ydC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGNhblNjcm9sbERvd24yID0gTWF0aC5jZWlsKHZpZXdwb3J0LnNjcm9sbFRvcCkgPCBtYXhTY3JvbGw7XG4gICAgICAgIHNldENhblNjcm9sbERvd24oY2FuU2Nyb2xsRG93bjIpO1xuICAgICAgfTtcbiAgICAgIHZhciBoYW5kbGVTY3JvbGwgPSBoYW5kbGVTY3JvbGwyO1xuICAgICAgY29uc3Qgdmlld3BvcnQgPSBjb250ZW50Q29udGV4dC52aWV3cG9ydDtcbiAgICAgIGhhbmRsZVNjcm9sbDIoKTtcbiAgICAgIHZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsMik7XG4gICAgICByZXR1cm4gKCkgPT4gdmlld3BvcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwyKTtcbiAgICB9XG4gIH0sIFtjb250ZW50Q29udGV4dC52aWV3cG9ydCwgY29udGVudENvbnRleHQuaXNQb3NpdGlvbmVkXSk7XG4gIHJldHVybiBjYW5TY3JvbGxEb3duID8gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBTZWxlY3RTY3JvbGxCdXR0b25JbXBsLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICBvbkF1dG9TY3JvbGw6ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyB2aWV3cG9ydCwgc2VsZWN0ZWRJdGVtIH0gPSBjb250ZW50Q29udGV4dDtcbiAgICAgICAgaWYgKHZpZXdwb3J0ICYmIHNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgIHZpZXdwb3J0LnNjcm9sbFRvcCA9IHZpZXdwb3J0LnNjcm9sbFRvcCArIHNlbGVjdGVkSXRlbS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICkgOiBudWxsO1xufSk7XG5TZWxlY3RTY3JvbGxEb3duQnV0dG9uLmRpc3BsYXlOYW1lID0gU0NST0xMX0RPV05fQlVUVE9OX05BTUU7XG52YXIgU2VsZWN0U2Nyb2xsQnV0dG9uSW1wbCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlU2VsZWN0LCBvbkF1dG9TY3JvbGwsIC4uLnNjcm9sbEluZGljYXRvclByb3BzIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChcIlNlbGVjdFNjcm9sbEJ1dHRvblwiLCBfX3Njb3BlU2VsZWN0KTtcbiAgY29uc3QgYXV0b1Njcm9sbFRpbWVyUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBnZXRJdGVtcyA9IHVzZUNvbGxlY3Rpb24oX19zY29wZVNlbGVjdCk7XG4gIGNvbnN0IGNsZWFyQXV0b1Njcm9sbFRpbWVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChhdXRvU2Nyb2xsVGltZXJSZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbFRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgYXV0b1Njcm9sbFRpbWVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfSwgW10pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiBjbGVhckF1dG9TY3JvbGxUaW1lcigpO1xuICB9LCBbY2xlYXJBdXRvU2Nyb2xsVGltZXJdKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBhY3RpdmVJdGVtID0gZ2V0SXRlbXMoKS5maW5kKChpdGVtKSA9PiBpdGVtLnJlZi5jdXJyZW50ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICBhY3RpdmVJdGVtPy5yZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogXCJuZWFyZXN0XCIgfSk7XG4gIH0sIFtnZXRJdGVtc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBQcmltaXRpdmUuZGl2LFxuICAgIHtcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgIC4uLnNjcm9sbEluZGljYXRvclByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBzdHlsZTogeyBmbGV4U2hyaW5rOiAwLCAuLi5zY3JvbGxJbmRpY2F0b3JQcm9wcy5zdHlsZSB9LFxuICAgICAgb25Qb2ludGVyRG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMoc2Nyb2xsSW5kaWNhdG9yUHJvcHMub25Qb2ludGVyRG93biwgKCkgPT4ge1xuICAgICAgICBpZiAoYXV0b1Njcm9sbFRpbWVyUmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICBhdXRvU2Nyb2xsVGltZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRJbnRlcnZhbChvbkF1dG9TY3JvbGwsIDUwKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBvblBvaW50ZXJNb3ZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhzY3JvbGxJbmRpY2F0b3JQcm9wcy5vblBvaW50ZXJNb3ZlLCAoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRDb250ZXh0Lm9uSXRlbUxlYXZlPy4oKTtcbiAgICAgICAgaWYgKGF1dG9TY3JvbGxUaW1lclJlZi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgYXV0b1Njcm9sbFRpbWVyUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0SW50ZXJ2YWwob25BdXRvU2Nyb2xsLCA1MCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgb25Qb2ludGVyTGVhdmU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHNjcm9sbEluZGljYXRvclByb3BzLm9uUG9pbnRlckxlYXZlLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyQXV0b1Njcm9sbFRpbWVyKCk7XG4gICAgICB9KVxuICAgIH1cbiAgKTtcbn0pO1xudmFyIFNFUEFSQVRPUl9OQU1FID0gXCJTZWxlY3RTZXBhcmF0b3JcIjtcbnZhciBTZWxlY3RTZXBhcmF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVNlbGVjdCwgLi4uc2VwYXJhdG9yUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5kaXYsIHsgXCJhcmlhLWhpZGRlblwiOiB0cnVlLCAuLi5zZXBhcmF0b3JQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG4gIH1cbik7XG5TZWxlY3RTZXBhcmF0b3IuZGlzcGxheU5hbWUgPSBTRVBBUkFUT1JfTkFNRTtcbnZhciBBUlJPV19OQU1FID0gXCJTZWxlY3RBcnJvd1wiO1xudmFyIFNlbGVjdEFycm93ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVTZWxlY3QsIC4uLmFycm93UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVNlbGVjdENvbnRleHQoQVJST1dfTkFNRSwgX19zY29wZVNlbGVjdCk7XG4gICAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VTZWxlY3RDb250ZW50Q29udGV4dChBUlJPV19OQU1FLCBfX3Njb3BlU2VsZWN0KTtcbiAgICByZXR1cm4gY29udGV4dC5vcGVuICYmIGNvbnRlbnRDb250ZXh0LnBvc2l0aW9uID09PSBcInBvcHBlclwiID8gLyogQF9fUFVSRV9fICovIGpzeChQb3BwZXJQcmltaXRpdmUuQXJyb3csIHsgLi4ucG9wcGVyU2NvcGUsIC4uLmFycm93UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIDogbnVsbDtcbiAgfVxuKTtcblNlbGVjdEFycm93LmRpc3BsYXlOYW1lID0gQVJST1dfTkFNRTtcbnZhciBCVUJCTEVfSU5QVVRfTkFNRSA9IFwiU2VsZWN0QnViYmxlSW5wdXRcIjtcbnZhciBTZWxlY3RCdWJibGVJbnB1dCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gICh7IF9fc2NvcGVTZWxlY3QsIHZhbHVlLCAuLi5wcm9wcyB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcbiAgICBjb25zdCBwcmV2VmFsdWUgPSB1c2VQcmV2aW91cyh2YWx1ZSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdCA9IHJlZi5jdXJyZW50O1xuICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjtcbiAgICAgIGNvbnN0IHNlbGVjdFByb3RvID0gd2luZG93LkhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZTtcbiAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICBzZWxlY3RQcm90byxcbiAgICAgICAgXCJ2YWx1ZVwiXG4gICAgICApO1xuICAgICAgY29uc3Qgc2V0VmFsdWUgPSBkZXNjcmlwdG9yLnNldDtcbiAgICAgIGlmIChwcmV2VmFsdWUgIT09IHZhbHVlICYmIHNldFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KFwiY2hhbmdlXCIsIHsgYnViYmxlczogdHJ1ZSB9KTtcbiAgICAgICAgc2V0VmFsdWUuY2FsbChzZWxlY3QsIHZhbHVlKTtcbiAgICAgICAgc2VsZWN0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH0sIFtwcmV2VmFsdWUsIHZhbHVlXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBQcmltaXRpdmUuc2VsZWN0LFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgc3R5bGU6IHsgLi4uVklTVUFMTFlfSElEREVOX1NUWUxFUywgLi4ucHJvcHMuc3R5bGUgfSxcbiAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWVcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuU2VsZWN0QnViYmxlSW5wdXQuZGlzcGxheU5hbWUgPSBCVUJCTEVfSU5QVVRfTkFNRTtcbmZ1bmN0aW9uIHNob3VsZFNob3dQbGFjZWhvbGRlcih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHVzZVR5cGVhaGVhZFNlYXJjaChvblNlYXJjaENoYW5nZSkge1xuICBjb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSB1c2VDYWxsYmFja1JlZihvblNlYXJjaENoYW5nZSk7XG4gIGNvbnN0IHNlYXJjaFJlZiA9IFJlYWN0LnVzZVJlZihcIlwiKTtcbiAgY29uc3QgdGltZXJSZWYgPSBSZWFjdC51c2VSZWYoMCk7XG4gIGNvbnN0IGhhbmRsZVR5cGVhaGVhZFNlYXJjaCA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaCA9IHNlYXJjaFJlZi5jdXJyZW50ICsga2V5O1xuICAgICAgaGFuZGxlU2VhcmNoQ2hhbmdlKHNlYXJjaCk7XG4gICAgICAoZnVuY3Rpb24gdXBkYXRlU2VhcmNoKHZhbHVlKSB7XG4gICAgICAgIHNlYXJjaFJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gXCJcIikgdGltZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHVwZGF0ZVNlYXJjaChcIlwiKSwgMWUzKTtcbiAgICAgIH0pKHNlYXJjaCk7XG4gICAgfSxcbiAgICBbaGFuZGxlU2VhcmNoQ2hhbmdlXVxuICApO1xuICBjb25zdCByZXNldFR5cGVhaGVhZCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZWFyY2hSZWYuY3VycmVudCA9IFwiXCI7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lclJlZi5jdXJyZW50KTtcbiAgfSwgW10pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVyUmVmLmN1cnJlbnQpO1xuICB9LCBbXSk7XG4gIHJldHVybiBbc2VhcmNoUmVmLCBoYW5kbGVUeXBlYWhlYWRTZWFyY2gsIHJlc2V0VHlwZWFoZWFkXTtcbn1cbmZ1bmN0aW9uIGZpbmROZXh0SXRlbShpdGVtcywgc2VhcmNoLCBjdXJyZW50SXRlbSkge1xuICBjb25zdCBpc1JlcGVhdGVkID0gc2VhcmNoLmxlbmd0aCA+IDEgJiYgQXJyYXkuZnJvbShzZWFyY2gpLmV2ZXJ5KChjaGFyKSA9PiBjaGFyID09PSBzZWFyY2hbMF0pO1xuICBjb25zdCBub3JtYWxpemVkU2VhcmNoID0gaXNSZXBlYXRlZCA/IHNlYXJjaFswXSA6IHNlYXJjaDtcbiAgY29uc3QgY3VycmVudEl0ZW1JbmRleCA9IGN1cnJlbnRJdGVtID8gaXRlbXMuaW5kZXhPZihjdXJyZW50SXRlbSkgOiAtMTtcbiAgbGV0IHdyYXBwZWRJdGVtcyA9IHdyYXBBcnJheShpdGVtcywgTWF0aC5tYXgoY3VycmVudEl0ZW1JbmRleCwgMCkpO1xuICBjb25zdCBleGNsdWRlQ3VycmVudEl0ZW0gPSBub3JtYWxpemVkU2VhcmNoLmxlbmd0aCA9PT0gMTtcbiAgaWYgKGV4Y2x1ZGVDdXJyZW50SXRlbSkgd3JhcHBlZEl0ZW1zID0gd3JhcHBlZEl0ZW1zLmZpbHRlcigodikgPT4gdiAhPT0gY3VycmVudEl0ZW0pO1xuICBjb25zdCBuZXh0SXRlbSA9IHdyYXBwZWRJdGVtcy5maW5kKFxuICAgIChpdGVtKSA9PiBpdGVtLnRleHRWYWx1ZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgobm9ybWFsaXplZFNlYXJjaC50b0xvd2VyQ2FzZSgpKVxuICApO1xuICByZXR1cm4gbmV4dEl0ZW0gIT09IGN1cnJlbnRJdGVtID8gbmV4dEl0ZW0gOiB2b2lkIDA7XG59XG5mdW5jdGlvbiB3cmFwQXJyYXkoYXJyYXksIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIGFycmF5Lm1hcCgoXywgaW5kZXgpID0+IGFycmF5WyhzdGFydEluZGV4ICsgaW5kZXgpICUgYXJyYXkubGVuZ3RoXSk7XG59XG52YXIgUm9vdDIgPSBTZWxlY3Q7XG52YXIgVHJpZ2dlciA9IFNlbGVjdFRyaWdnZXI7XG52YXIgVmFsdWUgPSBTZWxlY3RWYWx1ZTtcbnZhciBJY29uID0gU2VsZWN0SWNvbjtcbnZhciBQb3J0YWwgPSBTZWxlY3RQb3J0YWw7XG52YXIgQ29udGVudDIgPSBTZWxlY3RDb250ZW50O1xudmFyIFZpZXdwb3J0ID0gU2VsZWN0Vmlld3BvcnQ7XG52YXIgR3JvdXAgPSBTZWxlY3RHcm91cDtcbnZhciBMYWJlbCA9IFNlbGVjdExhYmVsO1xudmFyIEl0ZW0gPSBTZWxlY3RJdGVtO1xudmFyIEl0ZW1UZXh0ID0gU2VsZWN0SXRlbVRleHQ7XG52YXIgSXRlbUluZGljYXRvciA9IFNlbGVjdEl0ZW1JbmRpY2F0b3I7XG52YXIgU2Nyb2xsVXBCdXR0b24gPSBTZWxlY3RTY3JvbGxVcEJ1dHRvbjtcbnZhciBTY3JvbGxEb3duQnV0dG9uID0gU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbjtcbnZhciBTZXBhcmF0b3IgPSBTZWxlY3RTZXBhcmF0b3I7XG52YXIgQXJyb3cyID0gU2VsZWN0QXJyb3c7XG5leHBvcnQge1xuICBBcnJvdzIgYXMgQXJyb3csXG4gIENvbnRlbnQyIGFzIENvbnRlbnQsXG4gIEdyb3VwLFxuICBJY29uLFxuICBJdGVtLFxuICBJdGVtSW5kaWNhdG9yLFxuICBJdGVtVGV4dCxcbiAgTGFiZWwsXG4gIFBvcnRhbCxcbiAgUm9vdDIgYXMgUm9vdCxcbiAgU2Nyb2xsRG93bkJ1dHRvbixcbiAgU2Nyb2xsVXBCdXR0b24sXG4gIFNlbGVjdCxcbiAgU2VsZWN0QXJyb3csXG4gIFNlbGVjdENvbnRlbnQsXG4gIFNlbGVjdEdyb3VwLFxuICBTZWxlY3RJY29uLFxuICBTZWxlY3RJdGVtLFxuICBTZWxlY3RJdGVtSW5kaWNhdG9yLFxuICBTZWxlY3RJdGVtVGV4dCxcbiAgU2VsZWN0TGFiZWwsXG4gIFNlbGVjdFBvcnRhbCxcbiAgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbixcbiAgU2VsZWN0U2Nyb2xsVXBCdXR0b24sXG4gIFNlbGVjdFNlcGFyYXRvcixcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG4gIFNlbGVjdFZpZXdwb3J0LFxuICBTZXBhcmF0b3IsXG4gIFRyaWdnZXIsXG4gIFZhbHVlLFxuICBWaWV3cG9ydCxcbiAgY3JlYXRlU2VsZWN0U2NvcGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY29uc3QgdG9LZWJhYkNhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xuY29uc3QgdG9DYW1lbENhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZShcbiAgL14oW0EtWl0pfFtcXHMtX10rKFxcdykvZyxcbiAgKG1hdGNoLCBwMSwgcDIpID0+IHAyID8gcDIudG9VcHBlckNhc2UoKSA6IHAxLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCB0b1Bhc2NhbENhc2UgPSAoc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGNhbWVsQ2FzZSA9IHRvQ2FtZWxDYXNlKHN0cmluZyk7XG4gIHJldHVybiBjYW1lbENhc2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjYW1lbENhc2Uuc2xpY2UoMSk7XG59O1xuY29uc3QgbWVyZ2VDbGFzc2VzID0gKC4uLmNsYXNzZXMpID0+IGNsYXNzZXMuZmlsdGVyKChjbGFzc05hbWUsIGluZGV4LCBhcnJheSkgPT4ge1xuICByZXR1cm4gQm9vbGVhbihjbGFzc05hbWUpICYmIGNsYXNzTmFtZS50cmltKCkgIT09IFwiXCIgJiYgYXJyYXkuaW5kZXhPZihjbGFzc05hbWUpID09PSBpbmRleDtcbn0pLmpvaW4oXCIgXCIpLnRyaW0oKTtcbmNvbnN0IGhhc0ExMXlQcm9wID0gKHByb3BzKSA9PiB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wcykge1xuICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgoXCJhcmlhLVwiKSB8fCBwcm9wID09PSBcInJvbGVcIiB8fCBwcm9wID09PSBcInRpdGxlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IHsgaGFzQTExeVByb3AsIG1lcmdlQ2xhc3NlcywgdG9DYW1lbENhc2UsIHRvS2ViYWJDYXNlLCB0b1Bhc2NhbENhc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBkZWZhdWx0QXR0cmlidXRlcyA9IHtcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgd2lkdGg6IDI0LFxuICBoZWlnaHQ6IDI0LFxuICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICBmaWxsOiBcIm5vbmVcIixcbiAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICBzdHJva2VXaWR0aDogMixcbiAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG59O1xuXG5leHBvcnQgeyBkZWZhdWx0QXR0cmlidXRlcyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0QXR0cmlidXRlcy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGRlZmF1bHRBdHRyaWJ1dGVzIGZyb20gJy4vZGVmYXVsdEF0dHJpYnV0ZXMuanMnO1xuaW1wb3J0IHsgbWVyZ2VDbGFzc2VzLCBoYXNBMTF5UHJvcCB9IGZyb20gJy4vc2hhcmVkL3NyYy91dGlscy5qcyc7XG5cbmNvbnN0IEljb24gPSBmb3J3YXJkUmVmKFxuICAoe1xuICAgIGNvbG9yID0gXCJjdXJyZW50Q29sb3JcIixcbiAgICBzaXplID0gMjQsXG4gICAgc3Ryb2tlV2lkdGggPSAyLFxuICAgIGFic29sdXRlU3Ryb2tlV2lkdGgsXG4gICAgY2xhc3NOYW1lID0gXCJcIixcbiAgICBjaGlsZHJlbixcbiAgICBpY29uTm9kZSxcbiAgICAuLi5yZXN0XG4gIH0sIHJlZikgPT4gY3JlYXRlRWxlbWVudChcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIHJlZixcbiAgICAgIC4uLmRlZmF1bHRBdHRyaWJ1dGVzLFxuICAgICAgd2lkdGg6IHNpemUsXG4gICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICBzdHJva2U6IGNvbG9yLFxuICAgICAgc3Ryb2tlV2lkdGg6IGFic29sdXRlU3Ryb2tlV2lkdGggPyBOdW1iZXIoc3Ryb2tlV2lkdGgpICogMjQgLyBOdW1iZXIoc2l6ZSkgOiBzdHJva2VXaWR0aCxcbiAgICAgIGNsYXNzTmFtZTogbWVyZ2VDbGFzc2VzKFwibHVjaWRlXCIsIGNsYXNzTmFtZSksXG4gICAgICAuLi4hY2hpbGRyZW4gJiYgIWhhc0ExMXlQcm9wKHJlc3QpICYmIHsgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9LFxuICAgICAgLi4ucmVzdFxuICAgIH0sXG4gICAgW1xuICAgICAgLi4uaWNvbk5vZGUubWFwKChbdGFnLCBhdHRyc10pID0+IGNyZWF0ZUVsZW1lbnQodGFnLCBhdHRycykpLFxuICAgICAgLi4uQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IFtjaGlsZHJlbl1cbiAgICBdXG4gIClcbik7XG5cbmV4cG9ydCB7IEljb24gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgeyBmb3J3YXJkUmVmLCBjcmVhdGVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VDbGFzc2VzLCB0b0tlYmFiQ2FzZSwgdG9QYXNjYWxDYXNlIH0gZnJvbSAnLi9zaGFyZWQvc3JjL3V0aWxzLmpzJztcbmltcG9ydCBJY29uIGZyb20gJy4vSWNvbi5qcyc7XG5cbmNvbnN0IGNyZWF0ZUx1Y2lkZUljb24gPSAoaWNvbk5hbWUsIGljb25Ob2RlKSA9PiB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGZvcndhcmRSZWYoXG4gICAgKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IGNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgICAgcmVmLFxuICAgICAgaWNvbk5vZGUsXG4gICAgICBjbGFzc05hbWU6IG1lcmdlQ2xhc3NlcyhcbiAgICAgICAgYGx1Y2lkZS0ke3RvS2ViYWJDYXNlKHRvUGFzY2FsQ2FzZShpY29uTmFtZSkpfWAsXG4gICAgICAgIGBsdWNpZGUtJHtpY29uTmFtZX1gLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICksXG4gICAgICAuLi5wcm9wc1xuICAgIH0pXG4gICk7XG4gIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IHRvUGFzY2FsQ2FzZShpY29uTmFtZSk7XG4gIHJldHVybiBDb21wb25lbnQ7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVMdWNpZGVJY29uIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUx1Y2lkZUljb24uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiA1djE0XCIsIGtleTogXCJzNjk5bGVcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTE5IDEyLTcgNy03LTdcIiwga2V5OiBcIjFpZHFqZVwiIH1dXG5dO1xuY29uc3QgQXJyb3dEb3duID0gY3JlYXRlTHVjaWRlSWNvbihcImFycm93LWRvd25cIiwgX19pY29uTm9kZSk7XG5cbmV4cG9ydCB7IF9faWNvbk5vZGUsIEFycm93RG93biBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJvdy1kb3duLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgOFY0SDhcIiwga2V5OiBcImhiOHVsYVwiIH1dLFxuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMTZcIiwgaGVpZ2h0OiBcIjEyXCIsIHg6IFwiNFwiLCB5OiBcIjhcIiwgcng6IFwiMlwiLCBrZXk6IFwiZW56ZTByXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yIDE0aDJcIiwga2V5OiBcInZmdDhyZVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMjAgMTRoMlwiLCBrZXk6IFwiNGNzNjBhXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNSAxM3YyXCIsIGtleTogXCIxeHVyc3RcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTkgMTN2MlwiLCBrZXk6IFwicnE2eDJnXCIgfV1cbl07XG5jb25zdCBCb3QgPSBjcmVhdGVMdWNpZGVJY29uKFwiYm90XCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBCb3QgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym90LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMyAzdjE2YTIgMiAwIDAgMCAyIDJoMTZcIiwga2V5OiBcImMyNGk0OFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtMTkgOS01IDUtNC00LTMgM1wiLCBrZXk6IFwiMm9zaDlpXCIgfV1cbl07XG5jb25zdCBDaGFydExpbmUgPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hhcnQtbGluZVwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ2hhcnRMaW5lIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXJ0LWxpbmUuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbW1wicGF0aFwiLCB7IGQ6IFwiTTIwIDYgOSAxN2wtNS01XCIsIGtleTogXCIxZ21mMmNcIiB9XV07XG5jb25zdCBDaGVjayA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaGVja1wiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ2hlY2sgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2suanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbW1wicGF0aFwiLCB7IGQ6IFwibTYgOSA2IDYgNi02XCIsIGtleTogXCJxcnVuc2xcIiB9XV07XG5jb25zdCBDaGV2cm9uRG93biA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaGV2cm9uLWRvd25cIiwgX19pY29uTm9kZSk7XG5cbmV4cG9ydCB7IF9faWNvbk5vZGUsIENoZXZyb25Eb3duIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZXZyb24tZG93bi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgX19pY29uTm9kZSA9IFtbXCJwYXRoXCIsIHsgZDogXCJtOSAxOCA2LTYtNi02XCIsIGtleTogXCJtdGhod3FcIiB9XV07XG5jb25zdCBDaGV2cm9uUmlnaHQgPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hldnJvbi1yaWdodFwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ2hldnJvblJpZ2h0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZXZyb24tcmlnaHQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbW1wicGF0aFwiLCB7IGQ6IFwibTE4IDE1LTYtNi02IDZcIiwga2V5OiBcIjE1M3VkelwiIH1dXTtcbmNvbnN0IENoZXZyb25VcCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaGV2cm9uLXVwXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBDaGV2cm9uVXAgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hldnJvbi11cC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgX19pY29uTm9kZSA9IFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDEyaC4wMVwiLCBrZXk6IFwiMW1wM2pjXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNiAxMmguMDFcIiwga2V5OiBcIjFsNnhvelwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtMTcgNyA1IDUtNSA1XCIsIGtleTogXCIxeGx4bjBcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTcgNy01IDUgNSA1XCIsIGtleTogXCIxOW5qYmFcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTggMTJoLjAxXCIsIGtleTogXCJjem00N2ZcIiB9XVxuXTtcbmNvbnN0IENoZXZyb25zTGVmdFJpZ2h0RWxsaXBzaXMgPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hldnJvbnMtbGVmdC1yaWdodC1lbGxpcHNpc1wiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ2hldnJvbnNMZWZ0UmlnaHRFbGxpcHNpcyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGV2cm9ucy1sZWZ0LXJpZ2h0LWVsbGlwc2lzLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJtNyAxNSA1IDUgNS01XCIsIGtleTogXCIxaGYxdHdcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTcgOSA1LTUgNSA1XCIsIGtleTogXCJzZ3Q2eGdcIiB9XVxuXTtcbmNvbnN0IENoZXZyb25zVXBEb3duID0gY3JlYXRlTHVjaWRlSWNvbihcImNoZXZyb25zLXVwLWRvd25cIiwgX19pY29uTm9kZSk7XG5cbmV4cG9ydCB7IF9faWNvbk5vZGUsIENoZXZyb25zVXBEb3duIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZXZyb25zLXVwLWRvd24uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiMTJcIiwgcjogXCIxMFwiLCBrZXk6IFwiMW1nbGF5XCIgfV1dO1xuY29uc3QgQ2lyY2xlID0gY3JlYXRlTHVjaWRlSWNvbihcImNpcmNsZVwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ2lyY2xlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNpcmNsZS5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgX19pY29uTm9kZSA9IFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTEyIDE1IDIgMiA0LTRcIiwga2V5OiBcIjJjNjA5cFwiIH1dLFxuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMTRcIiwgaGVpZ2h0OiBcIjE0XCIsIHg6IFwiOFwiLCB5OiBcIjhcIiwgcng6IFwiMlwiLCByeTogXCIyXCIsIGtleTogXCIxN2p5ZWFcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTQgMTZjLTEuMSAwLTItLjktMi0yVjRjMC0xLjEuOS0yIDItMmgxMGMxLjEgMCAyIC45IDIgMlwiLCBrZXk6IFwieml4OXVmXCIgfV1cbl07XG5jb25zdCBDb3B5Q2hlY2sgPSBjcmVhdGVMdWNpZGVJY29uKFwiY29weS1jaGVja1wiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ29weUNoZWNrIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcHktY2hlY2suanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcInJlY3RcIiwgeyB3aWR0aDogXCIxNFwiLCBoZWlnaHQ6IFwiMTRcIiwgeDogXCI4XCIsIHk6IFwiOFwiLCByeDogXCIyXCIsIHJ5OiBcIjJcIiwga2V5OiBcIjE3anllYVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyXCIsIGtleTogXCJ6aXg5dWZcIiB9XVxuXTtcbmNvbnN0IENvcHkgPSBjcmVhdGVMdWNpZGVJY29uKFwiY29weVwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgQ29weSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3B5LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjFcIiwga2V5OiBcIjQxaGlsZlwiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCI1XCIsIHI6IFwiMVwiLCBrZXk6IFwiZ3hlb2I5XCIgfV0sXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjE5XCIsIHI6IFwiMVwiLCBrZXk6IFwibHlleDlrXCIgfV1cbl07XG5jb25zdCBFbGxpcHNpc1ZlcnRpY2FsID0gY3JlYXRlTHVjaWRlSWNvbihcImVsbGlwc2lzLXZlcnRpY2FsXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBFbGxpcHNpc1ZlcnRpY2FsIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsbGlwc2lzLXZlcnRpY2FsLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjFcIiwga2V5OiBcIjQxaGlsZlwiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxOVwiLCBjeTogXCIxMlwiLCByOiBcIjFcIiwga2V5OiBcIjF3amw4aVwiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCI1XCIsIGN5OiBcIjEyXCIsIHI6IFwiMVwiLCBrZXk6IFwiMXBjejhjXCIgfV1cbl07XG5jb25zdCBFbGxpcHNpcyA9IGNyZWF0ZUx1Y2lkZUljb24oXCJlbGxpcHNpc1wiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgRWxsaXBzaXMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxsaXBzaXMuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0xMCAyMGExIDEgMCAwIDAgLjU1My44OTVsMiAxQTEgMSAwIDAgMCAxNCAyMXYtN2EyIDIgMCAwIDEgLjUxNy0xLjM0MUwyMS43NCA0LjY3QTEgMSAwIDAgMCAyMSAzSDNhMSAxIDAgMCAwLS43NDIgMS42N2w3LjIyNSA3Ljk4OUEyIDIgMCAwIDEgMTAgMTR6XCIsXG4gICAgICBrZXk6IFwic2M3cTdpXCJcbiAgICB9XG4gIF1cbl07XG5jb25zdCBGdW5uZWwgPSBjcmVhdGVMdWNpZGVJY29uKFwiZnVubmVsXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBGdW5uZWwgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVubmVsLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjEwXCIsIGtleTogXCIxbWdsYXlcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDE2di00XCIsIGtleTogXCIxZHRpZnVcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDhoLjAxXCIsIGtleTogXCJlOWJvaTNcIiB9XVxuXTtcbmNvbnN0IEluZm8gPSBjcmVhdGVMdWNpZGVJY29uKFwiaW5mb1wiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgSW5mbyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmZvLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1tcInBhdGhcIiwgeyBkOiBcIk0yMSAxMmE5IDkgMCAxIDEtNi4yMTktOC41NlwiLCBrZXk6IFwiMTN6YWxkXCIgfV1dO1xuY29uc3QgTG9hZGVyQ2lyY2xlID0gY3JlYXRlTHVjaWRlSWNvbihcImxvYWRlci1jaXJjbGVcIiwgX19pY29uTm9kZSk7XG5cbmV4cG9ydCB7IF9faWNvbk5vZGUsIExvYWRlckNpcmNsZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXItY2lyY2xlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJtMTYgMTcgNS01LTUtNVwiLCBrZXk6IFwiMWJqaTJoXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yMSAxMkg5XCIsIGtleTogXCJkbjFtOTJcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTkgMjFINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmg0XCIsIGtleTogXCIxdWYzcnNcIiB9XVxuXTtcbmNvbnN0IExvZ091dCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJsb2ctb3V0XCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBMb2dPdXQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nLW91dC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgX19pY29uTm9kZSA9IFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE0IDlhMiAyIDAgMCAxLTIgMkg2bC00IDRWNGEyIDIgMCAwIDEgMi0yaDhhMiAyIDAgMCAxIDIgMnpcIiwga2V5OiBcInAxeHp0OFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTggOWgyYTIgMiAwIDAgMSAyIDJ2MTFsLTQtNGgtNmEyIDIgMCAwIDEtMi0ydi0xXCIsIGtleTogXCIxY3gyOXVcIiB9XVxuXTtcbmNvbnN0IE1lc3NhZ2VzU3F1YXJlID0gY3JlYXRlTHVjaWRlSWNvbihcIm1lc3NhZ2VzLXNxdWFyZVwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgTWVzc2FnZXNTcXVhcmUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXMtc3F1YXJlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJsaW5lXCIsIHsgeDE6IFwiMlwiLCB4MjogXCIyMlwiLCB5MTogXCIyXCIsIHkyOiBcIjIyXCIsIGtleTogXCJhNnA2dWpcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE4Ljg5IDEzLjIzQTcuMTIgNy4xMiAwIDAgMCAxOSAxMnYtMlwiLCBrZXk6IFwiODB4bHhyXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk01IDEwdjJhNyA3IDAgMCAwIDEyIDVcIiwga2V5OiBcInAyazhrZ1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTUgOS4zNFY1YTMgMyAwIDAgMC01LjY4LTEuMzNcIiwga2V5OiBcIjFnemRvalwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOSA5djNhMyAzIDAgMCAwIDUuMTIgMi4xMlwiLCBrZXk6IFwicjJpMzV3XCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIxMlwiLCB4MjogXCIxMlwiLCB5MTogXCIxOVwiLCB5MjogXCIyMlwiLCBrZXk6IFwieDN2cjV2XCIgfV1cbl07XG5jb25zdCBNaWNPZmYgPSBjcmVhdGVMdWNpZGVJY29uKFwibWljLW9mZlwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgTWljT2ZmIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pYy1vZmYuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiAyYTMgMyAwIDAgMC0zIDN2N2EzIDMgMCAwIDAgNiAwVjVhMyAzIDAgMCAwLTMtM1pcIiwga2V5OiBcIjEzMTk2MVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTkgMTB2MmE3IDcgMCAwIDEtMTQgMHYtMlwiLCBrZXk6IFwiMXZjNzhiXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIxMlwiLCB4MjogXCIxMlwiLCB5MTogXCIxOVwiLCB5MjogXCIyMlwiLCBrZXk6IFwieDN2cjV2XCIgfV1cbl07XG5jb25zdCBNaWMgPSBjcmVhdGVMdWNpZGVJY29uKFwibWljXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBNaWMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWljLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgM2E2IDYgMCAwIDAgOSA5IDkgOSAwIDEgMS05LTlaXCIsIGtleTogXCJhN3RuMThcIiB9XVxuXTtcbmNvbnN0IE1vb24gPSBjcmVhdGVMdWNpZGVJY29uKFwibW9vblwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgTW9vbiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb29uLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMTMgMmE5IDkgMCAwIDEgOSA5XCIsIGtleTogXCIxaXRueDJcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEzIDZhNSA1IDAgMCAxIDUgNVwiLCBrZXk6IFwiMTFua2k3XCIgfV0sXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0xMy44MzIgMTYuNTY4YTEgMSAwIDAgMCAxLjIxMy0uMzAzbC4zNTUtLjQ2NUEyIDIgMCAwIDEgMTcgMTVoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLTIgMkExOCAxOCAwIDAgMSAyIDRhMiAyIDAgMCAxIDItMmgzYTIgMiAwIDAgMSAyIDJ2M2EyIDIgMCAwIDEtLjggMS42bC0uNDY4LjM1MWExIDEgMCAwIDAtLjI5MiAxLjIzMyAxNCAxNCAwIDAgMCA2LjM5MiA2LjM4NFwiLFxuICAgICAga2V5OiBcIjluanA1dlwiXG4gICAgfVxuICBdXG5dO1xuY29uc3QgUGhvbmVDYWxsID0gY3JlYXRlTHVjaWRlSWNvbihcInBob25lLWNhbGxcIiwgX19pY29uTm9kZSk7XG5cbmV4cG9ydCB7IF9faWNvbk5vZGUsIFBob25lQ2FsbCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waG9uZS1jYWxsLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMTAuMSAxMy45YTE0IDE0IDAgMCAwIDMuNzMyIDIuNjY4IDEgMSAwIDAgMCAxLjIxMy0uMzAzbC4zNTUtLjQ2NUEyIDIgMCAwIDEgMTcgMTVoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLTIgMiAxOCAxOCAwIDAgMS0xMi43MjgtNS4yNzJcIixcbiAgICAgIGtleTogXCIxd25nazdcIlxuICAgIH1cbiAgXSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTIyIDIgMiAyMlwiLCBrZXk6IFwieTRrcWduXCIgfV0sXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk00Ljc2IDEzLjU4MkExOCAxOCAwIDAgMSAyIDRhMiAyIDAgMCAxIDItMmgzYTIgMiAwIDAgMSAyIDJ2M2EyIDIgMCAwIDEtLjggMS42bC0uNDY4LjM1MWExIDEgMCAwIDAtLjI5MiAxLjIzMyAxNCAxNCAwIDAgMCAuMjQ0LjQ3M1wiLFxuICAgICAga2V5OiBcIjEwaHY1cFwiXG4gICAgfVxuICBdXG5dO1xuY29uc3QgUGhvbmVPZmYgPSBjcmVhdGVMdWNpZGVJY29uKFwicGhvbmUtb2ZmXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBQaG9uZU9mZiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waG9uZS1vZmYuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0xNC41MzYgMjEuNjg2YS41LjUgMCAwIDAgLjkzNy0uMDI0bDYuNS0xOWEuNDk2LjQ5NiAwIDAgMC0uNjM1LS42MzVsLTE5IDYuNWEuNS41IDAgMCAwLS4wMjQuOTM3bDcuOTMgMy4xOGEyIDIgMCAwIDEgMS4xMTIgMS4xMXpcIixcbiAgICAgIGtleTogXCIxZmZ4eTNcIlxuICAgIH1cbiAgXSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTIxLjg1NCAyLjE0Ny0xMC45NCAxMC45MzlcIiwga2V5OiBcIjEyY2pwYVwiIH1dXG5dO1xuY29uc3QgU2VuZCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJzZW5kXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBTZW5kIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbmQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjEyXCIsIHI6IFwiNFwiLCBrZXk6IFwiNGV4aXAyXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiAydjJcIiwga2V5OiBcInR1czAzbVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgMjB2MlwiLCBrZXk6IFwiMWxoMWtnXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm00LjkzIDQuOTMgMS40MSAxLjQxXCIsIGtleTogXCIxNDl0NmpcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTE3LjY2IDE3LjY2IDEuNDEgMS40MVwiLCBrZXk6IFwicHRiZ3V2XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yIDEyaDJcIiwga2V5OiBcIjF0OGY4blwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMjAgMTJoMlwiLCBrZXk6IFwiMXE4bWp3XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm02LjM0IDE3LjY2LTEuNDEgMS40MVwiLCBrZXk6IFwiMW04eno1XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0xOS4wNyA0LjkzLTEuNDEgMS40MVwiLCBrZXk6IFwiMXNobGNzXCIgfV1cbl07XG5jb25zdCBTdW4gPSBjcmVhdGVMdWNpZGVJY29uKFwic3VuXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBTdW4gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3VuLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAgeyBkOiBcIk0xMC42NiA2SDE0YTIgMiAwIDAgMSAyIDJ2Mi41bDUuMjQ4LTMuMDYyQS41LjUgMCAwIDEgMjIgNy44N3Y4LjE5NlwiLCBrZXk6IFwidzhqamp0XCIgfVxuICBdLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTYgMTZhMiAyIDAgMCAxLTIgMkg0YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDJcIiwga2V5OiBcIjF4YXdhN1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtMiAyIDIwIDIwXCIsIGtleTogXCIxb29ld3lcIiB9XVxuXTtcbmNvbnN0IFZpZGVvT2ZmID0gY3JlYXRlTHVjaWRlSWNvbihcInZpZGVvLW9mZlwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgVmlkZW9PZmYgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlkZW8tb2ZmLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNTExLjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBfX2ljb25Ob2RlID0gW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJtMTYgMTMgNS4yMjMgMy40ODJhLjUuNSAwIDAgMCAuNzc3LS40MTZWNy44N2EuNS41IDAgMCAwLS43NTItLjQzMkwxNiAxMC41XCIsXG4gICAgICBrZXk6IFwiZnR5bWVjXCJcbiAgICB9XG4gIF0sXG4gIFtcInJlY3RcIiwgeyB4OiBcIjJcIiwgeTogXCI2XCIsIHdpZHRoOiBcIjE0XCIsIGhlaWdodDogXCIxMlwiLCByeDogXCIyXCIsIGtleTogXCIxNTh4MDFcIiB9XVxuXTtcbmNvbnN0IFZpZGVvID0gY3JlYXRlTHVjaWRlSWNvbihcInZpZGVvXCIsIF9faWNvbk5vZGUpO1xuXG5leHBvcnQgeyBfX2ljb25Ob2RlLCBWaWRlbyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWRlby5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgX19pY29uTm9kZSA9IFtcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTExIDQuNzAyYS43MDUuNzA1IDAgMCAwLTEuMjAzLS40OThMNi40MTMgNy41ODdBMS40IDEuNCAwIDAgMSA1LjQxNiA4SDNhMSAxIDAgMCAwLTEgMXY2YTEgMSAwIDAgMCAxIDFoMi40MTZhMS40IDEuNCAwIDAgMSAuOTk3LjQxM2wzLjM4MyAzLjM4NEEuNzA1LjcwNSAwIDAgMCAxMSAxOS4yOTh6XCIsXG4gICAgICBrZXk6IFwidXFqOXV3XCJcbiAgICB9XG4gIF0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNiA5YTUgNSAwIDAgMSAwIDZcIiwga2V5OiBcIjFxNmsyYlwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTkuMzY0IDE4LjM2NGE5IDkgMCAwIDAgMC0xMi43MjhcIiwga2V5OiBcImlqd2tnYVwiIH1dXG5dO1xuY29uc3QgVm9sdW1lMiA9IGNyZWF0ZUx1Y2lkZUljb24oXCJ2b2x1bWUtMlwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgVm9sdW1lMiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12b2x1bWUtMi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjUxMS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgX19pY29uTm9kZSA9IFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE2IDlhNSA1IDAgMCAxIC45NSAyLjI5M1wiLCBrZXk6IFwiMWZneWc4XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xOS4zNjQgNS42MzZhOSA5IDAgMCAxIDEuODg5IDkuOTZcIiwga2V5OiBcImwzenhhZVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtMiAyIDIwIDIwXCIsIGtleTogXCIxb29ld3lcIiB9XSxcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwibTcgNy0uNTg3LjU4N0ExLjQgMS40IDAgMCAxIDUuNDE2IDhIM2ExIDEgMCAwIDAtMSAxdjZhMSAxIDAgMCAwIDEgMWgyLjQxNmExLjQgMS40IDAgMCAxIC45OTcuNDEzbDMuMzgzIDMuMzg0QS43MDUuNzA1IDAgMCAwIDExIDE5LjI5OFYxMVwiLFxuICAgICAga2V5OiBcIjFnYndvd1wiXG4gICAgfVxuICBdLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOS44MjggNC4xNzJBLjY4Ni42ODYgMCAwIDEgMTEgNC42NTd2LjY4NlwiLCBrZXk6IFwiczJqZTB5XCIgfV1cbl07XG5jb25zdCBWb2x1bWVPZmYgPSBjcmVhdGVMdWNpZGVJY29uKFwidm9sdW1lLW9mZlwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgVm9sdW1lT2ZmIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZvbHVtZS1vZmYuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC41MTEuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IF9faWNvbk5vZGUgPSBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xOCA2IDYgMThcIiwga2V5OiBcIjFibDVmOFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtNiA2IDEyIDEyXCIsIGtleTogXCJkOGJrNnZcIiB9XVxuXTtcbmNvbnN0IFggPSBjcmVhdGVMdWNpZGVJY29uKFwieFwiLCBfX2ljb25Ob2RlKTtcblxuZXhwb3J0IHsgX19pY29uTm9kZSwgWCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD14LmpzLm1hcFxuIiwiaW1wb3J0IHtcbiAgQXJyb3dEb3duLFxuICBCb3QsXG4gIENoZWNrLFxuICBDaGV2cm9uRG93bixcbiAgQ2hldnJvblJpZ2h0LFxuICBDaGV2cm9uc0xlZnRSaWdodEVsbGlwc2lzLFxuICBDaGV2cm9uc1VwRG93bixcbiAgQ2hldnJvblVwLFxuICBDaXJjbGUsXG4gIEVsbGlwc2lzLFxuICBFbGxpcHNpc1ZlcnRpY2FsLFxuICBGdW5uZWwsXG4gIEluZm8sXG4gIExpbmVDaGFydCxcbiAgTG9hZGVyMixcbiAgTG9nT3V0LFxuICBNZXNzYWdlc1NxdWFyZSxcbiAgTWljLFxuICBNaWNPZmYsXG4gIE1vb24sXG4gIFBob25lQ2FsbCxcbiAgUGhvbmVPZmYsXG4gIFNlbmQsXG4gIFN1bixcbiAgVmlkZW8sXG4gIFZpZGVvT2ZmLFxuICBWb2x1bWUyLFxuICBWb2x1bWVPZmYsXG4gIFgsXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuZXhwb3J0IGNvbnN0IFZvbHVtZUljb24gPSBWb2x1bWUyO1xuZXhwb3J0IGNvbnN0IFZvbHVtZU9mZkljb24gPSBWb2x1bWVPZmY7XG5leHBvcnQgY29uc3QgRWxsaXBzaXNJY29uID0gRWxsaXBzaXM7XG5leHBvcnQgY29uc3QgTG9hZGVySWNvbiA9IExvYWRlcjI7XG5leHBvcnQgY29uc3QgU2VsZWN0Q2hldnJvbkljb24gPSBDaGV2cm9uc1VwRG93bjtcbmV4cG9ydCBjb25zdCBYSWNvbiA9IFg7XG5leHBvcnQgY29uc3QgUGhvbmVDYWxsSWNvbiA9IFBob25lQ2FsbDtcbmV4cG9ydCBjb25zdCBQaG9uZUNhbGxFbmRJY29uID0gUGhvbmVPZmY7XG5leHBvcnQgY29uc3QgQXJyb3dEb3duSWNvbiA9IEFycm93RG93bjtcbmV4cG9ydCBjb25zdCBDaGV2cm9uRG93bkljb24gPSBDaGV2cm9uRG93bjtcbmV4cG9ydCBjb25zdCBDaGV2cm9uVXBJY29uID0gQ2hldnJvblVwO1xuZXhwb3J0IGNvbnN0IE1pY0ljb24gPSBNaWM7XG5leHBvcnQgY29uc3QgTWljT2ZmSWNvbiA9IE1pY09mZjtcbmV4cG9ydCBjb25zdCBTZW5kSWNvbiA9IFNlbmQ7XG5leHBvcnQgY29uc3QgTW9vbkljb24gPSBNb29uO1xuZXhwb3J0IGNvbnN0IFN1bkljb24gPSBTdW47XG5leHBvcnQgY29uc3QgQ2hlY2tJY29uID0gQ2hlY2s7XG5leHBvcnQgY29uc3QgQ2hldnJvblJpZ2h0SWNvbiA9IENoZXZyb25SaWdodDtcbmV4cG9ydCBjb25zdCBDaXJjbGVJY29uID0gQ2lyY2xlO1xuZXhwb3J0IGNvbnN0IEVsbGlwc2lzVmVydGljYWxJY29uID0gRWxsaXBzaXNWZXJ0aWNhbDtcbmV4cG9ydCBjb25zdCBWaWRlb09mZkljb24gPSBWaWRlb09mZjtcbmV4cG9ydCBjb25zdCBMaW5lQ2hhcnRJY29uID0gTGluZUNoYXJ0O1xuZXhwb3J0IGNvbnN0IE1lc3NhZ2VzU3F1YXJlSWNvbiA9IE1lc3NhZ2VzU3F1YXJlO1xuZXhwb3J0IGNvbnN0IEZ1bm5lbEljb24gPSBGdW5uZWw7XG5leHBvcnQgY29uc3QgVmlkZW9JY29uID0gVmlkZW87XG5leHBvcnQgY29uc3QgQm90SWNvbiA9IEJvdDtcbmV4cG9ydCBjb25zdCBDaGV2cm9uc0xlZnRSaWdodEVsbGlwc2lzSWNvbiA9IENoZXZyb25zTGVmdFJpZ2h0RWxsaXBzaXM7XG5leHBvcnQgY29uc3QgSW5mb0ljb24gPSBJbmZvO1xuZXhwb3J0IGNvbnN0IExvZ291dEljb24gPSBMb2dPdXQ7XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGlwZWNhdFVpTmFtZXNwYWNlKCk6IHN0cmluZyB7XG4gIHJldHVybiBcIi52b2ljZS11aS1raXRcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpcGVjYXRVSUNvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdldFBpcGVjYXRVaU5hbWVzcGFjZSgpKSA/PyBkb2N1bWVudC5ib2R5O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAyMiBKb2UgQmVsbC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgbGljZW5zZWQgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlXG4gKiBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyXG4gKiB0aGUgTGljZW5zZS5cbiAqLyBpbXBvcnQgeyBjbHN4IH0gZnJvbSBcImNsc3hcIjtcbmNvbnN0IGZhbHN5VG9TdHJpbmcgPSAodmFsdWUpPT50eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiID8gYCR7dmFsdWV9YCA6IHZhbHVlID09PSAwID8gXCIwXCIgOiB2YWx1ZTtcbmV4cG9ydCBjb25zdCBjeCA9IGNsc3g7XG5leHBvcnQgY29uc3QgY3ZhID0gKGJhc2UsIGNvbmZpZyk9Pihwcm9wcyk9PntcbiAgICAgICAgdmFyIF9jb25maWdfY29tcG91bmRWYXJpYW50cztcbiAgICAgICAgaWYgKChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudmFyaWFudHMpID09IG51bGwpIHJldHVybiBjeChiYXNlLCBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMuY2xhc3MsIHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jbGFzc05hbWUpO1xuICAgICAgICBjb25zdCB7IHZhcmlhbnRzLCBkZWZhdWx0VmFyaWFudHMgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3QgZ2V0VmFyaWFudENsYXNzTmFtZXMgPSBPYmplY3Qua2V5cyh2YXJpYW50cykubWFwKCh2YXJpYW50KT0+e1xuICAgICAgICAgICAgY29uc3QgdmFyaWFudFByb3AgPSBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHNbdmFyaWFudF07XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFudFByb3AgPSBkZWZhdWx0VmFyaWFudHMgPT09IG51bGwgfHwgZGVmYXVsdFZhcmlhbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0VmFyaWFudHNbdmFyaWFudF07XG4gICAgICAgICAgICBpZiAodmFyaWFudFByb3AgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFudEtleSA9IGZhbHN5VG9TdHJpbmcodmFyaWFudFByb3ApIHx8IGZhbHN5VG9TdHJpbmcoZGVmYXVsdFZhcmlhbnRQcm9wKTtcbiAgICAgICAgICAgIHJldHVybiB2YXJpYW50c1t2YXJpYW50XVt2YXJpYW50S2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHByb3BzV2l0aG91dFVuZGVmaW5lZCA9IHByb3BzICYmIE9iamVjdC5lbnRyaWVzKHByb3BzKS5yZWR1Y2UoKGFjYywgcGFyYW0pPT57XG4gICAgICAgICAgICBsZXQgW2tleSwgdmFsdWVdID0gcGFyYW07XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBjb25zdCBnZXRDb21wb3VuZFZhcmlhbnRDbGFzc05hbWVzID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jb25maWdfY29tcG91bmRWYXJpYW50cyA9IGNvbmZpZy5jb21wb3VuZFZhcmlhbnRzKSA9PT0gbnVsbCB8fCBfY29uZmlnX2NvbXBvdW5kVmFyaWFudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb25maWdfY29tcG91bmRWYXJpYW50cy5yZWR1Y2UoKGFjYywgcGFyYW0pPT57XG4gICAgICAgICAgICBsZXQgeyBjbGFzczogY3ZDbGFzcywgY2xhc3NOYW1lOiBjdkNsYXNzTmFtZSwgLi4uY29tcG91bmRWYXJpYW50T3B0aW9ucyB9ID0gcGFyYW07XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoY29tcG91bmRWYXJpYW50T3B0aW9ucykuZXZlcnkoKHBhcmFtKT0+e1xuICAgICAgICAgICAgICAgIGxldCBba2V5LCB2YWx1ZV0gPSBwYXJhbTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5pbmNsdWRlcyh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRWYXJpYW50cyxcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHNXaXRob3V0VW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfVtrZXldKSA6ICh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRWYXJpYW50cyxcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHNXaXRob3V0VW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSlba2V5XSA9PT0gdmFsdWU7XG4gICAgICAgICAgICB9KSA/IFtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgY3ZDbGFzcyxcbiAgICAgICAgICAgICAgICBjdkNsYXNzTmFtZVxuICAgICAgICAgICAgXSA6IGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gY3goYmFzZSwgZ2V0VmFyaWFudENsYXNzTmFtZXMsIGdldENvbXBvdW5kVmFyaWFudENsYXNzTmFtZXMsIHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jbGFzcywgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLmNsYXNzTmFtZSk7XG4gICAgfTtcblxuIiwiaW1wb3J0ICogYXMgU2VsZWN0UHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2VsZWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHtcbiAgQ2hlY2tJY29uLFxuICBDaGV2cm9uRG93bkljb24sXG4gIENoZXZyb25VcEljb24sXG4gIFNlbGVjdENoZXZyb25JY29uLFxufSBmcm9tIFwiQC9pY29uc1wiO1xuaW1wb3J0IHsgZ2V0UGlwZWNhdFVJQ29udGFpbmVyIH0gZnJvbSBcIkAvbGliL2RvbVwiO1xuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tIFwiY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5XCI7XG5cbmNvbnN0IHNlbGVjdFRyaWdnZXJWYXJpYW50cyA9IGN2YShcbiAgXCJ2a3VpOmJvcmRlci1pbnB1dCB2a3VpOnRleHQtZm9yZWdyb3VuZCB2a3VpOmRhdGEtW3BsYWNlaG9sZGVyXTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTpmb250LW1vbm8gdmt1aTp0ZXh0LXhzIHZrdWk6WyZfc3ZnOm5vdChbY2xhc3MqPSd0ZXh0LSddKV06dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHZrdWk6Zm9jdXMtdmlzaWJsZTpib3JkZXItcmluZyB2a3VpOmZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIHZrdWk6YXJpYS1pbnZhbGlkOnJpbmctZGVzdHJ1Y3RpdmUvMjAgdmt1aTpkYXJrOmFyaWEtaW52YWxpZDpyaW5nLWRlc3RydWN0aXZlLzQwIHZrdWk6YXJpYS1pbnZhbGlkOmJvcmRlci1kZXN0cnVjdGl2ZSB2a3VpOmRhcms6YmctaW5wdXQvMzAgdmt1aTpkYXJrOmhvdmVyOmJnLWlucHV0LzUwIHZrdWk6ZmxleCB3LWZpdCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktYmV0d2VlbiB2a3VpOnJvdW5kZWQtbGcgdmt1aTpib3JkZXIgdmt1aTpiZy10cmFuc3BhcmVudCB2a3VpOndoaXRlc3BhY2Utbm93cmFwIHZrdWk6dHJhbnNpdGlvbi1bY29sb3IsYm94LXNoYWRvd10gdmt1aTpvdXRsaW5lLW5vbmUgdmt1aTpmb2N1cy12aXNpYmxlOnJpbmctWzNweF0gdmt1aTpkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdmt1aTpkaXNhYmxlZDpvcGFjaXR5LTUwIHZrdWk6KjpkYXRhLVtzbG90PXNlbGVjdC12YWx1ZV06bGluZS1jbGFtcC0xIHZrdWk6KjpkYXRhLVtzbG90PXNlbGVjdC12YWx1ZV06ZmxleCB2a3VpOio6ZGF0YS1bc2xvdD1zZWxlY3QtdmFsdWVdOml0ZW1zLWNlbnRlciB2a3VpOio6ZGF0YS1bc2xvdD1zZWxlY3QtdmFsdWVdOmdhcC0yIHZrdWk6WyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIHZrdWk6WyZfc3ZnXTpzaHJpbmstMFwiLFxuICB7XG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHNpemU6IHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBcInZrdWk6aC04IHZrdWk6cGwtMyB2a3VpOnByLTIuNSB2a3VpOnB5LTIgdmt1aTpnYXAtMiB2a3VpOlsmX3N2Z106c2l6ZS0zLjVcIixcbiAgICAgICAgc206IFwidmt1aTpoLTcgdmt1aTpwbC0zIHZrdWk6cHItMi41IHZrdWk6cHktMS41IHZrdWk6Z2FwLTIgdmt1aTpbJl9zdmddOnNpemUtMy41XCIsXG4gICAgICAgIGxnOiBcInZrdWk6aC0xMCB2a3VpOnB4LTMuNSB2a3VpOnB5LTIuNSB2a3VpOmdhcC0zIHZrdWk6WyZfc3ZnXTpzaXplLTRcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHNpemU6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH0sXG4pO1xuXG5mdW5jdGlvbiBTZWxlY3Qoe1xuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5Sb290Pikge1xuICByZXR1cm4gPFNlbGVjdFByaW1pdGl2ZS5Sb290IGRhdGEtc2xvdD1cInNlbGVjdFwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIFNlbGVjdEdyb3VwKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuR3JvdXA+KSB7XG4gIHJldHVybiA8U2VsZWN0UHJpbWl0aXZlLkdyb3VwIGRhdGEtc2xvdD1cInNlbGVjdC1ncm91cFwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIFNlbGVjdFZhbHVlKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuVmFsdWU+KSB7XG4gIHJldHVybiA8U2VsZWN0UHJpbWl0aXZlLlZhbHVlIGRhdGEtc2xvdD1cInNlbGVjdC12YWx1ZVwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIFNlbGVjdFRyaWdnZXIoe1xuICBjbGFzc05hbWUsXG4gIHNpemUgPSBcImRlZmF1bHRcIixcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlRyaWdnZXI+ICZcbiAgVmFyaWFudFByb3BzPHR5cGVvZiBzZWxlY3RUcmlnZ2VyVmFyaWFudHM+KSB7XG4gIHJldHVybiAoXG4gICAgPFNlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyXG4gICAgICBkYXRhLXNsb3Q9XCJzZWxlY3QtdHJpZ2dlclwiXG4gICAgICBkYXRhLXNpemU9e3NpemV9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBzZWxlY3RUcmlnZ2VyVmFyaWFudHMoeyBzaXplIH0pLFxuICAgICAgICBcInZrdWk6dHJ1bmNhdGVcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2a3VpOnRydW5jYXRlIHZrdWk6ZmxleC0xIHZrdWk6bWluLXctMFwiPntjaGlsZHJlbn08L3NwYW4+XG4gICAgICA8U2VsZWN0UHJpbWl0aXZlLkljb24gYXNDaGlsZD5cbiAgICAgICAgPFNlbGVjdENoZXZyb25JY29uIGNsYXNzTmFtZT1cInZrdWk6b3BhY2l0eS01MCB2a3VpOmZsZXgtbm9uZVwiIC8+XG4gICAgICA8L1NlbGVjdFByaW1pdGl2ZS5JY29uPlxuICAgIDwvU2VsZWN0UHJpbWl0aXZlLlRyaWdnZXI+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFNlbGVjdEd1aWRlKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczxcInNwYW5cIj4pIHtcbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgZGF0YS1zbG90PVwic2VsZWN0LWd1aWRlXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJ2a3VpOnRleHQtc3VidGxlIHZrdWk6Zm9udC1zYW5zXCIsIGNsYXNzTmFtZSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gU2VsZWN0Q29udGVudCh7XG4gIGNsYXNzTmFtZSxcbiAgY2hpbGRyZW4sXG4gIHBvc2l0aW9uID0gXCJwb3BwZXJcIixcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuQ29udGVudD4pIHtcbiAgcmV0dXJuIChcbiAgICA8U2VsZWN0UHJpbWl0aXZlLlBvcnRhbCBjb250YWluZXI9e2dldFBpcGVjYXRVSUNvbnRhaW5lcigpfT5cbiAgICAgIDxTZWxlY3RQcmltaXRpdmUuQ29udGVudFxuICAgICAgICBkYXRhLXNsb3Q9XCJzZWxlY3QtY29udGVudFwiXG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJ2a3VpOmJnLXBvcG92ZXIgdmt1aTp0ZXh0LXBvcG92ZXItZm9yZWdyb3VuZCB2a3VpOmRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gdmt1aTpkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IHZrdWk6ZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIHZrdWk6ZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIHZrdWk6ZGF0YS1bc3RhdGU9Y2xvc2VkXTp6b29tLW91dC05NSB2a3VpOmRhdGEtW3N0YXRlPW9wZW5dOnpvb20taW4tOTUgdmt1aTpkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiB2a3VpOmRhdGEtW3NpZGU9bGVmdF06c2xpZGUtaW4tZnJvbS1yaWdodC0yIHZrdWk6ZGF0YS1bc2lkZT1yaWdodF06c2xpZGUtaW4tZnJvbS1sZWZ0LTIgdmt1aTpkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMiB2a3VpOnJlbGF0aXZlIHZrdWk6ei01MCB2a3VpOm1heC1oLSgtLXJhZGl4LXNlbGVjdC1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHQpIHZrdWk6bWluLXctWzhyZW1dIHZrdWk6b3JpZ2luLSgtLXJhZGl4LXNlbGVjdC1jb250ZW50LXRyYW5zZm9ybS1vcmlnaW4pIHZrdWk6b3ZlcmZsb3cteC1oaWRkZW4gdmt1aTpvdmVyZmxvdy15LWF1dG8gdmt1aTpyb3VuZGVkLW1kIHZrdWk6Ym9yZGVyIHZrdWk6c2hhZG93LW1kXCIsXG4gICAgICAgICAgcG9zaXRpb24gPT09IFwicG9wcGVyXCIgJiZcbiAgICAgICAgICAgIFwidmt1aTpkYXRhLVtzaWRlPWJvdHRvbV06dHJhbnNsYXRlLXktMSB2a3VpOmRhdGEtW3NpZGU9bGVmdF06LXRyYW5zbGF0ZS14LTEgdmt1aTpkYXRhLVtzaWRlPXJpZ2h0XTp0cmFuc2xhdGUteC0xIHZrdWk6ZGF0YS1bc2lkZT10b3BdOi10cmFuc2xhdGUteS0xXCIsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICApfVxuICAgICAgICBwb3NpdGlvbj17cG9zaXRpb259XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgID5cbiAgICAgICAgPFNlbGVjdFNjcm9sbFVwQnV0dG9uIC8+XG4gICAgICAgIDxTZWxlY3RQcmltaXRpdmUuVmlld3BvcnRcbiAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgXCJ2a3VpOnAtMVwiLFxuICAgICAgICAgICAgcG9zaXRpb24gPT09IFwicG9wcGVyXCIgJiZcbiAgICAgICAgICAgICAgXCJ2a3VpOmgtW3ZhcigtLXJhZGl4LXNlbGVjdC10cmlnZ2VyLWhlaWdodCldIHZrdWk6dy1mdWxsIHZrdWk6bWluLXctW3ZhcigtLXJhZGl4LXNlbGVjdC10cmlnZ2VyLXdpZHRoKV0gdmt1aTpzY3JvbGwtbXktMVwiLFxuICAgICAgICAgICl9XG4gICAgICAgID5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvU2VsZWN0UHJpbWl0aXZlLlZpZXdwb3J0PlxuICAgICAgICA8U2VsZWN0U2Nyb2xsRG93bkJ1dHRvbiAvPlxuICAgICAgPC9TZWxlY3RQcmltaXRpdmUuQ29udGVudD5cbiAgICA8L1NlbGVjdFByaW1pdGl2ZS5Qb3J0YWw+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFNlbGVjdEl0ZW0oe1xuICBjbGFzc05hbWUsXG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5JdGVtPikge1xuICByZXR1cm4gKFxuICAgIDxTZWxlY3RQcmltaXRpdmUuSXRlbVxuICAgICAgZGF0YS1zbG90PVwic2VsZWN0LWl0ZW1cIlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmZvY3VzOmJnLWFjY2VudCB2a3VpOmZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3RleHQtJ10pXTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTpyZWxhdGl2ZSB2a3VpOmZsZXggdmt1aTp3LWZ1bGwgdmt1aTpjdXJzb3ItZGVmYXVsdCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmdhcC0yIHZrdWk6cm91bmRlZC1zbSB2a3VpOnB5LTEuNSB2a3VpOnByLTggdmt1aTpwbC0yIHZrdWk6dGV4dC1zbSB2a3VpOm91dGxpbmUtaGlkZGVuIHZrdWk6c2VsZWN0LW5vbmUgdmt1aTpkYXRhLVtkaXNhYmxlZF06cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOmRhdGEtW2Rpc2FibGVkXTpvcGFjaXR5LTUwIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOlsmX3N2Z106c2hyaW5rLTAgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTQgdmt1aToqOltzcGFuXTpsYXN0OmZsZXggdmt1aToqOltzcGFuXTpsYXN0Oml0ZW1zLWNlbnRlciB2a3VpOio6W3NwYW5dOmxhc3Q6Z2FwLTJcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2a3VpOmFic29sdXRlIHZrdWk6cmlnaHQtMiB2a3VpOmZsZXggdmt1aTpzaXplLTMuNSB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxTZWxlY3RQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICAgICAgICA8Q2hlY2tJY29uIGNsYXNzTmFtZT1cInNpemUtNFwiIC8+XG4gICAgICAgIDwvU2VsZWN0UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+XG4gICAgICA8L3NwYW4+XG4gICAgICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW1UZXh0PntjaGlsZHJlbn08L1NlbGVjdFByaW1pdGl2ZS5JdGVtVGV4dD5cbiAgICA8L1NlbGVjdFByaW1pdGl2ZS5JdGVtPlxuICApO1xufVxuXG5mdW5jdGlvbiBTZWxlY3RTZXBhcmF0b3Ioe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvcj4pIHtcbiAgcmV0dXJuIChcbiAgICA8U2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvclxuICAgICAgZGF0YS1zbG90PVwic2VsZWN0LXNlcGFyYXRvclwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6YmctYm9yZGVyIHZrdWk6cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOi1teC0xIHZrdWk6bXktMSB2a3VpOmgtcHhcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBTZWxlY3RTY3JvbGxVcEJ1dHRvbih7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24+KSB7XG4gIHJldHVybiAoXG4gICAgPFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvblxuICAgICAgZGF0YS1zbG90PVwic2VsZWN0LXNjcm9sbC11cC1idXR0b25cIlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmZsZXggdmt1aTpjdXJzb3ItZGVmYXVsdCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6cHktMVwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxDaGV2cm9uVXBJY29uIGNsYXNzTmFtZT1cInNpemUtNFwiIC8+XG4gICAgPC9TZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFNlbGVjdFNjcm9sbERvd25CdXR0b24oe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlNjcm9sbERvd25CdXR0b24+KSB7XG4gIHJldHVybiAoXG4gICAgPFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uXG4gICAgICBkYXRhLXNsb3Q9XCJzZWxlY3Qtc2Nyb2xsLWRvd24tYnV0dG9uXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpmbGV4IHZrdWk6Y3Vyc29yLWRlZmF1bHQgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpqdXN0aWZ5LWNlbnRlciB2a3VpOnB5LTFcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8Q2hldnJvbkRvd25JY29uIGNsYXNzTmFtZT1cInNpemUtNFwiIC8+XG4gICAgPC9TZWxlY3RQcmltaXRpdmUuU2Nyb2xsRG93bkJ1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IHtcbiAgU2VsZWN0LFxuICBTZWxlY3RDb250ZW50LFxuICBTZWxlY3RHcm91cCxcbiAgU2VsZWN0R3VpZGUsXG4gIFNlbGVjdEl0ZW0sXG4gIFNlbGVjdFNjcm9sbERvd25CdXR0b24sXG4gIFNlbGVjdFNjcm9sbFVwQnV0dG9uLFxuICBTZWxlY3RTZXBhcmF0b3IsXG4gIFNlbGVjdFRyaWdnZXIsXG4gIFNlbGVjdFZhbHVlLFxufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VJZCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUGlwZWNhdENsaWVudE1lZGlhRGV2aWNlcyB9IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtcmVhY3RcIjtcbmltcG9ydCB7XG4gIFNlbGVjdCxcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0SXRlbSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0VmFsdWUsXG59IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VsZWN0XCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5pbnRlcmZhY2UgQXVkaW9PdXRwdXRQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEF1ZGlvT3V0cHV0OiBSZWFjdC5GQzxBdWRpb091dHB1dFByb3BzPiA9ICh7IGNsYXNzTmFtZSB9KSA9PiB7XG4gIGNvbnN0IHsgYXZhaWxhYmxlU3BlYWtlcnMsIHNlbGVjdGVkU3BlYWtlciwgdXBkYXRlU3BlYWtlciB9ID1cbiAgICB1c2VQaXBlY2F0Q2xpZW50TWVkaWFEZXZpY2VzKCk7XG5cbiAgY29uc3QgaGFuZGxlRGV2aWNlQ2hhbmdlID0gKGRldmljZUlkOiBzdHJpbmcpID0+IHtcbiAgICB1cGRhdGVTcGVha2VyKGRldmljZUlkKTtcbiAgfTtcblxuICBjb25zdCBpZCA9IHVzZUlkKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmdhcC00XCI+XG4gICAgICA8bGFiZWxcbiAgICAgICAgaHRtbEZvcj17aWR9XG4gICAgICAgIGNsYXNzTmFtZT1cInZrdWk6dGV4dC1zbSB2a3VpOmZvbnQtbWVkaXVtIHZrdWk6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHZrdWk6d2hpdGVzcGFjZS1ub3dyYXBcIlxuICAgICAgPlxuICAgICAgICBBdWRpbyBPdXRwdXRcbiAgICAgIDwvbGFiZWw+XG4gICAgICA8U2VsZWN0XG4gICAgICAgIHZhbHVlPXtzZWxlY3RlZFNwZWFrZXI/LmRldmljZUlkIHx8IFwiXCJ9XG4gICAgICAgIG9uVmFsdWVDaGFuZ2U9e2hhbmRsZURldmljZUNoYW5nZX1cbiAgICAgID5cbiAgICAgICAgPFNlbGVjdFRyaWdnZXJcbiAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbihcInZrdWk6Ym9yZGVyLW5vbmUgdmt1aTp3LWZ1bGxcIiwgY2xhc3NOYW1lKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHNwZWFrZXJcIiAvPlxuICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgIDxTZWxlY3RDb250ZW50IGFsaWduPVwiZW5kXCI+XG4gICAgICAgICAge2F2YWlsYWJsZVNwZWFrZXJzLm1hcCgoZGV2aWNlKSA9PiAoXG4gICAgICAgICAgICA8U2VsZWN0SXRlbVxuICAgICAgICAgICAgICBrZXk9e2RldmljZS5kZXZpY2VJZCB8fCBcImVtcHR5XCJ9XG4gICAgICAgICAgICAgIHZhbHVlPXtkZXZpY2UuZGV2aWNlSWQgfHwgXCJlbXB0eVwifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7ZGV2aWNlLmxhYmVsIHx8IGBTcGVha2VyICR7ZGV2aWNlLmRldmljZUlkLnNsaWNlKDAsIDUpfWB9XG4gICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgIDwvU2VsZWN0PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXVkaW9PdXRwdXQ7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdHlwZSBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIi4uLy4uL2xpYi91dGlsc1wiO1xuXG5pbnRlcmZhY2UgRGF0YUxpc3RQcm9wcyB7XG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IFJlYWN0Tm9kZT47XG4gIGNsYXNzTmFtZXM/OiB7XG4gICAgY29udGFpbmVyPzogc3RyaW5nO1xuICAgIGtleT86IHN0cmluZztcbiAgICB2YWx1ZT86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IERhdGFMaXN0OiBSZWFjdC5GQzxEYXRhTGlzdFByb3BzPiA9ICh7XG4gIGRhdGEsXG4gIGNsYXNzTmFtZXMgPSB7fSxcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGxcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTp0ZXh0LXNtIHZrdWk6Z3JpZCB2a3VpOmdyaWQtY29scy1bMWZyXzJmcl0gdmt1aTpnYXAtMiB2a3VpOml0ZW1zLWNlbnRlclwiLFxuICAgICAgICBjbGFzc05hbWVzLmNvbnRhaW5lcixcbiAgICAgICl9XG4gICAgPlxuICAgICAge09iamVjdC5lbnRyaWVzKGRhdGEpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2tleX0+XG4gICAgICAgICAgPGR0IGNsYXNzTmFtZT17Y24oXCJ2a3VpOnRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiLCBjbGFzc05hbWVzLmtleSl9PlxuICAgICAgICAgICAge2tleX1cbiAgICAgICAgICA8L2R0PlxuICAgICAgICAgIDxkZFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgXCJ2a3VpOnRleHQtcmlnaHQgdmt1aTpmb250LW1vbm8gdmt1aTp0ZXh0LXhzIHZrdWk6bWluLXctMCB2a3VpOnRydW5jYXRlXCIsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZXMudmFsdWUsXG4gICAgICAgICAgICApfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt2YWx1ZX1cbiAgICAgICAgICA8L2RkPlxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgKSl9XG4gICAgPC9kbD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFMaXN0O1xuIiwiaW1wb3J0IHtcbiAgdXNlUGlwZWNhdENsaWVudFRyYW5zcG9ydFN0YXRlLFxuICB1c2VSVFZJQ2xpZW50RXZlbnQsXG59IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtcmVhY3RcIjtcbmltcG9ydCBEYXRhTGlzdCBmcm9tIFwiQC9jb21wb25lbnRzL2VsZW1lbnRzL0RhdGFMaXN0XCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgUlRWSUV2ZW50IH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1wiO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgY2xhc3NOYW1lcz86IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEYXRhTGlzdD5bXCJjbGFzc05hbWVzXCJdICYge1xuICAgIGFnZW50VmFsdWU/OiBzdHJpbmc7XG4gICAgY2xpZW50VmFsdWU/OiBzdHJpbmc7XG4gIH07XG4gIG5vQWdlbnRTdGF0ZT86IGJvb2xlYW47XG4gIG5vQ2xpZW50U3RhdGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgQ2xpZW50U3RhdHVzOiBSZWFjdC5GQzxQcm9wcz4gPSAoe1xuICBjbGFzc05hbWVzID0ge30sXG4gIG5vQWdlbnRTdGF0ZSA9IGZhbHNlLFxuICBub0NsaWVudFN0YXRlID0gZmFsc2UsXG59KSA9PiB7XG4gIGNvbnN0IHRyYW5zcG9ydFN0YXRlID0gdXNlUGlwZWNhdENsaWVudFRyYW5zcG9ydFN0YXRlKCk7XG5cbiAgY29uc3QgYWdlbnRDb25uZWN0aW5nID1cbiAgICB0cmFuc3BvcnRTdGF0ZSA9PT0gXCJjb25uZWN0aW5nXCIgfHxcbiAgICB0cmFuc3BvcnRTdGF0ZSA9PT0gXCJjb25uZWN0ZWRcIiB8fFxuICAgIHRyYW5zcG9ydFN0YXRlID09PSBcInJlYWR5XCI7XG5cbiAgY29uc3QgW2lzQm90Q29ubmVjdGVkLCBzZXRJc0JvdENvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5Cb3RSZWFkeSwgKCkgPT4ge1xuICAgIGlmIChub0FnZW50U3RhdGUpIHJldHVybjtcbiAgICBzZXRJc0JvdENvbm5lY3RlZCh0cnVlKTtcbiAgfSk7XG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuRGlzY29ubmVjdGVkLCAoKSA9PiB7XG4gICAgaWYgKG5vQWdlbnRTdGF0ZSkgcmV0dXJuO1xuICAgIHNldElzQm90Q29ubmVjdGVkKGZhbHNlKTtcbiAgfSk7XG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuQm90RGlzY29ubmVjdGVkLCAoKSA9PiB7XG4gICAgaWYgKG5vQWdlbnRTdGF0ZSkgcmV0dXJuO1xuICAgIHNldElzQm90Q29ubmVjdGVkKGZhbHNlKTtcbiAgfSk7XG5cbiAgaWYgKG5vQWdlbnRTdGF0ZSAmJiBub0NsaWVudFN0YXRlKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBkYXRhOiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF0YUxpc3Q+W1wiZGF0YVwiXSA9IHt9O1xuICBpZiAoIW5vQ2xpZW50U3RhdGUpIHtcbiAgICBkYXRhW1wiQ2xpZW50XCJdID0gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInZrdWk6dXBwZXJjYXNlXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJ2a3VpOnRleHQtZW1lcmFsZC01MDBcIjpcbiAgICAgICAgICAgICAgdHJhbnNwb3J0U3RhdGUgPT09IFwiY29ubmVjdGVkXCIgfHwgdHJhbnNwb3J0U3RhdGUgPT09IFwicmVhZHlcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZXMuY2xpZW50VmFsdWUsXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIHt0cmFuc3BvcnRTdGF0ZX1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFub0FnZW50U3RhdGUpIHtcbiAgICBkYXRhW1wiQWdlbnRcIl0gPSBpc0JvdENvbm5lY3RlZCA/IChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgXCJ2a3VpOnRleHQtZW1lcmFsZC01MDAgdmt1aTp1cHBlcmNhc2VcIixcbiAgICAgICAgICBjbGFzc05hbWVzLmFnZW50VmFsdWUsXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIENvbm5lY3RlZFxuICAgICAgPC9zcGFuPlxuICAgICkgOiBhZ2VudENvbm5lY3RpbmcgPyAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2NuKFwidmt1aTp1cHBlcmNhc2VcIiwgY2xhc3NOYW1lcy5hZ2VudFZhbHVlKX0+XG4gICAgICAgIENvbm5lY3RpbmcuLi5cbiAgICAgIDwvc3Bhbj5cbiAgICApIDogKFxuICAgICAgXCItLS1cIlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gPERhdGFMaXN0IGNsYXNzTmFtZXM9e2NsYXNzTmFtZXN9IGRhdGE9e2RhdGF9IC8+O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpZW50U3RhdHVzO1xuIiwiaW1wb3J0IHsgY3ZhIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiO1xuXG5leHBvcnQgY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gIFwidmt1aTpib3JkZXIgdmt1aTppbmxpbmUtZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6Z2FwLTIgdmt1aTp3aGl0ZXNwYWNlLW5vd3JhcCB2a3VpOnJvdW5kZWQtZWxlbWVudCB2a3VpOnRleHQtc20gdmt1aTpmb250LW1lZGl1bSB2a3VpOnRyYW5zaXRpb24tYWxsIHZrdWk6ZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOmRpc2FibGVkOm9wYWNpdHktNTAgdmt1aTpbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgdmt1aTpzaHJpbmstMCB2a3VpOlsmX3N2Z106c2hyaW5rLTAgdmt1aTpvdXRsaW5lLW5vbmUgdmt1aTpmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCB2a3VpOmZvY3VzLXZpc2libGU6cmluZy1bM3B4XSB2a3VpOmFyaWEtaW52YWxpZDpyaW5nLWRlc3RydWN0aXZlLzIwIHZrdWk6ZGFyazphcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS80MCB2a3VpOmFyaWEtaW52YWxpZDpib3JkZXItZGVzdHJ1Y3RpdmVcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgXCJ2a3VpOmJnLXByaW1hcnkgdmt1aTp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCB2a3VpOmhvdmVyOmJnLXByaW1hcnkvOTAgdmt1aTpib3JkZXItdHJhbnNwYXJlbnRcIixcbiAgICAgICAgc2Vjb25kYXJ5OlxuICAgICAgICAgIFwidmt1aTpiZy1zZWNvbmRhcnkgdmt1aTpib3JkZXItdHJhbnNwYXJlbnQgdmt1aTp0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIHZrdWk6aG92ZXI6Ymctc2Vjb25kYXJ5LzYwIHZrdWk6Zm9jdXMtdmlzaWJsZTpib3JkZXItc2Vjb25kYXJ5XCIsXG4gICAgICAgIG91dGxpbmU6XG4gICAgICAgICAgXCJ2a3VpOnRleHQtZm9yZWdyb3VuZCB2a3VpOmJvcmRlciB2a3VpOmJnLWJhY2tncm91bmQgdmt1aTpob3ZlcjpiZy1hY2NlbnQgdmt1aTpkYXJrOmJnLWlucHV0LzMwIHZrdWk6ZGFyazpib3JkZXItaW5wdXQgdmt1aTpkYXJrOmhvdmVyOmJnLWlucHV0LzUwIHZrdWk6Zm9jdXMtdmlzaWJsZTpib3JkZXItcmluZ1wiLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICBcInZrdWk6YmctZGVzdHJ1Y3RpdmUgdmt1aTpib3JkZXItdHJhbnNwYXJlbnQgdmt1aTp0ZXh0LXdoaXRlIHZrdWk6aG92ZXI6YmctZGVzdHJ1Y3RpdmUvOTAgdmt1aTpmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvMjAgdmt1aTpkYXJrOmZvY3VzLXZpc2libGU6cmluZy1kZXN0cnVjdGl2ZS80MCB2a3VpOmRhcms6YmctZGVzdHJ1Y3RpdmUvNjBcIixcbiAgICAgICAgZ2hvc3Q6XG4gICAgICAgICAgXCJ2a3VpOnRleHQtZm9yZWdyb3VuZCB2a3VpOmJvcmRlciB2a3VpOmJvcmRlci10cmFuc3BhcmVudCB2a3VpOmhvdmVyOmJnLWFjY2VudCB2a3VpOmhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmQgdmt1aTpkYXJrOmhvdmVyOmJnLWFjY2VudC81MFwiLFxuICAgICAgICBsaW5rOiBcInZrdWk6dGV4dC1wcmltYXJ5IHZrdWk6dW5kZXJsaW5lLW9mZnNldC00IHZrdWk6aG92ZXI6dW5kZXJsaW5lIHZrdWk6Ym9yZGVyIHZrdWk6Ym9yZGVyLXRyYW5zcGFyZW50XCIsXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIFwidmt1aTpoLTggdmt1aTpweC00IHZrdWk6cHktMiB2a3VpOmhhcy1bPnN2Z106cHgtMyB2a3VpOlsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNVwiLFxuICAgICAgICBzbTogXCJ2a3VpOmgtNyB2a3VpOnJvdW5kZWQtZWxlbWVudCB2a3VpOmdhcC0xLjUgdmt1aTpweC0zIHZrdWk6aGFzLVs+c3ZnXTpweC0yLjUgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgICAgbGc6IFwidmt1aTpoLTEwIHZrdWk6cm91bmRlZC1lbGVtZW50IHZrdWk6cHgtNiB2a3VpOmhhcy1bPnN2Z106cHgtNCB2a3VpOlsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNVwiLFxuICAgICAgICB4bDogXCJ2a3VpOmgtMTIgdmt1aTpyb3VuZGVkLWVsZW1lbnQgdmt1aTpweC04IHZrdWk6dGV4dC1sZyB2a3VpOmhhcy1bPnN2Z106cHgtNiB2a3VpOlsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNiB2a3VpOmdhcC0zXCIsXG4gICAgICAgIGljb246IFwidmt1aTpoLTggdmt1aTp3LTggdmt1aTpwLTAgdmt1aTpoYXMtWz5zdmddOnAtMCB2a3VpOlsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNVwiLFxuICAgICAgICBcImljb24tc21cIjpcbiAgICAgICAgICBcInZrdWk6aC03IHZrdWk6dy03IHZrdWk6cC0wIHZrdWk6aGFzLVs+c3ZnXTpwLTAgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgICAgXCJpY29uLXhzXCI6XG4gICAgICAgICAgXCJ2a3VpOmgtNiB2a3VpOnctNiB2a3VpOnAtMCB2a3VpOmhhcy1bPnN2Z106cC0wIHZrdWk6WyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS0zXCIsXG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgZGVmYXVsdDogXCJcIixcbiAgICAgICAgYWN0aXZlOiBcIlwiLFxuICAgICAgICBpbmFjdGl2ZTogXCJcIixcbiAgICAgIH0sXG4gICAgICBpc0ljb246IHtcbiAgICAgICAgdHJ1ZTogXCJcIixcbiAgICAgICAgZmFsc2U6IFwiXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgY29tcG91bmRWYXJpYW50czogW1xuICAgICAge1xuICAgICAgICBzaXplOiBcImRlZmF1bHRcIixcbiAgICAgICAgaXNJY29uOiB0cnVlLFxuICAgICAgICBjbGFzc05hbWU6XG4gICAgICAgICAgXCJ2a3VpOnNpemUtOCB2a3VpOkBtYXgteHMvcGFuZWw6c2l6ZS03IHZrdWk6cm91bmRlZC1lbGVtZW50IHZrdWk6WyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS01IHZrdWk6QG1heC14cy9wYW5lbDpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNpemU6IFwic21cIixcbiAgICAgICAgaXNJY29uOiB0cnVlLFxuICAgICAgICBjbGFzc05hbWU6XG4gICAgICAgICAgXCJ2a3VpOnNpemUtNyB2a3VpOkBtYXgteHMvcGFuZWw6c2l6ZS02IHZrdWk6cm91bmRlZC1lbGVtZW50IHZrdWk6WyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00IHZrdWk6QG1heC14cy9wYW5lbDpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTNcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNpemU6IFwibGdcIixcbiAgICAgICAgaXNJY29uOiB0cnVlLFxuICAgICAgICBjbGFzc05hbWU6XG4gICAgICAgICAgXCJ2a3VpOnNpemUtMTAgdmt1aTpAbWF4LXhzL3BhbmVsOnNpemUtOSB2a3VpOnJvdW5kZWQtZWxlbWVudCB2a3VpOlsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNSB2a3VpOkBtYXgteHMvcGFuZWw6WyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00XCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBzaXplOiBcInhsXCIsXG4gICAgICAgIGlzSWNvbjogdHJ1ZSxcbiAgICAgICAgY2xhc3NOYW1lOlxuICAgICAgICAgIFwidmt1aTpzaXplLTEyIHZrdWk6cm91bmRlZC1lbGVtZW50IHZrdWk6WyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS01IHZrdWk6QG1heC14cy9wYW5lbDpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgICAgICBzdGF0ZTogXCJhY3RpdmVcIixcbiAgICAgICAgY2xhc3NOYW1lOlxuICAgICAgICAgIFwidmt1aTpiZy1hY3RpdmUgdmt1aTp0ZXh0LWFjdGl2ZS1mb3JlZ3JvdW5kIHZrdWk6aG92ZXI6YmctYWN0aXZlLzkwIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLWFjdGl2ZS8yMCB2a3VpOmRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWFjdGl2ZS80MFwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFyaWFudDogXCJkZWZhdWx0XCIsXG4gICAgICAgIHN0YXRlOiBcImluYWN0aXZlXCIsXG4gICAgICAgIGNsYXNzTmFtZTpcbiAgICAgICAgICBcInZrdWk6YmctaW5hY3RpdmUgdmt1aTp0ZXh0LWluYWN0aXZlLWZvcmVncm91bmQgdmt1aTpob3ZlcjpiZy1pbmFjdGl2ZS85MCB2a3VpOmZvY3VzLXZpc2libGU6cmluZy1pbmFjdGl2ZS8yMCB2a3VpOmRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWluYWN0aXZlLzQwXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YXJpYW50OiBcInNlY29uZGFyeVwiLFxuICAgICAgICBzdGF0ZTogXCJhY3RpdmVcIixcbiAgICAgICAgY2xhc3NOYW1lOlxuICAgICAgICAgIFwidmt1aTpiZy1hY3RpdmUgdmt1aTp0ZXh0LWFjdGl2ZS1mb3JlZ3JvdW5kIHZrdWk6aG92ZXI6YmctYWN0aXZlLzkwIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLWFjdGl2ZS8yMCB2a3VpOmRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWFjdGl2ZS80MCB2a3VpOmZvY3VzLXZpc2libGU6Ym9yZGVyLWFjdGl2ZVwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFyaWFudDogXCJzZWNvbmRhcnlcIixcbiAgICAgICAgc3RhdGU6IFwiaW5hY3RpdmVcIixcbiAgICAgICAgY2xhc3NOYW1lOlxuICAgICAgICAgIFwidmt1aTpiZy1pbmFjdGl2ZSB2a3VpOnRleHQtaW5hY3RpdmUtZm9yZWdyb3VuZCB2a3VpOmhvdmVyOmJnLWluYWN0aXZlLzkwIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLWluYWN0aXZlLzIwIHZrdWk6ZGFyazpmb2N1cy12aXNpYmxlOnJpbmctaW5hY3RpdmUvNDAgdmt1aTpmb2N1cy12aXNpYmxlOmJvcmRlci1pbmFjdGl2ZVwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFyaWFudDogXCJvdXRsaW5lXCIsXG4gICAgICAgIHN0YXRlOiBcImFjdGl2ZVwiLFxuICAgICAgICBjbGFzc05hbWU6XG4gICAgICAgICAgXCJ2a3VpOmJnLWFjdGl2ZS1hY2NlbnQgdmt1aTp0ZXh0LWFjdGl2ZSB2a3VpOmJvcmRlci1hY3RpdmUgdmt1aTpob3ZlcjpiZy1hY3RpdmUtYWNjZW50LzYwIHZrdWk6ZGFyazpiZy1hY3RpdmUtYWNjZW50IHZrdWk6ZGFyazpob3ZlcjpiZy1hY3RpdmUtYWNjZW50LzYwIHZrdWk6ZGFyazpib3JkZXItYWN0aXZlIHZrdWk6Zm9jdXMtdmlzaWJsZTpib3JkZXItYWN0aXZlIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLWFjdGl2ZS8yMCB2a3VpOmRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWFjdGl2ZS80MFwiLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFyaWFudDogXCJvdXRsaW5lXCIsXG4gICAgICAgIHN0YXRlOiBcImluYWN0aXZlXCIsXG4gICAgICAgIGNsYXNzTmFtZTpcbiAgICAgICAgICBcInZrdWk6YmctaW5hY3RpdmUtYWNjZW50IHZrdWk6dGV4dC1pbmFjdGl2ZSB2a3VpOmJvcmRlci1pbmFjdGl2ZSB2a3VpOmhvdmVyOmJnLWluYWN0aXZlLWFjY2VudC82MCB2a3VpOmRhcms6YmctaW5hY3RpdmUtYWNjZW50IHZrdWk6ZGFyazpob3ZlcjpiZy1pbmFjdGl2ZS1hY2NlbnQvNjAgdmt1aTpkYXJrOmJvcmRlci1pbmFjdGl2ZSB2a3VpOmZvY3VzLXZpc2libGU6Ym9yZGVyLWluYWN0aXZlIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLWluYWN0aXZlLzIwIHZrdWk6ZGFyazpmb2N1cy12aXNpYmxlOnJpbmctaW5hY3RpdmUvNDBcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICAgICAgc2l6ZTogXCJkZWZhdWx0XCIsXG4gICAgICBzdGF0ZTogXCJkZWZhdWx0XCIsXG4gICAgICBpc0ljb246IGZhbHNlLFxuICAgIH0sXG4gIH0sXG4pO1xuXG5leHBvcnQgdHlwZSBCdXR0b25WYXJpYW50ID0gTm9uTnVsbGFibGU8XG4gIFBhcmFtZXRlcnM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPlswXVxuPltcInZhcmlhbnRcIl07XG5leHBvcnQgdHlwZSBCdXR0b25TaXplID0gTm9uTnVsbGFibGU8XG4gIFBhcmFtZXRlcnM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPlswXVxuPltcInNpemVcIl07XG5leHBvcnQgdHlwZSBCdXR0b25TdGF0ZSA9IE5vbk51bGxhYmxlPFxuICBQYXJhbWV0ZXJzPHR5cGVvZiBidXR0b25WYXJpYW50cz5bMF1cbj5bXCJzdGF0ZVwiXTtcblxuZXhwb3J0IGNvbnN0IGJ1dHRvblZhcmlhbnRPcHRpb25zID0gW1xuICBcImRlZmF1bHRcIixcbiAgXCJvdXRsaW5lXCIsXG4gIFwic2Vjb25kYXJ5XCIsXG4gIFwiZ2hvc3RcIixcbiAgXCJsaW5rXCIsXG4gIFwiZGVzdHJ1Y3RpdmVcIixcbl0gYXMgY29uc3Q7XG5leHBvcnQgY29uc3QgYnV0dG9uU2l6ZU9wdGlvbnMgPSBbXCJkZWZhdWx0XCIsIFwic21cIiwgXCJsZ1wiLCBcInhsXCJdIGFzIGNvbnN0O1xuZXhwb3J0IGNvbnN0IGJ1dHRvblN0YXRlT3B0aW9ucyA9IFtcImRlZmF1bHRcIiwgXCJhY3RpdmVcIiwgXCJpbmFjdGl2ZVwiXSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFjY2VudENvbG9yTWFwOiBSZWNvcmQ8XG4gICh0eXBlb2YgYnV0dG9uVmFyaWFudE9wdGlvbnMpW251bWJlcl0sXG4gIFJlY29yZDwodHlwZW9mIGJ1dHRvblN0YXRlT3B0aW9ucylbbnVtYmVyXSwgc3RyaW5nPlxuPiA9IHtcbiAgZGVmYXVsdDoge1xuICAgIGRlZmF1bHQ6IFwiLS12a3VpLWNvbG9yLWFjdGl2ZVwiLFxuICAgIGluYWN0aXZlOiBcIi0tdmt1aS1jb2xvci1pbmFjdGl2ZS1mb3JlZ3JvdW5kXCIsXG4gICAgYWN0aXZlOiBcIi0tdmt1aS1jb2xvci1hY3RpdmVcIixcbiAgfSxcbiAgc2Vjb25kYXJ5OiB7XG4gICAgZGVmYXVsdDogXCItLXZrdWktY29sb3ItYWN0aXZlXCIsXG4gICAgaW5hY3RpdmU6IFwiLS12a3VpLWNvbG9yLWluYWN0aXZlLWZvcmVncm91bmRcIixcbiAgICBhY3RpdmU6IFwiLS12a3VpLWNvbG9yLWFjdGl2ZVwiLFxuICB9LFxuICBvdXRsaW5lOiB7XG4gICAgZGVmYXVsdDogXCItLXZrdWktY29sb3ItYWN0aXZlXCIsXG4gICAgaW5hY3RpdmU6IFwiLS12a3VpLWNvbG9yLWluYWN0aXZlXCIsXG4gICAgYWN0aXZlOiBcIi0tdmt1aS1jb2xvci1hY3RpdmVcIixcbiAgfSxcbiAgZGVzdHJ1Y3RpdmU6IHtcbiAgICBkZWZhdWx0OiBcIi0tdmt1aS1jb2xvci1iYWNrZ3JvdW5kXCIsXG4gICAgaW5hY3RpdmU6IFwiLS12a3VpLWNvbG9yLWJhY2tncm91bmRcIixcbiAgICBhY3RpdmU6IFwiLS12a3VpLWNvbG9yLWJhY2tncm91bmRcIixcbiAgfSxcbiAgZ2hvc3Q6IHtcbiAgICBkZWZhdWx0OiBcIi0tdmt1aS1jb2xvci1hY3RpdmVcIixcbiAgICBpbmFjdGl2ZTogXCItLXZrdWktY29sb3ItYm9yZGVyXCIsXG4gICAgYWN0aXZlOiBcIi0tdmt1aS1jb2xvci1hY3RpdmVcIixcbiAgfSxcbiAgbGluazoge1xuICAgIGRlZmF1bHQ6IFwiLS12a3VpLWNvbG9yLWFjdGl2ZVwiLFxuICAgIGluYWN0aXZlOiBcIi0tdmt1aS1jb2xvci1pbmFjdGl2ZVwiLFxuICAgIGFjdGl2ZTogXCItLXZrdWktY29sb3ItYWN0aXZlXCIsXG4gIH0sXG59O1xuZXhwb3J0IGRlZmF1bHQgYnV0dG9uVmFyaWFudHM7XG4iLCJpbXBvcnQgYnV0dG9uVmFyaWFudHMgZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25WYXJpYW50c1wiO1xuaW1wb3J0IHsgTG9hZGVySWNvbiB9IGZyb20gXCJAL2ljb25zXCI7XG5pbXBvcnQgeyBTbG90IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zbG90XCI7XG5pbXBvcnQgeyB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQnV0dG9uKHtcbiAgY2xhc3NOYW1lLFxuICB2YXJpYW50LFxuICBzaXplLFxuICBzdGF0ZSxcbiAgaXNJY29uLFxuICBpc0xvYWRpbmcgPSBmYWxzZSxcbiAgYXNDaGlsZCA9IGZhbHNlLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJidXR0b25cIj4gJlxuICBWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPiAmIHtcbiAgICBhc0NoaWxkPzogYm9vbGVhbjtcbiAgICBpc0xvYWRpbmc/OiBib29sZWFuO1xuICB9KSB7XG4gIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6IFwiYnV0dG9uXCI7XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBkYXRhLXNsb3Q9XCJidXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgIGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgc3RhdGUsIGlzSWNvbiwgY2xhc3NOYW1lIH0pLFxuICAgICAgICApfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIGRpc2FibGVkXG4gICAgICA+XG4gICAgICAgIDxMb2FkZXJJY29uIGNsYXNzTmFtZT1cInZrdWk6YW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9Db21wPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDb21wXG4gICAgICBkYXRhLXNsb3Q9XCJidXR0b25cIlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50LCBzaXplLCBzdGF0ZSwgaXNJY29uLCBjbGFzc05hbWUgfSksXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbjtcbiIsImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgdHlwZSB7IEJ1dHRvblNpemUsIEJ1dHRvblZhcmlhbnQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblZhcmlhbnRzXCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgdHlwZSBUcmFuc3BvcnRTdGF0ZSB9IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtanNcIjtcbmltcG9ydCB7IHVzZVBpcGVjYXRDbGllbnRUcmFuc3BvcnRTdGF0ZSB9IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtcmVhY3RcIjtcbmltcG9ydCBSZWFjdCwgeyBtZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBmb3IgY3VzdG9taXppbmcgYnV0dG9uIGFwcGVhcmFuY2UgYW5kIGNvbnRlbnQgZm9yIHNwZWNpZmljIHRyYW5zcG9ydCBzdGF0ZXMuXG4gKiBBbGxvd3MgcGFydGlhbCBjb25maWd1cmF0aW9uIC0gb25seSBzcGVjaWZ5IHRoZSBzdGF0ZXMgeW91IHdhbnQgdG8gY3VzdG9taXplLlxuICovXG5leHBvcnQgdHlwZSBDb25uZWN0QnV0dG9uU3RhdGVDb250ZW50ID0gUGFydGlhbDxcbiAgUmVjb3JkPFxuICAgIFRyYW5zcG9ydFN0YXRlLFxuICAgIHtcbiAgICAgIC8qKiBUaGUgdGV4dCBvciBjb250ZW50IHRvIGRpc3BsYXkgaW4gdGhlIGJ1dHRvbiAqL1xuICAgICAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgICAgIC8qKiBUaGUgYnV0dG9uIHZhcmlhbnQgdG8gdXNlIGZvciB0aGlzIHN0YXRlICovXG4gICAgICB2YXJpYW50OiBCdXR0b25WYXJpYW50O1xuICAgICAgLyoqIE9wdGlvbmFsIENTUyBjbGFzcyB0byBhcHBseSB0byB0aGUgYnV0dG9uICovXG4gICAgICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gICAgfVxuICA+XG4+O1xuXG4vKipcbiAqIFByb3BzIGZvciB0aGUgQ29ubmVjdEJ1dHRvbiBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCB0eXBlIENvbm5lY3RCdXR0b25Qcm9wcyA9IHtcbiAgLyoqIENTUyBjbGFzcyBuYW1lIHRvIGFwcGx5IHRvIHRoZSBidXR0b24gKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAvKiogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGNvbm5lY3QgYWN0aW9uIGlzIHRyaWdnZXJlZCAqL1xuICBvbkNvbm5lY3Q/OiAoKSA9PiB2b2lkO1xuICAvKiogR2VuZXJpYyBjbGljayBoYW5kbGVyIGZvciB0aGUgYnV0dG9uICovXG4gIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICAvKiogQ2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlIGRpc2Nvbm5lY3QgYWN0aW9uIGlzIHRyaWdnZXJlZCAqL1xuICBvbkRpc2Nvbm5lY3Q/OiAoKSA9PiB2b2lkO1xuICAvKiogU2l6ZSBvZiB0aGUgYnV0dG9uIGNvbXBvbmVudCAqL1xuICBzaXplPzogQnV0dG9uU2l6ZTtcbiAgLyoqIERlZmF1bHQgdmFyaWFudCBvZiB0aGUgYnV0dG9uIGNvbXBvbmVudCAqL1xuICBkZWZhdWx0VmFyaWFudD86IEJ1dHRvblZhcmlhbnQ7XG4gIC8qKiBDdXN0b20gc3RhdGUgY29udGVudCBjb25maWd1cmF0aW9uIGZvciBkaWZmZXJlbnQgdHJhbnNwb3J0IHN0YXRlcyAqL1xuICBzdGF0ZUNvbnRlbnQ/OiBDb25uZWN0QnV0dG9uU3RhdGVDb250ZW50O1xufTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjb21wb25lbnQgdGhhdCByZW5kZXJzIGEgY29ubmVjdC9kaXNjb25uZWN0IGJ1dHRvbiBiYXNlZCBvbiB0cmFuc3BvcnQgc3RhdGUuXG4gKiBIYW5kbGVzIGJ1dHRvbiBhcHBlYXJhbmNlLCBjb250ZW50LCBhbmQgaW50ZXJhY3Rpb25zIGJhc2VkIG9uIHRoZSBjdXJyZW50IHRyYW5zcG9ydCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0gcHJvcHMgLSBDb21wb25lbnQgcHJvcHMgaW5jbHVkaW5nIHRyYW5zcG9ydCBzdGF0ZSBhbmQgY29uZmlndXJhdGlvblxuICogQHJldHVybnMgQSBidXR0b24gY29tcG9uZW50IHRoYXQgYWRhcHRzIHRvIHRoZSBjdXJyZW50IHRyYW5zcG9ydCBzdGF0ZVxuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdEJ1dHRvbkNvbXBvbmVudDogUmVhY3QuRkM8XG4gIENvbm5lY3RCdXR0b25Qcm9wcyAmIHtcbiAgICB0cmFuc3BvcnRTdGF0ZTogVHJhbnNwb3J0U3RhdGU7XG4gIH1cbj4gPSAoe1xuICBjbGFzc05hbWU6IHBhc3NlZENsYXNzTmFtZSxcbiAgb25DbGljayxcbiAgb25Db25uZWN0LFxuICBvbkRpc2Nvbm5lY3QsXG4gIHN0YXRlQ29udGVudCxcbiAgc2l6ZSA9IFwiZGVmYXVsdFwiLFxuICBkZWZhdWx0VmFyaWFudCA9IFwiZGVmYXVsdFwiLFxuICB0cmFuc3BvcnRTdGF0ZSxcbn0pID0+IHtcbiAgLyoqXG4gICAqIERldGVybWluZXMgYnV0dG9uIHByb3BlcnRpZXMgYmFzZWQgb24gY3VycmVudCB0cmFuc3BvcnQgc3RhdGUgYW5kIGN1c3RvbSBzdGF0ZSBjb250ZW50LlxuICAgKiBQcmlvcml0aXplcyBjdXN0b20gc3RhdGUgY29udGVudCBvdmVyIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAqXG4gICAqIEByZXR1cm5zIEJ1dHRvbiBwcm9wcyBpbmNsdWRpbmcgY2hpbGRyZW4sIHZhcmlhbnQsIGFuZCBjbGFzc05hbWVcbiAgICovXG4gIGNvbnN0IGdldEJ1dHRvblByb3BzID0gKCk6IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+ID0+IHtcbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGN1c3RvbSBjb250ZW50IGZvciB0aGlzIHN0YXRlXG4gICAgaWYgKHN0YXRlQ29udGVudCAmJiBzdGF0ZUNvbnRlbnRbdHJhbnNwb3J0U3RhdGVdKSB7XG4gICAgICByZXR1cm4gc3RhdGVDb250ZW50W3RyYW5zcG9ydFN0YXRlXSE7XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCBjb250ZW50IGJhc2VkIG9uIHRyYW5zcG9ydCBzdGF0ZVxuICAgIHN3aXRjaCAodHJhbnNwb3J0U3RhdGUpIHtcbiAgICAgIGNhc2UgXCJpbml0aWFsaXplZFwiOlxuICAgICAgY2FzZSBcImluaXRpYWxpemluZ1wiOlxuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNoaWxkcmVuOiBcIkNvbm5lY3RcIixcbiAgICAgICAgICB2YXJpYW50OiBkZWZhdWx0VmFyaWFudCxcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgXCJyZWFkeVwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNoaWxkcmVuOiBcIkRpc2Nvbm5lY3RcIixcbiAgICAgICAgICB2YXJpYW50OiBkZWZhdWx0VmFyaWFudCxcbiAgICAgICAgICBjbGFzc05hbWU6IFwidmt1aTp0ZXh0LWRlc3RydWN0aXZlXCIsXG4gICAgICAgIH07XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGluZ1wiOlxuICAgICAgICByZXR1cm4geyBjaGlsZHJlbjogXCJEaXNjb25uZWN0aW5nLi4uXCIsIHZhcmlhbnQ6IGRlZmF1bHRWYXJpYW50IH07XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgcmV0dXJuIHsgY2hpbGRyZW46IFwiRXJyb3JcIiwgdmFyaWFudDogZGVmYXVsdFZhcmlhbnQgfTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB7IGNoaWxkcmVuOiBcIkNvbm5lY3RpbmcuLi5cIiwgdmFyaWFudDogZGVmYXVsdFZhcmlhbnQgfTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCB2YXJpYW50IH0gPSBnZXRCdXR0b25Qcm9wcygpO1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGJ1dHRvbiBjbGljayBldmVudHMuXG4gICAqIENhbGxzIHRoZSBnZW5lcmljIG9uQ2xpY2sgaGFuZGxlciwgdGhlbiBlaXRoZXIgb25Db25uZWN0IG9yIG9uRGlzY29ubmVjdCBiYXNlZCBvbiBjdXJyZW50IHN0YXRlLlxuICAgKi9cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgb25DbGljaz8uKCk7XG4gICAgaWYgKFtcInJlYWR5XCIsIFwiY29ubmVjdGVkXCJdLmluY2x1ZGVzKHRyYW5zcG9ydFN0YXRlKSkge1xuICAgICAgb25EaXNjb25uZWN0Py4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Db25uZWN0Py4oKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgIHZhcmlhbnQ9e3ZhcmlhbnR9XG4gICAgICBzaXplPXtzaXplfVxuICAgICAgZGlzYWJsZWQ9e1xuICAgICAgICAhW1wiZGlzY29ubmVjdGVkXCIsIFwiaW5pdGlhbGl6ZWRcIiwgXCJyZWFkeVwiXS5pbmNsdWRlcyh0cmFuc3BvcnRTdGF0ZSlcbiAgICAgIH1cbiAgICAgIGlzTG9hZGluZz17XG4gICAgICAgICFbXCJkaXNjb25uZWN0ZWRcIiwgXCJpbml0aWFsaXplZFwiLCBcInJlYWR5XCIsIFwiZXJyb3JcIl0uaW5jbHVkZXMoXG4gICAgICAgICAgdHJhbnNwb3J0U3RhdGUsXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGNsYXNzTmFtZT17Y24oY2xhc3NOYW1lLCBwYXNzZWRDbGFzc05hbWUpfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0J1dHRvbj5cbiAgKTtcbn07XG5cbi8qKlxuICogQ29ubmVjdEJ1dHRvbiBjb21wb25lbnQgdGhhdCBhdXRvbWF0aWNhbGx5IGFkYXB0cyB0byB0aGUgY3VycmVudCB0cmFuc3BvcnQgc3RhdGUuXG4gKlxuICogVGhpcyBjb21wb25lbnQ6XG4gKiAtIEF1dG9tYXRpY2FsbHkgZ2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgc3RhdGUgZnJvbSB0aGUgUGlwZWNhdCBjbGllbnRcbiAqIC0gUmVuZGVycyBhIGJ1dHRvbiB0aGF0IGNoYW5nZXMgYXBwZWFyYW5jZSBhbmQgYmVoYXZpb3IgYmFzZWQgb24gdGhlIHN0YXRlXG4gKiAtIEhhbmRsZXMgY29ubmVjdC9kaXNjb25uZWN0IGFjdGlvbnMgYXV0b21hdGljYWxseVxuICogLSBTdXBwb3J0cyBjdXN0b20gc3RhdGUgY29udGVudCBjb25maWd1cmF0aW9uXG4gKlxuICogQHBhcmFtIHByb3BzIC0gQ29tcG9uZW50IGNvbmZpZ3VyYXRpb24gaW5jbHVkaW5nIGNhbGxiYWNrcyBhbmQgc3R5bGluZyBvcHRpb25zXG4gKiBAcmV0dXJucyBBIGJ1dHRvbiBjb21wb25lbnQgdGhhdCBhZGFwdHMgdG8gdHJhbnNwb3J0IHN0YXRlIGNoYW5nZXNcbiAqL1xuZXhwb3J0IGNvbnN0IENvbm5lY3RCdXR0b24gPSBtZW1vKChwcm9wczogQ29ubmVjdEJ1dHRvblByb3BzKSA9PiB7XG4gIGNvbnN0IHRyYW5zcG9ydFN0YXRlID0gdXNlUGlwZWNhdENsaWVudFRyYW5zcG9ydFN0YXRlKCk7XG5cbiAgcmV0dXJuIDxDb25uZWN0QnV0dG9uQ29tcG9uZW50IHRyYW5zcG9ydFN0YXRlPXt0cmFuc3BvcnRTdGF0ZX0gey4uLnByb3BzfSAvPjtcbn0pO1xuXG5Db25uZWN0QnV0dG9uLmRpc3BsYXlOYW1lID0gXCJDb25uZWN0QnV0dG9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3RCdXR0b247XG4iLCJpbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIjtcblxuY29uc3QgYnV0dG9uR3JvdXBWYXJpYW50cyA9IGN2YShcbiAgXCJ2a3VpOmZsZXggdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpidXR0b24tZ3JvdXBcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICBvcmllbnRhdGlvbjoge1xuICAgICAgICBob3Jpem9udGFsOlxuICAgICAgICAgIFwidmt1aTpmbGV4LXJvdyB2a3VpOio6Zmlyc3Q6cm91bmRlZC1lLW5vbmUgdmt1aToqOmxhc3Q6cm91bmRlZC1zLW5vbmUgdmt1aToqOi1tbC1bMXB4XSB2a3VpOio6Zmlyc3Q6bWwtMFwiLFxuICAgICAgICB2ZXJ0aWNhbDpcbiAgICAgICAgICBcInZrdWk6ZmxleC1jb2wgdmt1aToqOmZpcnN0OnJvdW5kZWQtYi1ub25lIHZrdWk6KjpsYXN0OnJvdW5kZWQtdC1ub25lIHZrdWk6KjotbXQtWzFweF0gdmt1aToqOmZpcnN0Om10LTAgdmt1aToqOnNlbGYtc3RyZXRjaFwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGRlZmF1bHRWYXJpYW50czoge1xuICAgICAgb3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLFxuICAgIH0sXG4gIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgQnV0dG9uR3JvdXAgPSAoe1xuICBjbGFzc05hbWUsXG4gIG9yaWVudGF0aW9uID0gXCJob3Jpem9udGFsXCIsXG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJkaXZcIj4gJiBWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvbkdyb3VwVmFyaWFudHM+KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmZsZXhcIixcbiAgICAgICAgYnV0dG9uR3JvdXBWYXJpYW50cyh7IG9yaWVudGF0aW9uIH0pLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkdyb3VwO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IHVzZVBpcGVjYXRDbGllbnRNZWRpYVRyYWNrIH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1yZWFjdFwiO1xuXG50eXBlIFBhcnRpY2lwYW50VHlwZSA9IFBhcmFtZXRlcnM8dHlwZW9mIHVzZVBpcGVjYXRDbGllbnRNZWRpYVRyYWNrPlsxXTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nO1xuICBiYXJDb2xvcj86IHN0cmluZztcbiAgYmFyQ291bnQ/OiBudW1iZXI7XG4gIGJhckdhcD86IG51bWJlcjtcbiAgYmFyTGluZUNhcD86IFwicm91bmRcIiB8IFwic3F1YXJlXCI7XG4gIGJhck1heEhlaWdodD86IG51bWJlcjtcbiAgYmFyT3JpZ2luPzogXCJ0b3BcIiB8IFwiYm90dG9tXCIgfCBcImNlbnRlclwiO1xuICBiYXJXaWR0aD86IG51bWJlcjtcbiAgcGFydGljaXBhbnRUeXBlOiBQYXJ0aWNpcGFudFR5cGU7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFZvaWNlVmlzdWFsaXplcjogUmVhY3QuRkM8UHJvcHM+ID0gUmVhY3QubWVtbyhcbiAgKHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBcInRyYW5zcGFyZW50XCIsXG4gICAgYmFyQ29sb3IgPSBcImJsYWNrXCIsXG4gICAgYmFyQ291bnQgPSA1LFxuICAgIGJhckdhcCA9IDEyLFxuICAgIGJhckxpbmVDYXAgPSBcInJvdW5kXCIsXG4gICAgYmFyTWF4SGVpZ2h0ID0gMTIwLFxuICAgIGJhck9yaWdpbiA9IFwiY2VudGVyXCIsXG4gICAgYmFyV2lkdGggPSAzMCxcbiAgICBwYXJ0aWNpcGFudFR5cGUsXG4gICAgY2xhc3NOYW1lLFxuICB9KSA9PiB7XG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgICBjb25zdCByZXNvbHZlZEJhckNvbG9yUmVmID0gdXNlUmVmPHN0cmluZz4oXCJibGFja1wiKTtcblxuICAgIC8vIFJlc29sdmUgdGhlIGNvbG9yIG9ubHkgd2hlbiBiYXJDb2xvciBjaGFuZ2VzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVDb2xvcihjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIGlmICghY29sb3IpIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIGlmIChjb2xvci5zdGFydHNXaXRoKFwiLS1cIikpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXG4gICAgICAgICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKGNvbG9yKVxuICAgICAgICAgICAgICAudHJpbSgpIHx8IFwiYmxhY2tcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWRCYXJDb2xvclJlZi5jdXJyZW50ID0gcmVzb2x2ZUNvbG9yKGJhckNvbG9yKTtcbiAgICB9LCBbYmFyQ29sb3JdKTtcblxuICAgIGNvbnN0IHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrIHwgbnVsbCA9IHVzZVBpcGVjYXRDbGllbnRNZWRpYVRyYWNrKFxuICAgICAgXCJhdWRpb1wiLFxuICAgICAgcGFydGljaXBhbnRUeXBlLFxuICAgICk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBjYW52YXNXaWR0aCA9IGJhckNvdW50ICogYmFyV2lkdGggKyAoYmFyQ291bnQgLSAxKSAqIGJhckdhcDtcbiAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IGJhck1heEhlaWdodDtcblxuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gMjtcblxuICAgICAgLy8gTWFrZSBjYW52YXMgZmlsbCB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiBpdHMgY29udGFpbmVyXG4gICAgICBjb25zdCByZXNpemVDYW52YXMgPSAoKSA9PiB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoICogc2NhbGVGYWN0b3I7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKiBzY2FsZUZhY3RvcjtcblxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHtjYW52YXNXaWR0aH1weGA7XG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtjYW52YXNIZWlnaHR9cHhgO1xuXG4gICAgICAgIGNhbnZhc0N0eC5saW5lQ2FwID0gYmFyTGluZUNhcDtcbiAgICAgICAgY2FudmFzQ3R4LnNjYWxlKHNjYWxlRmFjdG9yLCBzY2FsZUZhY3Rvcik7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjYW52YXNDdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcbiAgICAgIHJlc2l6ZUNhbnZhcygpO1xuXG4gICAgICBpZiAoIXRyYWNrKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShcbiAgICAgICAgbmV3IE1lZGlhU3RyZWFtKFt0cmFja10pLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG5cbiAgICAgIGFuYWx5c2VyLmZmdFNpemUgPSAxMDI0O1xuXG4gICAgICBzb3VyY2UuY29ubmVjdChhbmFseXNlcik7XG5cbiAgICAgIGNvbnN0IGZyZXF1ZW5jeURhdGEgPSBuZXcgVWludDhBcnJheShhbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCk7XG5cbiAgICAgIGNhbnZhc0N0eC5saW5lQ2FwID0gYmFyTGluZUNhcDtcblxuICAgICAgLy8gQ3JlYXRlIGZyZXF1ZW5jeSBiYW5kcyBiYXNlZCBvbiBiYXJDb3VudFxuICAgICAgY29uc3QgYmFuZHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBiYXJDb3VudCB9LCAoXywgaSkgPT4ge1xuICAgICAgICAvLyBVc2UgaW1wcm92ZWQgbG9nYXJpdGhtaWMgc2NhbGUgZm9yIGJldHRlciBmcmVxdWVuY3kgZGlzdHJpYnV0aW9uXG4gICAgICAgIGNvbnN0IG1pbkZyZXEgPSBiYXJDb3VudCA+IDIwID8gMjAwIDogODA7IC8vIEFkanVzdCBtaW4gZnJlcXVlbmN5IGJhc2VkIG9uIGJhciBjb3VudFxuICAgICAgICBjb25zdCBtYXhGcmVxID0gMTAwMDA7IC8vIENvdmVyIG1vc3QgaW1wb3J0YW50IGF1ZGlvIGZyZXF1ZW5jaWVzXG5cbiAgICAgICAgLy8gVXNlIE1lbCBzY2FsZSBpbnNwaXJlZCBhcHByb2FjaCBmb3IgbW9yZSBwZXJjZXB0dWFsbHkgdW5pZm9ybSBkaXN0cmlidXRpb25cbiAgICAgICAgLy8gVGhpcyBoZWxwcyB3aXRoIGEgbGFyZ2UgbnVtYmVyIG9mIGJhcnMgYnkgcGxhY2luZyBmZXdlciBpbiB0aGUgdmVyeSBsb3cgcmFuZ2VcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWVsX3NjYWxlXG4gICAgICAgIGNvbnN0IG1lbE1pbiA9IDI1OTUgKiBNYXRoLmxvZzEwKDEgKyBtaW5GcmVxIC8gNzAwKTtcbiAgICAgICAgY29uc3QgbWVsTWF4ID0gMjU5NSAqIE1hdGgubG9nMTAoMSArIG1heEZyZXEgLyA3MDApO1xuICAgICAgICBjb25zdCBtZWxTdGVwID0gKG1lbE1heCAtIG1lbE1pbikgLyBiYXJDb3VudDtcblxuICAgICAgICBjb25zdCBtZWxWYWx1ZSA9IG1lbE1pbiArIGkgKiBtZWxTdGVwO1xuICAgICAgICBjb25zdCBzdGFydEZyZXEgPSA3MDAgKiAoTWF0aC5wb3coMTAsIG1lbFZhbHVlIC8gMjU5NSkgLSAxKTtcbiAgICAgICAgY29uc3QgZW5kRnJlcSA9IDcwMCAqIChNYXRoLnBvdygxMCwgKG1lbFZhbHVlICsgbWVsU3RlcCkgLyAyNTk1KSAtIDEpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnRGcmVxLFxuICAgICAgICAgIGVuZEZyZXEsXG4gICAgICAgICAgc21vb3RoVmFsdWU6IDAsXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZ2V0RnJlcXVlbmN5QmluSW5kZXggPSAoZnJlcXVlbmN5OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgbnlxdWlzdCA9IGF1ZGlvQ29udGV4dC5zYW1wbGVSYXRlIC8gMjtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoXG4gICAgICAgICAgKGZyZXF1ZW5jeSAvIG55cXVpc3QpICogKGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50IC0gMSksXG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBkcmF3U3BlY3RydW0oKSB7XG4gICAgICAgIGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGZyZXF1ZW5jeURhdGEpO1xuICAgICAgICBjYW52YXNDdHguY2xlYXJSZWN0KFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBjYW52YXMud2lkdGggLyBzY2FsZUZhY3RvcixcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gc2NhbGVGYWN0b3IsXG4gICAgICAgICk7XG4gICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGNhbnZhc0N0eC5maWxsUmVjdChcbiAgICAgICAgICAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgY2FudmFzLndpZHRoIC8gc2NhbGVGYWN0b3IsXG4gICAgICAgICAgY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yLFxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBpc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsQmFyc1dpZHRoID1cbiAgICAgICAgICBiYW5kcy5sZW5ndGggKiBiYXJXaWR0aCArIChiYW5kcy5sZW5ndGggLSAxKSAqIGJhckdhcDtcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gKGNhbnZhcy53aWR0aCAvIHNjYWxlRmFjdG9yIC0gdG90YWxCYXJzV2lkdGgpIC8gMjtcblxuICAgICAgICBjb25zdCBhZGp1c3RlZENpcmNsZVJhZGl1cyA9IGJhcldpZHRoIC8gMjtcblxuICAgICAgICBjb25zdCByZXNvbHZlZEJhckNvbG9yID0gcmVzb2x2ZWRCYXJDb2xvclJlZi5jdXJyZW50O1xuXG4gICAgICAgIGJhbmRzLmZvckVhY2goKGJhbmQsIGkpID0+IHtcbiAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0RnJlcXVlbmN5QmluSW5kZXgoYmFuZC5zdGFydEZyZXEpO1xuICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gZ2V0RnJlcXVlbmN5QmluSW5kZXgoYmFuZC5lbmRGcmVxKTtcbiAgICAgICAgICBjb25zdCBiYW5kRGF0YSA9IGZyZXF1ZW5jeURhdGEuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IGJhbmRWYWx1ZSA9XG4gICAgICAgICAgICBiYW5kRGF0YS5yZWR1Y2UoKGFjYywgdmFsKSA9PiBhY2MgKyB2YWwsIDApIC8gYmFuZERhdGEubGVuZ3RoO1xuXG4gICAgICAgICAgY29uc3Qgc21vb3RoaW5nRmFjdG9yID0gMC4yO1xuXG4gICAgICAgICAgaWYgKGJhbmRWYWx1ZSA8IDEpIHtcbiAgICAgICAgICAgIGJhbmQuc21vb3RoVmFsdWUgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgYmFuZC5zbW9vdGhWYWx1ZSAtIHNtb290aGluZ0ZhY3RvciAqIDUsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYW5kLnNtb290aFZhbHVlID1cbiAgICAgICAgICAgICAgYmFuZC5zbW9vdGhWYWx1ZSArXG4gICAgICAgICAgICAgIChiYW5kVmFsdWUgLSBiYW5kLnNtb290aFZhbHVlKSAqIHNtb290aGluZ0ZhY3RvcjtcbiAgICAgICAgICAgIGlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB4ID0gc3RhcnRYICsgaSAqIChiYXJXaWR0aCArIGJhckdhcCk7XG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIGJhciBoZWlnaHQgd2l0aCBhIG1heGltdW0gY2FwXG4gICAgICAgICAgY29uc3QgbWluSGVpZ2h0ID0gMDtcbiAgICAgICAgICBjb25zdCBiYXJIZWlnaHQgPSBNYXRoLm1heChcbiAgICAgICAgICAgIG1pbkhlaWdodCxcbiAgICAgICAgICAgIE1hdGgubWluKChiYW5kLnNtb290aFZhbHVlIC8gMjU1KSAqIGJhck1heEhlaWdodCwgYmFyTWF4SGVpZ2h0KSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgbGV0IHlUb3AsIHlCb3R0b207XG4gICAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yO1xuXG4gICAgICAgICAgc3dpdGNoIChiYXJPcmlnaW4pIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgICAgeVRvcCA9IGFkanVzdGVkQ2lyY2xlUmFkaXVzO1xuICAgICAgICAgICAgICB5Qm90dG9tID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgYWRqdXN0ZWRDaXJjbGVSYWRpdXMgKyBiYXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IC0gYWRqdXN0ZWRDaXJjbGVSYWRpdXMsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgICB5Qm90dG9tID0gY2FudmFzSGVpZ2h0IC0gYWRqdXN0ZWRDaXJjbGVSYWRpdXM7XG4gICAgICAgICAgICAgIHlUb3AgPSBNYXRoLm1heCh5Qm90dG9tIC0gYmFySGVpZ2h0LCBhZGp1c3RlZENpcmNsZVJhZGl1cyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgeVRvcCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgIGNhbnZhc0hlaWdodCAvIDIgLSBiYXJIZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgIGFkanVzdGVkQ2lyY2xlUmFkaXVzLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB5Qm90dG9tID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IC8gMiArIGJhckhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IC0gYWRqdXN0ZWRDaXJjbGVSYWRpdXMsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChiYW5kLnNtb290aFZhbHVlID4gMCkge1xuICAgICAgICAgICAgY2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbyh4ICsgYmFyV2lkdGggLyAyLCB5VG9wKTtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5saW5lVG8oeCArIGJhcldpZHRoIC8gMiwgeUJvdHRvbSk7XG4gICAgICAgICAgICBjYW52YXNDdHgubGluZVdpZHRoID0gYmFyV2lkdGg7XG4gICAgICAgICAgICBjYW52YXNDdHguc3Ryb2tlU3R5bGUgPSByZXNvbHZlZEJhckNvbG9yO1xuICAgICAgICAgICAgY2FudmFzQ3R4LnN0cm9rZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkcmF3SW5hY3RpdmVDaXJjbGUoYWRqdXN0ZWRDaXJjbGVSYWRpdXMsIHJlc29sdmVkQmFyQ29sb3IsIHgsIHlUb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgIGRyYXdJbmFjdGl2ZUNpcmNsZXMoYWRqdXN0ZWRDaXJjbGVSYWRpdXMsIHJlc29sdmVkQmFyQ29sb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXdTcGVjdHJ1bSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRyYXdJbmFjdGl2ZUNpcmNsZShcbiAgICAgICAgY2lyY2xlUmFkaXVzOiBudW1iZXIsXG4gICAgICAgIGNvbG9yOiBzdHJpbmcsXG4gICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgeTogbnVtYmVyLFxuICAgICAgKSB7XG4gICAgICAgIHN3aXRjaCAoYmFyTGluZUNhcCkge1xuICAgICAgICAgIGNhc2UgXCJzcXVhcmVcIjpcbiAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgeCArIGJhcldpZHRoIC8gMiAtIGNpcmNsZVJhZGl1cyxcbiAgICAgICAgICAgICAgeSAtIGNpcmNsZVJhZGl1cyxcbiAgICAgICAgICAgICAgY2lyY2xlUmFkaXVzICogMixcbiAgICAgICAgICAgICAgY2lyY2xlUmFkaXVzICogMixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicm91bmRcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FudmFzQ3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY2FudmFzQ3R4LmFyYyh4ICsgYmFyV2lkdGggLyAyLCB5LCBjaXJjbGVSYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgIGNhbnZhc0N0eC5maWxsKCk7XG4gICAgICAgICAgICBjYW52YXNDdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkcmF3SW5hY3RpdmVDaXJjbGVzKGNpcmNsZVJhZGl1czogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsQmFyc1dpZHRoID1cbiAgICAgICAgICBiYW5kcy5sZW5ndGggKiBiYXJXaWR0aCArIChiYW5kcy5sZW5ndGggLSAxKSAqIGJhckdhcDtcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gKGNhbnZhcy53aWR0aCAvIHNjYWxlRmFjdG9yIC0gdG90YWxCYXJzV2lkdGgpIC8gMjtcbiAgICAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gY2FudmFzLmhlaWdodCAvIHNjYWxlRmFjdG9yO1xuXG4gICAgICAgIGxldCB5O1xuICAgICAgICBzd2l0Y2ggKGJhck9yaWdpbikge1xuICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgIHkgPSBjaXJjbGVSYWRpdXM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICB5ID0gY2FudmFzSGVpZ2h0IC0gY2lyY2xlUmFkaXVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB5ID0gY2FudmFzSGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFuZHMuZm9yRWFjaCgoXywgaSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHggPSBzdGFydFggKyBpICogKGJhcldpZHRoICsgYmFyR2FwKTtcbiAgICAgICAgICBkcmF3SW5hY3RpdmVDaXJjbGUoY2lyY2xlUmFkaXVzLCBjb2xvciwgeCwgeSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBkcmF3U3BlY3RydW0oKTtcblxuICAgICAgLy8gSGFuZGxlIHJlc2l6aW5nXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNpemVDYW52YXMpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplQ2FudmFzKTtcbiAgICAgIH07XG4gICAgfSwgW1xuICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgYmFyQ291bnQsXG4gICAgICBiYXJHYXAsXG4gICAgICBiYXJMaW5lQ2FwLFxuICAgICAgYmFyTWF4SGVpZ2h0LFxuICAgICAgYmFyT3JpZ2luLFxuICAgICAgYmFyV2lkdGgsXG4gICAgICB0cmFjayxcbiAgICAgIGJhckNvbG9yLFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxjYW52YXNcbiAgICAgICAgcmVmPXtjYW52YXNSZWZ9XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICB9fVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSxcbik7XG5cblZvaWNlVmlzdWFsaXplci5kaXNwbGF5TmFtZSA9IFwiVm9pY2VWaXN1YWxpemVyXCI7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuLy8gc3JjL3ByZXNlbmNlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29tcG9zZWRSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWxheW91dC1lZmZlY3RcIjtcblxuLy8gc3JjL3VzZS1zdGF0ZS1tYWNoaW5lLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VTdGF0ZU1hY2hpbmUoaW5pdGlhbFN0YXRlLCBtYWNoaW5lKSB7XG4gIHJldHVybiBSZWFjdC51c2VSZWR1Y2VyKChzdGF0ZSwgZXZlbnQpID0+IHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSBtYWNoaW5lW3N0YXRlXVtldmVudF07XG4gICAgcmV0dXJuIG5leHRTdGF0ZSA/PyBzdGF0ZTtcbiAgfSwgaW5pdGlhbFN0YXRlKTtcbn1cblxuLy8gc3JjL3ByZXNlbmNlLnRzeFxudmFyIFByZXNlbmNlID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgcHJlc2VudCwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICBjb25zdCBwcmVzZW5jZSA9IHVzZVByZXNlbmNlKHByZXNlbnQpO1xuICBjb25zdCBjaGlsZCA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4oeyBwcmVzZW50OiBwcmVzZW5jZS5pc1ByZXNlbnQgfSkgOiBSZWFjdDIuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG4gIGNvbnN0IHJlZiA9IHVzZUNvbXBvc2VkUmVmcyhwcmVzZW5jZS5yZWYsIGdldEVsZW1lbnRSZWYoY2hpbGQpKTtcbiAgY29uc3QgZm9yY2VNb3VudCA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiO1xuICByZXR1cm4gZm9yY2VNb3VudCB8fCBwcmVzZW5jZS5pc1ByZXNlbnQgPyBSZWFjdDIuY2xvbmVFbGVtZW50KGNoaWxkLCB7IHJlZiB9KSA6IG51bGw7XG59O1xuUHJlc2VuY2UuZGlzcGxheU5hbWUgPSBcIlByZXNlbmNlXCI7XG5mdW5jdGlvbiB1c2VQcmVzZW5jZShwcmVzZW50KSB7XG4gIGNvbnN0IFtub2RlLCBzZXROb2RlXSA9IFJlYWN0Mi51c2VTdGF0ZSgpO1xuICBjb25zdCBzdHlsZXNSZWYgPSBSZWFjdDIudXNlUmVmKG51bGwpO1xuICBjb25zdCBwcmV2UHJlc2VudFJlZiA9IFJlYWN0Mi51c2VSZWYocHJlc2VudCk7XG4gIGNvbnN0IHByZXZBbmltYXRpb25OYW1lUmVmID0gUmVhY3QyLnVzZVJlZihcIm5vbmVcIik7XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHByZXNlbnQgPyBcIm1vdW50ZWRcIiA6IFwidW5tb3VudGVkXCI7XG4gIGNvbnN0IFtzdGF0ZSwgc2VuZF0gPSB1c2VTdGF0ZU1hY2hpbmUoaW5pdGlhbFN0YXRlLCB7XG4gICAgbW91bnRlZDoge1xuICAgICAgVU5NT1VOVDogXCJ1bm1vdW50ZWRcIixcbiAgICAgIEFOSU1BVElPTl9PVVQ6IFwidW5tb3VudFN1c3BlbmRlZFwiXG4gICAgfSxcbiAgICB1bm1vdW50U3VzcGVuZGVkOiB7XG4gICAgICBNT1VOVDogXCJtb3VudGVkXCIsXG4gICAgICBBTklNQVRJT05fRU5EOiBcInVubW91bnRlZFwiXG4gICAgfSxcbiAgICB1bm1vdW50ZWQ6IHtcbiAgICAgIE1PVU5UOiBcIm1vdW50ZWRcIlxuICAgIH1cbiAgfSk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRBbmltYXRpb25OYW1lID0gZ2V0QW5pbWF0aW9uTmFtZShzdHlsZXNSZWYuY3VycmVudCk7XG4gICAgcHJldkFuaW1hdGlvbk5hbWVSZWYuY3VycmVudCA9IHN0YXRlID09PSBcIm1vdW50ZWRcIiA/IGN1cnJlbnRBbmltYXRpb25OYW1lIDogXCJub25lXCI7XG4gIH0sIFtzdGF0ZV0pO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHdhc1ByZXNlbnQgPSBwcmV2UHJlc2VudFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGhhc1ByZXNlbnRDaGFuZ2VkID0gd2FzUHJlc2VudCAhPT0gcHJlc2VudDtcbiAgICBpZiAoaGFzUHJlc2VudENoYW5nZWQpIHtcbiAgICAgIGNvbnN0IHByZXZBbmltYXRpb25OYW1lID0gcHJldkFuaW1hdGlvbk5hbWVSZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IGN1cnJlbnRBbmltYXRpb25OYW1lID0gZ2V0QW5pbWF0aW9uTmFtZShzdHlsZXMpO1xuICAgICAgaWYgKHByZXNlbnQpIHtcbiAgICAgICAgc2VuZChcIk1PVU5UXCIpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50QW5pbWF0aW9uTmFtZSA9PT0gXCJub25lXCIgfHwgc3R5bGVzPy5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICBzZW5kKFwiVU5NT1VOVFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGlzQW5pbWF0aW5nID0gcHJldkFuaW1hdGlvbk5hbWUgIT09IGN1cnJlbnRBbmltYXRpb25OYW1lO1xuICAgICAgICBpZiAod2FzUHJlc2VudCAmJiBpc0FuaW1hdGluZykge1xuICAgICAgICAgIHNlbmQoXCJBTklNQVRJT05fT1VUXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbmQoXCJVTk1PVU5UXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcmV2UHJlc2VudFJlZi5jdXJyZW50ID0gcHJlc2VudDtcbiAgICB9XG4gIH0sIFtwcmVzZW50LCBzZW5kXSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICBjb25zdCBvd25lcldpbmRvdyA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA/PyB3aW5kb3c7XG4gICAgICBjb25zdCBoYW5kbGVBbmltYXRpb25FbmQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudEFuaW1hdGlvbk5hbWUgPSBnZXRBbmltYXRpb25OYW1lKHN0eWxlc1JlZi5jdXJyZW50KTtcbiAgICAgICAgY29uc3QgaXNDdXJyZW50QW5pbWF0aW9uID0gY3VycmVudEFuaW1hdGlvbk5hbWUuaW5jbHVkZXMoZXZlbnQuYW5pbWF0aW9uTmFtZSk7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IG5vZGUgJiYgaXNDdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgc2VuZChcIkFOSU1BVElPTl9FTkRcIik7XG4gICAgICAgICAgaWYgKCFwcmV2UHJlc2VudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RmlsbE1vZGUgPSBub2RlLnN0eWxlLmFuaW1hdGlvbkZpbGxNb2RlO1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb25GaWxsTW9kZSA9IFwiZm9yd2FyZHNcIjtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IG93bmVyV2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobm9kZS5zdHlsZS5hbmltYXRpb25GaWxsTW9kZSA9PT0gXCJmb3J3YXJkc1wiKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb25GaWxsTW9kZSA9IGN1cnJlbnRGaWxsTW9kZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgaGFuZGxlQW5pbWF0aW9uU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gbm9kZSkge1xuICAgICAgICAgIHByZXZBbmltYXRpb25OYW1lUmVmLmN1cnJlbnQgPSBnZXRBbmltYXRpb25OYW1lKHN0eWxlc1JlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbnN0YXJ0XCIsIGhhbmRsZUFuaW1hdGlvblN0YXJ0KTtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmNhbmNlbFwiLCBoYW5kbGVBbmltYXRpb25FbmQpO1xuICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGhhbmRsZUFuaW1hdGlvbkVuZCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvd25lcldpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uc3RhcnRcIiwgaGFuZGxlQW5pbWF0aW9uU3RhcnQpO1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25jYW5jZWxcIiwgaGFuZGxlQW5pbWF0aW9uRW5kKTtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGhhbmRsZUFuaW1hdGlvbkVuZCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZW5kKFwiQU5JTUFUSU9OX0VORFwiKTtcbiAgICB9XG4gIH0sIFtub2RlLCBzZW5kXSk7XG4gIHJldHVybiB7XG4gICAgaXNQcmVzZW50OiBbXCJtb3VudGVkXCIsIFwidW5tb3VudFN1c3BlbmRlZFwiXS5pbmNsdWRlcyhzdGF0ZSksXG4gICAgcmVmOiBSZWFjdDIudXNlQ2FsbGJhY2soKG5vZGUyKSA9PiB7XG4gICAgICBzdHlsZXNSZWYuY3VycmVudCA9IG5vZGUyID8gZ2V0Q29tcHV0ZWRTdHlsZShub2RlMikgOiBudWxsO1xuICAgICAgc2V0Tm9kZShub2RlMik7XG4gICAgfSwgW10pXG4gIH07XG59XG5mdW5jdGlvbiBnZXRBbmltYXRpb25OYW1lKHN0eWxlcykge1xuICByZXR1cm4gc3R5bGVzPy5hbmltYXRpb25OYW1lIHx8IFwibm9uZVwiO1xufVxuZnVuY3Rpb24gZ2V0RWxlbWVudFJlZihlbGVtZW50KSB7XG4gIGxldCBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVsZW1lbnQucHJvcHMsIFwicmVmXCIpPy5nZXQ7XG4gIGxldCBtYXlXYXJuID0gZ2V0dGVyICYmIFwiaXNSZWFjdFdhcm5pbmdcIiBpbiBnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nO1xuICBpZiAobWF5V2Fybikge1xuICAgIHJldHVybiBlbGVtZW50LnJlZjtcbiAgfVxuICBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVsZW1lbnQsIFwicmVmXCIpPy5nZXQ7XG4gIG1heVdhcm4gPSBnZXR0ZXIgJiYgXCJpc1JlYWN0V2FybmluZ1wiIGluIGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmc7XG4gIGlmIChtYXlXYXJuKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucHJvcHMucmVmO1xuICB9XG4gIHJldHVybiBlbGVtZW50LnByb3BzLnJlZiB8fCBlbGVtZW50LnJlZjtcbn1cbnZhciBSb290ID0gUHJlc2VuY2U7XG5leHBvcnQge1xuICBQcmVzZW5jZSxcbiAgUm9vdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvcm92aW5nLWZvY3VzLWdyb3VwLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyBjcmVhdGVDb2xsZWN0aW9uIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb2xsZWN0aW9uXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtaWRcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZURpcmVjdGlvbiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZGlyZWN0aW9uXCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBFTlRSWV9GT0NVUyA9IFwicm92aW5nRm9jdXNHcm91cC5vbkVudHJ5Rm9jdXNcIjtcbnZhciBFVkVOVF9PUFRJT05TID0geyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogdHJ1ZSB9O1xudmFyIEdST1VQX05BTUUgPSBcIlJvdmluZ0ZvY3VzR3JvdXBcIjtcbnZhciBbQ29sbGVjdGlvbiwgdXNlQ29sbGVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvblNjb3BlXSA9IGNyZWF0ZUNvbGxlY3Rpb24oR1JPVVBfTkFNRSk7XG52YXIgW2NyZWF0ZVJvdmluZ0ZvY3VzR3JvdXBDb250ZXh0LCBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKFxuICBHUk9VUF9OQU1FLFxuICBbY3JlYXRlQ29sbGVjdGlvblNjb3BlXVxuKTtcbnZhciBbUm92aW5nRm9jdXNQcm92aWRlciwgdXNlUm92aW5nRm9jdXNDb250ZXh0XSA9IGNyZWF0ZVJvdmluZ0ZvY3VzR3JvdXBDb250ZXh0KEdST1VQX05BTUUpO1xudmFyIFJvdmluZ0ZvY3VzR3JvdXAgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvbGxlY3Rpb24uUHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb2xsZWN0aW9uLlNsb3QsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChSb3ZpbmdGb2N1c0dyb3VwSW1wbCwgeyAuLi5wcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSkgfSkgfSk7XG4gIH1cbik7XG5Sb3ZpbmdGb2N1c0dyb3VwLmRpc3BsYXlOYW1lID0gR1JPVVBfTkFNRTtcbnZhciBSb3ZpbmdGb2N1c0dyb3VwSW1wbCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3Qge1xuICAgIF9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwLFxuICAgIG9yaWVudGF0aW9uLFxuICAgIGxvb3AgPSBmYWxzZSxcbiAgICBkaXIsXG4gICAgY3VycmVudFRhYlN0b3BJZDogY3VycmVudFRhYlN0b3BJZFByb3AsXG4gICAgZGVmYXVsdEN1cnJlbnRUYWJTdG9wSWQsXG4gICAgb25DdXJyZW50VGFiU3RvcElkQ2hhbmdlLFxuICAgIG9uRW50cnlGb2N1cyxcbiAgICBwcmV2ZW50U2Nyb2xsT25FbnRyeUZvY3VzID0gZmFsc2UsXG4gICAgLi4uZ3JvdXBQcm9wc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcbiAgY29uc3QgZGlyZWN0aW9uID0gdXNlRGlyZWN0aW9uKGRpcik7XG4gIGNvbnN0IFtjdXJyZW50VGFiU3RvcElkLCBzZXRDdXJyZW50VGFiU3RvcElkXSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICBwcm9wOiBjdXJyZW50VGFiU3RvcElkUHJvcCxcbiAgICBkZWZhdWx0UHJvcDogZGVmYXVsdEN1cnJlbnRUYWJTdG9wSWQgPz8gbnVsbCxcbiAgICBvbkNoYW5nZTogb25DdXJyZW50VGFiU3RvcElkQ2hhbmdlLFxuICAgIGNhbGxlcjogR1JPVVBfTkFNRVxuICB9KTtcbiAgY29uc3QgW2lzVGFiYmluZ0JhY2tPdXQsIHNldElzVGFiYmluZ0JhY2tPdXRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVFbnRyeUZvY3VzID0gdXNlQ2FsbGJhY2tSZWYob25FbnRyeUZvY3VzKTtcbiAgY29uc3QgZ2V0SXRlbXMgPSB1c2VDb2xsZWN0aW9uKF9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwKTtcbiAgY29uc3QgaXNDbGlja0ZvY3VzUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgW2ZvY3VzYWJsZUl0ZW1zQ291bnQsIHNldEZvY3VzYWJsZUl0ZW1zQ291bnRdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IHJlZi5jdXJyZW50O1xuICAgIGlmIChub2RlKSB7XG4gICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoRU5UUllfRk9DVVMsIGhhbmRsZUVudHJ5Rm9jdXMpO1xuICAgICAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihFTlRSWV9GT0NVUywgaGFuZGxlRW50cnlGb2N1cyk7XG4gICAgfVxuICB9LCBbaGFuZGxlRW50cnlGb2N1c10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSb3ZpbmdGb2N1c1Byb3ZpZGVyLFxuICAgIHtcbiAgICAgIHNjb3BlOiBfX3Njb3BlUm92aW5nRm9jdXNHcm91cCxcbiAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgZGlyOiBkaXJlY3Rpb24sXG4gICAgICBsb29wLFxuICAgICAgY3VycmVudFRhYlN0b3BJZCxcbiAgICAgIG9uSXRlbUZvY3VzOiBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgICAgKHRhYlN0b3BJZCkgPT4gc2V0Q3VycmVudFRhYlN0b3BJZCh0YWJTdG9wSWQpLFxuICAgICAgICBbc2V0Q3VycmVudFRhYlN0b3BJZF1cbiAgICAgICksXG4gICAgICBvbkl0ZW1TaGlmdFRhYjogUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gc2V0SXNUYWJiaW5nQmFja091dCh0cnVlKSwgW10pLFxuICAgICAgb25Gb2N1c2FibGVJdGVtQWRkOiBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgICAgKCkgPT4gc2V0Rm9jdXNhYmxlSXRlbXNDb3VudCgocHJldkNvdW50KSA9PiBwcmV2Q291bnQgKyAxKSxcbiAgICAgICAgW11cbiAgICAgICksXG4gICAgICBvbkZvY3VzYWJsZUl0ZW1SZW1vdmU6IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgICAoKSA9PiBzZXRGb2N1c2FibGVJdGVtc0NvdW50KChwcmV2Q291bnQpID0+IHByZXZDb3VudCAtIDEpLFxuICAgICAgICBbXVxuICAgICAgKSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBQcmltaXRpdmUuZGl2LFxuICAgICAgICB7XG4gICAgICAgICAgdGFiSW5kZXg6IGlzVGFiYmluZ0JhY2tPdXQgfHwgZm9jdXNhYmxlSXRlbXNDb3VudCA9PT0gMCA/IC0xIDogMCxcbiAgICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogb3JpZW50YXRpb24sXG4gICAgICAgICAgLi4uZ3JvdXBQcm9wcyxcbiAgICAgICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgICAgICBzdHlsZTogeyBvdXRsaW5lOiBcIm5vbmVcIiwgLi4ucHJvcHMuc3R5bGUgfSxcbiAgICAgICAgICBvbk1vdXNlRG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Nb3VzZURvd24sICgpID0+IHtcbiAgICAgICAgICAgIGlzQ2xpY2tGb2N1c1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBvbkZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkZvY3VzLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzS2V5Ym9hcmRGb2N1cyA9ICFpc0NsaWNrRm9jdXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgaXNLZXlib2FyZEZvY3VzICYmICFpc1RhYmJpbmdCYWNrT3V0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVudHJ5Rm9jdXNFdmVudCA9IG5ldyBDdXN0b21FdmVudChFTlRSWV9GT0NVUywgRVZFTlRfT1BUSU9OUyk7XG4gICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChlbnRyeUZvY3VzRXZlbnQpO1xuICAgICAgICAgICAgICBpZiAoIWVudHJ5Rm9jdXNFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBnZXRJdGVtcygpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5mb2N1c2FibGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUl0ZW0gPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEl0ZW0gPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBjdXJyZW50VGFiU3RvcElkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGVJdGVtcyA9IFthY3RpdmVJdGVtLCBjdXJyZW50SXRlbSwgLi4uaXRlbXNdLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgIEJvb2xlYW5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZU5vZGVzID0gY2FuZGlkYXRlSXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBmb2N1c0ZpcnN0KGNhbmRpZGF0ZU5vZGVzLCBwcmV2ZW50U2Nyb2xsT25FbnRyeUZvY3VzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNDbGlja0ZvY3VzUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBvbkJsdXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uQmx1ciwgKCkgPT4gc2V0SXNUYWJiaW5nQmFja091dChmYWxzZSkpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59KTtcbnZhciBJVEVNX05BTUUgPSBcIlJvdmluZ0ZvY3VzR3JvdXBJdGVtXCI7XG52YXIgUm92aW5nRm9jdXNHcm91cEl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwLFxuICAgICAgZm9jdXNhYmxlID0gdHJ1ZSxcbiAgICAgIGFjdGl2ZSA9IGZhbHNlLFxuICAgICAgdGFiU3RvcElkLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICAuLi5pdGVtUHJvcHNcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgYXV0b0lkID0gdXNlSWQoKTtcbiAgICBjb25zdCBpZCA9IHRhYlN0b3BJZCB8fCBhdXRvSWQ7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVJvdmluZ0ZvY3VzQ29udGV4dChJVEVNX05BTUUsIF9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwKTtcbiAgICBjb25zdCBpc0N1cnJlbnRUYWJTdG9wID0gY29udGV4dC5jdXJyZW50VGFiU3RvcElkID09PSBpZDtcbiAgICBjb25zdCBnZXRJdGVtcyA9IHVzZUNvbGxlY3Rpb24oX19zY29wZVJvdmluZ0ZvY3VzR3JvdXApO1xuICAgIGNvbnN0IHsgb25Gb2N1c2FibGVJdGVtQWRkLCBvbkZvY3VzYWJsZUl0ZW1SZW1vdmUsIGN1cnJlbnRUYWJTdG9wSWQgfSA9IGNvbnRleHQ7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChmb2N1c2FibGUpIHtcbiAgICAgICAgb25Gb2N1c2FibGVJdGVtQWRkKCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBvbkZvY3VzYWJsZUl0ZW1SZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9LCBbZm9jdXNhYmxlLCBvbkZvY3VzYWJsZUl0ZW1BZGQsIG9uRm9jdXNhYmxlSXRlbVJlbW92ZV0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgQ29sbGVjdGlvbi5JdGVtU2xvdCxcbiAgICAgIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVSb3ZpbmdGb2N1c0dyb3VwLFxuICAgICAgICBpZCxcbiAgICAgICAgZm9jdXNhYmxlLFxuICAgICAgICBhY3RpdmUsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFByaW1pdGl2ZS5zcGFuLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRhYkluZGV4OiBpc0N1cnJlbnRUYWJTdG9wID8gMCA6IC0xLFxuICAgICAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IGNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgICAgICAuLi5pdGVtUHJvcHMsXG4gICAgICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgICAgIG9uTW91c2VEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbk1vdXNlRG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGlmICghZm9jdXNhYmxlKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBlbHNlIGNvbnRleHQub25JdGVtRm9jdXMoaWQpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkZvY3VzLCAoKSA9PiBjb250ZXh0Lm9uSXRlbUZvY3VzKGlkKSksXG4gICAgICAgICAgICBvbktleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uSXRlbVNoaWZ0VGFiKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHJldHVybjtcbiAgICAgICAgICAgICAgY29uc3QgZm9jdXNJbnRlbnQgPSBnZXRGb2N1c0ludGVudChldmVudCwgY29udGV4dC5vcmllbnRhdGlvbiwgY29udGV4dC5kaXIpO1xuICAgICAgICAgICAgICBpZiAoZm9jdXNJbnRlbnQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LnNoaWZ0S2V5KSByZXR1cm47XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGdldEl0ZW1zKCkuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmZvY3VzYWJsZSk7XG4gICAgICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZU5vZGVzID0gaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoZm9jdXNJbnRlbnQgPT09IFwibGFzdFwiKSBjYW5kaWRhdGVOb2Rlcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9jdXNJbnRlbnQgPT09IFwicHJldlwiIHx8IGZvY3VzSW50ZW50ID09PSBcIm5leHRcIikge1xuICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzSW50ZW50ID09PSBcInByZXZcIikgY2FuZGlkYXRlTm9kZXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gY2FuZGlkYXRlTm9kZXMuaW5kZXhPZihldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZU5vZGVzID0gY29udGV4dC5sb29wID8gd3JhcEFycmF5KGNhbmRpZGF0ZU5vZGVzLCBjdXJyZW50SW5kZXggKyAxKSA6IGNhbmRpZGF0ZU5vZGVzLnNsaWNlKGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGZvY3VzRmlyc3QoY2FuZGlkYXRlTm9kZXMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjaGlsZHJlbjogdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbih7IGlzQ3VycmVudFRhYlN0b3AsIGhhc1RhYlN0b3A6IGN1cnJlbnRUYWJTdG9wSWQgIT0gbnVsbCB9KSA6IGNoaWxkcmVuXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblJvdmluZ0ZvY3VzR3JvdXBJdGVtLmRpc3BsYXlOYW1lID0gSVRFTV9OQU1FO1xudmFyIE1BUF9LRVlfVE9fRk9DVVNfSU5URU5UID0ge1xuICBBcnJvd0xlZnQ6IFwicHJldlwiLFxuICBBcnJvd1VwOiBcInByZXZcIixcbiAgQXJyb3dSaWdodDogXCJuZXh0XCIsXG4gIEFycm93RG93bjogXCJuZXh0XCIsXG4gIFBhZ2VVcDogXCJmaXJzdFwiLFxuICBIb21lOiBcImZpcnN0XCIsXG4gIFBhZ2VEb3duOiBcImxhc3RcIixcbiAgRW5kOiBcImxhc3RcIlxufTtcbmZ1bmN0aW9uIGdldERpcmVjdGlvbkF3YXJlS2V5KGtleSwgZGlyKSB7XG4gIGlmIChkaXIgIT09IFwicnRsXCIpIHJldHVybiBrZXk7XG4gIHJldHVybiBrZXkgPT09IFwiQXJyb3dMZWZ0XCIgPyBcIkFycm93UmlnaHRcIiA6IGtleSA9PT0gXCJBcnJvd1JpZ2h0XCIgPyBcIkFycm93TGVmdFwiIDoga2V5O1xufVxuZnVuY3Rpb24gZ2V0Rm9jdXNJbnRlbnQoZXZlbnQsIG9yaWVudGF0aW9uLCBkaXIpIHtcbiAgY29uc3Qga2V5ID0gZ2V0RGlyZWN0aW9uQXdhcmVLZXkoZXZlbnQua2V5LCBkaXIpO1xuICBpZiAob3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiAmJiBbXCJBcnJvd0xlZnRcIiwgXCJBcnJvd1JpZ2h0XCJdLmluY2x1ZGVzKGtleSkpIHJldHVybiB2b2lkIDA7XG4gIGlmIChvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgJiYgW1wiQXJyb3dVcFwiLCBcIkFycm93RG93blwiXS5pbmNsdWRlcyhrZXkpKSByZXR1cm4gdm9pZCAwO1xuICByZXR1cm4gTUFQX0tFWV9UT19GT0NVU19JTlRFTlRba2V5XTtcbn1cbmZ1bmN0aW9uIGZvY3VzRmlyc3QoY2FuZGlkYXRlcywgcHJldmVudFNjcm9sbCA9IGZhbHNlKSB7XG4gIGNvbnN0IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuICAgIGlmIChjYW5kaWRhdGUgPT09IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UKSByZXR1cm47XG4gICAgY2FuZGlkYXRlLmZvY3VzKHsgcHJldmVudFNjcm9sbCB9KTtcbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gUFJFVklPVVNMWV9GT0NVU0VEX0VMRU1FTlQpIHJldHVybjtcbiAgfVxufVxuZnVuY3Rpb24gd3JhcEFycmF5KGFycmF5LCBzdGFydEluZGV4KSB7XG4gIHJldHVybiBhcnJheS5tYXAoKF8sIGluZGV4KSA9PiBhcnJheVsoc3RhcnRJbmRleCArIGluZGV4KSAlIGFycmF5Lmxlbmd0aF0pO1xufVxudmFyIFJvb3QgPSBSb3ZpbmdGb2N1c0dyb3VwO1xudmFyIEl0ZW0gPSBSb3ZpbmdGb2N1c0dyb3VwSXRlbTtcbmV4cG9ydCB7XG4gIEl0ZW0sXG4gIFJvb3QsXG4gIFJvdmluZ0ZvY3VzR3JvdXAsXG4gIFJvdmluZ0ZvY3VzR3JvdXBJdGVtLFxuICBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcInVzZSBjbGllbnRcIjtcblxuLy8gc3JjL21lbnUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbGxlY3Rpb25cIjtcbmltcG9ydCB7IHVzZUNvbXBvc2VkUmVmcywgY29tcG9zZVJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyB1c2VEaXJlY3Rpb24gfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWRpcmVjdGlvblwiO1xuaW1wb3J0IHsgRGlzbWlzc2FibGVMYXllciB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZGlzbWlzc2FibGUtbGF5ZXJcIjtcbmltcG9ydCB7IHVzZUZvY3VzR3VhcmRzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1mb2N1cy1ndWFyZHNcIjtcbmltcG9ydCB7IEZvY3VzU2NvcGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvY3VzLXNjb3BlXCI7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtaWRcIjtcbmltcG9ydCAqIGFzIFBvcHBlclByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcHBlclwiO1xuaW1wb3J0IHsgY3JlYXRlUG9wcGVyU2NvcGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcHBlclwiO1xuaW1wb3J0IHsgUG9ydGFsIGFzIFBvcnRhbFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9ydGFsXCI7XG5pbXBvcnQgeyBQcmVzZW5jZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJlc2VuY2VcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSwgZGlzcGF0Y2hEaXNjcmV0ZUN1c3RvbUV2ZW50IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCAqIGFzIFJvdmluZ0ZvY3VzR3JvdXAgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1yb3ZpbmctZm9jdXNcIjtcbmltcG9ydCB7IGNyZWF0ZVJvdmluZ0ZvY3VzR3JvdXBTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtcm92aW5nLWZvY3VzXCI7XG5pbXBvcnQgeyBjcmVhdGVTbG90IH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zbG90XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFja1JlZiB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNhbGxiYWNrLXJlZlwiO1xuaW1wb3J0IHsgaGlkZU90aGVycyB9IGZyb20gXCJhcmlhLWhpZGRlblwiO1xuaW1wb3J0IHsgUmVtb3ZlU2Nyb2xsIH0gZnJvbSBcInJlYWN0LXJlbW92ZS1zY3JvbGxcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFNFTEVDVElPTl9LRVlTID0gW1wiRW50ZXJcIiwgXCIgXCJdO1xudmFyIEZJUlNUX0tFWVMgPSBbXCJBcnJvd0Rvd25cIiwgXCJQYWdlVXBcIiwgXCJIb21lXCJdO1xudmFyIExBU1RfS0VZUyA9IFtcIkFycm93VXBcIiwgXCJQYWdlRG93blwiLCBcIkVuZFwiXTtcbnZhciBGSVJTVF9MQVNUX0tFWVMgPSBbLi4uRklSU1RfS0VZUywgLi4uTEFTVF9LRVlTXTtcbnZhciBTVUJfT1BFTl9LRVlTID0ge1xuICBsdHI6IFsuLi5TRUxFQ1RJT05fS0VZUywgXCJBcnJvd1JpZ2h0XCJdLFxuICBydGw6IFsuLi5TRUxFQ1RJT05fS0VZUywgXCJBcnJvd0xlZnRcIl1cbn07XG52YXIgU1VCX0NMT1NFX0tFWVMgPSB7XG4gIGx0cjogW1wiQXJyb3dMZWZ0XCJdLFxuICBydGw6IFtcIkFycm93UmlnaHRcIl1cbn07XG52YXIgTUVOVV9OQU1FID0gXCJNZW51XCI7XG52YXIgW0NvbGxlY3Rpb24sIHVzZUNvbGxlY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb25TY29wZV0gPSBjcmVhdGVDb2xsZWN0aW9uKE1FTlVfTkFNRSk7XG52YXIgW2NyZWF0ZU1lbnVDb250ZXh0LCBjcmVhdGVNZW51U2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKE1FTlVfTkFNRSwgW1xuICBjcmVhdGVDb2xsZWN0aW9uU2NvcGUsXG4gIGNyZWF0ZVBvcHBlclNjb3BlLFxuICBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGVcbl0pO1xudmFyIHVzZVBvcHBlclNjb3BlID0gY3JlYXRlUG9wcGVyU2NvcGUoKTtcbnZhciB1c2VSb3ZpbmdGb2N1c0dyb3VwU2NvcGUgPSBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGUoKTtcbnZhciBbTWVudVByb3ZpZGVyLCB1c2VNZW51Q29udGV4dF0gPSBjcmVhdGVNZW51Q29udGV4dChNRU5VX05BTUUpO1xudmFyIFtNZW51Um9vdFByb3ZpZGVyLCB1c2VNZW51Um9vdENvbnRleHRdID0gY3JlYXRlTWVudUNvbnRleHQoTUVOVV9OQU1FKTtcbnZhciBNZW51ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgX19zY29wZU1lbnUsIG9wZW4gPSBmYWxzZSwgY2hpbGRyZW4sIGRpciwgb25PcGVuQ2hhbmdlLCBtb2RhbCA9IHRydWUgfSA9IHByb3BzO1xuICBjb25zdCBwb3BwZXJTY29wZSA9IHVzZVBvcHBlclNjb3BlKF9fc2NvcGVNZW51KTtcbiAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGlzVXNpbmdLZXlib2FyZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZU9wZW5DaGFuZ2UgPSB1c2VDYWxsYmFja1JlZihvbk9wZW5DaGFuZ2UpO1xuICBjb25zdCBkaXJlY3Rpb24gPSB1c2VEaXJlY3Rpb24oZGlyKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKCkgPT4ge1xuICAgICAgaXNVc2luZ0tleWJvYXJkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGhhbmRsZVBvaW50ZXIsIHsgY2FwdHVyZTogdHJ1ZSwgb25jZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBoYW5kbGVQb2ludGVyLCB7IGNhcHR1cmU6IHRydWUsIG9uY2U6IHRydWUgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVQb2ludGVyID0gKCkgPT4gaXNVc2luZ0tleWJvYXJkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24sIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlUG9pbnRlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLlJvb3QsIHsgLi4ucG9wcGVyU2NvcGUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIE1lbnVQcm92aWRlcixcbiAgICB7XG4gICAgICBzY29wZTogX19zY29wZU1lbnUsXG4gICAgICBvcGVuLFxuICAgICAgb25PcGVuQ2hhbmdlOiBoYW5kbGVPcGVuQ2hhbmdlLFxuICAgICAgY29udGVudCxcbiAgICAgIG9uQ29udGVudENoYW5nZTogc2V0Q29udGVudCxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBNZW51Um9vdFByb3ZpZGVyLFxuICAgICAgICB7XG4gICAgICAgICAgc2NvcGU6IF9fc2NvcGVNZW51LFxuICAgICAgICAgIG9uQ2xvc2U6IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGhhbmRsZU9wZW5DaGFuZ2UoZmFsc2UpLCBbaGFuZGxlT3BlbkNoYW5nZV0pLFxuICAgICAgICAgIGlzVXNpbmdLZXlib2FyZFJlZixcbiAgICAgICAgICBkaXI6IGRpcmVjdGlvbixcbiAgICAgICAgICBtb2RhbCxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApIH0pO1xufTtcbk1lbnUuZGlzcGxheU5hbWUgPSBNRU5VX05BTUU7XG52YXIgQU5DSE9SX05BTUUgPSBcIk1lbnVBbmNob3JcIjtcbnZhciBNZW51QW5jaG9yID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVNZW51LCAuLi5hbmNob3JQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlTWVudSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLkFuY2hvciwgeyAuLi5wb3BwZXJTY29wZSwgLi4uYW5jaG9yUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xuTWVudUFuY2hvci5kaXNwbGF5TmFtZSA9IEFOQ0hPUl9OQU1FO1xudmFyIFBPUlRBTF9OQU1FID0gXCJNZW51UG9ydGFsXCI7XG52YXIgW1BvcnRhbFByb3ZpZGVyLCB1c2VQb3J0YWxDb250ZXh0XSA9IGNyZWF0ZU1lbnVDb250ZXh0KFBPUlRBTF9OQU1FLCB7XG4gIGZvcmNlTW91bnQ6IHZvaWQgMFxufSk7XG52YXIgTWVudVBvcnRhbCA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVNZW51LCBmb3JjZU1vdW50LCBjaGlsZHJlbiwgY29udGFpbmVyIH0gPSBwcm9wcztcbiAgY29uc3QgY29udGV4dCA9IHVzZU1lbnVDb250ZXh0KFBPUlRBTF9OQU1FLCBfX3Njb3BlTWVudSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFBvcnRhbFByb3ZpZGVyLCB7IHNjb3BlOiBfX3Njb3BlTWVudSwgZm9yY2VNb3VudCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUHJlc2VuY2UsIHsgcHJlc2VudDogZm9yY2VNb3VudCB8fCBjb250ZXh0Lm9wZW4sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFBvcnRhbFByaW1pdGl2ZSwgeyBhc0NoaWxkOiB0cnVlLCBjb250YWluZXIsIGNoaWxkcmVuIH0pIH0pIH0pO1xufTtcbk1lbnVQb3J0YWwuZGlzcGxheU5hbWUgPSBQT1JUQUxfTkFNRTtcbnZhciBDT05URU5UX05BTUUgPSBcIk1lbnVDb250ZW50XCI7XG52YXIgW01lbnVDb250ZW50UHJvdmlkZXIsIHVzZU1lbnVDb250ZW50Q29udGV4dF0gPSBjcmVhdGVNZW51Q29udGV4dChDT05URU5UX05BTUUpO1xudmFyIE1lbnVDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBwb3J0YWxDb250ZXh0ID0gdXNlUG9ydGFsQ29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVNZW51KTtcbiAgICBjb25zdCB7IGZvcmNlTW91bnQgPSBwb3J0YWxDb250ZXh0LmZvcmNlTW91bnQsIC4uLmNvbnRlbnRQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZU1lbnVDb250ZXh0KENPTlRFTlRfTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gdXNlTWVudVJvb3RDb250ZXh0KENPTlRFTlRfTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvbGxlY3Rpb24uUHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVNZW51LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcmVzZW5jZSwgeyBwcmVzZW50OiBmb3JjZU1vdW50IHx8IGNvbnRleHQub3BlbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGVjdGlvbi5TbG90LCB7IHNjb3BlOiBwcm9wcy5fX3Njb3BlTWVudSwgY2hpbGRyZW46IHJvb3RDb250ZXh0Lm1vZGFsID8gLyogQF9fUFVSRV9fICovIGpzeChNZW51Um9vdENvbnRlbnRNb2RhbCwgeyAuLi5jb250ZW50UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChNZW51Um9vdENvbnRlbnROb25Nb2RhbCwgeyAuLi5jb250ZW50UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIH0pIH0pIH0pO1xuICB9XG4pO1xudmFyIE1lbnVSb290Q29udGVudE1vZGFsID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlTWVudUNvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlTWVudSk7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHJlZik7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSByZWYuY3VycmVudDtcbiAgICAgIGlmIChjb250ZW50KSByZXR1cm4gaGlkZU90aGVycyhjb250ZW50KTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBNZW51Q29udGVudEltcGwsXG4gICAgICB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICByZWY6IGNvbXBvc2VkUmVmcyxcbiAgICAgICAgdHJhcEZvY3VzOiBjb250ZXh0Lm9wZW4sXG4gICAgICAgIGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50czogY29udGV4dC5vcGVuLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVNjcm9sbDogdHJ1ZSxcbiAgICAgICAgb25Gb2N1c091dHNpZGU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKFxuICAgICAgICAgIHByb3BzLm9uRm9jdXNPdXRzaWRlLFxuICAgICAgICAgIChldmVudCkgPT4gZXZlbnQucHJldmVudERlZmF1bHQoKSxcbiAgICAgICAgICB7IGNoZWNrRm9yRGVmYXVsdFByZXZlbnRlZDogZmFsc2UgfVxuICAgICAgICApLFxuICAgICAgICBvbkRpc21pc3M6ICgpID0+IGNvbnRleHQub25PcGVuQ2hhbmdlKGZhbHNlKVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG52YXIgTWVudVJvb3RDb250ZW50Tm9uTW9kYWwgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNZW51Q29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVNZW51KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgTWVudUNvbnRlbnRJbXBsLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICB0cmFwRm9jdXM6IGZhbHNlLFxuICAgICAgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzOiBmYWxzZSxcbiAgICAgIGRpc2FibGVPdXRzaWRlU2Nyb2xsOiBmYWxzZSxcbiAgICAgIG9uRGlzbWlzczogKCkgPT4gY29udGV4dC5vbk9wZW5DaGFuZ2UoZmFsc2UpXG4gICAgfVxuICApO1xufSk7XG52YXIgU2xvdCA9IGNyZWF0ZVNsb3QoXCJNZW51Q29udGVudC5TY3JvbGxMb2NrXCIpO1xudmFyIE1lbnVDb250ZW50SW1wbCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgX19zY29wZU1lbnUsXG4gICAgICBsb29wID0gZmFsc2UsXG4gICAgICB0cmFwRm9jdXMsXG4gICAgICBvbk9wZW5BdXRvRm9jdXMsXG4gICAgICBvbkNsb3NlQXV0b0ZvY3VzLFxuICAgICAgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzLFxuICAgICAgb25FbnRyeUZvY3VzLFxuICAgICAgb25Fc2NhcGVLZXlEb3duLFxuICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUsXG4gICAgICBvbkZvY3VzT3V0c2lkZSxcbiAgICAgIG9uSW50ZXJhY3RPdXRzaWRlLFxuICAgICAgb25EaXNtaXNzLFxuICAgICAgZGlzYWJsZU91dHNpZGVTY3JvbGwsXG4gICAgICAuLi5jb250ZW50UHJvcHNcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZU1lbnVDb250ZXh0KENPTlRFTlRfTkFNRSwgX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gdXNlTWVudVJvb3RDb250ZXh0KENPTlRFTlRfTkFNRSwgX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHJvdmluZ0ZvY3VzR3JvdXBTY29wZSA9IHVzZVJvdmluZ0ZvY3VzR3JvdXBTY29wZShfX3Njb3BlTWVudSk7XG4gICAgY29uc3QgZ2V0SXRlbXMgPSB1c2VDb2xsZWN0aW9uKF9fc2NvcGVNZW51KTtcbiAgICBjb25zdCBbY3VycmVudEl0ZW1JZCwgc2V0Q3VycmVudEl0ZW1JZF0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjb250ZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIGNvbnRlbnRSZWYsIGNvbnRleHQub25Db250ZW50Q2hhbmdlKTtcbiAgICBjb25zdCB0aW1lclJlZiA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBzZWFyY2hSZWYgPSBSZWFjdC51c2VSZWYoXCJcIik7XG4gICAgY29uc3QgcG9pbnRlckdyYWNlVGltZXJSZWYgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcG9pbnRlckdyYWNlSW50ZW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHBvaW50ZXJEaXJSZWYgPSBSZWFjdC51c2VSZWYoXCJyaWdodFwiKTtcbiAgICBjb25zdCBsYXN0UG9pbnRlclhSZWYgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgU2Nyb2xsTG9ja1dyYXBwZXIgPSBkaXNhYmxlT3V0c2lkZVNjcm9sbCA/IFJlbW92ZVNjcm9sbCA6IFJlYWN0LkZyYWdtZW50O1xuICAgIGNvbnN0IHNjcm9sbExvY2tXcmFwcGVyUHJvcHMgPSBkaXNhYmxlT3V0c2lkZVNjcm9sbCA/IHsgYXM6IFNsb3QsIGFsbG93UGluY2hab29tOiB0cnVlIH0gOiB2b2lkIDA7XG4gICAgY29uc3QgaGFuZGxlVHlwZWFoZWFkU2VhcmNoID0gKGtleSkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUmVmLmN1cnJlbnQgKyBrZXk7XG4gICAgICBjb25zdCBpdGVtcyA9IGdldEl0ZW1zKCkuZmlsdGVyKChpdGVtKSA9PiAhaXRlbS5kaXNhYmxlZCk7XG4gICAgICBjb25zdCBjdXJyZW50SXRlbSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBjb25zdCBjdXJyZW50TWF0Y2ggPSBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLnJlZi5jdXJyZW50ID09PSBjdXJyZW50SXRlbSk/LnRleHRWYWx1ZTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50ZXh0VmFsdWUpO1xuICAgICAgY29uc3QgbmV4dE1hdGNoID0gZ2V0TmV4dE1hdGNoKHZhbHVlcywgc2VhcmNoLCBjdXJyZW50TWF0Y2gpO1xuICAgICAgY29uc3QgbmV3SXRlbSA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0udGV4dFZhbHVlID09PSBuZXh0TWF0Y2gpPy5yZWYuY3VycmVudDtcbiAgICAgIChmdW5jdGlvbiB1cGRhdGVTZWFyY2godmFsdWUpIHtcbiAgICAgICAgc2VhcmNoUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiKSB0aW1lclJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdXBkYXRlU2VhcmNoKFwiXCIpLCAxZTMpO1xuICAgICAgfSkoc2VhcmNoKTtcbiAgICAgIGlmIChuZXdJdGVtKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbmV3SXRlbS5mb2N1cygpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICByZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dCh0aW1lclJlZi5jdXJyZW50KTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRm9jdXNHdWFyZHMoKTtcbiAgICBjb25zdCBpc1BvaW50ZXJNb3ZpbmdUb1N1Ym1lbnUgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGlzTW92aW5nVG93YXJkcyA9IHBvaW50ZXJEaXJSZWYuY3VycmVudCA9PT0gcG9pbnRlckdyYWNlSW50ZW50UmVmLmN1cnJlbnQ/LnNpZGU7XG4gICAgICByZXR1cm4gaXNNb3ZpbmdUb3dhcmRzICYmIGlzUG9pbnRlckluR3JhY2VBcmVhKGV2ZW50LCBwb2ludGVyR3JhY2VJbnRlbnRSZWYuY3VycmVudD8uYXJlYSk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgTWVudUNvbnRlbnRQcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVNZW51LFxuICAgICAgICBzZWFyY2hSZWYsXG4gICAgICAgIG9uSXRlbUVudGVyOiBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJNb3ZpbmdUb1N1Ym1lbnUoZXZlbnQpKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW2lzUG9pbnRlck1vdmluZ1RvU3VibWVudV1cbiAgICAgICAgKSxcbiAgICAgICAgb25JdGVtTGVhdmU6IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUG9pbnRlck1vdmluZ1RvU3VibWVudShldmVudCkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnRlbnRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRJdGVtSWQobnVsbCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbaXNQb2ludGVyTW92aW5nVG9TdWJtZW51XVxuICAgICAgICApLFxuICAgICAgICBvblRyaWdnZXJMZWF2ZTogUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNQb2ludGVyTW92aW5nVG9TdWJtZW51KGV2ZW50KSkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtpc1BvaW50ZXJNb3ZpbmdUb1N1Ym1lbnVdXG4gICAgICAgICksXG4gICAgICAgIHBvaW50ZXJHcmFjZVRpbWVyUmVmLFxuICAgICAgICBvblBvaW50ZXJHcmFjZUludGVudENoYW5nZTogUmVhY3QudXNlQ2FsbGJhY2soKGludGVudCkgPT4ge1xuICAgICAgICAgIHBvaW50ZXJHcmFjZUludGVudFJlZi5jdXJyZW50ID0gaW50ZW50O1xuICAgICAgICB9LCBbXSksXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFNjcm9sbExvY2tXcmFwcGVyLCB7IC4uLnNjcm9sbExvY2tXcmFwcGVyUHJvcHMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIEZvY3VzU2NvcGUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXNDaGlsZDogdHJ1ZSxcbiAgICAgICAgICAgIHRyYXBwZWQ6IHRyYXBGb2N1cyxcbiAgICAgICAgICAgIG9uTW91bnRBdXRvRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uT3BlbkF1dG9Gb2N1cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGNvbnRlbnRSZWYuY3VycmVudD8uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvblVubW91bnRBdXRvRm9jdXM6IG9uQ2xvc2VBdXRvRm9jdXMsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgRGlzbWlzc2FibGVMYXllcixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzLFxuICAgICAgICAgICAgICAgIG9uRXNjYXBlS2V5RG93bixcbiAgICAgICAgICAgICAgICBvblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgICAgICAgICAgICBvbkZvY3VzT3V0c2lkZSxcbiAgICAgICAgICAgICAgICBvbkludGVyYWN0T3V0c2lkZSxcbiAgICAgICAgICAgICAgICBvbkRpc21pc3MsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgICAgICBSb3ZpbmdGb2N1c0dyb3VwLlJvb3QsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC4uLnJvdmluZ0ZvY3VzR3JvdXBTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgZGlyOiByb290Q29udGV4dC5kaXIsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIGxvb3AsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWJTdG9wSWQ6IGN1cnJlbnRJdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgIG9uQ3VycmVudFRhYlN0b3BJZENoYW5nZTogc2V0Q3VycmVudEl0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgb25FbnRyeUZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkVudHJ5Rm9jdXMsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghcm9vdENvbnRleHQuaXNVc2luZ0tleWJvYXJkUmVmLmN1cnJlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50U2Nyb2xsT25FbnRyeUZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgICBQb3BwZXJQcmltaXRpdmUuQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBcIm1lbnVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiBcInZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtc3RhdGVcIjogZ2V0T3BlblN0YXRlKGNvbnRleHQub3BlbiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtcmFkaXgtbWVudS1jb250ZW50XCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXI6IHJvb3RDb250ZXh0LmRpcixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnBvcHBlclNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBvdXRsaW5lOiBcIm5vbmVcIiwgLi4uY29udGVudFByb3BzLnN0eWxlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKGNvbnRlbnRQcm9wcy5vbktleURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzS2V5RG93bkluc2lkZSA9IHRhcmdldC5jbG9zZXN0KFwiW2RhdGEtcmFkaXgtbWVudS1jb250ZW50XVwiKSA9PT0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNb2RpZmllcktleSA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2hhcmFjdGVyS2V5ID0gZXZlbnQua2V5Lmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzS2V5RG93bkluc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01vZGlmaWVyS2V5ICYmIGlzQ2hhcmFjdGVyS2V5KSBoYW5kbGVUeXBlYWhlYWRTZWFyY2goZXZlbnQua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGVudFJlZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBjb250ZW50KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghRklSU1RfTEFTVF9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBnZXRJdGVtcygpLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0uZGlzYWJsZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGVOb2RlcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5yZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChMQVNUX0tFWVMuaW5jbHVkZXMoZXZlbnQua2V5KSkgY2FuZGlkYXRlTm9kZXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0ZpcnN0KGNhbmRpZGF0ZU5vZGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25CbHVyOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkJsdXIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LmN1cnJlbnRUYXJnZXQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVmLmN1cnJlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlck1vdmU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5vblBvaW50ZXJNb3ZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuTW91c2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ZXJYSGFzQ2hhbmdlZCA9IGxhc3RQb2ludGVyWFJlZi5jdXJyZW50ICE9PSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKHRhcmdldCkgJiYgcG9pbnRlclhIYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEaXIgPSBldmVudC5jbGllbnRYID4gbGFzdFBvaW50ZXJYUmVmLmN1cnJlbnQgPyBcInJpZ2h0XCIgOiBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJEaXJSZWYuY3VycmVudCA9IG5ld0RpcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQb2ludGVyWFJlZi5jdXJyZW50ID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICApIH0pXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbk1lbnVDb250ZW50LmRpc3BsYXlOYW1lID0gQ09OVEVOVF9OQU1FO1xudmFyIEdST1VQX05BTUUgPSBcIk1lbnVHcm91cFwiO1xudmFyIE1lbnVHcm91cCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlTWVudSwgLi4uZ3JvdXBQcm9wcyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUHJpbWl0aXZlLmRpdiwgeyByb2xlOiBcImdyb3VwXCIsIC4uLmdyb3VwUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xuTWVudUdyb3VwLmRpc3BsYXlOYW1lID0gR1JPVVBfTkFNRTtcbnZhciBMQUJFTF9OQU1FID0gXCJNZW51TGFiZWxcIjtcbnZhciBNZW51TGFiZWwgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZU1lbnUsIC4uLmxhYmVsUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFByaW1pdGl2ZS5kaXYsIHsgLi4ubGFiZWxQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG4gIH1cbik7XG5NZW51TGFiZWwuZGlzcGxheU5hbWUgPSBMQUJFTF9OQU1FO1xudmFyIElURU1fTkFNRSA9IFwiTWVudUl0ZW1cIjtcbnZhciBJVEVNX1NFTEVDVCA9IFwibWVudS5pdGVtU2VsZWN0XCI7XG52YXIgTWVudUl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgZGlzYWJsZWQgPSBmYWxzZSwgb25TZWxlY3QsIC4uLml0ZW1Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gdXNlTWVudVJvb3RDb250ZXh0KElURU1fTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IGNvbnRlbnRDb250ZXh0ID0gdXNlTWVudUNvbnRlbnRDb250ZXh0KElURU1fTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9IHVzZUNvbXBvc2VkUmVmcyhmb3J3YXJkZWRSZWYsIHJlZik7XG4gICAgY29uc3QgaXNQb2ludGVyRG93blJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgbWVudUl0ZW0gPSByZWYuY3VycmVudDtcbiAgICAgIGlmICghZGlzYWJsZWQgJiYgbWVudUl0ZW0pIHtcbiAgICAgICAgY29uc3QgaXRlbVNlbGVjdEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KElURU1fU0VMRUNULCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUgfSk7XG4gICAgICAgIG1lbnVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoSVRFTV9TRUxFQ1QsIChldmVudCkgPT4gb25TZWxlY3Q/LihldmVudCksIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgZGlzcGF0Y2hEaXNjcmV0ZUN1c3RvbUV2ZW50KG1lbnVJdGVtLCBpdGVtU2VsZWN0RXZlbnQpO1xuICAgICAgICBpZiAoaXRlbVNlbGVjdEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICBpc1BvaW50ZXJEb3duUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb290Q29udGV4dC5vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgTWVudUl0ZW1JbXBsLFxuICAgICAge1xuICAgICAgICAuLi5pdGVtUHJvcHMsXG4gICAgICAgIHJlZjogY29tcG9zZWRSZWZzLFxuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgb25DbGljazogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbGljaywgaGFuZGxlU2VsZWN0KSxcbiAgICAgICAgb25Qb2ludGVyRG93bjogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgcHJvcHMub25Qb2ludGVyRG93bj8uKGV2ZW50KTtcbiAgICAgICAgICBpc1BvaW50ZXJEb3duUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJVcDogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyVXAsIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmICghaXNQb2ludGVyRG93blJlZi5jdXJyZW50KSBldmVudC5jdXJyZW50VGFyZ2V0Py5jbGljaygpO1xuICAgICAgICB9KSxcbiAgICAgICAgb25LZXlEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbktleURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzVHlwaW5nQWhlYWQgPSBjb250ZW50Q29udGV4dC5zZWFyY2hSZWYuY3VycmVudCAhPT0gXCJcIjtcbiAgICAgICAgICBpZiAoZGlzYWJsZWQgfHwgaXNUeXBpbmdBaGVhZCAmJiBldmVudC5rZXkgPT09IFwiIFwiKSByZXR1cm47XG4gICAgICAgICAgaWYgKFNFTEVDVElPTl9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleSkpIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xpY2soKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5NZW51SXRlbS5kaXNwbGF5TmFtZSA9IElURU1fTkFNRTtcbnZhciBNZW51SXRlbUltcGwgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZU1lbnUsIGRpc2FibGVkID0gZmFsc2UsIHRleHRWYWx1ZSwgLi4uaXRlbVByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZW50Q29udGV4dCA9IHVzZU1lbnVDb250ZW50Q29udGV4dChJVEVNX05BTUUsIF9fc2NvcGVNZW51KTtcbiAgICBjb25zdCByb3ZpbmdGb2N1c0dyb3VwU2NvcGUgPSB1c2VSb3ZpbmdGb2N1c0dyb3VwU2NvcGUoX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIGNvbnN0IFtpc0ZvY3VzZWQsIHNldElzRm9jdXNlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3RleHRDb250ZW50LCBzZXRUZXh0Q29udGVudF0gPSBSZWFjdC51c2VTdGF0ZShcIlwiKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgbWVudUl0ZW0gPSByZWYuY3VycmVudDtcbiAgICAgIGlmIChtZW51SXRlbSkge1xuICAgICAgICBzZXRUZXh0Q29udGVudCgobWVudUl0ZW0udGV4dENvbnRlbnQgPz8gXCJcIikudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9LCBbaXRlbVByb3BzLmNoaWxkcmVuXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBDb2xsZWN0aW9uLkl0ZW1TbG90LFxuICAgICAge1xuICAgICAgICBzY29wZTogX19zY29wZU1lbnUsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICB0ZXh0VmFsdWU6IHRleHRWYWx1ZSA/PyB0ZXh0Q29udGVudCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUm92aW5nRm9jdXNHcm91cC5JdGVtLCB7IGFzQ2hpbGQ6IHRydWUsIC4uLnJvdmluZ0ZvY3VzR3JvdXBTY29wZSwgZm9jdXNhYmxlOiAhZGlzYWJsZWQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFByaW1pdGl2ZS5kaXYsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogXCJtZW51aXRlbVwiLFxuICAgICAgICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGlzRm9jdXNlZCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogZGlzYWJsZWQgfHwgdm9pZCAwLFxuICAgICAgICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRpc2FibGVkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgICAgIC4uLml0ZW1Qcm9wcyxcbiAgICAgICAgICAgIHJlZjogY29tcG9zZWRSZWZzLFxuICAgICAgICAgICAgb25Qb2ludGVyTW92ZTogY29tcG9zZUV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgICAgIHByb3BzLm9uUG9pbnRlck1vdmUsXG4gICAgICAgICAgICAgIHdoZW5Nb3VzZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRDb250ZXh0Lm9uSXRlbUxlYXZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29udGVudENvbnRleHQub25JdGVtRW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgb25Qb2ludGVyTGVhdmU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKFxuICAgICAgICAgICAgICBwcm9wcy5vblBvaW50ZXJMZWF2ZSxcbiAgICAgICAgICAgICAgd2hlbk1vdXNlKChldmVudCkgPT4gY29udGVudENvbnRleHQub25JdGVtTGVhdmUoZXZlbnQpKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG9uRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uRm9jdXMsICgpID0+IHNldElzRm9jdXNlZCh0cnVlKSksXG4gICAgICAgICAgICBvbkJsdXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uQmx1ciwgKCkgPT4gc2V0SXNGb2N1c2VkKGZhbHNlKSlcbiAgICAgICAgICB9XG4gICAgICAgICkgfSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xudmFyIENIRUNLQk9YX0lURU1fTkFNRSA9IFwiTWVudUNoZWNrYm94SXRlbVwiO1xudmFyIE1lbnVDaGVja2JveEl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgY2hlY2tlZCA9IGZhbHNlLCBvbkNoZWNrZWRDaGFuZ2UsIC4uLmNoZWNrYm94SXRlbVByb3BzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChJdGVtSW5kaWNhdG9yUHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVNZW51LCBjaGVja2VkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIE1lbnVJdGVtLFxuICAgICAge1xuICAgICAgICByb2xlOiBcIm1lbnVpdGVtY2hlY2tib3hcIixcbiAgICAgICAgXCJhcmlhLWNoZWNrZWRcIjogaXNJbmRldGVybWluYXRlKGNoZWNrZWQpID8gXCJtaXhlZFwiIDogY2hlY2tlZCxcbiAgICAgICAgLi4uY2hlY2tib3hJdGVtUHJvcHMsXG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogZ2V0Q2hlY2tlZFN0YXRlKGNoZWNrZWQpLFxuICAgICAgICBvblNlbGVjdDogY29tcG9zZUV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgY2hlY2tib3hJdGVtUHJvcHMub25TZWxlY3QsXG4gICAgICAgICAgKCkgPT4gb25DaGVja2VkQ2hhbmdlPy4oaXNJbmRldGVybWluYXRlKGNoZWNrZWQpID8gdHJ1ZSA6ICFjaGVja2VkKSxcbiAgICAgICAgICB7IGNoZWNrRm9yRGVmYXVsdFByZXZlbnRlZDogZmFsc2UgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKSB9KTtcbiAgfVxuKTtcbk1lbnVDaGVja2JveEl0ZW0uZGlzcGxheU5hbWUgPSBDSEVDS0JPWF9JVEVNX05BTUU7XG52YXIgUkFESU9fR1JPVVBfTkFNRSA9IFwiTWVudVJhZGlvR3JvdXBcIjtcbnZhciBbUmFkaW9Hcm91cFByb3ZpZGVyLCB1c2VSYWRpb0dyb3VwQ29udGV4dF0gPSBjcmVhdGVNZW51Q29udGV4dChcbiAgUkFESU9fR1JPVVBfTkFNRSxcbiAgeyB2YWx1ZTogdm9pZCAwLCBvblZhbHVlQ2hhbmdlOiAoKSA9PiB7XG4gIH0gfVxuKTtcbnZhciBNZW51UmFkaW9Hcm91cCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZSwgb25WYWx1ZUNoYW5nZSwgLi4uZ3JvdXBQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgaGFuZGxlVmFsdWVDaGFuZ2UgPSB1c2VDYWxsYmFja1JlZihvblZhbHVlQ2hhbmdlKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChSYWRpb0dyb3VwUHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVNZW51LCB2YWx1ZSwgb25WYWx1ZUNoYW5nZTogaGFuZGxlVmFsdWVDaGFuZ2UsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVHcm91cCwgeyAuLi5ncm91cFByb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KSB9KTtcbiAgfVxuKTtcbk1lbnVSYWRpb0dyb3VwLmRpc3BsYXlOYW1lID0gUkFESU9fR1JPVVBfTkFNRTtcbnZhciBSQURJT19JVEVNX05BTUUgPSBcIk1lbnVSYWRpb0l0ZW1cIjtcbnZhciBNZW51UmFkaW9JdGVtID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlLCAuLi5yYWRpb0l0ZW1Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVJhZGlvR3JvdXBDb250ZXh0KFJBRElPX0lURU1fTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IGNoZWNrZWQgPSB2YWx1ZSA9PT0gY29udGV4dC52YWx1ZTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChJdGVtSW5kaWNhdG9yUHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVNZW51LCBjaGVja2VkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIE1lbnVJdGVtLFxuICAgICAge1xuICAgICAgICByb2xlOiBcIm1lbnVpdGVtcmFkaW9cIixcbiAgICAgICAgXCJhcmlhLWNoZWNrZWRcIjogY2hlY2tlZCxcbiAgICAgICAgLi4ucmFkaW9JdGVtUHJvcHMsXG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogZ2V0Q2hlY2tlZFN0YXRlKGNoZWNrZWQpLFxuICAgICAgICBvblNlbGVjdDogY29tcG9zZUV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgcmFkaW9JdGVtUHJvcHMub25TZWxlY3QsXG4gICAgICAgICAgKCkgPT4gY29udGV4dC5vblZhbHVlQ2hhbmdlPy4odmFsdWUpLFxuICAgICAgICAgIHsgY2hlY2tGb3JEZWZhdWx0UHJldmVudGVkOiBmYWxzZSB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApIH0pO1xuICB9XG4pO1xuTWVudVJhZGlvSXRlbS5kaXNwbGF5TmFtZSA9IFJBRElPX0lURU1fTkFNRTtcbnZhciBJVEVNX0lORElDQVRPUl9OQU1FID0gXCJNZW51SXRlbUluZGljYXRvclwiO1xudmFyIFtJdGVtSW5kaWNhdG9yUHJvdmlkZXIsIHVzZUl0ZW1JbmRpY2F0b3JDb250ZXh0XSA9IGNyZWF0ZU1lbnVDb250ZXh0KFxuICBJVEVNX0lORElDQVRPUl9OQU1FLFxuICB7IGNoZWNrZWQ6IGZhbHNlIH1cbik7XG52YXIgTWVudUl0ZW1JbmRpY2F0b3IgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZU1lbnUsIGZvcmNlTW91bnQsIC4uLml0ZW1JbmRpY2F0b3JQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgaW5kaWNhdG9yQ29udGV4dCA9IHVzZUl0ZW1JbmRpY2F0b3JDb250ZXh0KElURU1fSU5ESUNBVE9SX05BTUUsIF9fc2NvcGVNZW51KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFByZXNlbmNlLFxuICAgICAge1xuICAgICAgICBwcmVzZW50OiBmb3JjZU1vdW50IHx8IGlzSW5kZXRlcm1pbmF0ZShpbmRpY2F0b3JDb250ZXh0LmNoZWNrZWQpIHx8IGluZGljYXRvckNvbnRleHQuY2hlY2tlZCA9PT0gdHJ1ZSxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgUHJpbWl0aXZlLnNwYW4sXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uaXRlbUluZGljYXRvclByb3BzLFxuICAgICAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgICAgICBcImRhdGEtc3RhdGVcIjogZ2V0Q2hlY2tlZFN0YXRlKGluZGljYXRvckNvbnRleHQuY2hlY2tlZClcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuTWVudUl0ZW1JbmRpY2F0b3IuZGlzcGxheU5hbWUgPSBJVEVNX0lORElDQVRPUl9OQU1FO1xudmFyIFNFUEFSQVRPUl9OQU1FID0gXCJNZW51U2VwYXJhdG9yXCI7XG52YXIgTWVudVNlcGFyYXRvciA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlTWVudSwgLi4uc2VwYXJhdG9yUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUHJpbWl0aXZlLmRpdixcbiAgICAgIHtcbiAgICAgICAgcm9sZTogXCJzZXBhcmF0b3JcIixcbiAgICAgICAgXCJhcmlhLW9yaWVudGF0aW9uXCI6IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICAuLi5zZXBhcmF0b3JQcm9wcyxcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuTWVudVNlcGFyYXRvci5kaXNwbGF5TmFtZSA9IFNFUEFSQVRPUl9OQU1FO1xudmFyIEFSUk9XX05BTUUgPSBcIk1lbnVBcnJvd1wiO1xudmFyIE1lbnVBcnJvdyA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlTWVudSwgLi4uYXJyb3dQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlTWVudSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLkFycm93LCB7IC4uLnBvcHBlclNjb3BlLCAuLi5hcnJvd1Byb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KTtcbiAgfVxuKTtcbk1lbnVBcnJvdy5kaXNwbGF5TmFtZSA9IEFSUk9XX05BTUU7XG52YXIgU1VCX05BTUUgPSBcIk1lbnVTdWJcIjtcbnZhciBbTWVudVN1YlByb3ZpZGVyLCB1c2VNZW51U3ViQ29udGV4dF0gPSBjcmVhdGVNZW51Q29udGV4dChTVUJfTkFNRSk7XG52YXIgTWVudVN1YiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVNZW51LCBjaGlsZHJlbiwgb3BlbiA9IGZhbHNlLCBvbk9wZW5DaGFuZ2UgfSA9IHByb3BzO1xuICBjb25zdCBwYXJlbnRNZW51Q29udGV4dCA9IHVzZU1lbnVDb250ZXh0KFNVQl9OQU1FLCBfX3Njb3BlTWVudSk7XG4gIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZU1lbnUpO1xuICBjb25zdCBbdHJpZ2dlciwgc2V0VHJpZ2dlcl0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGhhbmRsZU9wZW5DaGFuZ2UgPSB1c2VDYWxsYmFja1JlZihvbk9wZW5DaGFuZ2UpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwYXJlbnRNZW51Q29udGV4dC5vcGVuID09PSBmYWxzZSkgaGFuZGxlT3BlbkNoYW5nZShmYWxzZSk7XG4gICAgcmV0dXJuICgpID0+IGhhbmRsZU9wZW5DaGFuZ2UoZmFsc2UpO1xuICB9LCBbcGFyZW50TWVudUNvbnRleHQub3BlbiwgaGFuZGxlT3BlbkNoYW5nZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQb3BwZXJQcmltaXRpdmUuUm9vdCwgeyAuLi5wb3BwZXJTY29wZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgTWVudVByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHNjb3BlOiBfX3Njb3BlTWVudSxcbiAgICAgIG9wZW4sXG4gICAgICBvbk9wZW5DaGFuZ2U6IGhhbmRsZU9wZW5DaGFuZ2UsXG4gICAgICBjb250ZW50LFxuICAgICAgb25Db250ZW50Q2hhbmdlOiBzZXRDb250ZW50LFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIE1lbnVTdWJQcm92aWRlcixcbiAgICAgICAge1xuICAgICAgICAgIHNjb3BlOiBfX3Njb3BlTWVudSxcbiAgICAgICAgICBjb250ZW50SWQ6IHVzZUlkKCksXG4gICAgICAgICAgdHJpZ2dlcklkOiB1c2VJZCgpLFxuICAgICAgICAgIHRyaWdnZXIsXG4gICAgICAgICAgb25UcmlnZ2VyQ2hhbmdlOiBzZXRUcmlnZ2VyLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICkgfSk7XG59O1xuTWVudVN1Yi5kaXNwbGF5TmFtZSA9IFNVQl9OQU1FO1xudmFyIFNVQl9UUklHR0VSX05BTUUgPSBcIk1lbnVTdWJUcmlnZ2VyXCI7XG52YXIgTWVudVN1YlRyaWdnZXIgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VNZW51Q29udGV4dChTVUJfVFJJR0dFUl9OQU1FLCBwcm9wcy5fX3Njb3BlTWVudSk7XG4gICAgY29uc3Qgcm9vdENvbnRleHQgPSB1c2VNZW51Um9vdENvbnRleHQoU1VCX1RSSUdHRVJfTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHN1YkNvbnRleHQgPSB1c2VNZW51U3ViQ29udGV4dChTVUJfVFJJR0dFUl9OQU1FLCBwcm9wcy5fX3Njb3BlTWVudSk7XG4gICAgY29uc3QgY29udGVudENvbnRleHQgPSB1c2VNZW51Q29udGVudENvbnRleHQoU1VCX1RSSUdHRVJfTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IG9wZW5UaW1lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHBvaW50ZXJHcmFjZVRpbWVyUmVmLCBvblBvaW50ZXJHcmFjZUludGVudENoYW5nZSB9ID0gY29udGVudENvbnRleHQ7XG4gICAgY29uc3Qgc2NvcGUgPSB7IF9fc2NvcGVNZW51OiBwcm9wcy5fX3Njb3BlTWVudSB9O1xuICAgIGNvbnN0IGNsZWFyT3BlblRpbWVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKG9wZW5UaW1lclJlZi5jdXJyZW50KSB3aW5kb3cuY2xlYXJUaW1lb3V0KG9wZW5UaW1lclJlZi5jdXJyZW50KTtcbiAgICAgIG9wZW5UaW1lclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9LCBbXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGNsZWFyT3BlblRpbWVyLCBbY2xlYXJPcGVuVGltZXJdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcG9pbnRlckdyYWNlVGltZXIgPSBwb2ludGVyR3JhY2VUaW1lclJlZi5jdXJyZW50O1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChwb2ludGVyR3JhY2VUaW1lcik7XG4gICAgICAgIG9uUG9pbnRlckdyYWNlSW50ZW50Q2hhbmdlKG51bGwpO1xuICAgICAgfTtcbiAgICB9LCBbcG9pbnRlckdyYWNlVGltZXJSZWYsIG9uUG9pbnRlckdyYWNlSW50ZW50Q2hhbmdlXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudUFuY2hvciwgeyBhc0NoaWxkOiB0cnVlLCAuLi5zY29wZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBNZW51SXRlbUltcGwsXG4gICAgICB7XG4gICAgICAgIGlkOiBzdWJDb250ZXh0LnRyaWdnZXJJZCxcbiAgICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibWVudVwiLFxuICAgICAgICBcImFyaWEtZXhwYW5kZWRcIjogY29udGV4dC5vcGVuLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogc3ViQ29udGV4dC5jb250ZW50SWQsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBnZXRPcGVuU3RhdGUoY29udGV4dC5vcGVuKSxcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIHJlZjogY29tcG9zZVJlZnMoZm9yd2FyZGVkUmVmLCBzdWJDb250ZXh0Lm9uVHJpZ2dlckNoYW5nZSksXG4gICAgICAgIG9uQ2xpY2s6IChldmVudCkgPT4ge1xuICAgICAgICAgIHByb3BzLm9uQ2xpY2s/LihldmVudCk7XG4gICAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgaWYgKCFjb250ZXh0Lm9wZW4pIGNvbnRleHQub25PcGVuQ2hhbmdlKHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBvblBvaW50ZXJNb3ZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICBwcm9wcy5vblBvaW50ZXJNb3ZlLFxuICAgICAgICAgIHdoZW5Nb3VzZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnRlbnRDb250ZXh0Lm9uSXRlbUVudGVyKGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXByb3BzLmRpc2FibGVkICYmICFjb250ZXh0Lm9wZW4gJiYgIW9wZW5UaW1lclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGNvbnRlbnRDb250ZXh0Lm9uUG9pbnRlckdyYWNlSW50ZW50Q2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICBvcGVuVGltZXJSZWYuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250ZXh0Lm9uT3BlbkNoYW5nZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBjbGVhck9wZW5UaW1lcigpO1xuICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIG9uUG9pbnRlckxlYXZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhcbiAgICAgICAgICBwcm9wcy5vblBvaW50ZXJMZWF2ZSxcbiAgICAgICAgICB3aGVuTW91c2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjbGVhck9wZW5UaW1lcigpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFJlY3QgPSBjb250ZXh0LmNvbnRlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKGNvbnRlbnRSZWN0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNpZGUgPSBjb250ZXh0LmNvbnRlbnQ/LmRhdGFzZXQuc2lkZTtcbiAgICAgICAgICAgICAgY29uc3QgcmlnaHRTaWRlID0gc2lkZSA9PT0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICBjb25zdCBibGVlZCA9IHJpZ2h0U2lkZSA/IC01IDogNTtcbiAgICAgICAgICAgICAgY29uc3QgY29udGVudE5lYXJFZGdlID0gY29udGVudFJlY3RbcmlnaHRTaWRlID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCJdO1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50RmFyRWRnZSA9IGNvbnRlbnRSZWN0W3JpZ2h0U2lkZSA/IFwicmlnaHRcIiA6IFwibGVmdFwiXTtcbiAgICAgICAgICAgICAgY29udGVudENvbnRleHQub25Qb2ludGVyR3JhY2VJbnRlbnRDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGFyZWE6IFtcbiAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGEgYmxlZWQgb24gY2xpZW50WCB0byBlbnN1cmUgdGhhdCBvdXIgZXhpdCBwb2ludCBpc1xuICAgICAgICAgICAgICAgICAgLy8gY29uc2lzdGVudGx5IHdpdGhpbiBwb2x5Z29uIGJvdW5kc1xuICAgICAgICAgICAgICAgICAgeyB4OiBldmVudC5jbGllbnRYICsgYmxlZWQsIHk6IGV2ZW50LmNsaWVudFkgfSxcbiAgICAgICAgICAgICAgICAgIHsgeDogY29udGVudE5lYXJFZGdlLCB5OiBjb250ZW50UmVjdC50b3AgfSxcbiAgICAgICAgICAgICAgICAgIHsgeDogY29udGVudEZhckVkZ2UsIHk6IGNvbnRlbnRSZWN0LnRvcCB9LFxuICAgICAgICAgICAgICAgICAgeyB4OiBjb250ZW50RmFyRWRnZSwgeTogY29udGVudFJlY3QuYm90dG9tIH0sXG4gICAgICAgICAgICAgICAgICB7IHg6IGNvbnRlbnROZWFyRWRnZSwgeTogY29udGVudFJlY3QuYm90dG9tIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNpZGVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQocG9pbnRlckdyYWNlVGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgIHBvaW50ZXJHcmFjZVRpbWVyUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAoKSA9PiBjb250ZW50Q29udGV4dC5vblBvaW50ZXJHcmFjZUludGVudENoYW5nZShudWxsKSxcbiAgICAgICAgICAgICAgICAzMDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRlbnRDb250ZXh0Lm9uVHJpZ2dlckxlYXZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgY29udGVudENvbnRleHQub25Qb2ludGVyR3JhY2VJbnRlbnRDaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgb25LZXlEb3duOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbktleURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzVHlwaW5nQWhlYWQgPSBjb250ZW50Q29udGV4dC5zZWFyY2hSZWYuY3VycmVudCAhPT0gXCJcIjtcbiAgICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgaXNUeXBpbmdBaGVhZCAmJiBldmVudC5rZXkgPT09IFwiIFwiKSByZXR1cm47XG4gICAgICAgICAgaWYgKFNVQl9PUEVOX0tFWVNbcm9vdENvbnRleHQuZGlyXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm9uT3BlbkNoYW5nZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbnRleHQuY29udGVudD8uZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICkgfSk7XG4gIH1cbik7XG5NZW51U3ViVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFNVQl9UUklHR0VSX05BTUU7XG52YXIgU1VCX0NPTlRFTlRfTkFNRSA9IFwiTWVudVN1YkNvbnRlbnRcIjtcbnZhciBNZW51U3ViQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgcG9ydGFsQ29udGV4dCA9IHVzZVBvcnRhbENvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlTWVudSk7XG4gICAgY29uc3QgeyBmb3JjZU1vdW50ID0gcG9ydGFsQ29udGV4dC5mb3JjZU1vdW50LCAuLi5zdWJDb250ZW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VNZW51Q29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVNZW51KTtcbiAgICBjb25zdCByb290Q29udGV4dCA9IHVzZU1lbnVSb290Q29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVNZW51KTtcbiAgICBjb25zdCBzdWJDb250ZXh0ID0gdXNlTWVudVN1YkNvbnRleHQoU1VCX0NPTlRFTlRfTkFNRSwgcHJvcHMuX19zY29wZU1lbnUpO1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KENvbGxlY3Rpb24uUHJvdmlkZXIsIHsgc2NvcGU6IHByb3BzLl9fc2NvcGVNZW51LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcmVzZW5jZSwgeyBwcmVzZW50OiBmb3JjZU1vdW50IHx8IGNvbnRleHQub3BlbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29sbGVjdGlvbi5TbG90LCB7IHNjb3BlOiBwcm9wcy5fX3Njb3BlTWVudSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBNZW51Q29udGVudEltcGwsXG4gICAgICB7XG4gICAgICAgIGlkOiBzdWJDb250ZXh0LmNvbnRlbnRJZCxcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogc3ViQ29udGV4dC50cmlnZ2VySWQsXG4gICAgICAgIC4uLnN1YkNvbnRlbnRQcm9wcyxcbiAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgIGFsaWduOiBcInN0YXJ0XCIsXG4gICAgICAgIHNpZGU6IHJvb3RDb250ZXh0LmRpciA9PT0gXCJydGxcIiA/IFwibGVmdFwiIDogXCJyaWdodFwiLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVNjcm9sbDogZmFsc2UsXG4gICAgICAgIHRyYXBGb2N1czogZmFsc2UsXG4gICAgICAgIG9uT3BlbkF1dG9Gb2N1czogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKHJvb3RDb250ZXh0LmlzVXNpbmdLZXlib2FyZFJlZi5jdXJyZW50KSByZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNsb3NlQXV0b0ZvY3VzOiAoZXZlbnQpID0+IGV2ZW50LnByZXZlbnREZWZhdWx0KCksXG4gICAgICAgIG9uRm9jdXNPdXRzaWRlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkZvY3VzT3V0c2lkZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gc3ViQ29udGV4dC50cmlnZ2VyKSBjb250ZXh0Lm9uT3BlbkNoYW5nZShmYWxzZSk7XG4gICAgICAgIH0pLFxuICAgICAgICBvbkVzY2FwZUtleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uRXNjYXBlS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgcm9vdENvbnRleHQub25DbG9zZSgpO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pLFxuICAgICAgICBvbktleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgaXNLZXlEb3duSW5zaWRlID0gZXZlbnQuY3VycmVudFRhcmdldC5jb250YWlucyhldmVudC50YXJnZXQpO1xuICAgICAgICAgIGNvbnN0IGlzQ2xvc2VLZXkgPSBTVUJfQ0xPU0VfS0VZU1tyb290Q29udGV4dC5kaXJdLmluY2x1ZGVzKGV2ZW50LmtleSk7XG4gICAgICAgICAgaWYgKGlzS2V5RG93bkluc2lkZSAmJiBpc0Nsb3NlS2V5KSB7XG4gICAgICAgICAgICBjb250ZXh0Lm9uT3BlbkNoYW5nZShmYWxzZSk7XG4gICAgICAgICAgICBzdWJDb250ZXh0LnRyaWdnZXI/LmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApIH0pIH0pIH0pO1xuICB9XG4pO1xuTWVudVN1YkNvbnRlbnQuZGlzcGxheU5hbWUgPSBTVUJfQ09OVEVOVF9OQU1FO1xuZnVuY3Rpb24gZ2V0T3BlblN0YXRlKG9wZW4pIHtcbiAgcmV0dXJuIG9wZW4gPyBcIm9wZW5cIiA6IFwiY2xvc2VkXCI7XG59XG5mdW5jdGlvbiBpc0luZGV0ZXJtaW5hdGUoY2hlY2tlZCkge1xuICByZXR1cm4gY2hlY2tlZCA9PT0gXCJpbmRldGVybWluYXRlXCI7XG59XG5mdW5jdGlvbiBnZXRDaGVja2VkU3RhdGUoY2hlY2tlZCkge1xuICByZXR1cm4gaXNJbmRldGVybWluYXRlKGNoZWNrZWQpID8gXCJpbmRldGVybWluYXRlXCIgOiBjaGVja2VkID8gXCJjaGVja2VkXCIgOiBcInVuY2hlY2tlZFwiO1xufVxuZnVuY3Rpb24gZm9jdXNGaXJzdChjYW5kaWRhdGVzKSB7XG4gIGNvbnN0IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuICAgIGlmIChjYW5kaWRhdGUgPT09IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UKSByZXR1cm47XG4gICAgY2FuZGlkYXRlLmZvY3VzKCk7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UKSByZXR1cm47XG4gIH1cbn1cbmZ1bmN0aW9uIHdyYXBBcnJheShhcnJheSwgc3RhcnRJbmRleCkge1xuICByZXR1cm4gYXJyYXkubWFwKChfLCBpbmRleCkgPT4gYXJyYXlbKHN0YXJ0SW5kZXggKyBpbmRleCkgJSBhcnJheS5sZW5ndGhdKTtcbn1cbmZ1bmN0aW9uIGdldE5leHRNYXRjaCh2YWx1ZXMsIHNlYXJjaCwgY3VycmVudE1hdGNoKSB7XG4gIGNvbnN0IGlzUmVwZWF0ZWQgPSBzZWFyY2gubGVuZ3RoID4gMSAmJiBBcnJheS5mcm9tKHNlYXJjaCkuZXZlcnkoKGNoYXIpID0+IGNoYXIgPT09IHNlYXJjaFswXSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTZWFyY2ggPSBpc1JlcGVhdGVkID8gc2VhcmNoWzBdIDogc2VhcmNoO1xuICBjb25zdCBjdXJyZW50TWF0Y2hJbmRleCA9IGN1cnJlbnRNYXRjaCA/IHZhbHVlcy5pbmRleE9mKGN1cnJlbnRNYXRjaCkgOiAtMTtcbiAgbGV0IHdyYXBwZWRWYWx1ZXMgPSB3cmFwQXJyYXkodmFsdWVzLCBNYXRoLm1heChjdXJyZW50TWF0Y2hJbmRleCwgMCkpO1xuICBjb25zdCBleGNsdWRlQ3VycmVudE1hdGNoID0gbm9ybWFsaXplZFNlYXJjaC5sZW5ndGggPT09IDE7XG4gIGlmIChleGNsdWRlQ3VycmVudE1hdGNoKSB3cmFwcGVkVmFsdWVzID0gd3JhcHBlZFZhbHVlcy5maWx0ZXIoKHYpID0+IHYgIT09IGN1cnJlbnRNYXRjaCk7XG4gIGNvbnN0IG5leHRNYXRjaCA9IHdyYXBwZWRWYWx1ZXMuZmluZChcbiAgICAodmFsdWUpID0+IHZhbHVlLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChub3JtYWxpemVkU2VhcmNoLnRvTG93ZXJDYXNlKCkpXG4gICk7XG4gIHJldHVybiBuZXh0TWF0Y2ggIT09IGN1cnJlbnRNYXRjaCA/IG5leHRNYXRjaCA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzUG9pbnRJblBvbHlnb24ocG9pbnQsIHBvbHlnb24pIHtcbiAgY29uc3QgeyB4LCB5IH0gPSBwb2ludDtcbiAgbGV0IGluc2lkZSA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb24ubGVuZ3RoIC0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgY29uc3QgaWkgPSBwb2x5Z29uW2ldO1xuICAgIGNvbnN0IGpqID0gcG9seWdvbltqXTtcbiAgICBjb25zdCB4aSA9IGlpLng7XG4gICAgY29uc3QgeWkgPSBpaS55O1xuICAgIGNvbnN0IHhqID0gamoueDtcbiAgICBjb25zdCB5aiA9IGpqLnk7XG4gICAgY29uc3QgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICh5IC0geWkpIC8gKHlqIC0geWkpICsgeGk7XG4gICAgaWYgKGludGVyc2VjdCkgaW5zaWRlID0gIWluc2lkZTtcbiAgfVxuICByZXR1cm4gaW5zaWRlO1xufVxuZnVuY3Rpb24gaXNQb2ludGVySW5HcmFjZUFyZWEoZXZlbnQsIGFyZWEpIHtcbiAgaWYgKCFhcmVhKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGN1cnNvclBvcyA9IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9O1xuICByZXR1cm4gaXNQb2ludEluUG9seWdvbihjdXJzb3JQb3MsIGFyZWEpO1xufVxuZnVuY3Rpb24gd2hlbk1vdXNlKGhhbmRsZXIpIHtcbiAgcmV0dXJuIChldmVudCkgPT4gZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiA/IGhhbmRsZXIoZXZlbnQpIDogdm9pZCAwO1xufVxudmFyIFJvb3QzID0gTWVudTtcbnZhciBBbmNob3IyID0gTWVudUFuY2hvcjtcbnZhciBQb3J0YWwgPSBNZW51UG9ydGFsO1xudmFyIENvbnRlbnQyID0gTWVudUNvbnRlbnQ7XG52YXIgR3JvdXAgPSBNZW51R3JvdXA7XG52YXIgTGFiZWwgPSBNZW51TGFiZWw7XG52YXIgSXRlbTIgPSBNZW51SXRlbTtcbnZhciBDaGVja2JveEl0ZW0gPSBNZW51Q2hlY2tib3hJdGVtO1xudmFyIFJhZGlvR3JvdXAgPSBNZW51UmFkaW9Hcm91cDtcbnZhciBSYWRpb0l0ZW0gPSBNZW51UmFkaW9JdGVtO1xudmFyIEl0ZW1JbmRpY2F0b3IgPSBNZW51SXRlbUluZGljYXRvcjtcbnZhciBTZXBhcmF0b3IgPSBNZW51U2VwYXJhdG9yO1xudmFyIEFycm93MiA9IE1lbnVBcnJvdztcbnZhciBTdWIgPSBNZW51U3ViO1xudmFyIFN1YlRyaWdnZXIgPSBNZW51U3ViVHJpZ2dlcjtcbnZhciBTdWJDb250ZW50ID0gTWVudVN1YkNvbnRlbnQ7XG5leHBvcnQge1xuICBBbmNob3IyIGFzIEFuY2hvcixcbiAgQXJyb3cyIGFzIEFycm93LFxuICBDaGVja2JveEl0ZW0sXG4gIENvbnRlbnQyIGFzIENvbnRlbnQsXG4gIEdyb3VwLFxuICBJdGVtMiBhcyBJdGVtLFxuICBJdGVtSW5kaWNhdG9yLFxuICBMYWJlbCxcbiAgTWVudSxcbiAgTWVudUFuY2hvcixcbiAgTWVudUFycm93LFxuICBNZW51Q2hlY2tib3hJdGVtLFxuICBNZW51Q29udGVudCxcbiAgTWVudUdyb3VwLFxuICBNZW51SXRlbSxcbiAgTWVudUl0ZW1JbmRpY2F0b3IsXG4gIE1lbnVMYWJlbCxcbiAgTWVudVBvcnRhbCxcbiAgTWVudVJhZGlvR3JvdXAsXG4gIE1lbnVSYWRpb0l0ZW0sXG4gIE1lbnVTZXBhcmF0b3IsXG4gIE1lbnVTdWIsXG4gIE1lbnVTdWJDb250ZW50LFxuICBNZW51U3ViVHJpZ2dlcixcbiAgUG9ydGFsLFxuICBSYWRpb0dyb3VwLFxuICBSYWRpb0l0ZW0sXG4gIFJvb3QzIGFzIFJvb3QsXG4gIFNlcGFyYXRvcixcbiAgU3ViLFxuICBTdWJDb250ZW50LFxuICBTdWJUcmlnZ2VyLFxuICBjcmVhdGVNZW51U2NvcGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJcInVzZSBjbGllbnRcIjtcblxuLy8gc3JjL2Ryb3Bkb3duLW1lbnUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbXBvc2VFdmVudEhhbmRsZXJzIH0gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7IGNvbXBvc2VSZWZzIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb21wb3NlLXJlZnNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHRTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtY29udGV4dFwiO1xuaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGVcIjtcbmltcG9ydCB7IFByaW1pdGl2ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQgKiBhcyBNZW51UHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtbWVudVwiO1xuaW1wb3J0IHsgY3JlYXRlTWVudVNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1tZW51XCI7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtaWRcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIERST1BET1dOX01FTlVfTkFNRSA9IFwiRHJvcGRvd25NZW51XCI7XG52YXIgW2NyZWF0ZURyb3Bkb3duTWVudUNvbnRleHQsIGNyZWF0ZURyb3Bkb3duTWVudVNjb3BlXSA9IGNyZWF0ZUNvbnRleHRTY29wZShcbiAgRFJPUERPV05fTUVOVV9OQU1FLFxuICBbY3JlYXRlTWVudVNjb3BlXVxuKTtcbnZhciB1c2VNZW51U2NvcGUgPSBjcmVhdGVNZW51U2NvcGUoKTtcbnZhciBbRHJvcGRvd25NZW51UHJvdmlkZXIsIHVzZURyb3Bkb3duTWVudUNvbnRleHRdID0gY3JlYXRlRHJvcGRvd25NZW51Q29udGV4dChEUk9QRE9XTl9NRU5VX05BTUUpO1xudmFyIERyb3Bkb3duTWVudSA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgX19zY29wZURyb3Bkb3duTWVudSxcbiAgICBjaGlsZHJlbixcbiAgICBkaXIsXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgZGVmYXVsdE9wZW4sXG4gICAgb25PcGVuQ2hhbmdlLFxuICAgIG1vZGFsID0gdHJ1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lbnVTY29wZSA9IHVzZU1lbnVTY29wZShfX3Njb3BlRHJvcGRvd25NZW51KTtcbiAgY29uc3QgdHJpZ2dlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0T3BlbiA/PyBmYWxzZSxcbiAgICBvbkNoYW5nZTogb25PcGVuQ2hhbmdlLFxuICAgIGNhbGxlcjogRFJPUERPV05fTUVOVV9OQU1FXG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBEcm9wZG93bk1lbnVQcm92aWRlcixcbiAgICB7XG4gICAgICBzY29wZTogX19zY29wZURyb3Bkb3duTWVudSxcbiAgICAgIHRyaWdnZXJJZDogdXNlSWQoKSxcbiAgICAgIHRyaWdnZXJSZWYsXG4gICAgICBjb250ZW50SWQ6IHVzZUlkKCksXG4gICAgICBvcGVuLFxuICAgICAgb25PcGVuQ2hhbmdlOiBzZXRPcGVuLFxuICAgICAgb25PcGVuVG9nZ2xlOiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZXRPcGVuKChwcmV2T3BlbikgPT4gIXByZXZPcGVuKSwgW3NldE9wZW5dKSxcbiAgICAgIG1vZGFsLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudVByaW1pdGl2ZS5Sb290LCB7IC4uLm1lbnVTY29wZSwgb3Blbiwgb25PcGVuQ2hhbmdlOiBzZXRPcGVuLCBkaXIsIG1vZGFsLCBjaGlsZHJlbiB9KVxuICAgIH1cbiAgKTtcbn07XG5Ecm9wZG93bk1lbnUuZGlzcGxheU5hbWUgPSBEUk9QRE9XTl9NRU5VX05BTUU7XG52YXIgVFJJR0dFUl9OQU1FID0gXCJEcm9wZG93bk1lbnVUcmlnZ2VyXCI7XG52YXIgRHJvcGRvd25NZW51VHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCBkaXNhYmxlZCA9IGZhbHNlLCAuLi50cmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VEcm9wZG93bk1lbnVDb250ZXh0KFRSSUdHRVJfTkFNRSwgX19zY29wZURyb3Bkb3duTWVudSk7XG4gICAgY29uc3QgbWVudVNjb3BlID0gdXNlTWVudVNjb3BlKF9fc2NvcGVEcm9wZG93bk1lbnUpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVQcmltaXRpdmUuQW5jaG9yLCB7IGFzQ2hpbGQ6IHRydWUsIC4uLm1lbnVTY29wZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBQcmltaXRpdmUuYnV0dG9uLFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICBpZDogY29udGV4dC50cmlnZ2VySWQsXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcIm1lbnVcIixcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IGNvbnRleHQub3BlbixcbiAgICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IGNvbnRleHQub3BlbiA/IGNvbnRleHQuY29udGVudElkIDogdm9pZCAwLFxuICAgICAgICBcImRhdGEtc3RhdGVcIjogY29udGV4dC5vcGVuID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGlzYWJsZWQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgLi4udHJpZ2dlclByb3BzLFxuICAgICAgICByZWY6IGNvbXBvc2VSZWZzKGZvcndhcmRlZFJlZiwgY29udGV4dC50cmlnZ2VyUmVmKSxcbiAgICAgICAgb25Qb2ludGVyRG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyRG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiBldmVudC5idXR0b24gPT09IDAgJiYgZXZlbnQuY3RybEtleSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQub25PcGVuVG9nZ2xlKCk7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQub3BlbikgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBvbktleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkKSByZXR1cm47XG4gICAgICAgICAgaWYgKFtcIkVudGVyXCIsIFwiIFwiXS5pbmNsdWRlcyhldmVudC5rZXkpKSBjb250ZXh0Lm9uT3BlblRvZ2dsZSgpO1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIGNvbnRleHQub25PcGVuQ2hhbmdlKHRydWUpO1xuICAgICAgICAgIGlmIChbXCJFbnRlclwiLCBcIiBcIiwgXCJBcnJvd0Rvd25cIl0uaW5jbHVkZXMoZXZlbnQua2V5KSkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApIH0pO1xuICB9XG4pO1xuRHJvcGRvd25NZW51VHJpZ2dlci5kaXNwbGF5TmFtZSA9IFRSSUdHRVJfTkFNRTtcbnZhciBQT1JUQUxfTkFNRSA9IFwiRHJvcGRvd25NZW51UG9ydGFsXCI7XG52YXIgRHJvcGRvd25NZW51UG9ydGFsID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgX19zY29wZURyb3Bkb3duTWVudSwgLi4ucG9ydGFsUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBtZW51U2NvcGUgPSB1c2VNZW51U2NvcGUoX19zY29wZURyb3Bkb3duTWVudSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVQcmltaXRpdmUuUG9ydGFsLCB7IC4uLm1lbnVTY29wZSwgLi4ucG9ydGFsUHJvcHMgfSk7XG59O1xuRHJvcGRvd25NZW51UG9ydGFsLmRpc3BsYXlOYW1lID0gUE9SVEFMX05BTUU7XG52YXIgQ09OVEVOVF9OQU1FID0gXCJEcm9wZG93bk1lbnVDb250ZW50XCI7XG52YXIgRHJvcGRvd25NZW51Q29udGVudCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5jb250ZW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VEcm9wZG93bk1lbnVDb250ZXh0KENPTlRFTlRfTkFNRSwgX19zY29wZURyb3Bkb3duTWVudSk7XG4gICAgY29uc3QgbWVudVNjb3BlID0gdXNlTWVudVNjb3BlKF9fc2NvcGVEcm9wZG93bk1lbnUpO1xuICAgIGNvbnN0IGhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIE1lbnVQcmltaXRpdmUuQ29udGVudCxcbiAgICAgIHtcbiAgICAgICAgaWQ6IGNvbnRleHQuY29udGVudElkLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBjb250ZXh0LnRyaWdnZXJJZCxcbiAgICAgICAgLi4ubWVudVNjb3BlLFxuICAgICAgICAuLi5jb250ZW50UHJvcHMsXG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBvbkNsb3NlQXV0b0ZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNsb3NlQXV0b0ZvY3VzLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoIWhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmLmN1cnJlbnQpIGNvbnRleHQudHJpZ2dlclJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICAgIGhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KSxcbiAgICAgICAgb25JbnRlcmFjdE91dHNpZGU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uSW50ZXJhY3RPdXRzaWRlLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbEV2ZW50ID0gZXZlbnQuZGV0YWlsLm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgY29uc3QgY3RybExlZnRDbGljayA9IG9yaWdpbmFsRXZlbnQuYnV0dG9uID09PSAwICYmIG9yaWdpbmFsRXZlbnQuY3RybEtleSA9PT0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBpc1JpZ2h0Q2xpY2sgPSBvcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PT0gMiB8fCBjdHJsTGVmdENsaWNrO1xuICAgICAgICAgIGlmICghY29udGV4dC5tb2RhbCB8fCBpc1JpZ2h0Q2xpY2spIGhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9KSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgICAgICAvLyByZS1uYW1lc3BhY2UgZXhwb3NlZCBjb250ZW50IGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgICAgLi4ue1xuICAgICAgICAgICAgXCItLXJhZGl4LWRyb3Bkb3duLW1lbnUtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLXRyYW5zZm9ybS1vcmlnaW4pXCIsXG4gICAgICAgICAgICBcIi0tcmFkaXgtZHJvcGRvd24tbWVudS1jb250ZW50LWF2YWlsYWJsZS13aWR0aFwiOiBcInZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtd2lkdGgpXCIsXG4gICAgICAgICAgICBcIi0tcmFkaXgtZHJvcGRvd24tbWVudS1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHRcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYXZhaWxhYmxlLWhlaWdodClcIixcbiAgICAgICAgICAgIFwiLS1yYWRpeC1kcm9wZG93bi1tZW51LXRyaWdnZXItd2lkdGhcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYW5jaG9yLXdpZHRoKVwiLFxuICAgICAgICAgICAgXCItLXJhZGl4LWRyb3Bkb3duLW1lbnUtdHJpZ2dlci1oZWlnaHRcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYW5jaG9yLWhlaWdodClcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5Ecm9wZG93bk1lbnVDb250ZW50LmRpc3BsYXlOYW1lID0gQ09OVEVOVF9OQU1FO1xudmFyIEdST1VQX05BTUUgPSBcIkRyb3Bkb3duTWVudUdyb3VwXCI7XG52YXIgRHJvcGRvd25NZW51R3JvdXAgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZURyb3Bkb3duTWVudSwgLi4uZ3JvdXBQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgbWVudVNjb3BlID0gdXNlTWVudVNjb3BlKF9fc2NvcGVEcm9wZG93bk1lbnUpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVQcmltaXRpdmUuR3JvdXAsIHsgLi4ubWVudVNjb3BlLCAuLi5ncm91cFByb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KTtcbiAgfVxuKTtcbkRyb3Bkb3duTWVudUdyb3VwLmRpc3BsYXlOYW1lID0gR1JPVVBfTkFNRTtcbnZhciBMQUJFTF9OQU1FID0gXCJEcm9wZG93bk1lbnVMYWJlbFwiO1xudmFyIERyb3Bkb3duTWVudUxhYmVsID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVEcm9wZG93bk1lbnUsIC4uLmxhYmVsUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IG1lbnVTY29wZSA9IHVzZU1lbnVTY29wZShfX3Njb3BlRHJvcGRvd25NZW51KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZW51UHJpbWl0aXZlLkxhYmVsLCB7IC4uLm1lbnVTY29wZSwgLi4ubGFiZWxQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG4gIH1cbik7XG5Ecm9wZG93bk1lbnVMYWJlbC5kaXNwbGF5TmFtZSA9IExBQkVMX05BTUU7XG52YXIgSVRFTV9OQU1FID0gXCJEcm9wZG93bk1lbnVJdGVtXCI7XG52YXIgRHJvcGRvd25NZW51SXRlbSA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5pdGVtUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IG1lbnVTY29wZSA9IHVzZU1lbnVTY29wZShfX3Njb3BlRHJvcGRvd25NZW51KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZW51UHJpbWl0aXZlLkl0ZW0sIHsgLi4ubWVudVNjb3BlLCAuLi5pdGVtUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xuRHJvcGRvd25NZW51SXRlbS5kaXNwbGF5TmFtZSA9IElURU1fTkFNRTtcbnZhciBDSEVDS0JPWF9JVEVNX05BTUUgPSBcIkRyb3Bkb3duTWVudUNoZWNrYm94SXRlbVwiO1xudmFyIERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5jaGVja2JveEl0ZW1Qcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lbnVTY29wZSA9IHVzZU1lbnVTY29wZShfX3Njb3BlRHJvcGRvd25NZW51KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0sIHsgLi4ubWVudVNjb3BlLCAuLi5jaGVja2JveEl0ZW1Qcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG59KTtcbkRyb3Bkb3duTWVudUNoZWNrYm94SXRlbS5kaXNwbGF5TmFtZSA9IENIRUNLQk9YX0lURU1fTkFNRTtcbnZhciBSQURJT19HUk9VUF9OQU1FID0gXCJEcm9wZG93bk1lbnVSYWRpb0dyb3VwXCI7XG52YXIgRHJvcGRvd25NZW51UmFkaW9Hcm91cCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5yYWRpb0dyb3VwUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBtZW51U2NvcGUgPSB1c2VNZW51U2NvcGUoX19zY29wZURyb3Bkb3duTWVudSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVQcmltaXRpdmUuUmFkaW9Hcm91cCwgeyAuLi5tZW51U2NvcGUsIC4uLnJhZGlvR3JvdXBQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG59KTtcbkRyb3Bkb3duTWVudVJhZGlvR3JvdXAuZGlzcGxheU5hbWUgPSBSQURJT19HUk9VUF9OQU1FO1xudmFyIFJBRElPX0lURU1fTkFNRSA9IFwiRHJvcGRvd25NZW51UmFkaW9JdGVtXCI7XG52YXIgRHJvcGRvd25NZW51UmFkaW9JdGVtID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVEcm9wZG93bk1lbnUsIC4uLnJhZGlvSXRlbVByb3BzIH0gPSBwcm9wcztcbiAgY29uc3QgbWVudVNjb3BlID0gdXNlTWVudVNjb3BlKF9fc2NvcGVEcm9wZG93bk1lbnUpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZW51UHJpbWl0aXZlLlJhZGlvSXRlbSwgeyAuLi5tZW51U2NvcGUsIC4uLnJhZGlvSXRlbVByb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KTtcbn0pO1xuRHJvcGRvd25NZW51UmFkaW9JdGVtLmRpc3BsYXlOYW1lID0gUkFESU9fSVRFTV9OQU1FO1xudmFyIElORElDQVRPUl9OQU1FID0gXCJEcm9wZG93bk1lbnVJdGVtSW5kaWNhdG9yXCI7XG52YXIgRHJvcGRvd25NZW51SXRlbUluZGljYXRvciA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5pdGVtSW5kaWNhdG9yUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBtZW51U2NvcGUgPSB1c2VNZW51U2NvcGUoX19zY29wZURyb3Bkb3duTWVudSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvciwgeyAuLi5tZW51U2NvcGUsIC4uLml0ZW1JbmRpY2F0b3JQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG59KTtcbkRyb3Bkb3duTWVudUl0ZW1JbmRpY2F0b3IuZGlzcGxheU5hbWUgPSBJTkRJQ0FUT1JfTkFNRTtcbnZhciBTRVBBUkFUT1JfTkFNRSA9IFwiRHJvcGRvd25NZW51U2VwYXJhdG9yXCI7XG52YXIgRHJvcGRvd25NZW51U2VwYXJhdG9yID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVEcm9wZG93bk1lbnUsIC4uLnNlcGFyYXRvclByb3BzIH0gPSBwcm9wcztcbiAgY29uc3QgbWVudVNjb3BlID0gdXNlTWVudVNjb3BlKF9fc2NvcGVEcm9wZG93bk1lbnUpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZW51UHJpbWl0aXZlLlNlcGFyYXRvciwgeyAuLi5tZW51U2NvcGUsIC4uLnNlcGFyYXRvclByb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KTtcbn0pO1xuRHJvcGRvd25NZW51U2VwYXJhdG9yLmRpc3BsYXlOYW1lID0gU0VQQVJBVE9SX05BTUU7XG52YXIgQVJST1dfTkFNRSA9IFwiRHJvcGRvd25NZW51QXJyb3dcIjtcbnZhciBEcm9wZG93bk1lbnVBcnJvdyA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5hcnJvd1Byb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBtZW51U2NvcGUgPSB1c2VNZW51U2NvcGUoX19zY29wZURyb3Bkb3duTWVudSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudVByaW1pdGl2ZS5BcnJvdywgeyAuLi5tZW51U2NvcGUsIC4uLmFycm93UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xuRHJvcGRvd25NZW51QXJyb3cuZGlzcGxheU5hbWUgPSBBUlJPV19OQU1FO1xudmFyIERyb3Bkb3duTWVudVN1YiA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVEcm9wZG93bk1lbnUsIGNoaWxkcmVuLCBvcGVuOiBvcGVuUHJvcCwgb25PcGVuQ2hhbmdlLCBkZWZhdWx0T3BlbiB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lbnVTY29wZSA9IHVzZU1lbnVTY29wZShfX3Njb3BlRHJvcGRvd25NZW51KTtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0T3BlbiA/PyBmYWxzZSxcbiAgICBvbkNoYW5nZTogb25PcGVuQ2hhbmdlLFxuICAgIGNhbGxlcjogXCJEcm9wZG93bk1lbnVTdWJcIlxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goTWVudVByaW1pdGl2ZS5TdWIsIHsgLi4ubWVudVNjb3BlLCBvcGVuLCBvbk9wZW5DaGFuZ2U6IHNldE9wZW4sIGNoaWxkcmVuIH0pO1xufTtcbnZhciBTVUJfVFJJR0dFUl9OQU1FID0gXCJEcm9wZG93bk1lbnVTdWJUcmlnZ2VyXCI7XG52YXIgRHJvcGRvd25NZW51U3ViVHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlRHJvcGRvd25NZW51LCAuLi5zdWJUcmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICBjb25zdCBtZW51U2NvcGUgPSB1c2VNZW51U2NvcGUoX19zY29wZURyb3Bkb3duTWVudSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KE1lbnVQcmltaXRpdmUuU3ViVHJpZ2dlciwgeyAuLi5tZW51U2NvcGUsIC4uLnN1YlRyaWdnZXJQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG59KTtcbkRyb3Bkb3duTWVudVN1YlRyaWdnZXIuZGlzcGxheU5hbWUgPSBTVUJfVFJJR0dFUl9OQU1FO1xudmFyIFNVQl9DT05URU5UX05BTUUgPSBcIkRyb3Bkb3duTWVudVN1YkNvbnRlbnRcIjtcbnZhciBEcm9wZG93bk1lbnVTdWJDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7IF9fc2NvcGVEcm9wZG93bk1lbnUsIC4uLnN1YkNvbnRlbnRQcm9wcyB9ID0gcHJvcHM7XG4gIGNvbnN0IG1lbnVTY29wZSA9IHVzZU1lbnVTY29wZShfX3Njb3BlRHJvcGRvd25NZW51KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgTWVudVByaW1pdGl2ZS5TdWJDb250ZW50LFxuICAgIHtcbiAgICAgIC4uLm1lbnVTY29wZSxcbiAgICAgIC4uLnN1YkNvbnRlbnRQcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgLi4ucHJvcHMuc3R5bGUsXG4gICAgICAgIC8vIHJlLW5hbWVzcGFjZSBleHBvc2VkIGNvbnRlbnQgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgICAgLi4ue1xuICAgICAgICAgIFwiLS1yYWRpeC1kcm9wZG93bi1tZW51LWNvbnRlbnQtdHJhbnNmb3JtLW9yaWdpblwiOiBcInZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKVwiLFxuICAgICAgICAgIFwiLS1yYWRpeC1kcm9wZG93bi1tZW51LWNvbnRlbnQtYXZhaWxhYmxlLXdpZHRoXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWF2YWlsYWJsZS13aWR0aClcIixcbiAgICAgICAgICBcIi0tcmFkaXgtZHJvcGRvd24tbWVudS1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHRcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYXZhaWxhYmxlLWhlaWdodClcIixcbiAgICAgICAgICBcIi0tcmFkaXgtZHJvcGRvd24tbWVudS10cmlnZ2VyLXdpZHRoXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aClcIixcbiAgICAgICAgICBcIi0tcmFkaXgtZHJvcGRvd24tbWVudS10cmlnZ2VyLWhlaWdodFwiOiBcInZhcigtLXJhZGl4LXBvcHBlci1hbmNob3ItaGVpZ2h0KVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICk7XG59KTtcbkRyb3Bkb3duTWVudVN1YkNvbnRlbnQuZGlzcGxheU5hbWUgPSBTVUJfQ09OVEVOVF9OQU1FO1xudmFyIFJvb3QyID0gRHJvcGRvd25NZW51O1xudmFyIFRyaWdnZXIgPSBEcm9wZG93bk1lbnVUcmlnZ2VyO1xudmFyIFBvcnRhbDIgPSBEcm9wZG93bk1lbnVQb3J0YWw7XG52YXIgQ29udGVudDIgPSBEcm9wZG93bk1lbnVDb250ZW50O1xudmFyIEdyb3VwMiA9IERyb3Bkb3duTWVudUdyb3VwO1xudmFyIExhYmVsMiA9IERyb3Bkb3duTWVudUxhYmVsO1xudmFyIEl0ZW0yID0gRHJvcGRvd25NZW51SXRlbTtcbnZhciBDaGVja2JveEl0ZW0yID0gRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtO1xudmFyIFJhZGlvR3JvdXAyID0gRHJvcGRvd25NZW51UmFkaW9Hcm91cDtcbnZhciBSYWRpb0l0ZW0yID0gRHJvcGRvd25NZW51UmFkaW9JdGVtO1xudmFyIEl0ZW1JbmRpY2F0b3IyID0gRHJvcGRvd25NZW51SXRlbUluZGljYXRvcjtcbnZhciBTZXBhcmF0b3IyID0gRHJvcGRvd25NZW51U2VwYXJhdG9yO1xudmFyIEFycm93MiA9IERyb3Bkb3duTWVudUFycm93O1xudmFyIFN1YjIgPSBEcm9wZG93bk1lbnVTdWI7XG52YXIgU3ViVHJpZ2dlcjIgPSBEcm9wZG93bk1lbnVTdWJUcmlnZ2VyO1xudmFyIFN1YkNvbnRlbnQyID0gRHJvcGRvd25NZW51U3ViQ29udGVudDtcbmV4cG9ydCB7XG4gIEFycm93MiBhcyBBcnJvdyxcbiAgQ2hlY2tib3hJdGVtMiBhcyBDaGVja2JveEl0ZW0sXG4gIENvbnRlbnQyIGFzIENvbnRlbnQsXG4gIERyb3Bkb3duTWVudSxcbiAgRHJvcGRvd25NZW51QXJyb3csXG4gIERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSxcbiAgRHJvcGRvd25NZW51Q29udGVudCxcbiAgRHJvcGRvd25NZW51R3JvdXAsXG4gIERyb3Bkb3duTWVudUl0ZW0sXG4gIERyb3Bkb3duTWVudUl0ZW1JbmRpY2F0b3IsXG4gIERyb3Bkb3duTWVudUxhYmVsLFxuICBEcm9wZG93bk1lbnVQb3J0YWwsXG4gIERyb3Bkb3duTWVudVJhZGlvR3JvdXAsXG4gIERyb3Bkb3duTWVudVJhZGlvSXRlbSxcbiAgRHJvcGRvd25NZW51U2VwYXJhdG9yLFxuICBEcm9wZG93bk1lbnVTdWIsXG4gIERyb3Bkb3duTWVudVN1YkNvbnRlbnQsXG4gIERyb3Bkb3duTWVudVN1YlRyaWdnZXIsXG4gIERyb3Bkb3duTWVudVRyaWdnZXIsXG4gIEdyb3VwMiBhcyBHcm91cCxcbiAgSXRlbTIgYXMgSXRlbSxcbiAgSXRlbUluZGljYXRvcjIgYXMgSXRlbUluZGljYXRvcixcbiAgTGFiZWwyIGFzIExhYmVsLFxuICBQb3J0YWwyIGFzIFBvcnRhbCxcbiAgUmFkaW9Hcm91cDIgYXMgUmFkaW9Hcm91cCxcbiAgUmFkaW9JdGVtMiBhcyBSYWRpb0l0ZW0sXG4gIFJvb3QyIGFzIFJvb3QsXG4gIFNlcGFyYXRvcjIgYXMgU2VwYXJhdG9yLFxuICBTdWIyIGFzIFN1YixcbiAgU3ViQ29udGVudDIgYXMgU3ViQ29udGVudCxcbiAgU3ViVHJpZ2dlcjIgYXMgU3ViVHJpZ2dlcixcbiAgVHJpZ2dlcixcbiAgY3JlYXRlRHJvcGRvd25NZW51U2NvcGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgKiBhcyBEcm9wZG93bk1lbnVQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1kcm9wZG93bi1tZW51XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgQ2hlY2tJY29uLCBDaGV2cm9uUmlnaHRJY29uLCBDaXJjbGVJY29uIH0gZnJvbSBcIkAvaWNvbnNcIjtcbmltcG9ydCB7IGdldFBpcGVjYXRVSUNvbnRhaW5lciB9IGZyb20gXCJAL2xpYi9kb21cIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5cbmZ1bmN0aW9uIERyb3Bkb3duTWVudSh7XG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlJvb3Q+KSB7XG4gIHJldHVybiA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlJvb3QgZGF0YS1zbG90PVwiZHJvcGRvd24tbWVudVwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIERyb3Bkb3duTWVudVBvcnRhbCh7XG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlBvcnRhbD4pIHtcbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlBvcnRhbFxuICAgICAgY29udGFpbmVyPXtnZXRQaXBlY2F0VUlDb250YWluZXIoKX1cbiAgICAgIGRhdGEtc2xvdD1cImRyb3Bkb3duLW1lbnUtcG9ydGFsXCJcbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBEcm9wZG93bk1lbnVUcmlnZ2VyKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuVHJpZ2dlcj4pIHtcbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlRyaWdnZXJcbiAgICAgIGRhdGEtc2xvdD1cImRyb3Bkb3duLW1lbnUtdHJpZ2dlclwiXG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRHJvcGRvd25NZW51Q29udGVudCh7XG4gIGNsYXNzTmFtZSxcbiAgc2lkZU9mZnNldCA9IDQsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkNvbnRlbnQ+KSB7XG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudVBvcnRhbD5cbiAgICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuQ29udGVudFxuICAgICAgICBkYXRhLXNsb3Q9XCJkcm9wZG93bi1tZW51LWNvbnRlbnRcIlxuICAgICAgICBzaWRlT2Zmc2V0PXtzaWRlT2Zmc2V0fVxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgIFwidmt1aTpiZy1wb3BvdmVyIHZrdWk6dGV4dC1wb3BvdmVyLWZvcmVncm91bmQgdmt1aTpkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIHZrdWk6ZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCB2a3VpOmRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCB2a3VpOmRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMCB2a3VpOmRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgdmt1aTpkYXRhLVtzdGF0ZT1vcGVuXTp6b29tLWluLTk1IHZrdWk6ZGF0YS1bc2lkZT1ib3R0b21dOnNsaWRlLWluLWZyb20tdG9wLTIgdmt1aTpkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiB2a3VpOmRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIHZrdWk6ZGF0YS1bc2lkZT10b3BdOnNsaWRlLWluLWZyb20tYm90dG9tLTIgdmt1aTp6LTUwIHZrdWk6bWF4LWgtKC0tcmFkaXgtZHJvcGRvd24tbWVudS1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHQpIHZrdWk6bWluLXctWzhyZW1dIHZrdWk6b3JpZ2luLSgtLXJhZGl4LWRyb3Bkb3duLW1lbnUtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luKSB2a3VpOm92ZXJmbG93LXgtaGlkZGVuIHZrdWk6b3ZlcmZsb3cteS1hdXRvIHZrdWk6cm91bmRlZC1lbGVtZW50IHZrdWk6Ym9yZGVyIHZrdWk6cC0xIHZrdWk6c2hhZG93LXNob3J0XCIsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICApfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIDwvRHJvcGRvd25NZW51UG9ydGFsPlxuICApO1xufVxuXG5mdW5jdGlvbiBEcm9wZG93bk1lbnVHcm91cCh7XG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkdyb3VwPikge1xuICByZXR1cm4gKFxuICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuR3JvdXAgZGF0YS1zbG90PVwiZHJvcGRvd24tbWVudS1ncm91cFwiIHsuLi5wcm9wc30gLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRHJvcGRvd25NZW51SXRlbSh7XG4gIGNsYXNzTmFtZSxcbiAgaW5zZXQsXG4gIHZhcmlhbnQgPSBcImRlZmF1bHRcIixcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbT4gJiB7XG4gIGluc2V0PzogYm9vbGVhbjtcbiAgdmFyaWFudD86IFwiZGVmYXVsdFwiIHwgXCJkZXN0cnVjdGl2ZVwiO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbVxuICAgICAgZGF0YS1zbG90PVwiZHJvcGRvd24tbWVudS1pdGVtXCJcbiAgICAgIGRhdGEtaW5zZXQ9e2luc2V0fVxuICAgICAgZGF0YS12YXJpYW50PXt2YXJpYW50fVxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmZvY3VzOmJnLWFjY2VudCB2a3VpOmZvY3VzOnRleHQtYWNjZW50LWZvcmVncm91bmQgdmt1aTpkYXRhLVt2YXJpYW50PWRlc3RydWN0aXZlXTp0ZXh0LWRlc3RydWN0aXZlIHZrdWk6ZGF0YS1bdmFyaWFudD1kZXN0cnVjdGl2ZV06Zm9jdXM6YmctZGVzdHJ1Y3RpdmUvMTAgdmt1aTpkYXJrOmRhdGEtW3ZhcmlhbnQ9ZGVzdHJ1Y3RpdmVdOmZvY3VzOmJnLWRlc3RydWN0aXZlLzIwIHZrdWk6ZGF0YS1bdmFyaWFudD1kZXN0cnVjdGl2ZV06Zm9jdXM6dGV4dC1kZXN0cnVjdGl2ZSB2a3VpOmRhdGEtW3ZhcmlhbnQ9ZGVzdHJ1Y3RpdmVdOio6W3N2Z106IXRleHQtZGVzdHJ1Y3RpdmUgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3RleHQtJ10pXTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTpyZWxhdGl2ZSB2a3VpOmZsZXggdmt1aTpjdXJzb3ItZGVmYXVsdCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmdhcC0yIHZrdWk6cm91bmRlZC1zbSB2a3VpOnB4LTIgdmt1aTpweS0xLjUgdmt1aTp0ZXh0LXNtIHZrdWk6b3V0bGluZS1oaWRkZW4gdmt1aTpzZWxlY3Qtbm9uZSB2a3VpOmRhdGEtW2Rpc2FibGVkXTpwb2ludGVyLWV2ZW50cy1ub25lIHZrdWk6ZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAgdmt1aTpkYXRhLVtpbnNldF06cGwtOCB2a3VpOlsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOlsmX3N2Z106c2hyaW5rLTAgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBEcm9wZG93bk1lbnVDaGVja2JveEl0ZW0oe1xuICBjbGFzc05hbWUsXG4gIGNoaWxkcmVuLFxuICBjaGVja2VkLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0+KSB7XG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW1cbiAgICAgIGRhdGEtc2xvdD1cImRyb3Bkb3duLW1lbnUtY2hlY2tib3gtaXRlbVwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6Zm9jdXM6YmctYWNjZW50IHZrdWk6Zm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCB2a3VpOnJlbGF0aXZlIHZrdWk6ZmxleCB2a3VpOmN1cnNvci1kZWZhdWx0IHZrdWk6aXRlbXMtY2VudGVyIHZrdWk6Z2FwLTIgdmt1aTpyb3VuZGVkLXNtIHZrdWk6cHktMS41IHZrdWk6cHItMiB2a3VpOnBsLTggdmt1aTp0ZXh0LXNtIHZrdWk6b3V0bGluZS1oaWRkZW4gdmt1aTpzZWxlY3Qtbm9uZSB2a3VpOmRhdGEtW2Rpc2FibGVkXTpwb2ludGVyLWV2ZW50cy1ub25lIHZrdWk6ZGF0YS1bZGlzYWJsZWRdOm9wYWNpdHktNTAgdmt1aTpbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgdmt1aTpbJl9zdmddOnNocmluay0wIHZrdWk6WyZfc3ZnOm5vdChbY2xhc3MqPSdzaXplLSddKV06c2l6ZS00XCIsXG4gICAgICAgIGNoZWNrZWQgJiYgXCJ2a3VpOmZvbnQtbWVkaXVtIHZrdWk6YmctYWNjZW50XCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZrdWk6cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOmFic29sdXRlIHZrdWk6bGVmdC0yIHZrdWk6ZmxleCBzaXplLTMuNSB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICAgICAgICA8Q2hlY2tJY29uIC8+XG4gICAgICAgIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+XG4gICAgICA8L3NwYW4+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuQ2hlY2tib3hJdGVtPlxuICApO1xufVxuXG5mdW5jdGlvbiBEcm9wZG93bk1lbnVSYWRpb0dyb3VwKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuUmFkaW9Hcm91cD4pIHtcbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvR3JvdXBcbiAgICAgIGRhdGEtc2xvdD1cImRyb3Bkb3duLW1lbnUtcmFkaW8tZ3JvdXBcIlxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERyb3Bkb3duTWVudVJhZGlvSXRlbSh7XG4gIGNsYXNzTmFtZSxcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbT4pIHtcbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbVxuICAgICAgZGF0YS1zbG90PVwiZHJvcGRvd24tbWVudS1yYWRpby1pdGVtXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpmb2N1czpiZy1hY2NlbnQgdmt1aTpmb2N1czp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIHZrdWk6cmVsYXRpdmUgdmt1aTpmbGV4IHZrdWk6Y3Vyc29yLWRlZmF1bHQgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpnYXAtMiB2a3VpOnJvdW5kZWQtcGFuZWwgdmt1aTpweS0xLjUgdmt1aTpwci0yIHZrdWk6cGwtOCB2a3VpOnRleHQtc20gdmt1aTpvdXRsaW5lLWhpZGRlbiB2a3VpOnNlbGVjdC1ub25lIHZrdWk6ZGF0YS1bZGlzYWJsZWRdOnBvaW50ZXItZXZlbnRzLW5vbmUgdmt1aTpkYXRhLVtkaXNhYmxlZF06b3BhY2l0eS01MCB2a3VpOlsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSB2a3VpOlsmX3N2Z106c2hyaW5rLTAgdmt1aTpbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2a3VpOnBvaW50ZXItZXZlbnRzLW5vbmUgdmt1aTphYnNvbHV0ZSB2a3VpOmxlZnQtMiB2a3VpOmZsZXggdmt1aTpzaXplLTMuNSB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICAgICAgICA8Q2lyY2xlSWNvbiBjbGFzc05hbWU9XCJzaXplLTIgdmt1aTpmaWxsLWN1cnJlbnRcIiAvPlxuICAgICAgICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPlxuICAgICAgPC9zcGFuPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbT5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRHJvcGRvd25NZW51TGFiZWwoe1xuICBjbGFzc05hbWUsXG4gIGluc2V0LFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5MYWJlbD4gJiB7XG4gIGluc2V0PzogYm9vbGVhbjtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsXG4gICAgICBkYXRhLXNsb3Q9XCJkcm9wZG93bi1tZW51LWxhYmVsXCJcbiAgICAgIGRhdGEtaW5zZXQ9e2luc2V0fVxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOnB4LTIgdmt1aTpweS0xLjUgdmt1aTp0ZXh0LXNtIHZrdWk6Zm9udC1tZWRpdW0gdmt1aTpkYXRhLVtpbnNldF06cGwtOFwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERyb3Bkb3duTWVudVNlcGFyYXRvcih7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU2VwYXJhdG9yPikge1xuICByZXR1cm4gKFxuICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuU2VwYXJhdG9yXG4gICAgICBkYXRhLXNsb3Q9XCJkcm9wZG93bi1tZW51LXNlcGFyYXRvclwiXG4gICAgICBjbGFzc05hbWU9e2NuKFwidmt1aTpiZy1ib3JkZXIgdmt1aTotbXgtMSB2a3VpOm15LTEgdmt1aTpoLXB4XCIsIGNsYXNzTmFtZSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRHJvcGRvd25NZW51U2hvcnRjdXQoe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczxcInNwYW5cIj4pIHtcbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgZGF0YS1zbG90PVwiZHJvcGRvd24tbWVudS1zaG9ydGN1dFwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHZrdWk6bWwtYXV0byB2a3VpOnRleHQteHMgdmt1aTp0cmFja2luZy13aWRlc3RcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBEcm9wZG93bk1lbnVTdWIoe1xuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWI+KSB7XG4gIHJldHVybiA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YiBkYXRhLXNsb3Q9XCJkcm9wZG93bi1tZW51LXN1YlwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIERyb3Bkb3duTWVudVN1YlRyaWdnZXIoe1xuICBjbGFzc05hbWUsXG4gIGluc2V0LFxuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViVHJpZ2dlcj4gJiB7XG4gIGluc2V0PzogYm9vbGVhbjtcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXJcbiAgICAgIGRhdGEtc2xvdD1cImRyb3Bkb3duLW1lbnUtc3ViLXRyaWdnZXJcIlxuICAgICAgZGF0YS1pbnNldD17aW5zZXR9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6Zm9jdXM6YmctYWNjZW50IHZrdWk6Zm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCB2a3VpOmRhdGEtW3N0YXRlPW9wZW5dOmJnLWFjY2VudCB2a3VpOmRhdGEtW3N0YXRlPW9wZW5dOnRleHQtYWNjZW50LWZvcmVncm91bmQgdmt1aTpmbGV4IHZrdWk6Y3Vyc29yLWRlZmF1bHQgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpyb3VuZGVkLXNtIHZrdWk6cHgtMiB2a3VpOnB5LTEuNSB2a3VpOnRleHQtc20gdmt1aTpvdXRsaW5lLWhpZGRlbiB2a3VpOnNlbGVjdC1ub25lIHZrdWk6ZGF0YS1baW5zZXRdOnBsLThcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgICA8Q2hldnJvblJpZ2h0SWNvbiBjbGFzc05hbWU9XCJ2a3VpOm1sLWF1dG8gdmt1aTpzaXplLTRcIiAvPlxuICAgIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXI+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERyb3Bkb3duTWVudVN1YkNvbnRlbnQoe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YkNvbnRlbnQ+KSB7XG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50XG4gICAgICBkYXRhLXNsb3Q9XCJkcm9wZG93bi1tZW51LXN1Yi1jb250ZW50XCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpiZy1wb3BvdmVyIHZrdWk6dGV4dC1wb3BvdmVyLWZvcmVncm91bmQgdmt1aTpkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIHZrdWk6ZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCB2a3VpOmRhdGEtW3N0YXRlPWNsb3NlZF06ZmFkZS1vdXQtMCB2a3VpOmRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMCB2a3VpOmRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgdmt1aTpkYXRhLVtzdGF0ZT1vcGVuXTp6b29tLWluLTk1IHZrdWk6ZGF0YS1bc2lkZT1ib3R0b21dOnNsaWRlLWluLWZyb20tdG9wLTIgdmt1aTpkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiB2a3VpOmRhdGEtW3NpZGU9cmlnaHRdOnNsaWRlLWluLWZyb20tbGVmdC0yIHZrdWk6ZGF0YS1bc2lkZT10b3BdOnNsaWRlLWluLWZyb20tYm90dG9tLTIgdmt1aTp6LTUwIHZrdWk6bWluLXctWzhyZW1dIHZrdWk6b3JpZ2luLSgtLXJhZGl4LWRyb3Bkb3duLW1lbnUtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luKSB2a3VpOm92ZXJmbG93LWhpZGRlbiB2a3VpOnJvdW5kZWQtbWQgdmt1aTpib3JkZXIgdmt1aTpwLTEgdmt1aTpzaGFkb3ctbGdcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQge1xuICBEcm9wZG93bk1lbnUsXG4gIERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSxcbiAgRHJvcGRvd25NZW51Q29udGVudCxcbiAgRHJvcGRvd25NZW51R3JvdXAsXG4gIERyb3Bkb3duTWVudUl0ZW0sXG4gIERyb3Bkb3duTWVudUxhYmVsLFxuICBEcm9wZG93bk1lbnVQb3J0YWwsXG4gIERyb3Bkb3duTWVudVJhZGlvR3JvdXAsXG4gIERyb3Bkb3duTWVudVJhZGlvSXRlbSxcbiAgRHJvcGRvd25NZW51U2VwYXJhdG9yLFxuICBEcm9wZG93bk1lbnVTaG9ydGN1dCxcbiAgRHJvcGRvd25NZW51U3ViLFxuICBEcm9wZG93bk1lbnVTdWJDb250ZW50LFxuICBEcm9wZG93bk1lbnVTdWJUcmlnZ2VyLFxuICBEcm9wZG93bk1lbnVUcmlnZ2VyLFxufTtcbiIsImltcG9ydCB7XG4gIERyb3Bkb3duTWVudSxcbiAgRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtLFxuICBEcm9wZG93bk1lbnVDb250ZW50LFxuICBEcm9wZG93bk1lbnVMYWJlbCxcbiAgRHJvcGRvd25NZW51U2VwYXJhdG9yLFxuICBEcm9wZG93bk1lbnVUcmlnZ2VyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnVcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5cbmltcG9ydCB7IHR5cGUgT3B0aW9uYWxNZWRpYURldmljZUluZm8gfSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LXJlYWN0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlRHJvcERvd25Qcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIG5vTWVudUxhYmVsPzogYm9vbGVhbjtcbiAgbm9NZW51U2VwYXJhdG9yPzogYm9vbGVhbjtcbiAgbWVudUxhYmVsPzogc3RyaW5nO1xuICBhdmFpbGFibGVEZXZpY2VzPzogTWVkaWFEZXZpY2VJbmZvW107XG4gIHNlbGVjdGVkRGV2aWNlPzogT3B0aW9uYWxNZWRpYURldmljZUluZm87XG4gIHVwZGF0ZURldmljZT86IChkZXZpY2VJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBjbGFzc05hbWVzPzoge1xuICAgIGRyb3Bkb3duTWVudVRyaWdnZXI/OiBzdHJpbmc7XG4gICAgZHJvcGRvd25NZW51Q29udGVudD86IHN0cmluZztcbiAgICBkcm9wZG93bk1lbnVDaGVja2JveEl0ZW0/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBEZXZpY2VEcm9wRG93biA9ICh7XG4gIGNoaWxkcmVuLFxuICBub01lbnVMYWJlbCA9IGZhbHNlLFxuICBub01lbnVTZXBhcmF0b3IgPSBmYWxzZSxcbiAgbWVudUxhYmVsID0gXCJEZXZpY2Ugc2VsZWN0XCIsXG4gIGF2YWlsYWJsZURldmljZXMsXG4gIHNlbGVjdGVkRGV2aWNlLFxuICB1cGRhdGVEZXZpY2UsXG4gIGNsYXNzTmFtZXMsXG59OiBEZXZpY2VEcm9wRG93blByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudT5cbiAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+e2NoaWxkcmVufTwvRHJvcGRvd25NZW51VHJpZ2dlcj5cbiAgICAgIDxEcm9wZG93bk1lbnVDb250ZW50XG4gICAgICAgIGFsaWduPVwiZW5kXCJcbiAgICAgICAgY2xhc3NOYW1lPXtjbihjbGFzc05hbWVzPy5kcm9wZG93bk1lbnVDb250ZW50KX1cbiAgICAgID5cbiAgICAgICAgeyFub01lbnVMYWJlbCAmJiA8RHJvcGRvd25NZW51TGFiZWw+e21lbnVMYWJlbH08L0Ryb3Bkb3duTWVudUxhYmVsPn1cbiAgICAgICAgeyFub01lbnVTZXBhcmF0b3IgJiYgPERyb3Bkb3duTWVudVNlcGFyYXRvciAvPn1cbiAgICAgICAge2F2YWlsYWJsZURldmljZXM/Lm1hcCgoZGV2aWNlKSA9PiAoXG4gICAgICAgICAgPERyb3Bkb3duTWVudUNoZWNrYm94SXRlbVxuICAgICAgICAgICAga2V5PXtkZXZpY2UuZGV2aWNlSWR9XG4gICAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZERldmljZT8uZGV2aWNlSWQgPT09IGRldmljZS5kZXZpY2VJZH1cbiAgICAgICAgICAgIG9uQ2hlY2tlZENoYW5nZT17KCkgPT4gdXBkYXRlRGV2aWNlPy4oZGV2aWNlLmRldmljZUlkKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oY2xhc3NOYW1lcz8uZHJvcGRvd25NZW51Q2hlY2tib3hJdGVtKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7ZGV2aWNlLmxhYmVsIHx8IGBEZXZpY2UgJHtkZXZpY2UuZGV2aWNlSWQuc2xpY2UoMCwgNSl9YH1cbiAgICAgICAgICA8L0Ryb3Bkb3duTWVudUNoZWNrYm94SXRlbT5cbiAgICAgICAgKSl9XG4gICAgICA8L0Ryb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgPC9Ecm9wZG93bk1lbnU+XG4gICk7XG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBCdXR0b25Hcm91cCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uZ3JvdXBcIjtcbmltcG9ydCB7XG4gIGJ1dHRvbkFjY2VudENvbG9yTWFwLFxuICB0eXBlIEJ1dHRvblNpemUsXG4gIHR5cGUgQnV0dG9uU3RhdGUsXG4gIHR5cGUgQnV0dG9uVmFyaWFudCxcbn0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25WYXJpYW50c1wiO1xuaW1wb3J0IHsgQ2hldnJvbkRvd25JY29uLCBNaWNJY29uLCBNaWNPZmZJY29uIH0gZnJvbSBcIkAvaWNvbnNcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBWb2ljZVZpc3VhbGl6ZXIgfSBmcm9tIFwiQC92aXN1YWxpemVyc1wiO1xuaW1wb3J0IHtcbiAgdHlwZSBPcHRpb25hbE1lZGlhRGV2aWNlSW5mbyxcbiAgUGlwZWNhdENsaWVudE1pY1RvZ2dsZSxcbiAgdXNlUGlwZWNhdENsaWVudCxcbiAgdXNlUGlwZWNhdENsaWVudE1lZGlhRGV2aWNlcyxcbn0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEZXZpY2VEcm9wRG93biB9IGZyb20gXCIuL0RldmljZURyb3BEb3duXCI7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHZhcmlhbnQ/OiBCdXR0b25WYXJpYW50O1xuICBzaXplPzogQnV0dG9uU2l6ZTtcbiAgc3RhdGU/OiBCdXR0b25TdGF0ZTtcbiAgYnV0dG9uUHJvcHM/OiBQYXJ0aWFsPFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+PjtcbiAgY2xhc3NOYW1lcz86IHtcbiAgICBidXR0b24/OiBzdHJpbmc7XG4gICAgYnV0dG9uZ3JvdXA/OiBzdHJpbmc7XG4gICAgZHJvcGRvd25NZW51VHJpZ2dlcj86IHN0cmluZztcbiAgICBkcm9wZG93bk1lbnVDb250ZW50Pzogc3RyaW5nO1xuICAgIGRyb3Bkb3duTWVudUNoZWNrYm94SXRlbT86IHN0cmluZztcbiAgfTtcbiAgZHJvcGRvd25CdXR0b25Qcm9wcz86IFBhcnRpYWw8UmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIEJ1dHRvbj4+O1xuICBub0RldmljZVBpY2tlcj86IGJvb2xlYW47XG4gIG5vVmlzdWFsaXplcj86IGJvb2xlYW47XG4gIHZpc3VhbGl6ZXJQcm9wcz86IFBhcnRpYWw8UmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFZvaWNlVmlzdWFsaXplcj4+O1xuICBub0F1ZGlvPzogYm9vbGVhbjtcbiAgbm9BdWRpb1RleHQ/OiBzdHJpbmcgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgQ29tcG9uZW50UHJvcHMgZXh0ZW5kcyBQcm9wcyB7XG4gIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICBpc01pY0VuYWJsZWQ/OiBib29sZWFuO1xuICBhdmFpbGFibGVNaWNzPzogTWVkaWFEZXZpY2VJbmZvW107XG4gIHNlbGVjdGVkTWljPzogT3B0aW9uYWxNZWRpYURldmljZUluZm87XG4gIHVwZGF0ZU1pYz86IChkZXZpY2VJZDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5jb25zdCBidG5DbGFzc2VzID0gXCJ2a3VpOmZsZXgtMSB2a3VpOnctZnVsbCB2a3VpOnotMTAgdmt1aTpqdXN0aWZ5LXN0YXJ0XCI7XG5cbmV4cG9ydCBjb25zdCBVc2VyQXVkaW9Db21wb25lbnQ6IFJlYWN0LkZDPENvbXBvbmVudFByb3BzPiA9ICh7XG4gIHZhcmlhbnQgPSBcInNlY29uZGFyeVwiLFxuICBzaXplID0gXCJkZWZhdWx0XCIsXG4gIGNsYXNzTmFtZXMgPSB7fSxcbiAgYnV0dG9uUHJvcHMgPSB7fSxcbiAgZHJvcGRvd25CdXR0b25Qcm9wcyA9IHt9LFxuICBub0RldmljZVBpY2tlciA9IGZhbHNlLFxuICBub1Zpc3VhbGl6ZXIgPSBmYWxzZSxcbiAgdmlzdWFsaXplclByb3BzID0ge30sXG4gIGlzTWljRW5hYmxlZCA9IGZhbHNlLFxuICBzdGF0ZSxcbiAgYXZhaWxhYmxlTWljcyxcbiAgc2VsZWN0ZWRNaWMsXG4gIHVwZGF0ZU1pYyxcbiAgbm9BdWRpbyxcbiAgbm9BdWRpb1RleHQgPSBcIkF1ZGlvIGRpc2FibGVkXCIsXG4gIG9uQ2xpY2ssXG59KSA9PiB7XG4gIGlmIChub0F1ZGlvIHx8IGJ1dHRvblByb3BzPy5pc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICB2YXJpYW50PXt2YXJpYW50fVxuICAgICAgICBzaXplPXtzaXplfVxuICAgICAgICB7Li4uYnV0dG9uUHJvcHN9XG4gICAgICAgIGRpc2FibGVkXG4gICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgYnRuQ2xhc3NlcyxcbiAgICAgICAgICBidXR0b25Qcm9wcz8uaXNMb2FkaW5nICYmIFwidmt1aTpqdXN0aWZ5LWNlbnRlclwiLFxuICAgICAgICAgIGNsYXNzTmFtZXMuYnV0dG9uLFxuICAgICAgICApfVxuICAgICAgPlxuICAgICAgICB7IWJ1dHRvblByb3BzPy5pc0xvYWRpbmcgJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8TWljT2ZmSWNvbiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidmt1aTpmbGV4LTFcIj57bm9BdWRpb1RleHR9PC9zcGFuPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGJ1dHRvblN0YXRlID0gc3RhdGUgfHwgKGlzTWljRW5hYmxlZCA/IFwiZGVmYXVsdFwiIDogXCJpbmFjdGl2ZVwiKTtcbiAgY29uc3QgYWNjZW50Q29sb3IgPVxuICAgIGJ1dHRvbkFjY2VudENvbG9yTWFwW3ZhcmlhbnQgfHwgXCJkZWZhdWx0XCJdPy5bYnV0dG9uU3RhdGVdIHx8IFwiYmxhY2tcIjtcblxuICBjb25zdCBidXR0b24gPSAoXG4gICAgPD5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgY2xhc3NOYW1lPXtjbihidG5DbGFzc2VzLCBjbGFzc05hbWVzLmJ1dHRvbil9XG4gICAgICAgIHZhcmlhbnQ9e3ZhcmlhbnR9XG4gICAgICAgIHN0YXRlPXtidXR0b25TdGF0ZX1cbiAgICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgICAgey4uLmJ1dHRvblByb3BzfVxuICAgICAgPlxuICAgICAgICB7aXNNaWNFbmFibGVkID8gPE1pY0ljb24gLz4gOiA8TWljT2ZmSWNvbiAvPn1cbiAgICAgICAgeyFub1Zpc3VhbGl6ZXIgJiYgKFxuICAgICAgICAgIDxWb2ljZVZpc3VhbGl6ZXJcbiAgICAgICAgICAgIHBhcnRpY2lwYW50VHlwZT1cImxvY2FsXCJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcj1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgIGJhckNvdW50PXsxMH1cbiAgICAgICAgICAgIGJhckdhcD17Mn1cbiAgICAgICAgICAgIGJhck1heEhlaWdodD17c2l6ZSA9PT0gXCJsZ1wiID8gMjQgOiBzaXplID09PSBcInhsXCIgPyAzNiA6IDIwfVxuICAgICAgICAgICAgYmFyT3JpZ2luPVwiY2VudGVyXCJcbiAgICAgICAgICAgIGJhcldpZHRoPXszfVxuICAgICAgICAgICAgYmFyQ29sb3I9e2FjY2VudENvbG9yfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpteC1hdXRvXCJcbiAgICAgICAgICAgIHsuLi52aXN1YWxpemVyUHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgICAgeyFub0RldmljZVBpY2tlciAmJiAoXG4gICAgICAgIDxEZXZpY2VEcm9wRG93blxuICAgICAgICAgIG1lbnVMYWJlbD1cIk1pY3JvcGhvbmUgZGV2aWNlXCJcbiAgICAgICAgICBhdmFpbGFibGVEZXZpY2VzPXthdmFpbGFibGVNaWNzfVxuICAgICAgICAgIHNlbGVjdGVkRGV2aWNlPXtzZWxlY3RlZE1pY31cbiAgICAgICAgICB1cGRhdGVEZXZpY2U9e3VwZGF0ZU1pY31cbiAgICAgICAgICBjbGFzc05hbWVzPXt7XG4gICAgICAgICAgICBkcm9wZG93bk1lbnVDb250ZW50OiBjbGFzc05hbWVzLmRyb3Bkb3duTWVudUNvbnRlbnQsXG4gICAgICAgICAgICBkcm9wZG93bk1lbnVDaGVja2JveEl0ZW06IGNsYXNzTmFtZXMuZHJvcGRvd25NZW51Q2hlY2tib3hJdGVtLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICBcInZrdWk6cC0yISB2a3VpOmZsZXgtbm9uZSB2a3VpOnotMFwiLFxuICAgICAgICAgICAgICBjbGFzc05hbWVzLmRyb3Bkb3duTWVudVRyaWdnZXIsXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgdmFyaWFudD17dmFyaWFudH1cbiAgICAgICAgICAgIHNpemU9e3NpemV9XG4gICAgICAgICAgICBpc0ljb25cbiAgICAgICAgICAgIHsuLi5kcm9wZG93bkJ1dHRvblByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxDaGV2cm9uRG93bkljb24gc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvRGV2aWNlRHJvcERvd24+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xuXG4gIGlmIChub0RldmljZVBpY2tlcikge1xuICAgIHJldHVybiBidXR0b247XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25Hcm91cFxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOnctZnVsbFwiLFxuICAgICAgICB2YXJpYW50ICE9PSBcIm91dGxpbmVcIiAmJiBcInZrdWk6Z2FwLVsycHhdXCIsXG4gICAgICAgIGNsYXNzTmFtZXMuYnV0dG9uZ3JvdXAsXG4gICAgICApfVxuICAgID5cbiAgICAgIHtidXR0b259XG4gICAgPC9CdXR0b25Hcm91cD5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBVc2VyQXVkaW9Db250cm9sOiBSZWFjdC5GQzxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgY2xpZW50ID0gdXNlUGlwZWNhdENsaWVudCgpO1xuICBjb25zdCB7IGF2YWlsYWJsZU1pY3MsIHNlbGVjdGVkTWljLCB1cGRhdGVNaWMgfSA9XG4gICAgdXNlUGlwZWNhdENsaWVudE1lZGlhRGV2aWNlcygpO1xuXG4gIGNvbnN0IGhhc0F1ZGlvID0gY2xpZW50Py5pc01pY0VuYWJsZWQ7XG4gIGNvbnN0IGxvYWRpbmcgPSBoYXNBdWRpbyA9PT0gbnVsbDtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2xpZW50KSByZXR1cm47XG5cbiAgICBpZiAoW1wiaWRsZVwiLCBcImRpc2Nvbm5lY3RlZFwiXS5pbmNsdWRlcyhjbGllbnQuc3RhdGUpKSB7XG4gICAgICBjbGllbnQuaW5pdERldmljZXMoKTtcbiAgICB9XG4gIH0sIFtjbGllbnRdKTtcblxuICByZXR1cm4gKFxuICAgIDxQaXBlY2F0Q2xpZW50TWljVG9nZ2xlPlxuICAgICAgeyh7IGlzTWljRW5hYmxlZCwgb25DbGljayB9KSA9PiAoXG4gICAgICAgIDxVc2VyQXVkaW9Db21wb25lbnRcbiAgICAgICAgICBub0F1ZGlvPXshaGFzQXVkaW99XG4gICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICBpc01pY0VuYWJsZWQ9e2lzTWljRW5hYmxlZH1cbiAgICAgICAgICBhdmFpbGFibGVNaWNzPXthdmFpbGFibGVNaWNzfVxuICAgICAgICAgIHNlbGVjdGVkTWljPXtzZWxlY3RlZE1pY31cbiAgICAgICAgICB1cGRhdGVNaWM9e3VwZGF0ZU1pY31cbiAgICAgICAgICBzdGF0ZT17aXNNaWNFbmFibGVkID8gXCJkZWZhdWx0XCIgOiBcImluYWN0aXZlXCJ9XG4gICAgICAgICAgYnV0dG9uUHJvcHM9e3tcbiAgICAgICAgICAgIGlzTG9hZGluZzogbG9hZGluZyxcbiAgICAgICAgICB9fVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9QaXBlY2F0Q2xpZW50TWljVG9nZ2xlPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlckF1ZGlvQ29udHJvbDtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5mdW5jdGlvbiBDYXJkKHtcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJkaXZcIj4gJiB7IGRlc3RydWN0aXZlPzogYm9vbGVhbiB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgZGF0YS1zbG90PVwiY2FyZFwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6YmctY2FyZCB2a3VpOnRleHQtY2FyZC1mb3JlZ3JvdW5kIHZrdWk6ZmxleCB2a3VpOmZsZXgtY29sIHZrdWk6Z2FwLTIgdmt1aTptZDpnYXAtMyB2a3VpOnJvdW5kZWQtMnhsIHZrdWk6Ym9yZGVyIHZrdWk6Ym9yZGVyLWJvcmRlciB2a3VpOnAtMiB2a3VpOm1kOnAtM1wiLFxuICAgICAgICBwcm9wcy5kZXN0cnVjdGl2ZSAmJiBcInZrdWk6dGV4dC1kZXN0cnVjdGl2ZSB2a3VpOmJvcmRlci1kZXN0cnVjdGl2ZVwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENhcmRIZWFkZXIoeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwiZGl2XCI+KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgZGF0YS1zbG90PVwiY2FyZC1oZWFkZXJcIlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmZsZXggdmt1aTpnYXAtMiB2a3VpOm1kOmdhcC0zIHZrdWk6cC0yIHZrdWk6bWQ6cC0zXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2FyZFRpdGxlKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczxcImRpdlwiPikge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGRhdGEtc2xvdD1cImNhcmQtdGl0bGVcIlxuICAgICAgY2xhc3NOYW1lPXtjbihcInZrdWk6bGVhZGluZy1ub25lIHZrdWk6Zm9udC1zZW1pYm9sZFwiLCBjbGFzc05hbWUpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIENhcmREZXNjcmlwdGlvbih7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJkaXZcIj4pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBkYXRhLXNsb3Q9XCJjYXJkLWRlc2NyaXB0aW9uXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJ2a3VpOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCB2a3VpOnRleHQtc21cIiwgY2xhc3NOYW1lKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBDYXJkQWN0aW9uKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczxcImRpdlwiPikge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGRhdGEtc2xvdD1cImNhcmQtYWN0aW9uXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpjb2wtc3RhcnQtMiB2a3VpOnJvdy1zcGFuLTIgdmt1aTpyb3ctc3RhcnQtMSB2a3VpOnNlbGYtc3RhcnQgdmt1aTpqdXN0aWZ5LXNlbGYtZW5kXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2FyZENvbnRlbnQoeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwiZGl2XCI+KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgZGF0YS1zbG90PVwiY2FyZC1jb250ZW50XCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJ2a3VpOmdhcC0yIHZrdWk6bWQ6Z2FwLTMgdmt1aTpwLTIgdmt1aTptZDpwLTNcIiwgY2xhc3NOYW1lKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBDYXJkRm9vdGVyKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczxcImRpdlwiPikge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGRhdGEtc2xvdD1cImNhcmQtZm9vdGVyXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpmbGV4IHZrdWk6Z2FwLTIgdmt1aTptZDpnYXAtMyB2a3VpOnAtMiB2a3VpOm1kOnAtM1wiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCB7XG4gIENhcmQsXG4gIENhcmRBY3Rpb24sXG4gIENhcmRDb250ZW50LFxuICBDYXJkRGVzY3JpcHRpb24sXG4gIENhcmRGb290ZXIsXG4gIENhcmRIZWFkZXIsXG4gIENhcmRUaXRsZSxcbn07XG4iLCJpbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gRnVsbFNjcmVlbkNvbnRhaW5lcih7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwiZGl2XCI+KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcInZrdWk6dy1mdWxsIHZrdWk6aC1kdmggdmt1aTpiZy1iYWNrZ3JvdW5kXCIsIGNsYXNzTmFtZSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cbiIsImltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCI7XG5pbXBvcnQgeyBJbmZvSWNvbiB9IGZyb20gXCJAL2ljb25zXCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgRXJyb3JDYXJkID0gKHtcbiAgdGl0bGUgPSBcIkFuIEVycm9yIE9jY3VycmVkXCIsXG4gIGVycm9yLFxuICBjbGFzc05hbWUsXG59OiB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBlcnJvcjogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPENhcmRcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJ2a3VpOnNoYWRvdy1sb25nIHZrdWk6bWluLXctbWQgdmt1aTpnYXAtMFwiLCBjbGFzc05hbWUpfVxuICAgICAgZGVzdHJ1Y3RpdmVcbiAgICA+XG4gICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJ2a3VpOmZvbnQtc2VtaWJvbGQgdmt1aTpmbGV4IHZrdWk6ZmxleC1yb3cgdmt1aTppdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPEluZm9JY29uIHNpemU9ezI0fSAvPlxuICAgICAgICB7dGl0bGV9XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInZrdWk6dGV4dC1zbSB2a3VpOnRleHQtYmFsYW5jZWRcIj57ZXJyb3J9PC9wPlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5jb25zdCBpbnB1dFZhcmlhbnRzID0gY3ZhKFxuICBcInZrdWk6ZmlsZTp0ZXh0LWZvcmVncm91bmQgdmt1aTpwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTpzZWxlY3Rpb246YmctcHJpbWFyeSB2a3VpOnNlbGVjdGlvbjp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCB2a3VpOmRhcms6YmctaW5wdXQvMzAgdmt1aTpib3JkZXItaW5wdXQgdmt1aTpmbGV4IHZrdWk6dy1mdWxsIHZrdWk6bWluLXctMCB2a3VpOnJvdW5kZWQtbWQgdmt1aTpib3JkZXIgdmt1aTpiZy10cmFuc3BhcmVudCB2a3VpOnB4LTMgdmt1aTp0ZXh0LWZvcmVncm91bmQgdmt1aTp0cmFuc2l0aW9uLVtjb2xvcixib3gtc2hhZG93XSB2a3VpOm91dGxpbmUtbm9uZSB2a3VpOmZpbGU6aW5saW5lLWZsZXggdmt1aTpmaWxlOmJvcmRlci0wIHZrdWk6ZmlsZTpiZy10cmFuc3BhcmVudCB2a3VpOmZpbGU6dGV4dC1zbSB2a3VpOmZpbGU6Zm9udC1tZWRpdW0gdmt1aTpkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIHZrdWk6ZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHZrdWk6ZGlzYWJsZWQ6b3BhY2l0eS01MCB2a3VpOm1kOnRleHQtc20gdmt1aTpmb2N1cy12aXNpYmxlOmJvcmRlci1yaW5nIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgdmt1aTpmb2N1cy12aXNpYmxlOnJpbmctWzNweF0gdmt1aTphcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS8yMCB2a3VpOmRhcms6YXJpYS1pbnZhbGlkOnJpbmctZGVzdHJ1Y3RpdmUvNDAgdmt1aTphcmlhLWludmFsaWQ6Ym9yZGVyLWRlc3RydWN0aXZlXCIsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgc2l6ZToge1xuICAgICAgICBzbTogXCJ2a3VpOmgtNyB2a3VpOnB4LTIuNSB2a3VpOnB5LTEgdmt1aTp0ZXh0LXNtXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwidmt1aTpoLTggdmt1aTpweC0zIHZrdWk6cHktMVwiLFxuICAgICAgICBsZzogXCJ2a3VpOmgtMTAgdmt1aTpweC0zIHZrdWk6cHktMiB2a3VpOnJvdW5kZWQtbGdcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHNpemU6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH0sXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gSW5wdXQoe1xuICBjbGFzc05hbWUsXG4gIHR5cGUsXG4gIHNpemUsXG4gIC4uLnByb3BzXG59OiBPbWl0PFJlYWN0LkNvbXBvbmVudFByb3BzPFwiaW5wdXRcIj4sIFwic2l6ZVwiPiAmXG4gIFZhcmlhbnRQcm9wczx0eXBlb2YgaW5wdXRWYXJpYW50cz4pIHtcbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIHR5cGU9e3R5cGV9XG4gICAgICBkYXRhLXNsb3Q9XCJpbnB1dFwiXG4gICAgICBjbGFzc05hbWU9e2NuKGlucHV0VmFyaWFudHMoeyBzaXplLCBjbGFzc05hbWUgfSkpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0O1xuIiwiaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIExheW91dFNlY3Rpb24oe1xuICBjbGFzc05hbWUsXG4gIHNlY3Rpb25LZXksXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczxcInNlY3Rpb25cIj4gJiB7IHNlY3Rpb25LZXk6IHN0cmluZyB9KSB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gZGF0YS1zZWN0aW9uPXtzZWN0aW9uS2V5fSBjbGFzc05hbWU9e2NuKGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0U2VjdGlvbjtcbiIsImltcG9ydCB7IExvYWRlckljb24gfSBmcm9tIFwiQC9pY29uc1wiO1xuXG5leHBvcnQgY29uc3QgTG9hZGVyU3Bpbm5lciA9ICh7IHNpemUgPSAzMiB9OiB7IHNpemU/OiBudW1iZXIgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxMb2FkZXJJY29uIGNsYXNzTmFtZT1cInZrdWk6YW5pbWF0ZS1zcGluIHZrdWk6b3BhY2l0eS01MFwiIHNpemU9e3NpemV9IC8+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiO1xuXG5mdW5jdGlvbiBQYW5lbCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJkaXZcIj4pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBkYXRhLXNsb3Q9XCJwYW5lbFwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6QGNvbnRhaW5lci9wYW5lbCB2a3VpOmJnLWNhcmQgdmt1aTp0ZXh0LWNhcmQtZm9yZWdyb3VuZCB2a3VpOmZsZXggdmt1aTpmbGV4LWNvbCB2a3VpOnJvdW5kZWQtcGFuZWwgdmt1aTpib3JkZXJcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5jb25zdCBQYW5lbEhlYWRlclZhcmlhbnRzID0gY3ZhKFwidmt1aTpAY29udGFpbmVyL3BhbmVsLWhlYWRlclwiLCB7XG4gIHZhcmlhbnRzOiB7XG4gICAgdmFyaWFudDoge1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgXCJ2a3VpOmJvcmRlci1iIHZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6dGV4dC1jYXJkLWZvcmVncm91bmQgdmt1aTpwLTIgdmt1aTpAeHMvcGFuZWw6cC0zIHZrdWk6QG1kL3BhbmVsOnAtNFwiLFxuICAgICAgaW5saW5lOlxuICAgICAgICBcInZrdWk6aXRlbXMtc3RhcnQgdmt1aTp0ZXh0LWZvcmVncm91bmQgdmt1aTpwLTIgdmt1aTpAeHMvcGFuZWw6cC0zIHZrdWk6QG1kL3BhbmVsOnAtNFwiLFxuICAgIH0sXG4gIH0sXG4gIGRlZmF1bHRWYXJpYW50czoge1xuICAgIHZhcmlhbnQ6IFwiZGVmYXVsdFwiLFxuICB9LFxufSk7XG5cbmZ1bmN0aW9uIFBhbmVsSGVhZGVyKHtcbiAgdmFyaWFudCxcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJkaXZcIj4gJiBWYXJpYW50UHJvcHM8dHlwZW9mIFBhbmVsSGVhZGVyVmFyaWFudHM+KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgZGF0YS1zbG90PVwicGFuZWwtaGVhZGVyXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oUGFuZWxIZWFkZXJWYXJpYW50cyh7IHZhcmlhbnQsIGNsYXNzTmFtZSB9KSwgY2xhc3NOYW1lKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBQYW5lbFRpdGxlKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9OiBSZWFjdC5Db21wb25lbnRQcm9wczxcImRpdlwiPikge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGRhdGEtc2xvdD1cInBhbmVsLXRpdGxlXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJ2a3VpOnRleHQtbW9uby11cHBlclwiLCBjbGFzc05hbWUpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFBhbmVsQ29udGVudCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfTogUmVhY3QuQ29tcG9uZW50UHJvcHM8XCJkaXZcIj4pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBkYXRhLXNsb3Q9XCJwYW5lbC1jb250ZW50XCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTp0ZXh0LWZvcmVncm91bmQgdmt1aTpmbGV4IHZrdWk6ZmxleC1jb2wgdmt1aTpwLTIgdmt1aTpnYXAtMiB2a3VpOkB4cy9wYW5lbDpwLTMgdmt1aTpAeHMvcGFuZWw6Z2FwLTMgdmt1aTpAbWQvcGFuZWw6cC00IHZrdWk6QG1kL3BhbmVsOmdhcC00XCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gUGFuZWxGb290ZXIoeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwiZGl2XCI+KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgZGF0YS1zbG90PVwicGFuZWwtZm9vdGVyXCJcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpmbGV4IHZrdWk6aXRlbXMtY2VudGVyIHZrdWk6cC0yIHZrdWk6QHhzL3BhbmVsOnAtMyB2a3VpOkBtZC9wYW5lbDpwLTRcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBQYW5lbEFjdGlvbnMoeyBjbGFzc05hbWUsIC4uLnByb3BzIH06IFJlYWN0LkNvbXBvbmVudFByb3BzPFwiZGl2XCI+KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgZGF0YS1zbG90PVwicGFuZWwtYWN0aW9uc1wiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmdhcC0xIHZrdWk6QHhzL3BhbmVsOmdhcC0yXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IHtcbiAgUGFuZWwsXG4gIFBhbmVsQWN0aW9ucyxcbiAgUGFuZWxDb250ZW50LFxuICBQYW5lbEZvb3RlcixcbiAgUGFuZWxIZWFkZXIsXG4gIFBhbmVsVGl0bGUsXG59O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHNyYy9wb3BvdmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyBEaXNtaXNzYWJsZUxheWVyIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1kaXNtaXNzYWJsZS1sYXllclwiO1xuaW1wb3J0IHsgdXNlRm9jdXNHdWFyZHMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvY3VzLWd1YXJkc1wiO1xuaW1wb3J0IHsgRm9jdXNTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZm9jdXMtc2NvcGVcIjtcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1pZFwiO1xuaW1wb3J0ICogYXMgUG9wcGVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wcGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVQb3BwZXJTY29wZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wcGVyXCI7XG5pbXBvcnQgeyBQb3J0YWwgYXMgUG9ydGFsUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3J0YWxcIjtcbmltcG9ydCB7IFByZXNlbmNlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmVzZW5jZVwiO1xuaW1wb3J0IHsgUHJpbWl0aXZlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7IGNyZWF0ZVNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIjtcbmltcG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtY29udHJvbGxhYmxlLXN0YXRlXCI7XG5pbXBvcnQgeyBoaWRlT3RoZXJzIH0gZnJvbSBcImFyaWEtaGlkZGVuXCI7XG5pbXBvcnQgeyBSZW1vdmVTY3JvbGwgfSBmcm9tIFwicmVhY3QtcmVtb3ZlLXNjcm9sbFwiO1xuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgUE9QT1ZFUl9OQU1FID0gXCJQb3BvdmVyXCI7XG52YXIgW2NyZWF0ZVBvcG92ZXJDb250ZXh0LCBjcmVhdGVQb3BvdmVyU2NvcGVdID0gY3JlYXRlQ29udGV4dFNjb3BlKFBPUE9WRVJfTkFNRSwgW1xuICBjcmVhdGVQb3BwZXJTY29wZVxuXSk7XG52YXIgdXNlUG9wcGVyU2NvcGUgPSBjcmVhdGVQb3BwZXJTY29wZSgpO1xudmFyIFtQb3BvdmVyUHJvdmlkZXIsIHVzZVBvcG92ZXJDb250ZXh0XSA9IGNyZWF0ZVBvcG92ZXJDb250ZXh0KFBPUE9WRVJfTkFNRSk7XG52YXIgUG9wb3ZlciA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgX19zY29wZVBvcG92ZXIsXG4gICAgY2hpbGRyZW4sXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgZGVmYXVsdE9wZW4sXG4gICAgb25PcGVuQ2hhbmdlLFxuICAgIG1vZGFsID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICBjb25zdCBwb3BwZXJTY29wZSA9IHVzZVBvcHBlclNjb3BlKF9fc2NvcGVQb3BvdmVyKTtcbiAgY29uc3QgdHJpZ2dlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgW2hhc0N1c3RvbUFuY2hvciwgc2V0SGFzQ3VzdG9tQW5jaG9yXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0T3BlbiA/PyBmYWxzZSxcbiAgICBvbkNoYW5nZTogb25PcGVuQ2hhbmdlLFxuICAgIGNhbGxlcjogUE9QT1ZFUl9OQU1FXG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQb3BwZXJQcmltaXRpdmUuUm9vdCwgeyAuLi5wb3BwZXJTY29wZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgUG9wb3ZlclByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHNjb3BlOiBfX3Njb3BlUG9wb3ZlcixcbiAgICAgIGNvbnRlbnRJZDogdXNlSWQoKSxcbiAgICAgIHRyaWdnZXJSZWYsXG4gICAgICBvcGVuLFxuICAgICAgb25PcGVuQ2hhbmdlOiBzZXRPcGVuLFxuICAgICAgb25PcGVuVG9nZ2xlOiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZXRPcGVuKChwcmV2T3BlbikgPT4gIXByZXZPcGVuKSwgW3NldE9wZW5dKSxcbiAgICAgIGhhc0N1c3RvbUFuY2hvcixcbiAgICAgIG9uQ3VzdG9tQW5jaG9yQWRkOiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZXRIYXNDdXN0b21BbmNob3IodHJ1ZSksIFtdKSxcbiAgICAgIG9uQ3VzdG9tQW5jaG9yUmVtb3ZlOiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZXRIYXNDdXN0b21BbmNob3IoZmFsc2UpLCBbXSksXG4gICAgICBtb2RhbCxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApIH0pO1xufTtcblBvcG92ZXIuZGlzcGxheU5hbWUgPSBQT1BPVkVSX05BTUU7XG52YXIgQU5DSE9SX05BTUUgPSBcIlBvcG92ZXJBbmNob3JcIjtcbnZhciBQb3BvdmVyQW5jaG9yID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVQb3BvdmVyLCAuLi5hbmNob3JQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVBvcG92ZXJDb250ZXh0KEFOQ0hPUl9OQU1FLCBfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgeyBvbkN1c3RvbUFuY2hvckFkZCwgb25DdXN0b21BbmNob3JSZW1vdmUgfSA9IGNvbnRleHQ7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG9uQ3VzdG9tQW5jaG9yQWRkKCk7XG4gICAgICByZXR1cm4gKCkgPT4gb25DdXN0b21BbmNob3JSZW1vdmUoKTtcbiAgICB9LCBbb25DdXN0b21BbmNob3JBZGQsIG9uQ3VzdG9tQW5jaG9yUmVtb3ZlXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLkFuY2hvciwgeyAuLi5wb3BwZXJTY29wZSwgLi4uYW5jaG9yUHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pO1xuICB9XG4pO1xuUG9wb3ZlckFuY2hvci5kaXNwbGF5TmFtZSA9IEFOQ0hPUl9OQU1FO1xudmFyIFRSSUdHRVJfTkFNRSA9IFwiUG9wb3ZlclRyaWdnZXJcIjtcbnZhciBQb3BvdmVyVHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlUG9wb3ZlciwgLi4udHJpZ2dlclByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlUG9wb3ZlckNvbnRleHQoVFJJR0dFUl9OQU1FLCBfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgY29tcG9zZWRUcmlnZ2VyUmVmID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgY29udGV4dC50cmlnZ2VyUmVmKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFByaW1pdGl2ZS5idXR0b24sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiBcImRpYWxvZ1wiLFxuICAgICAgICBcImFyaWEtZXhwYW5kZWRcIjogY29udGV4dC5vcGVuLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogY29udGV4dC5jb250ZW50SWQsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBnZXRTdGF0ZShjb250ZXh0Lm9wZW4pLFxuICAgICAgICAuLi50cmlnZ2VyUHJvcHMsXG4gICAgICAgIHJlZjogY29tcG9zZWRUcmlnZ2VyUmVmLFxuICAgICAgICBvbkNsaWNrOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBjb250ZXh0Lm9uT3BlblRvZ2dsZSlcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiBjb250ZXh0Lmhhc0N1c3RvbUFuY2hvciA/IHRyaWdnZXIgOiAvKiBAX19QVVJFX18gKi8ganN4KFBvcHBlclByaW1pdGl2ZS5BbmNob3IsIHsgYXNDaGlsZDogdHJ1ZSwgLi4ucG9wcGVyU2NvcGUsIGNoaWxkcmVuOiB0cmlnZ2VyIH0pO1xuICB9XG4pO1xuUG9wb3ZlclRyaWdnZXIuZGlzcGxheU5hbWUgPSBUUklHR0VSX05BTUU7XG52YXIgUE9SVEFMX05BTUUgPSBcIlBvcG92ZXJQb3J0YWxcIjtcbnZhciBbUG9ydGFsUHJvdmlkZXIsIHVzZVBvcnRhbENvbnRleHRdID0gY3JlYXRlUG9wb3ZlckNvbnRleHQoUE9SVEFMX05BTUUsIHtcbiAgZm9yY2VNb3VudDogdm9pZCAwXG59KTtcbnZhciBQb3BvdmVyUG9ydGFsID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgX19zY29wZVBvcG92ZXIsIGZvcmNlTW91bnQsIGNoaWxkcmVuLCBjb250YWluZXIgfSA9IHByb3BzO1xuICBjb25zdCBjb250ZXh0ID0gdXNlUG9wb3ZlckNvbnRleHQoUE9SVEFMX05BTUUsIF9fc2NvcGVQb3BvdmVyKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9ydGFsUHJvdmlkZXIsIHsgc2NvcGU6IF9fc2NvcGVQb3BvdmVyLCBmb3JjZU1vdW50LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQcmVzZW5jZSwgeyBwcmVzZW50OiBmb3JjZU1vdW50IHx8IGNvbnRleHQub3BlbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goUG9ydGFsUHJpbWl0aXZlLCB7IGFzQ2hpbGQ6IHRydWUsIGNvbnRhaW5lciwgY2hpbGRyZW4gfSkgfSkgfSk7XG59O1xuUG9wb3ZlclBvcnRhbC5kaXNwbGF5TmFtZSA9IFBPUlRBTF9OQU1FO1xudmFyIENPTlRFTlRfTkFNRSA9IFwiUG9wb3ZlckNvbnRlbnRcIjtcbnZhciBQb3BvdmVyQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgcG9ydGFsQ29udGV4dCA9IHVzZVBvcnRhbENvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgeyBmb3JjZU1vdW50ID0gcG9ydGFsQ29udGV4dC5mb3JjZU1vdW50LCAuLi5jb250ZW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VQb3BvdmVyQ29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVQb3BvdmVyKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQcmVzZW5jZSwgeyBwcmVzZW50OiBmb3JjZU1vdW50IHx8IGNvbnRleHQub3BlbiwgY2hpbGRyZW46IGNvbnRleHQubW9kYWwgPyAvKiBAX19QVVJFX18gKi8ganN4KFBvcG92ZXJDb250ZW50TW9kYWwsIHsgLi4uY29udGVudFByb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wb3ZlckNvbnRlbnROb25Nb2RhbCwgeyAuLi5jb250ZW50UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIH0pO1xuICB9XG4pO1xuUG9wb3ZlckNvbnRlbnQuZGlzcGxheU5hbWUgPSBDT05URU5UX05BTUU7XG52YXIgU2xvdCA9IGNyZWF0ZVNsb3QoXCJQb3BvdmVyQ29udGVudC5SZW1vdmVTY3JvbGxcIik7XG52YXIgUG9wb3ZlckNvbnRlbnRNb2RhbCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZVBvcG92ZXJDb250ZXh0KENPTlRFTlRfTkFNRSwgcHJvcHMuX19zY29wZVBvcG92ZXIpO1xuICAgIGNvbnN0IGNvbnRlbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgY29udGVudFJlZik7XG4gICAgY29uc3QgaXNSaWdodENsaWNrT3V0c2lkZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjb250ZW50UmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoY29udGVudCkgcmV0dXJuIGhpZGVPdGhlcnMoY29udGVudCk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFJlbW92ZVNjcm9sbCwgeyBhczogU2xvdCwgYWxsb3dQaW5jaFpvb206IHRydWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUG9wb3ZlckNvbnRlbnRJbXBsLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMsXG4gICAgICAgIHRyYXBGb2N1czogY29udGV4dC5vcGVuLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IHRydWUsXG4gICAgICAgIG9uQ2xvc2VBdXRvRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uQ2xvc2VBdXRvRm9jdXMsIChldmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKCFpc1JpZ2h0Q2xpY2tPdXRzaWRlUmVmLmN1cnJlbnQpIGNvbnRleHQudHJpZ2dlclJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgICAgICB9KSxcbiAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKFxuICAgICAgICAgIHByb3BzLm9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFdmVudCA9IGV2ZW50LmRldGFpbC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgY29uc3QgY3RybExlZnRDbGljayA9IG9yaWdpbmFsRXZlbnQuYnV0dG9uID09PSAwICYmIG9yaWdpbmFsRXZlbnQuY3RybEtleSA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRDbGljayA9IG9yaWdpbmFsRXZlbnQuYnV0dG9uID09PSAyIHx8IGN0cmxMZWZ0Q2xpY2s7XG4gICAgICAgICAgICBpc1JpZ2h0Q2xpY2tPdXRzaWRlUmVmLmN1cnJlbnQgPSBpc1JpZ2h0Q2xpY2s7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGNoZWNrRm9yRGVmYXVsdFByZXZlbnRlZDogZmFsc2UgfVxuICAgICAgICApLFxuICAgICAgICBvbkZvY3VzT3V0c2lkZTogY29tcG9zZUV2ZW50SGFuZGxlcnMoXG4gICAgICAgICAgcHJvcHMub25Gb2N1c091dHNpZGUsXG4gICAgICAgICAgKGV2ZW50KSA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgICAgIHsgY2hlY2tGb3JEZWZhdWx0UHJldmVudGVkOiBmYWxzZSB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApIH0pO1xuICB9XG4pO1xudmFyIFBvcG92ZXJDb250ZW50Tm9uTW9kYWwgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VQb3BvdmVyQ29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVQb3BvdmVyKTtcbiAgICBjb25zdCBoYXNJbnRlcmFjdGVkT3V0c2lkZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgaGFzUG9pbnRlckRvd25PdXRzaWRlUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFBvcG92ZXJDb250ZW50SW1wbCxcbiAgICAgIHtcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICB0cmFwRm9jdXM6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuICAgICAgICBvbkNsb3NlQXV0b0ZvY3VzOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICBwcm9wcy5vbkNsb3NlQXV0b0ZvY3VzPy4oZXZlbnQpO1xuICAgICAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgaWYgKCFoYXNJbnRlcmFjdGVkT3V0c2lkZVJlZi5jdXJyZW50KSBjb250ZXh0LnRyaWdnZXJSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICBoYXNQb2ludGVyRG93bk91dHNpZGVSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBvbkludGVyYWN0T3V0c2lkZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgcHJvcHMub25JbnRlcmFjdE91dHNpZGU/LihldmVudCk7XG4gICAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICBoYXNJbnRlcmFjdGVkT3V0c2lkZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChldmVudC5kZXRhaWwub3JpZ2luYWxFdmVudC50eXBlID09PSBcInBvaW50ZXJkb3duXCIpIHtcbiAgICAgICAgICAgICAgaGFzUG9pbnRlckRvd25PdXRzaWRlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0SXNUcmlnZ2VyID0gY29udGV4dC50cmlnZ2VyUmVmLmN1cnJlbnQ/LmNvbnRhaW5zKHRhcmdldCk7XG4gICAgICAgICAgaWYgKHRhcmdldElzVHJpZ2dlcikgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLm9yaWdpbmFsRXZlbnQudHlwZSA9PT0gXCJmb2N1c2luXCIgJiYgaGFzUG9pbnRlckRvd25PdXRzaWRlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbnZhciBQb3BvdmVyQ29udGVudEltcGwgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fc2NvcGVQb3BvdmVyLFxuICAgICAgdHJhcEZvY3VzLFxuICAgICAgb25PcGVuQXV0b0ZvY3VzLFxuICAgICAgb25DbG9zZUF1dG9Gb2N1cyxcbiAgICAgIGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50cyxcbiAgICAgIG9uRXNjYXBlS2V5RG93bixcbiAgICAgIG9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgb25Gb2N1c091dHNpZGUsXG4gICAgICBvbkludGVyYWN0T3V0c2lkZSxcbiAgICAgIC4uLmNvbnRlbnRQcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlUG9wb3ZlckNvbnRleHQoQ09OVEVOVF9OQU1FLCBfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7XG4gICAgdXNlRm9jdXNHdWFyZHMoKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIEZvY3VzU2NvcGUsXG4gICAgICB7XG4gICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgIHRyYXBwZWQ6IHRyYXBGb2N1cyxcbiAgICAgICAgb25Nb3VudEF1dG9Gb2N1czogb25PcGVuQXV0b0ZvY3VzLFxuICAgICAgICBvblVubW91bnRBdXRvRm9jdXM6IG9uQ2xvc2VBdXRvRm9jdXMsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIERpc21pc3NhYmxlTGF5ZXIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXNDaGlsZDogdHJ1ZSxcbiAgICAgICAgICAgIGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50cyxcbiAgICAgICAgICAgIG9uSW50ZXJhY3RPdXRzaWRlLFxuICAgICAgICAgICAgb25Fc2NhcGVLZXlEb3duLFxuICAgICAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGUsXG4gICAgICAgICAgICBvbkZvY3VzT3V0c2lkZSxcbiAgICAgICAgICAgIG9uRGlzbWlzczogKCkgPT4gY29udGV4dC5vbk9wZW5DaGFuZ2UoZmFsc2UpLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFBvcHBlclByaW1pdGl2ZS5Db250ZW50LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJkYXRhLXN0YXRlXCI6IGdldFN0YXRlKGNvbnRleHQub3BlbiksXG4gICAgICAgICAgICAgICAgcm9sZTogXCJkaWFsb2dcIixcbiAgICAgICAgICAgICAgICBpZDogY29udGV4dC5jb250ZW50SWQsXG4gICAgICAgICAgICAgICAgLi4ucG9wcGVyU2NvcGUsXG4gICAgICAgICAgICAgICAgLi4uY29udGVudFByb3BzLFxuICAgICAgICAgICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAuLi5jb250ZW50UHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgICAvLyByZS1uYW1lc3BhY2UgZXhwb3NlZCBjb250ZW50IGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAuLi57XG4gICAgICAgICAgICAgICAgICAgIFwiLS1yYWRpeC1wb3BvdmVyLWNvbnRlbnQtdHJhbnNmb3JtLW9yaWdpblwiOiBcInZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKVwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0tcmFkaXgtcG9wb3Zlci1jb250ZW50LWF2YWlsYWJsZS13aWR0aFwiOiBcInZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtd2lkdGgpXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLS1yYWRpeC1wb3BvdmVyLWNvbnRlbnQtYXZhaWxhYmxlLWhlaWdodFwiOiBcInZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtaGVpZ2h0KVwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0tcmFkaXgtcG9wb3Zlci10cmlnZ2VyLXdpZHRoXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aClcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLXJhZGl4LXBvcG92ZXItdHJpZ2dlci1oZWlnaHRcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYW5jaG9yLWhlaWdodClcIlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG52YXIgQ0xPU0VfTkFNRSA9IFwiUG9wb3ZlckNsb3NlXCI7XG52YXIgUG9wb3ZlckNsb3NlID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVQb3BvdmVyLCAuLi5jbG9zZVByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlUG9wb3ZlckNvbnRleHQoQ0xPU0VfTkFNRSwgX19zY29wZVBvcG92ZXIpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUHJpbWl0aXZlLmJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgLi4uY2xvc2VQcm9wcyxcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIG9uQ2xpY2s6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uQ2xpY2ssICgpID0+IGNvbnRleHQub25PcGVuQ2hhbmdlKGZhbHNlKSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuUG9wb3ZlckNsb3NlLmRpc3BsYXlOYW1lID0gQ0xPU0VfTkFNRTtcbnZhciBBUlJPV19OQU1FID0gXCJQb3BvdmVyQXJyb3dcIjtcbnZhciBQb3BvdmVyQXJyb3cgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVBvcG92ZXIsIC4uLmFycm93UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZVBvcG92ZXIpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFBvcHBlclByaW1pdGl2ZS5BcnJvdywgeyAuLi5wb3BwZXJTY29wZSwgLi4uYXJyb3dQcm9wcywgcmVmOiBmb3J3YXJkZWRSZWYgfSk7XG4gIH1cbik7XG5Qb3BvdmVyQXJyb3cuZGlzcGxheU5hbWUgPSBBUlJPV19OQU1FO1xuZnVuY3Rpb24gZ2V0U3RhdGUob3Blbikge1xuICByZXR1cm4gb3BlbiA/IFwib3BlblwiIDogXCJjbG9zZWRcIjtcbn1cbnZhciBSb290MiA9IFBvcG92ZXI7XG52YXIgQW5jaG9yMiA9IFBvcG92ZXJBbmNob3I7XG52YXIgVHJpZ2dlciA9IFBvcG92ZXJUcmlnZ2VyO1xudmFyIFBvcnRhbCA9IFBvcG92ZXJQb3J0YWw7XG52YXIgQ29udGVudDIgPSBQb3BvdmVyQ29udGVudDtcbnZhciBDbG9zZSA9IFBvcG92ZXJDbG9zZTtcbnZhciBBcnJvdzIgPSBQb3BvdmVyQXJyb3c7XG5leHBvcnQge1xuICBBbmNob3IyIGFzIEFuY2hvcixcbiAgQXJyb3cyIGFzIEFycm93LFxuICBDbG9zZSxcbiAgQ29udGVudDIgYXMgQ29udGVudCxcbiAgUG9wb3ZlcixcbiAgUG9wb3ZlckFuY2hvcixcbiAgUG9wb3ZlckFycm93LFxuICBQb3BvdmVyQ2xvc2UsXG4gIFBvcG92ZXJDb250ZW50LFxuICBQb3BvdmVyUG9ydGFsLFxuICBQb3BvdmVyVHJpZ2dlcixcbiAgUG9ydGFsLFxuICBSb290MiBhcyBSb290LFxuICBUcmlnZ2VyLFxuICBjcmVhdGVQb3BvdmVyU2NvcGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgKiBhcyBQb3BvdmVyUHJpbWl0aXZlIGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wb3ZlclwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IGdldFBpcGVjYXRVSUNvbnRhaW5lciB9IGZyb20gXCJAL2xpYi9kb21cIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5cbmZ1bmN0aW9uIFBvcG92ZXIoe1xuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuUm9vdD4pIHtcbiAgcmV0dXJuIDxQb3BvdmVyUHJpbWl0aXZlLlJvb3QgZGF0YS1zbG90PVwicG9wb3ZlclwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIFBvcG92ZXJUcmlnZ2VyKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBQb3BvdmVyUHJpbWl0aXZlLlRyaWdnZXI+KSB7XG4gIHJldHVybiA8UG9wb3ZlclByaW1pdGl2ZS5UcmlnZ2VyIGRhdGEtc2xvdD1cInBvcG92ZXItdHJpZ2dlclwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIFBvcG92ZXJDb250ZW50KHtcbiAgY2xhc3NOYW1lLFxuICBhbGlnbiA9IFwiY2VudGVyXCIsXG4gIHNpZGVPZmZzZXQgPSA0LFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFBvcG92ZXJQcmltaXRpdmUuQ29udGVudD4pIHtcbiAgcmV0dXJuIChcbiAgICA8UG9wb3ZlclByaW1pdGl2ZS5Qb3J0YWwgY29udGFpbmVyPXtnZXRQaXBlY2F0VUlDb250YWluZXIoKX0+XG4gICAgICA8UG9wb3ZlclByaW1pdGl2ZS5Db250ZW50XG4gICAgICAgIGRhdGEtc2xvdD1cInBvcG92ZXItY29udGVudFwiXG4gICAgICAgIGFsaWduPXthbGlnbn1cbiAgICAgICAgc2lkZU9mZnNldD17c2lkZU9mZnNldH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInZrdWk6YmctcG9wb3ZlciB2a3VpOnRleHQtcG9wb3Zlci1mb3JlZ3JvdW5kIHZrdWk6ZGF0YS1bc3RhdGU9b3Blbl06YW5pbWF0ZS1pbiB2a3VpOmRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgdmt1aTpkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgdmt1aTpkYXRhLVtzdGF0ZT1vcGVuXTpmYWRlLWluLTAgdmt1aTpkYXRhLVtzdGF0ZT1jbG9zZWRdOnpvb20tb3V0LTk1IHZrdWk6ZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSB2a3VpOmRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIHZrdWk6ZGF0YS1bc2lkZT1sZWZ0XTpzbGlkZS1pbi1mcm9tLXJpZ2h0LTIgdmt1aTpkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiB2a3VpOmRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIHZrdWk6ei01MCB2a3VpOnctNzIgb3JpZ2luLSgtLXJhZGl4LXBvcG92ZXItY29udGVudC10cmFuc2Zvcm0tb3JpZ2luKSB2a3VpOnJvdW5kZWQtbWQgdmt1aTpib3JkZXIgdmt1aTpwLTQgdmt1aTpzaGFkb3ctbWQgdmt1aTpvdXRsaW5lLWhpZGRlblwiLFxuICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgKX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICA8L1BvcG92ZXJQcmltaXRpdmUuUG9ydGFsPlxuICApO1xufVxuXG5mdW5jdGlvbiBQb3BvdmVyQW5jaG9yKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBQb3BvdmVyUHJpbWl0aXZlLkFuY2hvcj4pIHtcbiAgcmV0dXJuIDxQb3BvdmVyUHJpbWl0aXZlLkFuY2hvciBkYXRhLXNsb3Q9XCJwb3BvdmVyLWFuY2hvclwiIHsuLi5wcm9wc30gLz47XG59XG5cbmV4cG9ydCB7IFBvcG92ZXIsIFBvcG92ZXJBbmNob3IsIFBvcG92ZXJDb250ZW50LCBQb3BvdmVyVHJpZ2dlciB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYsIGZvcndhcmRSZWYsIGNyZWF0ZUVsZW1lbnQsIHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuXG4vLyBUaGUgXCJjb250ZXh0bWVudVwiIGV2ZW50IGlzIG5vdCBzdXBwb3J0ZWQgYXMgYSBQb2ludGVyRXZlbnQgaW4gYWxsIGJyb3dzZXJzIHlldCwgc28gTW91c2VFdmVudCBzdGlsbCBuZWVkIHRvIGJlIGhhbmRsZWRcblxuY29uc3QgUGFuZWxHcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuUGFuZWxHcm91cENvbnRleHQuZGlzcGxheU5hbWUgPSBcIlBhbmVsR3JvdXBDb250ZXh0XCI7XG5cbmNvbnN0IERBVEFfQVRUUklCVVRFUyA9IHtcbiAgZ3JvdXA6IFwiZGF0YS1wYW5lbC1ncm91cFwiLFxuICBncm91cERpcmVjdGlvbjogXCJkYXRhLXBhbmVsLWdyb3VwLWRpcmVjdGlvblwiLFxuICBncm91cElkOiBcImRhdGEtcGFuZWwtZ3JvdXAtaWRcIixcbiAgcGFuZWw6IFwiZGF0YS1wYW5lbFwiLFxuICBwYW5lbENvbGxhcHNpYmxlOiBcImRhdGEtcGFuZWwtY29sbGFwc2libGVcIixcbiAgcGFuZWxJZDogXCJkYXRhLXBhbmVsLWlkXCIsXG4gIHBhbmVsU2l6ZTogXCJkYXRhLXBhbmVsLXNpemVcIixcbiAgcmVzaXplSGFuZGxlOiBcImRhdGEtcmVzaXplLWhhbmRsZVwiLFxuICByZXNpemVIYW5kbGVBY3RpdmU6IFwiZGF0YS1yZXNpemUtaGFuZGxlLWFjdGl2ZVwiLFxuICByZXNpemVIYW5kbGVFbmFibGVkOiBcImRhdGEtcGFuZWwtcmVzaXplLWhhbmRsZS1lbmFibGVkXCIsXG4gIHJlc2l6ZUhhbmRsZUlkOiBcImRhdGEtcGFuZWwtcmVzaXplLWhhbmRsZS1pZFwiLFxuICByZXNpemVIYW5kbGVTdGF0ZTogXCJkYXRhLXJlc2l6ZS1oYW5kbGUtc3RhdGVcIlxufTtcbmNvbnN0IFBSRUNJU0lPTiA9IDEwO1xuXG5jb25zdCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gdXNlTGF5b3V0RWZmZWN0IDtcblxuY29uc3QgdXNlSWQgPSBSZWFjdFtcInVzZUlkXCIudG9TdHJpbmcoKV07XG5jb25zdCB3cmFwcGVkVXNlSWQgPSB0eXBlb2YgdXNlSWQgPT09IFwiZnVuY3Rpb25cIiA/IHVzZUlkIDogKCkgPT4gbnVsbDtcbmxldCBjb3VudGVyID0gMDtcbmZ1bmN0aW9uIHVzZVVuaXF1ZUlkKGlkRnJvbVBhcmFtcyA9IG51bGwpIHtcbiAgY29uc3QgaWRGcm9tVXNlSWQgPSB3cmFwcGVkVXNlSWQoKTtcbiAgY29uc3QgaWRSZWYgPSB1c2VSZWYoaWRGcm9tUGFyYW1zIHx8IGlkRnJvbVVzZUlkIHx8IG51bGwpO1xuICBpZiAoaWRSZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgIGlkUmVmLmN1cnJlbnQgPSBcIlwiICsgY291bnRlcisrO1xuICB9XG4gIHJldHVybiBpZEZyb21QYXJhbXMgIT09IG51bGwgJiYgaWRGcm9tUGFyYW1zICE9PSB2b2lkIDAgPyBpZEZyb21QYXJhbXMgOiBpZFJlZi5jdXJyZW50O1xufVxuXG5mdW5jdGlvbiBQYW5lbFdpdGhGb3J3YXJkZWRSZWYoe1xuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lOiBjbGFzc05hbWVGcm9tUHJvcHMgPSBcIlwiLFxuICBjb2xsYXBzZWRTaXplLFxuICBjb2xsYXBzaWJsZSxcbiAgZGVmYXVsdFNpemUsXG4gIGZvcndhcmRlZFJlZixcbiAgaWQ6IGlkRnJvbVByb3BzLFxuICBtYXhTaXplLFxuICBtaW5TaXplLFxuICBvbkNvbGxhcHNlLFxuICBvbkV4cGFuZCxcbiAgb25SZXNpemUsXG4gIG9yZGVyLFxuICBzdHlsZTogc3R5bGVGcm9tUHJvcHMsXG4gIHRhZ05hbWU6IFR5cGUgPSBcImRpdlwiLFxuICAuLi5yZXN0XG59KSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFBhbmVsR3JvdXBDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBFcnJvcihgUGFuZWwgY29tcG9uZW50cyBtdXN0IGJlIHJlbmRlcmVkIHdpdGhpbiBhIFBhbmVsR3JvdXAgY29udGFpbmVyYCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIGNvbGxhcHNlUGFuZWwsXG4gICAgZXhwYW5kUGFuZWwsXG4gICAgZ2V0UGFuZWxTaXplLFxuICAgIGdldFBhbmVsU3R5bGUsXG4gICAgZ3JvdXBJZCxcbiAgICBpc1BhbmVsQ29sbGFwc2VkLFxuICAgIHJlZXZhbHVhdGVQYW5lbENvbnN0cmFpbnRzLFxuICAgIHJlZ2lzdGVyUGFuZWwsXG4gICAgcmVzaXplUGFuZWwsXG4gICAgdW5yZWdpc3RlclBhbmVsXG4gIH0gPSBjb250ZXh0O1xuICBjb25zdCBwYW5lbElkID0gdXNlVW5pcXVlSWQoaWRGcm9tUHJvcHMpO1xuICBjb25zdCBwYW5lbERhdGFSZWYgPSB1c2VSZWYoe1xuICAgIGNhbGxiYWNrczoge1xuICAgICAgb25Db2xsYXBzZSxcbiAgICAgIG9uRXhwYW5kLFxuICAgICAgb25SZXNpemVcbiAgICB9LFxuICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICBjb2xsYXBzZWRTaXplLFxuICAgICAgY29sbGFwc2libGUsXG4gICAgICBkZWZhdWx0U2l6ZSxcbiAgICAgIG1heFNpemUsXG4gICAgICBtaW5TaXplXG4gICAgfSxcbiAgICBpZDogcGFuZWxJZCxcbiAgICBpZElzRnJvbVByb3BzOiBpZEZyb21Qcm9wcyAhPT0gdW5kZWZpbmVkLFxuICAgIG9yZGVyXG4gIH0pO1xuICB1c2VSZWYoe1xuICAgIGRpZExvZ01pc3NpbmdEZWZhdWx0U2l6ZVdhcm5pbmc6IGZhbHNlXG4gIH0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjYWxsYmFja3MsXG4gICAgICBjb25zdHJhaW50c1xuICAgIH0gPSBwYW5lbERhdGFSZWYuY3VycmVudDtcbiAgICBjb25zdCBwcmV2Q29uc3RyYWludHMgPSB7XG4gICAgICAuLi5jb25zdHJhaW50c1xuICAgIH07XG4gICAgcGFuZWxEYXRhUmVmLmN1cnJlbnQuaWQgPSBwYW5lbElkO1xuICAgIHBhbmVsRGF0YVJlZi5jdXJyZW50LmlkSXNGcm9tUHJvcHMgPSBpZEZyb21Qcm9wcyAhPT0gdW5kZWZpbmVkO1xuICAgIHBhbmVsRGF0YVJlZi5jdXJyZW50Lm9yZGVyID0gb3JkZXI7XG4gICAgY2FsbGJhY2tzLm9uQ29sbGFwc2UgPSBvbkNvbGxhcHNlO1xuICAgIGNhbGxiYWNrcy5vbkV4cGFuZCA9IG9uRXhwYW5kO1xuICAgIGNhbGxiYWNrcy5vblJlc2l6ZSA9IG9uUmVzaXplO1xuICAgIGNvbnN0cmFpbnRzLmNvbGxhcHNlZFNpemUgPSBjb2xsYXBzZWRTaXplO1xuICAgIGNvbnN0cmFpbnRzLmNvbGxhcHNpYmxlID0gY29sbGFwc2libGU7XG4gICAgY29uc3RyYWludHMuZGVmYXVsdFNpemUgPSBkZWZhdWx0U2l6ZTtcbiAgICBjb25zdHJhaW50cy5tYXhTaXplID0gbWF4U2l6ZTtcbiAgICBjb25zdHJhaW50cy5taW5TaXplID0gbWluU2l6ZTtcblxuICAgIC8vIElmIGNvbnN0cmFpbnRzIGhhdmUgY2hhbmdlZCwgd2Ugc2hvdWxkIHJldmlzaXQgcGFuZWwgc2l6ZXMuXG4gICAgLy8gVGhpcyBpcyB1bmNvbW1vbiBidXQgbWF5IGhhcHBlbiBpZiBwZW9wbGUgYXJlIHRyeWluZyB0byBpbXBsZW1lbnQgcGl4ZWwgYmFzZWQgY29uc3RyYWludHMuXG4gICAgaWYgKHByZXZDb25zdHJhaW50cy5jb2xsYXBzZWRTaXplICE9PSBjb25zdHJhaW50cy5jb2xsYXBzZWRTaXplIHx8IHByZXZDb25zdHJhaW50cy5jb2xsYXBzaWJsZSAhPT0gY29uc3RyYWludHMuY29sbGFwc2libGUgfHwgcHJldkNvbnN0cmFpbnRzLm1heFNpemUgIT09IGNvbnN0cmFpbnRzLm1heFNpemUgfHwgcHJldkNvbnN0cmFpbnRzLm1pblNpemUgIT09IGNvbnN0cmFpbnRzLm1pblNpemUpIHtcbiAgICAgIHJlZXZhbHVhdGVQYW5lbENvbnN0cmFpbnRzKHBhbmVsRGF0YVJlZi5jdXJyZW50LCBwcmV2Q29uc3RyYWludHMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHBhbmVsRGF0YSA9IHBhbmVsRGF0YVJlZi5jdXJyZW50O1xuICAgIHJlZ2lzdGVyUGFuZWwocGFuZWxEYXRhKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5yZWdpc3RlclBhbmVsKHBhbmVsRGF0YSk7XG4gICAgfTtcbiAgfSwgW29yZGVyLCBwYW5lbElkLCByZWdpc3RlclBhbmVsLCB1bnJlZ2lzdGVyUGFuZWxdKTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShmb3J3YXJkZWRSZWYsICgpID0+ICh7XG4gICAgY29sbGFwc2U6ICgpID0+IHtcbiAgICAgIGNvbGxhcHNlUGFuZWwocGFuZWxEYXRhUmVmLmN1cnJlbnQpO1xuICAgIH0sXG4gICAgZXhwYW5kOiBtaW5TaXplID0+IHtcbiAgICAgIGV4cGFuZFBhbmVsKHBhbmVsRGF0YVJlZi5jdXJyZW50LCBtaW5TaXplKTtcbiAgICB9LFxuICAgIGdldElkKCkge1xuICAgICAgcmV0dXJuIHBhbmVsSWQ7XG4gICAgfSxcbiAgICBnZXRTaXplKCkge1xuICAgICAgcmV0dXJuIGdldFBhbmVsU2l6ZShwYW5lbERhdGFSZWYuY3VycmVudCk7XG4gICAgfSxcbiAgICBpc0NvbGxhcHNlZCgpIHtcbiAgICAgIHJldHVybiBpc1BhbmVsQ29sbGFwc2VkKHBhbmVsRGF0YVJlZi5jdXJyZW50KTtcbiAgICB9LFxuICAgIGlzRXhwYW5kZWQoKSB7XG4gICAgICByZXR1cm4gIWlzUGFuZWxDb2xsYXBzZWQocGFuZWxEYXRhUmVmLmN1cnJlbnQpO1xuICAgIH0sXG4gICAgcmVzaXplOiBzaXplID0+IHtcbiAgICAgIHJlc2l6ZVBhbmVsKHBhbmVsRGF0YVJlZi5jdXJyZW50LCBzaXplKTtcbiAgICB9XG4gIH0pLCBbY29sbGFwc2VQYW5lbCwgZXhwYW5kUGFuZWwsIGdldFBhbmVsU2l6ZSwgaXNQYW5lbENvbGxhcHNlZCwgcGFuZWxJZCwgcmVzaXplUGFuZWxdKTtcbiAgY29uc3Qgc3R5bGUgPSBnZXRQYW5lbFN0eWxlKHBhbmVsRGF0YVJlZi5jdXJyZW50LCBkZWZhdWx0U2l6ZSk7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFR5cGUsIHtcbiAgICAuLi5yZXN0LFxuICAgIGNoaWxkcmVuLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lRnJvbVByb3BzLFxuICAgIGlkOiBwYW5lbElkLFxuICAgIHN0eWxlOiB7XG4gICAgICAuLi5zdHlsZSxcbiAgICAgIC4uLnN0eWxlRnJvbVByb3BzXG4gICAgfSxcbiAgICAvLyBDU1Mgc2VsZWN0b3JzXG4gICAgW0RBVEFfQVRUUklCVVRFUy5ncm91cElkXTogZ3JvdXBJZCxcbiAgICBbREFUQV9BVFRSSUJVVEVTLnBhbmVsXTogXCJcIixcbiAgICBbREFUQV9BVFRSSUJVVEVTLnBhbmVsQ29sbGFwc2libGVdOiBjb2xsYXBzaWJsZSB8fCB1bmRlZmluZWQsXG4gICAgW0RBVEFfQVRUUklCVVRFUy5wYW5lbElkXTogcGFuZWxJZCxcbiAgICBbREFUQV9BVFRSSUJVVEVTLnBhbmVsU2l6ZV06IHBhcnNlRmxvYXQoXCJcIiArIHN0eWxlLmZsZXhHcm93KS50b0ZpeGVkKDEpXG4gIH0pO1xufVxuY29uc3QgUGFuZWwgPSBmb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiBjcmVhdGVFbGVtZW50KFBhbmVsV2l0aEZvcndhcmRlZFJlZiwge1xuICAuLi5wcm9wcyxcbiAgZm9yd2FyZGVkUmVmOiByZWZcbn0pKTtcblBhbmVsV2l0aEZvcndhcmRlZFJlZi5kaXNwbGF5TmFtZSA9IFwiUGFuZWxcIjtcblBhbmVsLmRpc3BsYXlOYW1lID0gXCJmb3J3YXJkUmVmKFBhbmVsKVwiO1xuXG5sZXQgbm9uY2U7XG5mdW5jdGlvbiBnZXROb25jZSgpIHtcbiAgcmV0dXJuIG5vbmNlO1xufVxuZnVuY3Rpb24gc2V0Tm9uY2UodmFsdWUpIHtcbiAgbm9uY2UgPSB2YWx1ZTtcbn1cblxubGV0IGN1cnJlbnRDdXJzb3JTdHlsZSA9IG51bGw7XG5sZXQgZW5hYmxlZCA9IHRydWU7XG5sZXQgcHJldlJ1bGVJbmRleCA9IC0xO1xubGV0IHN0eWxlRWxlbWVudCA9IG51bGw7XG5mdW5jdGlvbiBkaXNhYmxlR2xvYmFsQ3Vyc29yU3R5bGVzKCkge1xuICBlbmFibGVkID0gZmFsc2U7XG59XG5mdW5jdGlvbiBlbmFibGVHbG9iYWxDdXJzb3JTdHlsZXMoKSB7XG4gIGVuYWJsZWQgPSB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0Q3Vyc29yU3R5bGUoc3RhdGUsIGNvbnN0cmFpbnRGbGFncykge1xuICBpZiAoY29uc3RyYWludEZsYWdzKSB7XG4gICAgY29uc3QgaG9yaXpvbnRhbE1pbiA9IChjb25zdHJhaW50RmxhZ3MgJiBFWENFRURFRF9IT1JJWk9OVEFMX01JTikgIT09IDA7XG4gICAgY29uc3QgaG9yaXpvbnRhbE1heCA9IChjb25zdHJhaW50RmxhZ3MgJiBFWENFRURFRF9IT1JJWk9OVEFMX01BWCkgIT09IDA7XG4gICAgY29uc3QgdmVydGljYWxNaW4gPSAoY29uc3RyYWludEZsYWdzICYgRVhDRUVERURfVkVSVElDQUxfTUlOKSAhPT0gMDtcbiAgICBjb25zdCB2ZXJ0aWNhbE1heCA9IChjb25zdHJhaW50RmxhZ3MgJiBFWENFRURFRF9WRVJUSUNBTF9NQVgpICE9PSAwO1xuICAgIGlmIChob3Jpem9udGFsTWluKSB7XG4gICAgICBpZiAodmVydGljYWxNaW4pIHtcbiAgICAgICAgcmV0dXJuIFwic2UtcmVzaXplXCI7XG4gICAgICB9IGVsc2UgaWYgKHZlcnRpY2FsTWF4KSB7XG4gICAgICAgIHJldHVybiBcIm5lLXJlc2l6ZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiZS1yZXNpemVcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGhvcml6b250YWxNYXgpIHtcbiAgICAgIGlmICh2ZXJ0aWNhbE1pbikge1xuICAgICAgICByZXR1cm4gXCJzdy1yZXNpemVcIjtcbiAgICAgIH0gZWxzZSBpZiAodmVydGljYWxNYXgpIHtcbiAgICAgICAgcmV0dXJuIFwibnctcmVzaXplXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJ3LXJlc2l6ZVwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmVydGljYWxNaW4pIHtcbiAgICAgIHJldHVybiBcInMtcmVzaXplXCI7XG4gICAgfSBlbHNlIGlmICh2ZXJ0aWNhbE1heCkge1xuICAgICAgcmV0dXJuIFwibi1yZXNpemVcIjtcbiAgICB9XG4gIH1cbiAgc3dpdGNoIChzdGF0ZSkge1xuICAgIGNhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICByZXR1cm4gXCJldy1yZXNpemVcIjtcbiAgICBjYXNlIFwiaW50ZXJzZWN0aW9uXCI6XG4gICAgICByZXR1cm4gXCJtb3ZlXCI7XG4gICAgY2FzZSBcInZlcnRpY2FsXCI6XG4gICAgICByZXR1cm4gXCJucy1yZXNpemVcIjtcbiAgfVxufVxuZnVuY3Rpb24gcmVzZXRHbG9iYWxDdXJzb3JTdHlsZSgpIHtcbiAgaWYgKHN0eWxlRWxlbWVudCAhPT0gbnVsbCkge1xuICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICBjdXJyZW50Q3Vyc29yU3R5bGUgPSBudWxsO1xuICAgIHN0eWxlRWxlbWVudCA9IG51bGw7XG4gICAgcHJldlJ1bGVJbmRleCA9IC0xO1xuICB9XG59XG5mdW5jdGlvbiBzZXRHbG9iYWxDdXJzb3JTdHlsZShzdGF0ZSwgY29uc3RyYWludEZsYWdzKSB7XG4gIHZhciBfc3R5bGVFbGVtZW50JHNoZWV0JGksIF9zdHlsZUVsZW1lbnQkc2hlZXQyO1xuICBpZiAoIWVuYWJsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSBnZXRDdXJzb3JTdHlsZShzdGF0ZSwgY29uc3RyYWludEZsYWdzKTtcbiAgaWYgKGN1cnJlbnRDdXJzb3JTdHlsZSA9PT0gc3R5bGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudEN1cnNvclN0eWxlID0gc3R5bGU7XG4gIGlmIChzdHlsZUVsZW1lbnQgPT09IG51bGwpIHtcbiAgICBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgY29uc3Qgbm9uY2UgPSBnZXROb25jZSgpO1xuICAgIGlmIChub25jZSkge1xuICAgICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICB9XG4gIGlmIChwcmV2UnVsZUluZGV4ID49IDApIHtcbiAgICB2YXIgX3N0eWxlRWxlbWVudCRzaGVldDtcbiAgICAoX3N0eWxlRWxlbWVudCRzaGVldCA9IHN0eWxlRWxlbWVudC5zaGVldCkgPT09IG51bGwgfHwgX3N0eWxlRWxlbWVudCRzaGVldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0eWxlRWxlbWVudCRzaGVldC5yZW1vdmVSdWxlKHByZXZSdWxlSW5kZXgpO1xuICB9XG4gIHByZXZSdWxlSW5kZXggPSAoX3N0eWxlRWxlbWVudCRzaGVldCRpID0gKF9zdHlsZUVsZW1lbnQkc2hlZXQyID0gc3R5bGVFbGVtZW50LnNoZWV0KSA9PT0gbnVsbCB8fCBfc3R5bGVFbGVtZW50JHNoZWV0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0eWxlRWxlbWVudCRzaGVldDIuaW5zZXJ0UnVsZShgKntjdXJzb3I6ICR7c3R5bGV9ICFpbXBvcnRhbnQ7fWApKSAhPT0gbnVsbCAmJiBfc3R5bGVFbGVtZW50JHNoZWV0JGkgIT09IHZvaWQgMCA/IF9zdHlsZUVsZW1lbnQkc2hlZXQkaSA6IC0xO1xufVxuXG5mdW5jdGlvbiBpc0tleURvd24oZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnR5cGUgPT09IFwia2V5ZG93blwiO1xufVxuZnVuY3Rpb24gaXNQb2ludGVyRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnR5cGUuc3RhcnRzV2l0aChcInBvaW50ZXJcIik7XG59XG5mdW5jdGlvbiBpc01vdXNlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnR5cGUuc3RhcnRzV2l0aChcIm1vdXNlXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRSZXNpemVFdmVudENvb3JkaW5hdGVzKGV2ZW50KSB7XG4gIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkpIHtcbiAgICBpZiAoZXZlbnQuaXNQcmltYXJ5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc01vdXNlRXZlbnQoZXZlbnQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IEluZmluaXR5LFxuICAgIHk6IEluZmluaXR5XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldElucHV0VHlwZSgpIHtcbiAgaWYgKHR5cGVvZiBtYXRjaE1lZGlhID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gbWF0Y2hNZWRpYShcIihwb2ludGVyOmNvYXJzZSlcIikubWF0Y2hlcyA/IFwiY29hcnNlXCIgOiBcImZpbmVcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3RzKHJlY3RPbmUsIHJlY3RUd28sIHN0cmljdCkge1xuICBpZiAoc3RyaWN0KSB7XG4gICAgcmV0dXJuIHJlY3RPbmUueCA8IHJlY3RUd28ueCArIHJlY3RUd28ud2lkdGggJiYgcmVjdE9uZS54ICsgcmVjdE9uZS53aWR0aCA+IHJlY3RUd28ueCAmJiByZWN0T25lLnkgPCByZWN0VHdvLnkgKyByZWN0VHdvLmhlaWdodCAmJiByZWN0T25lLnkgKyByZWN0T25lLmhlaWdodCA+IHJlY3RUd28ueTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVjdE9uZS54IDw9IHJlY3RUd28ueCArIHJlY3RUd28ud2lkdGggJiYgcmVjdE9uZS54ICsgcmVjdE9uZS53aWR0aCA+PSByZWN0VHdvLnggJiYgcmVjdE9uZS55IDw9IHJlY3RUd28ueSArIHJlY3RUd28uaGVpZ2h0ICYmIHJlY3RPbmUueSArIHJlY3RPbmUuaGVpZ2h0ID49IHJlY3RUd28ueTtcbiAgfVxufVxuXG4vLyBGb3JrZWQgZnJvbSBOUE0gc3RhY2tpbmctb3JkZXJAMi4wLjBcblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hpY2ggb2YgdHdvIG5vZGVzIGFwcGVhcnMgaW4gZnJvbnQgb2YgdGhlIG90aGVyIOKAlFxuICogaWYgYGFgIGlzIGluIGZyb250LCByZXR1cm5zIDEsIG90aGVyd2lzZSByZXR1cm5zIC0xXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYVxuICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IGJcbiAqL1xuZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gIGlmIChhID09PSBiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tcGFyZSBub2RlIHdpdGggaXRzZWxmXCIpO1xuICBjb25zdCBhbmNlc3RvcnMgPSB7XG4gICAgYTogZ2V0X2FuY2VzdG9ycyhhKSxcbiAgICBiOiBnZXRfYW5jZXN0b3JzKGIpXG4gIH07XG4gIGxldCBjb21tb25fYW5jZXN0b3I7XG5cbiAgLy8gcmVtb3ZlIHNoYXJlZCBhbmNlc3RvcnNcbiAgd2hpbGUgKGFuY2VzdG9ycy5hLmF0KC0xKSA9PT0gYW5jZXN0b3JzLmIuYXQoLTEpKSB7XG4gICAgYSA9IGFuY2VzdG9ycy5hLnBvcCgpO1xuICAgIGIgPSBhbmNlc3RvcnMuYi5wb3AoKTtcbiAgICBjb21tb25fYW5jZXN0b3IgPSBhO1xuICB9XG4gIGFzc2VydChjb21tb25fYW5jZXN0b3IsIFwiU3RhY2tpbmcgb3JkZXIgY2FuIG9ubHkgYmUgY2FsY3VsYXRlZCBmb3IgZWxlbWVudHMgd2l0aCBhIGNvbW1vbiBhbmNlc3RvclwiKTtcbiAgY29uc3Qgel9pbmRleGVzID0ge1xuICAgIGE6IGdldF96X2luZGV4KGZpbmRfc3RhY2tpbmdfY29udGV4dChhbmNlc3RvcnMuYSkpLFxuICAgIGI6IGdldF96X2luZGV4KGZpbmRfc3RhY2tpbmdfY29udGV4dChhbmNlc3RvcnMuYikpXG4gIH07XG4gIGlmICh6X2luZGV4ZXMuYSA9PT0gel9pbmRleGVzLmIpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGNvbW1vbl9hbmNlc3Rvci5jaGlsZE5vZGVzO1xuICAgIGNvbnN0IGZ1cnRoZXN0X2FuY2VzdG9ycyA9IHtcbiAgICAgIGE6IGFuY2VzdG9ycy5hLmF0KC0xKSxcbiAgICAgIGI6IGFuY2VzdG9ycy5iLmF0KC0xKVxuICAgIH07XG4gICAgbGV0IGkgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmIChjaGlsZCA9PT0gZnVydGhlc3RfYW5jZXN0b3JzLmEpIHJldHVybiAxO1xuICAgICAgaWYgKGNoaWxkID09PSBmdXJ0aGVzdF9hbmNlc3RvcnMuYikgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gTWF0aC5zaWduKHpfaW5kZXhlcy5hIC0gel9pbmRleGVzLmIpO1xufVxuY29uc3QgcHJvcHMgPSAvXFxiKD86cG9zaXRpb258ekluZGV4fG9wYWNpdHl8dHJhbnNmb3JtfHdlYmtpdFRyYW5zZm9ybXxtaXhCbGVuZE1vZGV8ZmlsdGVyfHdlYmtpdEZpbHRlcnxpc29sYXRpb24pXFxiLztcblxuLyoqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBub2RlICovXG5mdW5jdGlvbiBpc19mbGV4X2l0ZW0obm9kZSkge1xuICB2YXIgX2dldF9wYXJlbnQ7XG4gIC8vIEB0cy1pZ25vcmVcbiAgY29uc3QgZGlzcGxheSA9IGdldENvbXB1dGVkU3R5bGUoKF9nZXRfcGFyZW50ID0gZ2V0X3BhcmVudChub2RlKSkgIT09IG51bGwgJiYgX2dldF9wYXJlbnQgIT09IHZvaWQgMCA/IF9nZXRfcGFyZW50IDogbm9kZSkuZGlzcGxheTtcbiAgcmV0dXJuIGRpc3BsYXkgPT09IFwiZmxleFwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWZsZXhcIjtcbn1cblxuLyoqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50fSBub2RlICovXG5mdW5jdGlvbiBjcmVhdGVzX3N0YWNraW5nX2NvbnRleHQobm9kZSkge1xuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NTU19Qb3NpdGlvbmluZy9VbmRlcnN0YW5kaW5nX3pfaW5kZXgvVGhlX3N0YWNraW5nX2NvbnRleHRcbiAgaWYgKHN0eWxlLnBvc2l0aW9uID09PSBcImZpeGVkXCIpIHJldHVybiB0cnVlO1xuICAvLyBGb3JrZWQgdG8gZml4IHVwc3RyZWFtIGJ1ZyBodHRwczovL2dpdGh1Yi5jb20vUmljaC1IYXJyaXMvc3RhY2tpbmctb3JkZXIvaXNzdWVzLzNcbiAgLy8gaWYgKFxuICAvLyAgIChzdHlsZS56SW5kZXggIT09IFwiYXV0b1wiICYmIHN0eWxlLnBvc2l0aW9uICE9PSBcInN0YXRpY1wiKSB8fFxuICAvLyAgIGlzX2ZsZXhfaXRlbShub2RlKVxuICAvLyApXG4gIGlmIChzdHlsZS56SW5kZXggIT09IFwiYXV0b1wiICYmIChzdHlsZS5wb3NpdGlvbiAhPT0gXCJzdGF0aWNcIiB8fCBpc19mbGV4X2l0ZW0obm9kZSkpKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCtzdHlsZS5vcGFjaXR5IDwgMSkgcmV0dXJuIHRydWU7XG4gIGlmIChcInRyYW5zZm9ybVwiIGluIHN0eWxlICYmIHN0eWxlLnRyYW5zZm9ybSAhPT0gXCJub25lXCIpIHJldHVybiB0cnVlO1xuICBpZiAoXCJ3ZWJraXRUcmFuc2Zvcm1cIiBpbiBzdHlsZSAmJiBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gIT09IFwibm9uZVwiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFwibWl4QmxlbmRNb2RlXCIgaW4gc3R5bGUgJiYgc3R5bGUubWl4QmxlbmRNb2RlICE9PSBcIm5vcm1hbFwiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFwiZmlsdGVyXCIgaW4gc3R5bGUgJiYgc3R5bGUuZmlsdGVyICE9PSBcIm5vbmVcIikgcmV0dXJuIHRydWU7XG4gIGlmIChcIndlYmtpdEZpbHRlclwiIGluIHN0eWxlICYmIHN0eWxlLndlYmtpdEZpbHRlciAhPT0gXCJub25lXCIpIHJldHVybiB0cnVlO1xuICBpZiAoXCJpc29sYXRpb25cIiBpbiBzdHlsZSAmJiBzdHlsZS5pc29sYXRpb24gPT09IFwiaXNvbGF0ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHByb3BzLnRlc3Qoc3R5bGUud2lsbENoYW5nZSkpIHJldHVybiB0cnVlO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIGlmIChzdHlsZS53ZWJraXRPdmVyZmxvd1Njcm9sbGluZyA9PT0gXCJ0b3VjaFwiKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKiogQHBhcmFtIHsoSFRNTEVsZW1lbnR8IFNWR0VsZW1lbnQpW119IG5vZGVzICovXG5mdW5jdGlvbiBmaW5kX3N0YWNraW5nX2NvbnRleHQobm9kZXMpIHtcbiAgbGV0IGkgPSBub2Rlcy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgYXNzZXJ0KG5vZGUsIFwiTWlzc2luZyBub2RlXCIpO1xuICAgIGlmIChjcmVhdGVzX3N0YWNraW5nX2NvbnRleHQobm9kZSkpIHJldHVybiBub2RlO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKiogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IG5vZGUgKi9cbmZ1bmN0aW9uIGdldF96X2luZGV4KG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgJiYgTnVtYmVyKGdldENvbXB1dGVkU3R5bGUobm9kZSkuekluZGV4KSB8fCAwO1xufVxuXG4vKiogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSAqL1xuZnVuY3Rpb24gZ2V0X2FuY2VzdG9ycyhub2RlKSB7XG4gIGNvbnN0IGFuY2VzdG9ycyA9IFtdO1xuICB3aGlsZSAobm9kZSkge1xuICAgIGFuY2VzdG9ycy5wdXNoKG5vZGUpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBub2RlID0gZ2V0X3BhcmVudChub2RlKTtcbiAgfVxuICByZXR1cm4gYW5jZXN0b3JzOyAvLyBbIG5vZGUsIC4uLiA8Ym9keT4sIDxodG1sPiwgZG9jdW1lbnQgXVxufVxuXG4vKiogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSAqL1xuZnVuY3Rpb24gZ2V0X3BhcmVudChub2RlKSB7XG4gIGNvbnN0IHtcbiAgICBwYXJlbnROb2RlXG4gIH0gPSBub2RlO1xuICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlIGluc3RhbmNlb2YgU2hhZG93Um9vdCkge1xuICAgIHJldHVybiBwYXJlbnROb2RlLmhvc3Q7XG4gIH1cbiAgcmV0dXJuIHBhcmVudE5vZGU7XG59XG5cbmNvbnN0IEVYQ0VFREVEX0hPUklaT05UQUxfTUlOID0gMGIwMDAxO1xuY29uc3QgRVhDRUVERURfSE9SSVpPTlRBTF9NQVggPSAwYjAwMTA7XG5jb25zdCBFWENFRURFRF9WRVJUSUNBTF9NSU4gPSAwYjAxMDA7XG5jb25zdCBFWENFRURFRF9WRVJUSUNBTF9NQVggPSAwYjEwMDA7XG5jb25zdCBpc0NvYXJzZVBvaW50ZXIgPSBnZXRJbnB1dFR5cGUoKSA9PT0gXCJjb2Fyc2VcIjtcbmxldCBpbnRlcnNlY3RpbmdIYW5kbGVzID0gW107XG5sZXQgaXNQb2ludGVyRG93biA9IGZhbHNlO1xubGV0IG93bmVyRG9jdW1lbnRDb3VudHMgPSBuZXcgTWFwKCk7XG5sZXQgcGFuZWxDb25zdHJhaW50RmxhZ3MgPSBuZXcgTWFwKCk7XG5jb25zdCByZWdpc3RlcmVkUmVzaXplSGFuZGxlcnMgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiByZWdpc3RlclJlc2l6ZUhhbmRsZShyZXNpemVIYW5kbGVJZCwgZWxlbWVudCwgZGlyZWN0aW9uLCBoaXRBcmVhTWFyZ2lucywgc2V0UmVzaXplSGFuZGxlclN0YXRlKSB7XG4gIHZhciBfb3duZXJEb2N1bWVudENvdW50cyQ7XG4gIGNvbnN0IHtcbiAgICBvd25lckRvY3VtZW50XG4gIH0gPSBlbGVtZW50O1xuICBjb25zdCBkYXRhID0ge1xuICAgIGRpcmVjdGlvbixcbiAgICBlbGVtZW50LFxuICAgIGhpdEFyZWFNYXJnaW5zLFxuICAgIHNldFJlc2l6ZUhhbmRsZXJTdGF0ZVxuICB9O1xuICBjb25zdCBjb3VudCA9IChfb3duZXJEb2N1bWVudENvdW50cyQgPSBvd25lckRvY3VtZW50Q291bnRzLmdldChvd25lckRvY3VtZW50KSkgIT09IG51bGwgJiYgX293bmVyRG9jdW1lbnRDb3VudHMkICE9PSB2b2lkIDAgPyBfb3duZXJEb2N1bWVudENvdW50cyQgOiAwO1xuICBvd25lckRvY3VtZW50Q291bnRzLnNldChvd25lckRvY3VtZW50LCBjb3VudCArIDEpO1xuICByZWdpc3RlcmVkUmVzaXplSGFuZGxlcnMuYWRkKGRhdGEpO1xuICB1cGRhdGVMaXN0ZW5lcnMoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVucmVnaXN0ZXJSZXNpemVIYW5kbGUoKSB7XG4gICAgdmFyIF9vd25lckRvY3VtZW50Q291bnRzJDI7XG4gICAgcGFuZWxDb25zdHJhaW50RmxhZ3MuZGVsZXRlKHJlc2l6ZUhhbmRsZUlkKTtcbiAgICByZWdpc3RlcmVkUmVzaXplSGFuZGxlcnMuZGVsZXRlKGRhdGEpO1xuICAgIGNvbnN0IGNvdW50ID0gKF9vd25lckRvY3VtZW50Q291bnRzJDIgPSBvd25lckRvY3VtZW50Q291bnRzLmdldChvd25lckRvY3VtZW50KSkgIT09IG51bGwgJiYgX293bmVyRG9jdW1lbnRDb3VudHMkMiAhPT0gdm9pZCAwID8gX293bmVyRG9jdW1lbnRDb3VudHMkMiA6IDE7XG4gICAgb3duZXJEb2N1bWVudENvdW50cy5zZXQob3duZXJEb2N1bWVudCwgY291bnQgLSAxKTtcbiAgICB1cGRhdGVMaXN0ZW5lcnMoKTtcbiAgICBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgIG93bmVyRG9jdW1lbnRDb3VudHMuZGVsZXRlKG93bmVyRG9jdW1lbnQpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSByZXNpemUgaGFuZGxlIHRoYXQgaXMgY3VycmVudGx5IHVubW91bnRpbmcgaXMgaW50ZXJzZWN0aW5nIHdpdGggdGhlIHBvaW50ZXIsXG4gICAgLy8gdXBkYXRlIHRoZSBnbG9iYWwgcG9pbnRlciB0byBhY2NvdW50IGZvciB0aGUgY2hhbmdlXG4gICAgaWYgKGludGVyc2VjdGluZ0hhbmRsZXMuaW5jbHVkZXMoZGF0YSkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaW50ZXJzZWN0aW5nSGFuZGxlcy5pbmRleE9mKGRhdGEpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgaW50ZXJzZWN0aW5nSGFuZGxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgdXBkYXRlQ3Vyc29yKCk7XG5cbiAgICAgIC8vIEFsc28gaW5zdHJ1Y3QgdGhlIGhhbmRsZSB0byBzdG9wIGRyYWdnaW5nOyB0aGlzIHByZXZlbnRzIHRoZSBwYXJlbnQgZ3JvdXAgZnJvbSBiZWluZyBsZWZ0IGluIGFuIGluY29uc2lzdGVudCBzdGF0ZVxuICAgICAgLy8gU2VlIGdpdGh1Yi5jb20vYnZhdWdobi9yZWFjdC1yZXNpemFibGUtcGFuZWxzL2lzc3Vlcy80MDJcbiAgICAgIHNldFJlc2l6ZUhhbmRsZXJTdGF0ZShcInVwXCIsIHRydWUsIG51bGwpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50KSB7XG4gIGNvbnN0IHtcbiAgICB0YXJnZXRcbiAgfSA9IGV2ZW50O1xuICBjb25zdCB7XG4gICAgeCxcbiAgICB5XG4gIH0gPSBnZXRSZXNpemVFdmVudENvb3JkaW5hdGVzKGV2ZW50KTtcbiAgaXNQb2ludGVyRG93biA9IHRydWU7XG4gIHJlY2FsY3VsYXRlSW50ZXJzZWN0aW5nSGFuZGxlcyh7XG4gICAgdGFyZ2V0LFxuICAgIHgsXG4gICAgeVxuICB9KTtcbiAgdXBkYXRlTGlzdGVuZXJzKCk7XG4gIGlmIChpbnRlcnNlY3RpbmdIYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICB1cGRhdGVSZXNpemVIYW5kbGVyU3RhdGVzKFwiZG93blwiLCBldmVudCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIWlzV2l0aGluUmVzaXplSGFuZGxlKHRhcmdldCkpIHtcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlUG9pbnRlck1vdmUoZXZlbnQpIHtcbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeVxuICB9ID0gZ2V0UmVzaXplRXZlbnRDb29yZGluYXRlcyhldmVudCk7XG5cbiAgLy8gRWRnZSBjYXNlIChzZWUgIzM0MClcbiAgLy8gRGV0ZWN0IHdoZW4gdGhlIHBvaW50ZXIgaGFzIGJlZW4gcmVsZWFzZWQgb3V0c2lkZSBhbiBpZnJhbWUgb24gYSBkaWZmZXJlbnQgZG9tYWluXG4gIGlmIChpc1BvaW50ZXJEb3duICYmIGV2ZW50LmJ1dHRvbnMgPT09IDApIHtcbiAgICBpc1BvaW50ZXJEb3duID0gZmFsc2U7XG4gICAgdXBkYXRlUmVzaXplSGFuZGxlclN0YXRlcyhcInVwXCIsIGV2ZW50KTtcbiAgfVxuICBpZiAoIWlzUG9pbnRlckRvd24pIHtcbiAgICBjb25zdCB7XG4gICAgICB0YXJnZXRcbiAgICB9ID0gZXZlbnQ7XG5cbiAgICAvLyBSZWNhbGN1bGF0ZSBpbnRlcnNlY3RpbmcgaGFuZGxlcyB3aGVuZXZlciB0aGUgcG9pbnRlciBtb3ZlcywgZXhjZXB0IGlmIGl0IGhhcyBhbHJlYWR5IGJlZW4gcHJlc3NlZFxuICAgIC8vIGF0IHRoYXQgcG9pbnQsIHRoZSBoYW5kbGVzIG1heSBub3QgbW92ZSB3aXRoIHRoZSBwb2ludGVyIChkZXBlbmRpbmcgb24gY29uc3RyYWludHMpXG4gICAgLy8gYnV0IHRoZSBzYW1lIHNldCBvZiBhY3RpdmUgaGFuZGxlcyBzaG91bGQgYmUgbG9ja2VkIHVudGlsIHRoZSBwb2ludGVyIGlzIHJlbGVhc2VkXG4gICAgcmVjYWxjdWxhdGVJbnRlcnNlY3RpbmdIYW5kbGVzKHtcbiAgICAgIHRhcmdldCxcbiAgICAgIHgsXG4gICAgICB5XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlUmVzaXplSGFuZGxlclN0YXRlcyhcIm1vdmVcIiwgZXZlbnQpO1xuXG4gIC8vIFVwZGF0ZSBjdXJzb3IgYmFzZWQgb24gcmV0dXJuIHZhbHVlKHMpIGZyb20gYWN0aXZlIGhhbmRsZXNcbiAgdXBkYXRlQ3Vyc29yKCk7XG4gIGlmIChpbnRlcnNlY3RpbmdIYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVQb2ludGVyVXAoZXZlbnQpIHtcbiAgY29uc3Qge1xuICAgIHRhcmdldFxuICB9ID0gZXZlbnQ7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHlcbiAgfSA9IGdldFJlc2l6ZUV2ZW50Q29vcmRpbmF0ZXMoZXZlbnQpO1xuICBwYW5lbENvbnN0cmFpbnRGbGFncy5jbGVhcigpO1xuICBpc1BvaW50ZXJEb3duID0gZmFsc2U7XG4gIGlmIChpbnRlcnNlY3RpbmdIYW5kbGVzLmxlbmd0aCA+IDApIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghaXNXaXRoaW5SZXNpemVIYW5kbGUodGFyZ2V0KSkge1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVJlc2l6ZUhhbmRsZXJTdGF0ZXMoXCJ1cFwiLCBldmVudCk7XG4gIHJlY2FsY3VsYXRlSW50ZXJzZWN0aW5nSGFuZGxlcyh7XG4gICAgdGFyZ2V0LFxuICAgIHgsXG4gICAgeVxuICB9KTtcbiAgdXBkYXRlQ3Vyc29yKCk7XG4gIHVwZGF0ZUxpc3RlbmVycygpO1xufVxuZnVuY3Rpb24gaXNXaXRoaW5SZXNpemVIYW5kbGUoZWxlbWVudCkge1xuICBsZXQgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICB3aGlsZSAoY3VycmVudEVsZW1lbnQpIHtcbiAgICBpZiAoY3VycmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5yZXNpemVIYW5kbGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlY2FsY3VsYXRlSW50ZXJzZWN0aW5nSGFuZGxlcyh7XG4gIHRhcmdldCxcbiAgeCxcbiAgeVxufSkge1xuICBpbnRlcnNlY3RpbmdIYW5kbGVzLnNwbGljZSgwKTtcbiAgbGV0IHRhcmdldEVsZW1lbnQgPSBudWxsO1xuICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXQ7XG4gIH1cbiAgcmVnaXN0ZXJlZFJlc2l6ZUhhbmRsZXJzLmZvckVhY2goZGF0YSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZWxlbWVudDogZHJhZ0hhbmRsZUVsZW1lbnQsXG4gICAgICBoaXRBcmVhTWFyZ2luc1xuICAgIH0gPSBkYXRhO1xuICAgIGNvbnN0IGRyYWdIYW5kbGVSZWN0ID0gZHJhZ0hhbmRsZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qge1xuICAgICAgYm90dG9tLFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgdG9wXG4gICAgfSA9IGRyYWdIYW5kbGVSZWN0O1xuICAgIGNvbnN0IG1hcmdpbiA9IGlzQ29hcnNlUG9pbnRlciA/IGhpdEFyZWFNYXJnaW5zLmNvYXJzZSA6IGhpdEFyZWFNYXJnaW5zLmZpbmU7XG4gICAgY29uc3QgZXZlbnRJbnRlcnNlY3RzID0geCA+PSBsZWZ0IC0gbWFyZ2luICYmIHggPD0gcmlnaHQgKyBtYXJnaW4gJiYgeSA+PSB0b3AgLSBtYXJnaW4gJiYgeSA8PSBib3R0b20gKyBtYXJnaW47XG4gICAgaWYgKGV2ZW50SW50ZXJzZWN0cykge1xuICAgICAgLy8gVFJJQ0tZXG4gICAgICAvLyBXZSBsaXN0ZW4gZm9yIHBvaW50ZXJzIGV2ZW50cyBhdCB0aGUgcm9vdCBpbiBvcmRlciB0byBzdXBwb3J0IGhpdCBhcmVhIG1hcmdpbnNcbiAgICAgIC8vIChkZXRlcm1pbmluZyB3aGVuIHRoZSBwb2ludGVyIGlzIGNsb3NlIGVub3VnaCB0byBhbiBlbGVtZW50IHRvIGJlIGNvbnNpZGVyZWQgYSBcImhpdFwiKVxuICAgICAgLy8gQ2xpY2tpbmcgb24gYW4gZWxlbWVudCBcImFib3ZlXCIgYSBoYW5kbGUgKGUuZy4gYSBtb2RhbCkgc2hvdWxkIHByZXZlbnQgYSBoaXQgdGhvdWdoXG4gICAgICAvLyBzbyBhdCB0aGlzIHBvaW50IHdlIG5lZWQgdG8gY29tcGFyZSBzdGFja2luZyBvcmRlciBvZiBhIHBvdGVudGlhbGx5IGludGVyc2VjdGluZyBkcmFnIGhhbmRsZSxcbiAgICAgIC8vIGFuZCB0aGUgZWxlbWVudCB0aGF0IHdhcyBhY3R1YWxseSBjbGlja2VkL3RvdWNoZWRcbiAgICAgIGlmICh0YXJnZXRFbGVtZW50ICE9PSBudWxsICYmIGRvY3VtZW50LmNvbnRhaW5zKHRhcmdldEVsZW1lbnQpICYmIGRyYWdIYW5kbGVFbGVtZW50ICE9PSB0YXJnZXRFbGVtZW50ICYmICFkcmFnSGFuZGxlRWxlbWVudC5jb250YWlucyh0YXJnZXRFbGVtZW50KSAmJiAhdGFyZ2V0RWxlbWVudC5jb250YWlucyhkcmFnSGFuZGxlRWxlbWVudCkgJiZcbiAgICAgIC8vIENhbGN1bGF0aW5nIHN0YWNraW5nIG9yZGVyIGhhcyBhIGNvc3QsIHNvIHdlIHNob3VsZCBhdm9pZCBpdCBpZiBwb3NzaWJsZVxuICAgICAgLy8gVGhhdCBpcyB3aHkgd2Ugb25seSBjaGVjayBwb3RlbnRpYWxseSBpbnRlcnNlY3RpbmcgaGFuZGxlcyxcbiAgICAgIC8vIGFuZCB3aHkgd2Ugc2tpcCBpZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIHdpdGhpbiB0aGUgaGFuZGxlJ3MgRE9NXG4gICAgICBjb21wYXJlKHRhcmdldEVsZW1lbnQsIGRyYWdIYW5kbGVFbGVtZW50KSA+IDApIHtcbiAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyBhYm92ZSB0aGUgZHJhZyBoYW5kbGUsIHRoZW4gd2UgYWxzbyBuZWVkIHRvIGNvbmZpcm0gdGhleSBvdmVybGFwXG4gICAgICAgIC8vIElmIHRoZXkgYXJlIGJlc2lkZSBlYWNoIG90aGVyIChlLmcuIGEgcGFuZWwgYW5kIGl0cyBkcmFnIGhhbmRsZSkgdGhlbiB0aGUgaGFuZGxlIGlzIHN0aWxsIGludGVyYWN0aXZlXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEl0J3Mgbm90IGVub3VnaCB0byBjb21wYXJlIG9ubHkgdGhlIHRhcmdldFxuICAgICAgICAvLyBUaGUgdGFyZ2V0IG1pZ2h0IGJlIGEgc21hbGwgZWxlbWVudCBpbnNpZGUgb2YgYSBsYXJnZXIgY29udGFpbmVyXG4gICAgICAgIC8vIChGb3IgZXhhbXBsZSwgYSBTUEFOIG9yIGEgRElWIGluc2lkZSBvZiBhIGxhcmdlciBtb2RhbCBkaWFsb2cpXG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG4gICAgICAgIGxldCBkaWRJbnRlcnNlY3QgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmNvbnRhaW5zKGRyYWdIYW5kbGVFbGVtZW50KSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbnRlcnNlY3RzKGN1cnJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkcmFnSGFuZGxlUmVjdCwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGRpZEludGVyc2VjdCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWRJbnRlcnNlY3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGludGVyc2VjdGluZ0hhbmRsZXMucHVzaChkYXRhKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVwb3J0Q29uc3RyYWludHNWaW9sYXRpb24ocmVzaXplSGFuZGxlSWQsIGZsYWcpIHtcbiAgcGFuZWxDb25zdHJhaW50RmxhZ3Muc2V0KHJlc2l6ZUhhbmRsZUlkLCBmbGFnKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUN1cnNvcigpIHtcbiAgbGV0IGludGVyc2VjdHNIb3Jpem9udGFsID0gZmFsc2U7XG4gIGxldCBpbnRlcnNlY3RzVmVydGljYWwgPSBmYWxzZTtcbiAgaW50ZXJzZWN0aW5nSGFuZGxlcy5mb3JFYWNoKGRhdGEgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpcmVjdGlvblxuICAgIH0gPSBkYXRhO1xuICAgIGlmIChkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICBpbnRlcnNlY3RzSG9yaXpvbnRhbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyc2VjdHNWZXJ0aWNhbCA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgbGV0IGNvbnN0cmFpbnRGbGFncyA9IDA7XG4gIHBhbmVsQ29uc3RyYWludEZsYWdzLmZvckVhY2goZmxhZyA9PiB7XG4gICAgY29uc3RyYWludEZsYWdzIHw9IGZsYWc7XG4gIH0pO1xuICBpZiAoaW50ZXJzZWN0c0hvcml6b250YWwgJiYgaW50ZXJzZWN0c1ZlcnRpY2FsKSB7XG4gICAgc2V0R2xvYmFsQ3Vyc29yU3R5bGUoXCJpbnRlcnNlY3Rpb25cIiwgY29uc3RyYWludEZsYWdzKTtcbiAgfSBlbHNlIGlmIChpbnRlcnNlY3RzSG9yaXpvbnRhbCkge1xuICAgIHNldEdsb2JhbEN1cnNvclN0eWxlKFwiaG9yaXpvbnRhbFwiLCBjb25zdHJhaW50RmxhZ3MpO1xuICB9IGVsc2UgaWYgKGludGVyc2VjdHNWZXJ0aWNhbCkge1xuICAgIHNldEdsb2JhbEN1cnNvclN0eWxlKFwidmVydGljYWxcIiwgY29uc3RyYWludEZsYWdzKTtcbiAgfSBlbHNlIHtcbiAgICByZXNldEdsb2JhbEN1cnNvclN0eWxlKCk7XG4gIH1cbn1cbmxldCBsaXN0ZW5lcnNBYm9ydENvbnRyb2xsZXI7XG5mdW5jdGlvbiB1cGRhdGVMaXN0ZW5lcnMoKSB7XG4gIHZhciBfbGlzdGVuZXJzQWJvcnRDb250cm87XG4gIChfbGlzdGVuZXJzQWJvcnRDb250cm8gPSBsaXN0ZW5lcnNBYm9ydENvbnRyb2xsZXIpID09PSBudWxsIHx8IF9saXN0ZW5lcnNBYm9ydENvbnRybyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2xpc3RlbmVyc0Fib3J0Q29udHJvLmFib3J0KCk7XG4gIGxpc3RlbmVyc0Fib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBjYXB0dXJlOiB0cnVlLFxuICAgIHNpZ25hbDogbGlzdGVuZXJzQWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICB9O1xuICBpZiAoIXJlZ2lzdGVyZWRSZXNpemVIYW5kbGVycy5zaXplKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc1BvaW50ZXJEb3duKSB7XG4gICAgaWYgKGludGVyc2VjdGluZ0hhbmRsZXMubGVuZ3RoID4gMCkge1xuICAgICAgb3duZXJEb2N1bWVudENvdW50cy5mb3JFYWNoKChjb3VudCwgb3duZXJEb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgYm9keVxuICAgICAgICB9ID0gb3duZXJEb2N1bWVudDtcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGhhbmRsZVBvaW50ZXJVcCwgb3B0aW9ucyk7XG4gICAgICAgICAgYm9keS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIGhhbmRsZVBvaW50ZXJNb3ZlLCBvcHRpb25zKTtcbiAgICAgICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBoYW5kbGVQb2ludGVyTW92ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvd25lckRvY3VtZW50Q291bnRzLmZvckVhY2goKF8sIG93bmVyRG9jdW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYm9keVxuICAgICAgfSA9IG93bmVyRG9jdW1lbnQ7XG4gICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwLCBvcHRpb25zKTtcbiAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIiwgaGFuZGxlUG9pbnRlclVwLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvd25lckRvY3VtZW50Q291bnRzLmZvckVhY2goKGNvdW50LCBvd25lckRvY3VtZW50KSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGJvZHlcbiAgICAgIH0gPSBvd25lckRvY3VtZW50O1xuICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyRG93biwgb3B0aW9ucyk7XG4gICAgICAgIGJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGhhbmRsZVBvaW50ZXJNb3ZlLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUmVzaXplSGFuZGxlclN0YXRlcyhhY3Rpb24sIGV2ZW50KSB7XG4gIHJlZ2lzdGVyZWRSZXNpemVIYW5kbGVycy5mb3JFYWNoKGRhdGEgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNldFJlc2l6ZUhhbmRsZXJTdGF0ZVxuICAgIH0gPSBkYXRhO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gaW50ZXJzZWN0aW5nSGFuZGxlcy5pbmNsdWRlcyhkYXRhKTtcbiAgICBzZXRSZXNpemVIYW5kbGVyU3RhdGUoYWN0aW9uLCBpc0FjdGl2ZSwgZXZlbnQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlRm9yY2VVcGRhdGUoKSB7XG4gIGNvbnN0IFtfLCBzZXRDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKCgpID0+IHNldENvdW50KHByZXZDb3VudCA9PiBwcmV2Q291bnQgKyAxKSwgW10pO1xufVxuXG5mdW5jdGlvbiBhc3NlcnQoZXhwZWN0ZWRDb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFleHBlY3RlZENvbmRpdGlvbikge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgdGhyb3cgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZnV6enlDb21wYXJlTnVtYmVycyhhY3R1YWwsIGV4cGVjdGVkLCBmcmFjdGlvbkRpZ2l0cyA9IFBSRUNJU0lPTikge1xuICBpZiAoYWN0dWFsLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpID09PSBleHBlY3RlZC50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKSkge1xuICAgIHJldHVybiAwO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhY3R1YWwgPiBleHBlY3RlZCA/IDEgOiAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZnV6enlOdW1iZXJzRXF1YWwkMShhY3R1YWwsIGV4cGVjdGVkLCBmcmFjdGlvbkRpZ2l0cyA9IFBSRUNJU0lPTikge1xuICByZXR1cm4gZnV6enlDb21wYXJlTnVtYmVycyhhY3R1YWwsIGV4cGVjdGVkLCBmcmFjdGlvbkRpZ2l0cykgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGZ1enp5TnVtYmVyc0VxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIGZyYWN0aW9uRGlnaXRzKSB7XG4gIHJldHVybiBmdXp6eUNvbXBhcmVOdW1iZXJzKGFjdHVhbCwgZXhwZWN0ZWQsIGZyYWN0aW9uRGlnaXRzKSA9PT0gMDtcbn1cblxuZnVuY3Rpb24gZnV6enlMYXlvdXRzRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgZnJhY3Rpb25EaWdpdHMpIHtcbiAgaWYgKGFjdHVhbC5sZW5ndGggIT09IGV4cGVjdGVkLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWN0dWFsLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGFjdHVhbFNpemUgPSBhY3R1YWxbaW5kZXhdO1xuICAgIGNvbnN0IGV4cGVjdGVkU2l6ZSA9IGV4cGVjdGVkW2luZGV4XTtcbiAgICBpZiAoIWZ1enp5TnVtYmVyc0VxdWFsKGFjdHVhbFNpemUsIGV4cGVjdGVkU2l6ZSwgZnJhY3Rpb25EaWdpdHMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBQYW5lbCBzaXplIG11c3QgYmUgaW4gcGVyY2VudGFnZXM7IHBpeGVsIHZhbHVlcyBzaG91bGQgYmUgcHJlLWNvbnZlcnRlZFxuZnVuY3Rpb24gcmVzaXplUGFuZWwoe1xuICBwYW5lbENvbnN0cmFpbnRzOiBwYW5lbENvbnN0cmFpbnRzQXJyYXksXG4gIHBhbmVsSW5kZXgsXG4gIHNpemVcbn0pIHtcbiAgY29uc3QgcGFuZWxDb25zdHJhaW50cyA9IHBhbmVsQ29uc3RyYWludHNBcnJheVtwYW5lbEluZGV4XTtcbiAgYXNzZXJ0KHBhbmVsQ29uc3RyYWludHMgIT0gbnVsbCwgYFBhbmVsIGNvbnN0cmFpbnRzIG5vdCBmb3VuZCBmb3IgaW5kZXggJHtwYW5lbEluZGV4fWApO1xuICBsZXQge1xuICAgIGNvbGxhcHNlZFNpemUgPSAwLFxuICAgIGNvbGxhcHNpYmxlLFxuICAgIG1heFNpemUgPSAxMDAsXG4gICAgbWluU2l6ZSA9IDBcbiAgfSA9IHBhbmVsQ29uc3RyYWludHM7XG4gIGlmIChmdXp6eUNvbXBhcmVOdW1iZXJzKHNpemUsIG1pblNpemUpIDwgMCkge1xuICAgIGlmIChjb2xsYXBzaWJsZSkge1xuICAgICAgLy8gQ29sbGFwc2libGUgcGFuZWxzIHNob3VsZCBzbmFwIGNsb3NlZCBvciBvcGVuIG9ubHkgb25jZSB0aGV5IGNyb3NzIHRoZSBoYWxmd2F5IHBvaW50IGJldHdlZW4gY29sbGFwc2VkIGFuZCBtaW4gc2l6ZS5cbiAgICAgIGNvbnN0IGhhbGZ3YXlQb2ludCA9IChjb2xsYXBzZWRTaXplICsgbWluU2l6ZSkgLyAyO1xuICAgICAgaWYgKGZ1enp5Q29tcGFyZU51bWJlcnMoc2l6ZSwgaGFsZndheVBvaW50KSA8IDApIHtcbiAgICAgICAgc2l6ZSA9IGNvbGxhcHNlZFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbWluU2l6ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2l6ZSA9IG1pblNpemU7XG4gICAgfVxuICB9XG4gIHNpemUgPSBNYXRoLm1pbihtYXhTaXplLCBzaXplKTtcbiAgc2l6ZSA9IHBhcnNlRmxvYXQoc2l6ZS50b0ZpeGVkKFBSRUNJU0lPTikpO1xuICByZXR1cm4gc2l6ZTtcbn1cblxuLy8gQWxsIHVuaXRzIG11c3QgYmUgaW4gcGVyY2VudGFnZXM7IHBpeGVsIHZhbHVlcyBzaG91bGQgYmUgcHJlLWNvbnZlcnRlZFxuZnVuY3Rpb24gYWRqdXN0TGF5b3V0QnlEZWx0YSh7XG4gIGRlbHRhLFxuICBpbml0aWFsTGF5b3V0LFxuICBwYW5lbENvbnN0cmFpbnRzOiBwYW5lbENvbnN0cmFpbnRzQXJyYXksXG4gIHBpdm90SW5kaWNlcyxcbiAgcHJldkxheW91dCxcbiAgdHJpZ2dlclxufSkge1xuICBpZiAoZnV6enlOdW1iZXJzRXF1YWwoZGVsdGEsIDApKSB7XG4gICAgcmV0dXJuIGluaXRpYWxMYXlvdXQ7XG4gIH1cbiAgY29uc3QgbmV4dExheW91dCA9IFsuLi5pbml0aWFsTGF5b3V0XTtcbiAgY29uc3QgW2ZpcnN0UGl2b3RJbmRleCwgc2Vjb25kUGl2b3RJbmRleF0gPSBwaXZvdEluZGljZXM7XG4gIGFzc2VydChmaXJzdFBpdm90SW5kZXggIT0gbnVsbCwgXCJJbnZhbGlkIGZpcnN0IHBpdm90IGluZGV4XCIpO1xuICBhc3NlcnQoc2Vjb25kUGl2b3RJbmRleCAhPSBudWxsLCBcIkludmFsaWQgc2Vjb25kIHBpdm90IGluZGV4XCIpO1xuICBsZXQgZGVsdGFBcHBsaWVkID0gMDtcblxuICAvLyBjb25zdCBERUJVRyA9IFtdO1xuICAvLyBERUJVRy5wdXNoKGBhZGp1c3RMYXlvdXRCeURlbHRhKClgKTtcbiAgLy8gREVCVUcucHVzaChgICBpbml0aWFsTGF5b3V0OiAke2luaXRpYWxMYXlvdXQuam9pbihcIiwgXCIpfWApO1xuICAvLyBERUJVRy5wdXNoKGAgIHByZXZMYXlvdXQ6ICR7cHJldkxheW91dC5qb2luKFwiLCBcIil9YCk7XG4gIC8vIERFQlVHLnB1c2goYCAgZGVsdGE6ICR7ZGVsdGF9YCk7XG4gIC8vIERFQlVHLnB1c2goYCAgcGl2b3RJbmRpY2VzOiAke3Bpdm90SW5kaWNlcy5qb2luKFwiLCBcIil9YCk7XG4gIC8vIERFQlVHLnB1c2goYCAgdHJpZ2dlcjogJHt0cmlnZ2VyfWApO1xuICAvLyBERUJVRy5wdXNoKFwiXCIpO1xuXG4gIC8vIEEgcmVzaXppbmcgcGFuZWwgYWZmZWN0cyB0aGUgcGFuZWxzIGJlZm9yZSBvciBhZnRlciBpdC5cbiAgLy9cbiAgLy8gQSBuZWdhdGl2ZSBkZWx0YSBtZWFucyB0aGUgcGFuZWwocykgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIHJlc2l6ZSBoYW5kbGUgc2hvdWxkIGdyb3cvZXhwYW5kIGJ5IGRlY3JlYXNpbmcgaXRzIG9mZnNldC5cbiAgLy8gT3RoZXIgcGFuZWxzIG1heSBhbHNvIG5lZWQgdG8gc2hyaW5rL2NvbnRyYWN0IChhbmQgc2hpZnQpIHRvIG1ha2Ugcm9vbSwgZGVwZW5kaW5nIG9uIHRoZSBtaW4gd2VpZ2h0cy5cbiAgLy9cbiAgLy8gQSBwb3NpdGl2ZSBkZWx0YSBtZWFucyB0aGUgcGFuZWwocykgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSByZXNpemUgaGFuZGxlIHNob3VsZCBcImV4cGFuZFwiLlxuICAvLyBUaGlzIGlzIGFjY29tcGxpc2hlZCBieSBzaHJpbmtpbmcvY29udHJhY3RpbmcgKGFuZCBzaGlmdGluZykgb25lIG9yIG1vcmUgb2YgdGhlIHBhbmVscyBhZnRlciB0aGUgcmVzaXplIGhhbmRsZS5cblxuICB7XG4gICAgLy8gSWYgdGhpcyBpcyBhIHJlc2l6ZSB0cmlnZ2VyZWQgYnkgYSBrZXlib2FyZCBldmVudCwgb3VyIGxvZ2ljIGZvciBleHBhbmRpbmcvY29sbGFwc2luZyBpcyBkaWZmZXJlbnQuXG4gICAgLy8gV2Ugbm8gbG9uZ2VyIGNoZWNrIHRoZSBoYWxmd2F5IHRocmVzaG9sZCBiZWNhdXNlIHRoaXMgbWF5IHByZXZlbnQgdGhlIHBhbmVsIGZyb20gZXhwYW5kaW5nIGF0IGFsbC5cbiAgICBpZiAodHJpZ2dlciA9PT0gXCJrZXlib2FyZFwiKSB7XG4gICAgICB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCBleHBhbmQgYSBjb2xsYXBzZWQgcGFuZWxcbiAgICAgICAgY29uc3QgaW5kZXggPSBkZWx0YSA8IDAgPyBzZWNvbmRQaXZvdEluZGV4IDogZmlyc3RQaXZvdEluZGV4O1xuICAgICAgICBjb25zdCBwYW5lbENvbnN0cmFpbnRzID0gcGFuZWxDb25zdHJhaW50c0FycmF5W2luZGV4XTtcbiAgICAgICAgYXNzZXJ0KHBhbmVsQ29uc3RyYWludHMsIGBQYW5lbCBjb25zdHJhaW50cyBub3QgZm91bmQgZm9yIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBjb2xsYXBzZWRTaXplID0gMCxcbiAgICAgICAgICBjb2xsYXBzaWJsZSxcbiAgICAgICAgICBtaW5TaXplID0gMFxuICAgICAgICB9ID0gcGFuZWxDb25zdHJhaW50cztcblxuICAgICAgICAvLyBERUJVRy5wdXNoKGBlZGdlIGNhc2UgY2hlY2sgMTogJHtpbmRleH1gKTtcbiAgICAgICAgLy8gREVCVUcucHVzaChgICAtPiBjb2xsYXBzaWJsZT8gJHtjb2xsYXBzaWJsZX1gKTtcbiAgICAgICAgaWYgKGNvbGxhcHNpYmxlKSB7XG4gICAgICAgICAgY29uc3QgcHJldlNpemUgPSBpbml0aWFsTGF5b3V0W2luZGV4XTtcbiAgICAgICAgICBhc3NlcnQocHJldlNpemUgIT0gbnVsbCwgYFByZXZpb3VzIGxheW91dCBub3QgZm91bmQgZm9yIHBhbmVsIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgICAgICAgaWYgKGZ1enp5TnVtYmVyc0VxdWFsKHByZXZTaXplLCBjb2xsYXBzZWRTaXplKSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYWxEZWx0YSA9IG1pblNpemUgLSBwcmV2U2l6ZTtcbiAgICAgICAgICAgIC8vIERFQlVHLnB1c2goYCAgLT4gZXhwYW5kIGRlbHRhOiAke2xvY2FsRGVsdGF9YCk7XG5cbiAgICAgICAgICAgIGlmIChmdXp6eUNvbXBhcmVOdW1iZXJzKGxvY2FsRGVsdGEsIE1hdGguYWJzKGRlbHRhKSkgPiAwKSB7XG4gICAgICAgICAgICAgIGRlbHRhID0gZGVsdGEgPCAwID8gMCAtIGxvY2FsRGVsdGEgOiBsb2NhbERlbHRhO1xuICAgICAgICAgICAgICAvLyBERUJVRy5wdXNoKGAgIC0+IGRlbHRhOiAke2RlbHRhfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBhIHBhbmVsIGF0IGl0cyBtaW5pbXVtIHNpemVcbiAgICAgICAgY29uc3QgaW5kZXggPSBkZWx0YSA8IDAgPyBmaXJzdFBpdm90SW5kZXggOiBzZWNvbmRQaXZvdEluZGV4O1xuICAgICAgICBjb25zdCBwYW5lbENvbnN0cmFpbnRzID0gcGFuZWxDb25zdHJhaW50c0FycmF5W2luZGV4XTtcbiAgICAgICAgYXNzZXJ0KHBhbmVsQ29uc3RyYWludHMsIGBObyBwYW5lbCBjb25zdHJhaW50cyBmb3VuZCBmb3IgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGNvbGxhcHNlZFNpemUgPSAwLFxuICAgICAgICAgIGNvbGxhcHNpYmxlLFxuICAgICAgICAgIG1pblNpemUgPSAwXG4gICAgICAgIH0gPSBwYW5lbENvbnN0cmFpbnRzO1xuXG4gICAgICAgIC8vIERFQlVHLnB1c2goYGVkZ2UgY2FzZSBjaGVjayAyOiAke2luZGV4fWApO1xuICAgICAgICAvLyBERUJVRy5wdXNoKGAgIC0+IGNvbGxhcHNpYmxlPyAke2NvbGxhcHNpYmxlfWApO1xuICAgICAgICBpZiAoY29sbGFwc2libGUpIHtcbiAgICAgICAgICBjb25zdCBwcmV2U2l6ZSA9IGluaXRpYWxMYXlvdXRbaW5kZXhdO1xuICAgICAgICAgIGFzc2VydChwcmV2U2l6ZSAhPSBudWxsLCBgUHJldmlvdXMgbGF5b3V0IG5vdCBmb3VuZCBmb3IgcGFuZWwgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgICAgICBpZiAoZnV6enlOdW1iZXJzRXF1YWwocHJldlNpemUsIG1pblNpemUpKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbERlbHRhID0gcHJldlNpemUgLSBjb2xsYXBzZWRTaXplO1xuICAgICAgICAgICAgLy8gREVCVUcucHVzaChgICAtPiBleHBhbmQgZGVsdGE6ICR7bG9jYWxEZWx0YX1gKTtcblxuICAgICAgICAgICAgaWYgKGZ1enp5Q29tcGFyZU51bWJlcnMobG9jYWxEZWx0YSwgTWF0aC5hYnMoZGVsdGEpKSA+IDApIHtcbiAgICAgICAgICAgICAgZGVsdGEgPSBkZWx0YSA8IDAgPyAwIC0gbG9jYWxEZWx0YSA6IGxvY2FsRGVsdGE7XG4gICAgICAgICAgICAgIC8vIERFQlVHLnB1c2goYCAgLT4gZGVsdGE6ICR7ZGVsdGF9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIERFQlVHLnB1c2goXCJcIik7XG4gIH1cblxuICB7XG4gICAgLy8gUHJlLWNhbGN1bGF0ZSBtYXggYXZhaWxhYmxlIGRlbHRhIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2Ygb3VyIHBpdm90LlxuICAgIC8vIFRoaXMgd2lsbCBiZSB0aGUgbWF4aW11bSBhbW91bnQgd2UncmUgYWxsb3dlZCB0byBleHBhbmQvY29udHJhY3QgdGhlIHBhbmVscyBpbiB0aGUgcHJpbWFyeSBkaXJlY3Rpb24uXG4gICAgLy8gSWYgdGhpcyBhbW91bnQgaXMgbGVzcyB0aGFuIHRoZSByZXF1ZXN0ZWQgZGVsdGEsIGFkanVzdCB0aGUgcmVxdWVzdGVkIGRlbHRhLlxuICAgIC8vIElmIHRoaXMgYW1vdW50IGlzIGdyZWF0ZXIgdGhhbiB0aGUgcmVxdWVzdGVkIGRlbHRhLCB0aGF0J3MgdXNlZnVsIGluZm9ybWF0aW9uIHRvb+KAk1xuICAgIC8vIGFzIGFuIGV4cGFuZGluZyBwYW5lbCBtaWdodCBjaGFuZ2UgZnJvbSBjb2xsYXBzZWQgdG8gbWluIHNpemUuXG5cbiAgICBjb25zdCBpbmNyZW1lbnQgPSBkZWx0YSA8IDAgPyAxIDogLTE7XG4gICAgbGV0IGluZGV4ID0gZGVsdGEgPCAwID8gc2Vjb25kUGl2b3RJbmRleCA6IGZpcnN0UGl2b3RJbmRleDtcbiAgICBsZXQgbWF4QXZhaWxhYmxlRGVsdGEgPSAwO1xuXG4gICAgLy8gREVCVUcucHVzaChcInByZSBjYWxjLi4uXCIpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBwcmV2U2l6ZSA9IGluaXRpYWxMYXlvdXRbaW5kZXhdO1xuICAgICAgYXNzZXJ0KHByZXZTaXplICE9IG51bGwsIGBQcmV2aW91cyBsYXlvdXQgbm90IGZvdW5kIGZvciBwYW5lbCBpbmRleCAke2luZGV4fWApO1xuICAgICAgY29uc3QgbWF4U2FmZVNpemUgPSByZXNpemVQYW5lbCh7XG4gICAgICAgIHBhbmVsQ29uc3RyYWludHM6IHBhbmVsQ29uc3RyYWludHNBcnJheSxcbiAgICAgICAgcGFuZWxJbmRleDogaW5kZXgsXG4gICAgICAgIHNpemU6IDEwMFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkZWx0YSA9IG1heFNhZmVTaXplIC0gcHJldlNpemU7XG4gICAgICAvLyBERUJVRy5wdXNoKGAgICR7aW5kZXh9OiAke3ByZXZTaXplfSAtPiAke21heFNhZmVTaXplfWApO1xuXG4gICAgICBtYXhBdmFpbGFibGVEZWx0YSArPSBkZWx0YTtcbiAgICAgIGluZGV4ICs9IGluY3JlbWVudDtcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gcGFuZWxDb25zdHJhaW50c0FycmF5Lmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBERUJVRy5wdXNoKGAgIC0+IG1heCBhdmFpbGFibGUgZGVsdGE6ICR7bWF4QXZhaWxhYmxlRGVsdGF9YCk7XG4gICAgY29uc3QgbWluQWJzRGVsdGEgPSBNYXRoLm1pbihNYXRoLmFicyhkZWx0YSksIE1hdGguYWJzKG1heEF2YWlsYWJsZURlbHRhKSk7XG4gICAgZGVsdGEgPSBkZWx0YSA8IDAgPyAwIC0gbWluQWJzRGVsdGEgOiBtaW5BYnNEZWx0YTtcbiAgICAvLyBERUJVRy5wdXNoKGAgIC0+IGFkanVzdGVkIGRlbHRhOiAke2RlbHRhfWApO1xuICAgIC8vIERFQlVHLnB1c2goXCJcIik7XG4gIH1cblxuICB7XG4gICAgLy8gRGVsdGEgYWRkZWQgdG8gYSBwYW5lbCBuZWVkcyB0byBiZSBzdWJ0cmFjdGVkIGZyb20gb3RoZXIgcGFuZWxzICh3aXRoaW4gdGhlIGNvbnN0cmFpbnRzIHRoYXQgdGhvc2UgcGFuZWxzIGFsbG93KS5cblxuICAgIGNvbnN0IHBpdm90SW5kZXggPSBkZWx0YSA8IDAgPyBmaXJzdFBpdm90SW5kZXggOiBzZWNvbmRQaXZvdEluZGV4O1xuICAgIGxldCBpbmRleCA9IHBpdm90SW5kZXg7XG4gICAgd2hpbGUgKGluZGV4ID49IDAgJiYgaW5kZXggPCBwYW5lbENvbnN0cmFpbnRzQXJyYXkubGVuZ3RoKSB7XG4gICAgICBjb25zdCBkZWx0YVJlbWFpbmluZyA9IE1hdGguYWJzKGRlbHRhKSAtIE1hdGguYWJzKGRlbHRhQXBwbGllZCk7XG4gICAgICBjb25zdCBwcmV2U2l6ZSA9IGluaXRpYWxMYXlvdXRbaW5kZXhdO1xuICAgICAgYXNzZXJ0KHByZXZTaXplICE9IG51bGwsIGBQcmV2aW91cyBsYXlvdXQgbm90IGZvdW5kIGZvciBwYW5lbCBpbmRleCAke2luZGV4fWApO1xuICAgICAgY29uc3QgdW5zYWZlU2l6ZSA9IHByZXZTaXplIC0gZGVsdGFSZW1haW5pbmc7XG4gICAgICBjb25zdCBzYWZlU2l6ZSA9IHJlc2l6ZVBhbmVsKHtcbiAgICAgICAgcGFuZWxDb25zdHJhaW50czogcGFuZWxDb25zdHJhaW50c0FycmF5LFxuICAgICAgICBwYW5lbEluZGV4OiBpbmRleCxcbiAgICAgICAgc2l6ZTogdW5zYWZlU2l6ZVxuICAgICAgfSk7XG4gICAgICBpZiAoIWZ1enp5TnVtYmVyc0VxdWFsKHByZXZTaXplLCBzYWZlU2l6ZSkpIHtcbiAgICAgICAgZGVsdGFBcHBsaWVkICs9IHByZXZTaXplIC0gc2FmZVNpemU7XG4gICAgICAgIG5leHRMYXlvdXRbaW5kZXhdID0gc2FmZVNpemU7XG4gICAgICAgIGlmIChkZWx0YUFwcGxpZWQudG9QcmVjaXNpb24oMykubG9jYWxlQ29tcGFyZShNYXRoLmFicyhkZWx0YSkudG9QcmVjaXNpb24oMyksIHVuZGVmaW5lZCwge1xuICAgICAgICAgIG51bWVyaWM6IHRydWVcbiAgICAgICAgfSkgPj0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBERUJVRy5wdXNoKGBhZnRlciAxOiAke25leHRMYXlvdXQuam9pbihcIiwgXCIpfWApO1xuICAvLyBERUJVRy5wdXNoKGAgIGRlbHRhQXBwbGllZDogJHtkZWx0YUFwcGxpZWR9YCk7XG4gIC8vIERFQlVHLnB1c2goXCJcIik7XG5cbiAgLy8gSWYgd2Ugd2VyZSB1bmFibGUgdG8gcmVzaXplIGFueSBvZiB0aGUgcGFuZWxzIHBhbmVscywgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS5cbiAgLy8gVGhpcyB3aWxsIGVzc2VudGlhbGx5IGJhaWxvdXQgYW5kIGlnbm9yZSBlLmcuIGRyYWdzIHBhc3QgYSBwYW5lbCdzIGJvdW5kYXJpZXNcbiAgaWYgKGZ1enp5TGF5b3V0c0VxdWFsKHByZXZMYXlvdXQsIG5leHRMYXlvdXQpKSB7XG4gICAgLy8gREVCVUcucHVzaChgYmFpbG91dCB0byBwcmV2aW91cyBsYXlvdXQ6ICR7cHJldkxheW91dC5qb2luKFwiLCBcIil9YCk7XG4gICAgLy8gY29uc29sZS5sb2coREVCVUcuam9pbihcIlxcblwiKSk7XG5cbiAgICByZXR1cm4gcHJldkxheW91dDtcbiAgfVxuICB7XG4gICAgLy8gTm93IGRpc3RyaWJ1dGUgdGhlIGFwcGxpZWQgZGVsdGEgdG8gdGhlIHBhbmVscyBpbiB0aGUgb3RoZXIgZGlyZWN0aW9uXG4gICAgY29uc3QgcGl2b3RJbmRleCA9IGRlbHRhIDwgMCA/IHNlY29uZFBpdm90SW5kZXggOiBmaXJzdFBpdm90SW5kZXg7XG4gICAgY29uc3QgcHJldlNpemUgPSBpbml0aWFsTGF5b3V0W3Bpdm90SW5kZXhdO1xuICAgIGFzc2VydChwcmV2U2l6ZSAhPSBudWxsLCBgUHJldmlvdXMgbGF5b3V0IG5vdCBmb3VuZCBmb3IgcGFuZWwgaW5kZXggJHtwaXZvdEluZGV4fWApO1xuICAgIGNvbnN0IHVuc2FmZVNpemUgPSBwcmV2U2l6ZSArIGRlbHRhQXBwbGllZDtcbiAgICBjb25zdCBzYWZlU2l6ZSA9IHJlc2l6ZVBhbmVsKHtcbiAgICAgIHBhbmVsQ29uc3RyYWludHM6IHBhbmVsQ29uc3RyYWludHNBcnJheSxcbiAgICAgIHBhbmVsSW5kZXg6IHBpdm90SW5kZXgsXG4gICAgICBzaXplOiB1bnNhZmVTaXplXG4gICAgfSk7XG5cbiAgICAvLyBBZGp1c3QgdGhlIHBpdm90IHBhbmVsIGJlZm9yZSwgYnV0IG9ubHkgYnkgdGhlIGFtb3VudCB0aGF0IHN1cnJvdW5kaW5nIHBhbmVscyB3ZXJlIGFibGUgdG8gc2hyaW5rL2NvbnRyYWN0LlxuICAgIG5leHRMYXlvdXRbcGl2b3RJbmRleF0gPSBzYWZlU2l6ZTtcblxuICAgIC8vIEVkZ2UgY2FzZSB3aGVyZSBleHBhbmRpbmcgb3IgY29udHJhY3Rpbmcgb25lIHBhbmVsIGNhdXNlZCBhbm90aGVyIG9uZSB0byBjaGFuZ2UgY29sbGFwc2VkIHN0YXRlXG4gICAgaWYgKCFmdXp6eU51bWJlcnNFcXVhbChzYWZlU2l6ZSwgdW5zYWZlU2l6ZSkpIHtcbiAgICAgIGxldCBkZWx0YVJlbWFpbmluZyA9IHVuc2FmZVNpemUgLSBzYWZlU2l6ZTtcbiAgICAgIGNvbnN0IHBpdm90SW5kZXggPSBkZWx0YSA8IDAgPyBzZWNvbmRQaXZvdEluZGV4IDogZmlyc3RQaXZvdEluZGV4O1xuICAgICAgbGV0IGluZGV4ID0gcGl2b3RJbmRleDtcbiAgICAgIHdoaWxlIChpbmRleCA+PSAwICYmIGluZGV4IDwgcGFuZWxDb25zdHJhaW50c0FycmF5Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwcmV2U2l6ZSA9IG5leHRMYXlvdXRbaW5kZXhdO1xuICAgICAgICBhc3NlcnQocHJldlNpemUgIT0gbnVsbCwgYFByZXZpb3VzIGxheW91dCBub3QgZm91bmQgZm9yIHBhbmVsIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgICAgIGNvbnN0IHVuc2FmZVNpemUgPSBwcmV2U2l6ZSArIGRlbHRhUmVtYWluaW5nO1xuICAgICAgICBjb25zdCBzYWZlU2l6ZSA9IHJlc2l6ZVBhbmVsKHtcbiAgICAgICAgICBwYW5lbENvbnN0cmFpbnRzOiBwYW5lbENvbnN0cmFpbnRzQXJyYXksXG4gICAgICAgICAgcGFuZWxJbmRleDogaW5kZXgsXG4gICAgICAgICAgc2l6ZTogdW5zYWZlU2l6ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFmdXp6eU51bWJlcnNFcXVhbChwcmV2U2l6ZSwgc2FmZVNpemUpKSB7XG4gICAgICAgICAgZGVsdGFSZW1haW5pbmcgLT0gc2FmZVNpemUgLSBwcmV2U2l6ZTtcbiAgICAgICAgICBuZXh0TGF5b3V0W2luZGV4XSA9IHNhZmVTaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmdXp6eU51bWJlcnNFcXVhbChkZWx0YVJlbWFpbmluZywgMCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsdGEgPiAwKSB7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERFQlVHLnB1c2goYGFmdGVyIDI6ICR7bmV4dExheW91dC5qb2luKFwiLCBcIil9YCk7XG4gIC8vIERFQlVHLnB1c2goYCAgZGVsdGFBcHBsaWVkOiAke2RlbHRhQXBwbGllZH1gKTtcbiAgLy8gREVCVUcucHVzaChcIlwiKTtcblxuICBjb25zdCB0b3RhbFNpemUgPSBuZXh0TGF5b3V0LnJlZHVjZSgodG90YWwsIHNpemUpID0+IHNpemUgKyB0b3RhbCwgMCk7XG4gIC8vIERFQlVHLnB1c2goYHRvdGFsIHNpemU6ICR7dG90YWxTaXplfWApO1xuXG4gIC8vIElmIG91ciBuZXcgbGF5b3V0IGRvZXNuJ3QgYWRkIHVwIHRvIDEwMCUsIHRoYXQgbWVhbnMgdGhlIHJlcXVlc3RlZCBkZWx0YSBjYW4ndCBiZSBhcHBsaWVkXG4gIC8vIEluIHRoYXQgY2FzZSwgZmFsbCBiYWNrIHRvIG91ciBtb3N0IHJlY2VudCB2YWxpZCBsYXlvdXRcbiAgaWYgKCFmdXp6eU51bWJlcnNFcXVhbCh0b3RhbFNpemUsIDEwMCkpIHtcbiAgICAvLyBERUJVRy5wdXNoKGBiYWlsb3V0IHRvIHByZXZpb3VzIGxheW91dDogJHtwcmV2TGF5b3V0LmpvaW4oXCIsIFwiKX1gKTtcbiAgICAvLyBjb25zb2xlLmxvZyhERUJVRy5qb2luKFwiXFxuXCIpKTtcblxuICAgIHJldHVybiBwcmV2TGF5b3V0O1xuICB9XG5cbiAgLy8gY29uc29sZS5sb2coREVCVUcuam9pbihcIlxcblwiKSk7XG4gIHJldHVybiBuZXh0TGF5b3V0O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVBcmlhVmFsdWVzKHtcbiAgbGF5b3V0LFxuICBwYW5lbHNBcnJheSxcbiAgcGl2b3RJbmRpY2VzXG59KSB7XG4gIGxldCBjdXJyZW50TWluU2l6ZSA9IDA7XG4gIGxldCBjdXJyZW50TWF4U2l6ZSA9IDEwMDtcbiAgbGV0IHRvdGFsTWluU2l6ZSA9IDA7XG4gIGxldCB0b3RhbE1heFNpemUgPSAwO1xuICBjb25zdCBmaXJzdEluZGV4ID0gcGl2b3RJbmRpY2VzWzBdO1xuICBhc3NlcnQoZmlyc3RJbmRleCAhPSBudWxsLCBcIk5vIHBpdm90IGluZGV4IGZvdW5kXCIpO1xuXG4gIC8vIEEgcGFuZWwncyBlZmZlY3RpdmUgbWluL21heCBzaXplcyBhbHNvIG5lZWQgdG8gYWNjb3VudCBmb3Igb3RoZXIgcGFuZWwncyBzaXplcy5cbiAgcGFuZWxzQXJyYXkuZm9yRWFjaCgocGFuZWxEYXRhLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnN0cmFpbnRzXG4gICAgfSA9IHBhbmVsRGF0YTtcbiAgICBjb25zdCB7XG4gICAgICBtYXhTaXplID0gMTAwLFxuICAgICAgbWluU2l6ZSA9IDBcbiAgICB9ID0gY29uc3RyYWludHM7XG4gICAgaWYgKGluZGV4ID09PSBmaXJzdEluZGV4KSB7XG4gICAgICBjdXJyZW50TWluU2l6ZSA9IG1pblNpemU7XG4gICAgICBjdXJyZW50TWF4U2l6ZSA9IG1heFNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdGFsTWluU2l6ZSArPSBtaW5TaXplO1xuICAgICAgdG90YWxNYXhTaXplICs9IG1heFNpemU7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdmFsdWVNYXggPSBNYXRoLm1pbihjdXJyZW50TWF4U2l6ZSwgMTAwIC0gdG90YWxNaW5TaXplKTtcbiAgY29uc3QgdmFsdWVNaW4gPSBNYXRoLm1heChjdXJyZW50TWluU2l6ZSwgMTAwIC0gdG90YWxNYXhTaXplKTtcbiAgY29uc3QgdmFsdWVOb3cgPSBsYXlvdXRbZmlyc3RJbmRleF07XG4gIHJldHVybiB7XG4gICAgdmFsdWVNYXgsXG4gICAgdmFsdWVNaW4sXG4gICAgdmFsdWVOb3dcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVzaXplSGFuZGxlRWxlbWVudHNGb3JHcm91cChncm91cElkLCBzY29wZSA9IGRvY3VtZW50KSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0RBVEFfQVRUUklCVVRFUy5yZXNpemVIYW5kbGVJZH1dW2RhdGEtcGFuZWwtZ3JvdXAtaWQ9XCIke2dyb3VwSWR9XCJdYCkpO1xufVxuXG5mdW5jdGlvbiBnZXRSZXNpemVIYW5kbGVFbGVtZW50SW5kZXgoZ3JvdXBJZCwgaWQsIHNjb3BlID0gZG9jdW1lbnQpIHtcbiAgY29uc3QgaGFuZGxlcyA9IGdldFJlc2l6ZUhhbmRsZUVsZW1lbnRzRm9yR3JvdXAoZ3JvdXBJZCwgc2NvcGUpO1xuICBjb25zdCBpbmRleCA9IGhhbmRsZXMuZmluZEluZGV4KGhhbmRsZSA9PiBoYW5kbGUuZ2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5yZXNpemVIYW5kbGVJZCkgPT09IGlkKTtcbiAgcmV0dXJuIGluZGV4ICE9PSBudWxsICYmIGluZGV4ICE9PSB2b2lkIDAgPyBpbmRleCA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZVBpdm90SW5kaWNlcyhncm91cElkLCBkcmFnSGFuZGxlSWQsIHBhbmVsR3JvdXBFbGVtZW50KSB7XG4gIGNvbnN0IGluZGV4ID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudEluZGV4KGdyb3VwSWQsIGRyYWdIYW5kbGVJZCwgcGFuZWxHcm91cEVsZW1lbnQpO1xuICByZXR1cm4gaW5kZXggIT0gbnVsbCA/IFtpbmRleCwgaW5kZXggKyAxXSA6IFstMSwgLTFdO1xufVxuXG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHRhcmdldCkge1xuICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIGR1Y2sgdHlwaW5nIHRvIGhhbmRsZSBlZGdlIGNhc2Ugb2YgcG9ydGFscyB3aXRoaW4gYSBwb3B1cCB3aW5kb3dcbiAgcmV0dXJuIHR5cGVvZiB0YXJnZXQgPT09IFwib2JqZWN0XCIgJiYgdGFyZ2V0ICE9PSBudWxsICYmIFwidGFnTmFtZVwiIGluIHRhcmdldCAmJiBcImdldEF0dHJpYnV0ZVwiIGluIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFuZWxHcm91cEVsZW1lbnQoaWQsIHJvb3RFbGVtZW50ID0gZG9jdW1lbnQpIHtcbiAgLy8gSWYgdGhlIHJvb3QgZWxlbWVudCBpcyB0aGUgUGFuZWxHcm91cFxuICBpZiAoaXNIVE1MRWxlbWVudChyb290RWxlbWVudCkgJiYgcm9vdEVsZW1lbnQuZGF0YXNldC5wYW5lbEdyb3VwSWQgPT0gaWQpIHtcbiAgICByZXR1cm4gcm9vdEVsZW1lbnQ7XG4gIH1cblxuICAvLyBFbHNlIHF1ZXJ5IGNoaWxkcmVuXG4gIGNvbnN0IGVsZW1lbnQgPSByb290RWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYW5lbC1ncm91cF1bZGF0YS1wYW5lbC1ncm91cC1pZD1cIiR7aWR9XCJdYCk7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFJlc2l6ZUhhbmRsZUVsZW1lbnQoaWQsIHNjb3BlID0gZG9jdW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudCA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3IoYFske0RBVEFfQVRUUklCVVRFUy5yZXNpemVIYW5kbGVJZH09XCIke2lkfVwiXWApO1xuICBpZiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRSZXNpemVIYW5kbGVQYW5lbElkcyhncm91cElkLCBoYW5kbGVJZCwgcGFuZWxzQXJyYXksIHNjb3BlID0gZG9jdW1lbnQpIHtcbiAgdmFyIF9wYW5lbHNBcnJheSRpbmRleCRpZCwgX3BhbmVsc0FycmF5JGluZGV4LCBfcGFuZWxzQXJyYXkkaWQsIF9wYW5lbHNBcnJheTtcbiAgY29uc3QgaGFuZGxlID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudChoYW5kbGVJZCwgc2NvcGUpO1xuICBjb25zdCBoYW5kbGVzID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudHNGb3JHcm91cChncm91cElkLCBzY29wZSk7XG4gIGNvbnN0IGluZGV4ID0gaGFuZGxlID8gaGFuZGxlcy5pbmRleE9mKGhhbmRsZSkgOiAtMTtcbiAgY29uc3QgaWRCZWZvcmUgPSAoX3BhbmVsc0FycmF5JGluZGV4JGlkID0gKF9wYW5lbHNBcnJheSRpbmRleCA9IHBhbmVsc0FycmF5W2luZGV4XSkgPT09IG51bGwgfHwgX3BhbmVsc0FycmF5JGluZGV4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGFuZWxzQXJyYXkkaW5kZXguaWQpICE9PSBudWxsICYmIF9wYW5lbHNBcnJheSRpbmRleCRpZCAhPT0gdm9pZCAwID8gX3BhbmVsc0FycmF5JGluZGV4JGlkIDogbnVsbDtcbiAgY29uc3QgaWRBZnRlciA9IChfcGFuZWxzQXJyYXkkaWQgPSAoX3BhbmVsc0FycmF5ID0gcGFuZWxzQXJyYXlbaW5kZXggKyAxXSkgPT09IG51bGwgfHwgX3BhbmVsc0FycmF5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGFuZWxzQXJyYXkuaWQpICE9PSBudWxsICYmIF9wYW5lbHNBcnJheSRpZCAhPT0gdm9pZCAwID8gX3BhbmVsc0FycmF5JGlkIDogbnVsbDtcbiAgcmV0dXJuIFtpZEJlZm9yZSwgaWRBZnRlcl07XG59XG5cbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9XQUkvQVJJQS9hcGcvcGF0dGVybnMvd2luZG93c3BsaXR0ZXIvXG5cbmZ1bmN0aW9uIHVzZVdpbmRvd1NwbGl0dGVyUGFuZWxHcm91cEJlaGF2aW9yKHtcbiAgY29tbWl0dGVkVmFsdWVzUmVmLFxuICBlYWdlclZhbHVlc1JlZixcbiAgZ3JvdXBJZCxcbiAgbGF5b3V0LFxuICBwYW5lbERhdGFBcnJheSxcbiAgcGFuZWxHcm91cEVsZW1lbnQsXG4gIHNldExheW91dFxufSkge1xuICB1c2VSZWYoe1xuICAgIGRpZFdhcm5BYm91dE1pc3NpbmdSZXNpemVIYW5kbGU6IGZhbHNlXG4gIH0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXBhbmVsR3JvdXBFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc2l6ZUhhbmRsZUVsZW1lbnRzID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudHNGb3JHcm91cChncm91cElkLCBwYW5lbEdyb3VwRWxlbWVudCk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhbmVsRGF0YUFycmF5Lmxlbmd0aCAtIDE7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFsdWVNYXgsXG4gICAgICAgIHZhbHVlTWluLFxuICAgICAgICB2YWx1ZU5vd1xuICAgICAgfSA9IGNhbGN1bGF0ZUFyaWFWYWx1ZXMoe1xuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHBhbmVsc0FycmF5OiBwYW5lbERhdGFBcnJheSxcbiAgICAgICAgcGl2b3RJbmRpY2VzOiBbaW5kZXgsIGluZGV4ICsgMV1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgcmVzaXplSGFuZGxlRWxlbWVudCA9IHJlc2l6ZUhhbmRsZUVsZW1lbnRzW2luZGV4XTtcbiAgICAgIGlmIChyZXNpemVIYW5kbGVFbGVtZW50ID09IG51bGwpIDsgZWxzZSB7XG4gICAgICAgIGNvbnN0IHBhbmVsRGF0YSA9IHBhbmVsRGF0YUFycmF5W2luZGV4XTtcbiAgICAgICAgYXNzZXJ0KHBhbmVsRGF0YSwgYE5vIHBhbmVsIGRhdGEgZm91bmQgZm9yIGluZGV4IFwiJHtpbmRleH1cImApO1xuICAgICAgICByZXNpemVIYW5kbGVFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtY29udHJvbHNcIiwgcGFuZWxEYXRhLmlkKTtcbiAgICAgICAgcmVzaXplSGFuZGxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbWF4XCIsIFwiXCIgKyBNYXRoLnJvdW5kKHZhbHVlTWF4KSk7XG4gICAgICAgIHJlc2l6ZUhhbmRsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiLCBcIlwiICsgTWF0aC5yb3VuZCh2YWx1ZU1pbikpO1xuICAgICAgICByZXNpemVIYW5kbGVFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIiwgdmFsdWVOb3cgIT0gbnVsbCA/IFwiXCIgKyBNYXRoLnJvdW5kKHZhbHVlTm93KSA6IFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVzaXplSGFuZGxlRWxlbWVudHMuZm9yRWFjaCgocmVzaXplSGFuZGxlRWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgcmVzaXplSGFuZGxlRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWNvbnRyb2xzXCIpO1xuICAgICAgICByZXNpemVIYW5kbGVFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtdmFsdWVtYXhcIik7XG4gICAgICAgIHJlc2l6ZUhhbmRsZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiKTtcbiAgICAgICAgcmVzaXplSGFuZGxlRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW2dyb3VwSWQsIGxheW91dCwgcGFuZWxEYXRhQXJyYXksIHBhbmVsR3JvdXBFbGVtZW50XSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwYW5lbEdyb3VwRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlYWdlclZhbHVlcyA9IGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQ7XG4gICAgYXNzZXJ0KGVhZ2VyVmFsdWVzLCBgRWFnZXIgdmFsdWVzIG5vdCBmb3VuZGApO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhbmVsRGF0YUFycmF5XG4gICAgfSA9IGVhZ2VyVmFsdWVzO1xuICAgIGNvbnN0IGdyb3VwRWxlbWVudCA9IGdldFBhbmVsR3JvdXBFbGVtZW50KGdyb3VwSWQsIHBhbmVsR3JvdXBFbGVtZW50KTtcbiAgICBhc3NlcnQoZ3JvdXBFbGVtZW50ICE9IG51bGwsIGBObyBncm91cCBmb3VuZCBmb3IgaWQgXCIke2dyb3VwSWR9XCJgKTtcbiAgICBjb25zdCBoYW5kbGVzID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudHNGb3JHcm91cChncm91cElkLCBwYW5lbEdyb3VwRWxlbWVudCk7XG4gICAgYXNzZXJ0KGhhbmRsZXMsIGBObyByZXNpemUgaGFuZGxlcyBmb3VuZCBmb3IgZ3JvdXAgaWQgXCIke2dyb3VwSWR9XCJgKTtcbiAgICBjb25zdCBjbGVhbnVwRnVuY3Rpb25zID0gaGFuZGxlcy5tYXAoaGFuZGxlID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZUlkID0gaGFuZGxlLmdldEF0dHJpYnV0ZShEQVRBX0FUVFJJQlVURVMucmVzaXplSGFuZGxlSWQpO1xuICAgICAgYXNzZXJ0KGhhbmRsZUlkLCBgUmVzaXplIGhhbmRsZSBlbGVtZW50IGhhcyBubyBoYW5kbGUgaWQgYXR0cmlidXRlYCk7XG4gICAgICBjb25zdCBbaWRCZWZvcmUsIGlkQWZ0ZXJdID0gZ2V0UmVzaXplSGFuZGxlUGFuZWxJZHMoZ3JvdXBJZCwgaGFuZGxlSWQsIHBhbmVsRGF0YUFycmF5LCBwYW5lbEdyb3VwRWxlbWVudCk7XG4gICAgICBpZiAoaWRCZWZvcmUgPT0gbnVsbCB8fCBpZEFmdGVyID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgb25LZXlEb3duID0gZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhbmVsRGF0YUFycmF5LmZpbmRJbmRleChwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmlkID09PSBpZEJlZm9yZSk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFuZWxEYXRhID0gcGFuZWxEYXRhQXJyYXlbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGFzc2VydChwYW5lbERhdGEsIGBObyBwYW5lbCBkYXRhIGZvdW5kIGZvciBpbmRleCAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBsYXlvdXRbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgIGNvbGxhcHNlZFNpemUgPSAwLFxuICAgICAgICAgICAgICAgICAgY29sbGFwc2libGUsXG4gICAgICAgICAgICAgICAgICBtaW5TaXplID0gMFxuICAgICAgICAgICAgICAgIH0gPSBwYW5lbERhdGEuY29uc3RyYWludHM7XG4gICAgICAgICAgICAgICAgaWYgKHNpemUgIT0gbnVsbCAmJiBjb2xsYXBzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dExheW91dCA9IGFkanVzdExheW91dEJ5RGVsdGEoe1xuICAgICAgICAgICAgICAgICAgICBkZWx0YTogZnV6enlOdW1iZXJzRXF1YWwoc2l6ZSwgY29sbGFwc2VkU2l6ZSkgPyBtaW5TaXplIC0gY29sbGFwc2VkU2l6ZSA6IGNvbGxhcHNlZFNpemUgLSBzaXplLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTGF5b3V0OiBsYXlvdXQsXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsQ29uc3RyYWludHM6IHBhbmVsRGF0YUFycmF5Lm1hcChwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmNvbnN0cmFpbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgcGl2b3RJbmRpY2VzOiBkZXRlcm1pbmVQaXZvdEluZGljZXMoZ3JvdXBJZCwgaGFuZGxlSWQsIHBhbmVsR3JvdXBFbGVtZW50KSxcbiAgICAgICAgICAgICAgICAgICAgcHJldkxheW91dDogbGF5b3V0LFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBcImtleWJvYXJkXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgaWYgKGxheW91dCAhPT0gbmV4dExheW91dCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRMYXlvdXQobmV4dExheW91dCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaGFuZGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBoYW5kbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFudXBGdW5jdGlvbnMuZm9yRWFjaChjbGVhbnVwRnVuY3Rpb24gPT4gY2xlYW51cEZ1bmN0aW9uKCkpO1xuICAgIH07XG4gIH0sIFtwYW5lbEdyb3VwRWxlbWVudCwgY29tbWl0dGVkVmFsdWVzUmVmLCBlYWdlclZhbHVlc1JlZiwgZ3JvdXBJZCwgbGF5b3V0LCBwYW5lbERhdGFBcnJheSwgc2V0TGF5b3V0XSk7XG59XG5cbmZ1bmN0aW9uIGFyZUVxdWFsKGFycmF5QSwgYXJyYXlCKSB7XG4gIGlmIChhcnJheUEubGVuZ3RoICE9PSBhcnJheUIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheUEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgaWYgKGFycmF5QVtpbmRleF0gIT09IGFycmF5QltpbmRleF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldFJlc2l6ZUV2ZW50Q3Vyc29yUG9zaXRpb24oZGlyZWN0aW9uLCBldmVudCkge1xuICBjb25zdCBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiO1xuICBjb25zdCB7XG4gICAgeCxcbiAgICB5XG4gIH0gPSBnZXRSZXNpemVFdmVudENvb3JkaW5hdGVzKGV2ZW50KTtcbiAgcmV0dXJuIGlzSG9yaXpvbnRhbCA/IHggOiB5O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVEcmFnT2Zmc2V0UGVyY2VudGFnZShldmVudCwgZHJhZ0hhbmRsZUlkLCBkaXJlY3Rpb24sIGluaXRpYWxEcmFnU3RhdGUsIHBhbmVsR3JvdXBFbGVtZW50KSB7XG4gIGNvbnN0IGlzSG9yaXpvbnRhbCA9IGRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCI7XG4gIGNvbnN0IGhhbmRsZUVsZW1lbnQgPSBnZXRSZXNpemVIYW5kbGVFbGVtZW50KGRyYWdIYW5kbGVJZCwgcGFuZWxHcm91cEVsZW1lbnQpO1xuICBhc3NlcnQoaGFuZGxlRWxlbWVudCwgYE5vIHJlc2l6ZSBoYW5kbGUgZWxlbWVudCBmb3VuZCBmb3IgaWQgXCIke2RyYWdIYW5kbGVJZH1cImApO1xuICBjb25zdCBncm91cElkID0gaGFuZGxlRWxlbWVudC5nZXRBdHRyaWJ1dGUoREFUQV9BVFRSSUJVVEVTLmdyb3VwSWQpO1xuICBhc3NlcnQoZ3JvdXBJZCwgYFJlc2l6ZSBoYW5kbGUgZWxlbWVudCBoYXMgbm8gZ3JvdXAgaWQgYXR0cmlidXRlYCk7XG4gIGxldCB7XG4gICAgaW5pdGlhbEN1cnNvclBvc2l0aW9uXG4gIH0gPSBpbml0aWFsRHJhZ1N0YXRlO1xuICBjb25zdCBjdXJzb3JQb3NpdGlvbiA9IGdldFJlc2l6ZUV2ZW50Q3Vyc29yUG9zaXRpb24oZGlyZWN0aW9uLCBldmVudCk7XG4gIGNvbnN0IGdyb3VwRWxlbWVudCA9IGdldFBhbmVsR3JvdXBFbGVtZW50KGdyb3VwSWQsIHBhbmVsR3JvdXBFbGVtZW50KTtcbiAgYXNzZXJ0KGdyb3VwRWxlbWVudCwgYE5vIGdyb3VwIGVsZW1lbnQgZm91bmQgZm9yIGlkIFwiJHtncm91cElkfVwiYCk7XG4gIGNvbnN0IGdyb3VwUmVjdCA9IGdyb3VwRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgZ3JvdXBTaXplSW5QaXhlbHMgPSBpc0hvcml6b250YWwgPyBncm91cFJlY3Qud2lkdGggOiBncm91cFJlY3QuaGVpZ2h0O1xuICBjb25zdCBvZmZzZXRQaXhlbHMgPSBjdXJzb3JQb3NpdGlvbiAtIGluaXRpYWxDdXJzb3JQb3NpdGlvbjtcbiAgY29uc3Qgb2Zmc2V0UGVyY2VudGFnZSA9IG9mZnNldFBpeGVscyAvIGdyb3VwU2l6ZUluUGl4ZWxzICogMTAwO1xuICByZXR1cm4gb2Zmc2V0UGVyY2VudGFnZTtcbn1cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvbW92ZW1lbnRYXG5mdW5jdGlvbiBjYWxjdWxhdGVEZWx0YVBlcmNlbnRhZ2UoZXZlbnQsIGRyYWdIYW5kbGVJZCwgZGlyZWN0aW9uLCBpbml0aWFsRHJhZ1N0YXRlLCBrZXlib2FyZFJlc2l6ZUJ5LCBwYW5lbEdyb3VwRWxlbWVudCkge1xuICBpZiAoaXNLZXlEb3duKGV2ZW50KSkge1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IGRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCI7XG4gICAgbGV0IGRlbHRhID0gMDtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGRlbHRhID0gMTAwO1xuICAgIH0gZWxzZSBpZiAoa2V5Ym9hcmRSZXNpemVCeSAhPSBudWxsKSB7XG4gICAgICBkZWx0YSA9IGtleWJvYXJkUmVzaXplQnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbHRhID0gMTA7XG4gICAgfVxuICAgIGxldCBtb3ZlbWVudCA9IDA7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgbW92ZW1lbnQgPSBpc0hvcml6b250YWwgPyAwIDogZGVsdGE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICBtb3ZlbWVudCA9IGlzSG9yaXpvbnRhbCA/IC1kZWx0YSA6IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgbW92ZW1lbnQgPSBpc0hvcml6b250YWwgPyBkZWx0YSA6IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgbW92ZW1lbnQgPSBpc0hvcml6b250YWwgPyAwIDogLWRlbHRhO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbmRcIjpcbiAgICAgICAgbW92ZW1lbnQgPSAxMDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkhvbWVcIjpcbiAgICAgICAgbW92ZW1lbnQgPSAtMTAwO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG1vdmVtZW50O1xuICB9IGVsc2Uge1xuICAgIGlmIChpbml0aWFsRHJhZ1N0YXRlID09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gY2FsY3VsYXRlRHJhZ09mZnNldFBlcmNlbnRhZ2UoZXZlbnQsIGRyYWdIYW5kbGVJZCwgZGlyZWN0aW9uLCBpbml0aWFsRHJhZ1N0YXRlLCBwYW5lbEdyb3VwRWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlVW5zYWZlRGVmYXVsdExheW91dCh7XG4gIHBhbmVsRGF0YUFycmF5XG59KSB7XG4gIGNvbnN0IGxheW91dCA9IEFycmF5KHBhbmVsRGF0YUFycmF5Lmxlbmd0aCk7XG4gIGNvbnN0IHBhbmVsQ29uc3RyYWludHNBcnJheSA9IHBhbmVsRGF0YUFycmF5Lm1hcChwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmNvbnN0cmFpbnRzKTtcbiAgbGV0IG51bVBhbmVsc1dpdGhTaXplcyA9IDA7XG4gIGxldCByZW1haW5pbmdTaXplID0gMTAwO1xuXG4gIC8vIERpc3RyaWJ1dGUgZGVmYXVsdCBzaXplcyBmaXJzdFxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGFuZWxEYXRhQXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgcGFuZWxDb25zdHJhaW50cyA9IHBhbmVsQ29uc3RyYWludHNBcnJheVtpbmRleF07XG4gICAgYXNzZXJ0KHBhbmVsQ29uc3RyYWludHMsIGBQYW5lbCBjb25zdHJhaW50cyBub3QgZm91bmQgZm9yIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgY29uc3Qge1xuICAgICAgZGVmYXVsdFNpemVcbiAgICB9ID0gcGFuZWxDb25zdHJhaW50cztcbiAgICBpZiAoZGVmYXVsdFNpemUgIT0gbnVsbCkge1xuICAgICAgbnVtUGFuZWxzV2l0aFNpemVzKys7XG4gICAgICBsYXlvdXRbaW5kZXhdID0gZGVmYXVsdFNpemU7XG4gICAgICByZW1haW5pbmdTaXplIC09IGRlZmF1bHRTaXplO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbWFpbmluZyBzaXplIHNob3VsZCBiZSBkaXN0cmlidXRlZCBldmVubHkgYmV0d2VlbiBwYW5lbHMgd2l0aG91dCBkZWZhdWx0IHNpemVzXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYW5lbERhdGFBcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCBwYW5lbENvbnN0cmFpbnRzID0gcGFuZWxDb25zdHJhaW50c0FycmF5W2luZGV4XTtcbiAgICBhc3NlcnQocGFuZWxDb25zdHJhaW50cywgYFBhbmVsIGNvbnN0cmFpbnRzIG5vdCBmb3VuZCBmb3IgaW5kZXggJHtpbmRleH1gKTtcbiAgICBjb25zdCB7XG4gICAgICBkZWZhdWx0U2l6ZVxuICAgIH0gPSBwYW5lbENvbnN0cmFpbnRzO1xuICAgIGlmIChkZWZhdWx0U2l6ZSAhPSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbnVtUmVtYWluaW5nUGFuZWxzID0gcGFuZWxEYXRhQXJyYXkubGVuZ3RoIC0gbnVtUGFuZWxzV2l0aFNpemVzO1xuICAgIGNvbnN0IHNpemUgPSByZW1haW5pbmdTaXplIC8gbnVtUmVtYWluaW5nUGFuZWxzO1xuICAgIG51bVBhbmVsc1dpdGhTaXplcysrO1xuICAgIGxheW91dFtpbmRleF0gPSBzaXplO1xuICAgIHJlbWFpbmluZ1NpemUgLT0gc2l6ZTtcbiAgfVxuICByZXR1cm4gbGF5b3V0O1xufVxuXG4vLyBMYXlvdXQgc2hvdWxkIGJlIHByZS1jb252ZXJ0ZWQgaW50byBwZXJjZW50YWdlc1xuZnVuY3Rpb24gY2FsbFBhbmVsQ2FsbGJhY2tzKHBhbmVsc0FycmF5LCBsYXlvdXQsIHBhbmVsSWRUb0xhc3ROb3RpZmllZFNpemVNYXApIHtcbiAgbGF5b3V0LmZvckVhY2goKHNpemUsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcGFuZWxEYXRhID0gcGFuZWxzQXJyYXlbaW5kZXhdO1xuICAgIGFzc2VydChwYW5lbERhdGEsIGBQYW5lbCBkYXRhIG5vdCBmb3VuZCBmb3IgaW5kZXggJHtpbmRleH1gKTtcbiAgICBjb25zdCB7XG4gICAgICBjYWxsYmFja3MsXG4gICAgICBjb25zdHJhaW50cyxcbiAgICAgIGlkOiBwYW5lbElkXG4gICAgfSA9IHBhbmVsRGF0YTtcbiAgICBjb25zdCB7XG4gICAgICBjb2xsYXBzZWRTaXplID0gMCxcbiAgICAgIGNvbGxhcHNpYmxlXG4gICAgfSA9IGNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IGxhc3ROb3RpZmllZFNpemUgPSBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwW3BhbmVsSWRdO1xuICAgIGlmIChsYXN0Tm90aWZpZWRTaXplID09IG51bGwgfHwgc2l6ZSAhPT0gbGFzdE5vdGlmaWVkU2l6ZSkge1xuICAgICAgcGFuZWxJZFRvTGFzdE5vdGlmaWVkU2l6ZU1hcFtwYW5lbElkXSA9IHNpemU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uQ29sbGFwc2UsXG4gICAgICAgIG9uRXhwYW5kLFxuICAgICAgICBvblJlc2l6ZVxuICAgICAgfSA9IGNhbGxiYWNrcztcbiAgICAgIGlmIChvblJlc2l6ZSkge1xuICAgICAgICBvblJlc2l6ZShzaXplLCBsYXN0Tm90aWZpZWRTaXplKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2xsYXBzaWJsZSAmJiAob25Db2xsYXBzZSB8fCBvbkV4cGFuZCkpIHtcbiAgICAgICAgaWYgKG9uRXhwYW5kICYmIChsYXN0Tm90aWZpZWRTaXplID09IG51bGwgfHwgZnV6enlOdW1iZXJzRXF1YWwkMShsYXN0Tm90aWZpZWRTaXplLCBjb2xsYXBzZWRTaXplKSkgJiYgIWZ1enp5TnVtYmVyc0VxdWFsJDEoc2l6ZSwgY29sbGFwc2VkU2l6ZSkpIHtcbiAgICAgICAgICBvbkV4cGFuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbkNvbGxhcHNlICYmIChsYXN0Tm90aWZpZWRTaXplID09IG51bGwgfHwgIWZ1enp5TnVtYmVyc0VxdWFsJDEobGFzdE5vdGlmaWVkU2l6ZSwgY29sbGFwc2VkU2l6ZSkpICYmIGZ1enp5TnVtYmVyc0VxdWFsJDEoc2l6ZSwgY29sbGFwc2VkU2l6ZSkpIHtcbiAgICAgICAgICBvbkNvbGxhcHNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlTGF5b3V0cyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoYVtpbmRleF0gIT0gYltpbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gVGhpcyBtZXRob2QgcmV0dXJucyBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDEwMCByZXByZXNlbnRpbmdcblxuLy8gdGhlICUgb2YgdGhlIGdyb3VwJ3Mgb3ZlcmFsbCBzcGFjZSB0aGlzIHBhbmVsIHNob3VsZCBvY2N1cHkuXG5mdW5jdGlvbiBjb21wdXRlUGFuZWxGbGV4Qm94U3R5bGUoe1xuICBkZWZhdWx0U2l6ZSxcbiAgZHJhZ1N0YXRlLFxuICBsYXlvdXQsXG4gIHBhbmVsRGF0YSxcbiAgcGFuZWxJbmRleCxcbiAgcHJlY2lzaW9uID0gM1xufSkge1xuICBjb25zdCBzaXplID0gbGF5b3V0W3BhbmVsSW5kZXhdO1xuICBsZXQgZmxleEdyb3c7XG4gIGlmIChzaXplID09IG51bGwpIHtcbiAgICAvLyBJbml0aWFsIHJlbmRlciAoYmVmb3JlIHBhbmVscyBoYXZlIHJlZ2lzdGVyZWQgdGhlbXNlbHZlcylcbiAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHNlcnZlciByZW5kZXJpbmcsIGZhbGwgYmFjayB0byBkZWZhdWx0IHNpemUgaWYgcHJvdmlkZWRcbiAgICBmbGV4R3JvdyA9IGRlZmF1bHRTaXplICE9IHVuZGVmaW5lZCA/IGRlZmF1bHRTaXplLnRvUHJlY2lzaW9uKHByZWNpc2lvbikgOiBcIjFcIjtcbiAgfSBlbHNlIGlmIChwYW5lbERhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBTaW5nbGUgcGFuZWwgZ3JvdXAgc2hvdWxkIGFsd2F5cyBmaWxsIGZ1bGwgd2lkdGgvaGVpZ2h0XG4gICAgZmxleEdyb3cgPSBcIjFcIjtcbiAgfSBlbHNlIHtcbiAgICBmbGV4R3JvdyA9IHNpemUudG9QcmVjaXNpb24ocHJlY2lzaW9uKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGZsZXhCYXNpczogMCxcbiAgICBmbGV4R3JvdyxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIC8vIFdpdGhvdXQgdGhpcywgUGFuZWwgc2l6ZXMgbWF5IGJlIHVuaW50ZW50aW9uYWxseSBvdmVycmlkZGVuIGJ5IHRoZWlyIGNvbnRlbnRcbiAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAvLyBEaXNhYmxlIHBvaW50ZXIgZXZlbnRzIGluc2lkZSBvZiBhIHBhbmVsIGR1cmluZyByZXNpemVcbiAgICAvLyBUaGlzIGF2b2lkIGVkZ2UgY2FzZXMgbGlrZSBuZXN0ZWQgaWZyYW1lc1xuICAgIHBvaW50ZXJFdmVudHM6IGRyYWdTdGF0ZSAhPT0gbnVsbCA/IFwibm9uZVwiIDogdW5kZWZpbmVkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCBkdXJhdGlvbk1zID0gMTApIHtcbiAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XG4gIGxldCBjYWxsYWJsZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJZCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgfSwgZHVyYXRpb25Ncyk7XG4gIH07XG4gIHJldHVybiBjYWxsYWJsZTtcbn1cblxuLy8gUGFuZWxHcm91cCBtaWdodCBiZSByZW5kZXJpbmcgaW4gYSBzZXJ2ZXItc2lkZSBlbnZpcm9ubWVudCB3aGVyZSBsb2NhbFN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZVxuLy8gb3Igb24gYSBicm93c2VyIHdpdGggY29va2llcy9zdG9yYWdlIGRpc2FibGVkLlxuLy8gSW4gZWl0aGVyIGNhc2UsIHRoaXMgZnVuY3Rpb24gYXZvaWRzIGFjY2Vzc2luZyBsb2NhbFN0b3JhZ2UgdW50aWwgbmVlZGVkLFxuLy8gYW5kIGF2b2lkcyB0aHJvd2luZyB1c2VyLXZpc2libGUgZXJyb3JzLlxuZnVuY3Rpb24gaW5pdGlhbGl6ZURlZmF1bHRTdG9yYWdlKHN0b3JhZ2VPYmplY3QpIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgLy8gQnlwYXNzIHRoaXMgY2hlY2sgZm9yIGZ1dHVyZSBjYWxsc1xuICAgICAgc3RvcmFnZU9iamVjdC5nZXRJdGVtID0gbmFtZSA9PiB7XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcbiAgICAgIH07XG4gICAgICBzdG9yYWdlT2JqZWN0LnNldEl0ZW0gPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obmFtZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibG9jYWxTdG9yYWdlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgc3RvcmFnZU9iamVjdC5nZXRJdGVtID0gKCkgPT4gbnVsbDtcbiAgICBzdG9yYWdlT2JqZWN0LnNldEl0ZW0gPSAoKSA9PiB7fTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYW5lbEdyb3VwS2V5KGF1dG9TYXZlSWQpIHtcbiAgcmV0dXJuIGByZWFjdC1yZXNpemFibGUtcGFuZWxzOiR7YXV0b1NhdmVJZH1gO1xufVxuXG4vLyBOb3RlIHRoYXQgUGFuZWwgaWRzIG1pZ2h0IGJlIHVzZXItcHJvdmlkZWQgKHN0YWJsZSkgb3IgdXNlSWQgZ2VuZXJhdGVkIChub24tZGV0ZXJtaW5pc3RpYylcbi8vIHNvIHRoZXkgc2hvdWxkIG5vdCBiZSB1c2VkIGFzIHBhcnQgb2YgdGhlIHNlcmlhbGl6YXRpb24ga2V5LlxuLy8gVXNpbmcgdGhlIG1pbi9tYXggc2l6ZSBhdHRyaWJ1dGVzIHNob3VsZCB3b3JrIHdlbGwgZW5vdWdoIGFzIGEgYmFja3VwLlxuLy8gUHJlLXNvcnRpbmcgYnkgbWluU2l6ZSBhbGxvd3MgcmVtZW1iZXJpbmcgbGF5b3V0cyBldmVuIGlmIHBhbmVscyBhcmUgcmUtb3JkZXJlZC9kcmFnZ2VkLlxuZnVuY3Rpb24gZ2V0UGFuZWxLZXkocGFuZWxzKSB7XG4gIHJldHVybiBwYW5lbHMubWFwKHBhbmVsID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjb25zdHJhaW50cyxcbiAgICAgIGlkLFxuICAgICAgaWRJc0Zyb21Qcm9wcyxcbiAgICAgIG9yZGVyXG4gICAgfSA9IHBhbmVsO1xuICAgIGlmIChpZElzRnJvbVByb3BzKSB7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcmRlciA/IGAke29yZGVyfToke0pTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKX1gIDogSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpO1xuICAgIH1cbiAgfSkuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKS5qb2luKFwiLFwiKTtcbn1cbmZ1bmN0aW9uIGxvYWRTZXJpYWxpemVkUGFuZWxHcm91cFN0YXRlKGF1dG9TYXZlSWQsIHN0b3JhZ2UpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYW5lbEdyb3VwS2V5ID0gZ2V0UGFuZWxHcm91cEtleShhdXRvU2F2ZUlkKTtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gc3RvcmFnZS5nZXRJdGVtKHBhbmVsR3JvdXBLZXkpO1xuICAgIGlmIChzZXJpYWxpemVkKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHNlcmlhbGl6ZWQpO1xuICAgICAgaWYgKHR5cGVvZiBwYXJzZWQgPT09IFwib2JqZWN0XCIgJiYgcGFyc2VkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7fVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGxvYWRQYW5lbEdyb3VwU3RhdGUoYXV0b1NhdmVJZCwgcGFuZWxzLCBzdG9yYWdlKSB7XG4gIHZhciBfbG9hZFNlcmlhbGl6ZWRQYW5lbEcsIF9zdGF0ZSRwYW5lbEtleTtcbiAgY29uc3Qgc3RhdGUgPSAoX2xvYWRTZXJpYWxpemVkUGFuZWxHID0gbG9hZFNlcmlhbGl6ZWRQYW5lbEdyb3VwU3RhdGUoYXV0b1NhdmVJZCwgc3RvcmFnZSkpICE9PSBudWxsICYmIF9sb2FkU2VyaWFsaXplZFBhbmVsRyAhPT0gdm9pZCAwID8gX2xvYWRTZXJpYWxpemVkUGFuZWxHIDoge307XG4gIGNvbnN0IHBhbmVsS2V5ID0gZ2V0UGFuZWxLZXkocGFuZWxzKTtcbiAgcmV0dXJuIChfc3RhdGUkcGFuZWxLZXkgPSBzdGF0ZVtwYW5lbEtleV0pICE9PSBudWxsICYmIF9zdGF0ZSRwYW5lbEtleSAhPT0gdm9pZCAwID8gX3N0YXRlJHBhbmVsS2V5IDogbnVsbDtcbn1cbmZ1bmN0aW9uIHNhdmVQYW5lbEdyb3VwU3RhdGUoYXV0b1NhdmVJZCwgcGFuZWxzLCBwYW5lbFNpemVzQmVmb3JlQ29sbGFwc2UsIHNpemVzLCBzdG9yYWdlKSB7XG4gIHZhciBfbG9hZFNlcmlhbGl6ZWRQYW5lbEcyO1xuICBjb25zdCBwYW5lbEdyb3VwS2V5ID0gZ2V0UGFuZWxHcm91cEtleShhdXRvU2F2ZUlkKTtcbiAgY29uc3QgcGFuZWxLZXkgPSBnZXRQYW5lbEtleShwYW5lbHMpO1xuICBjb25zdCBzdGF0ZSA9IChfbG9hZFNlcmlhbGl6ZWRQYW5lbEcyID0gbG9hZFNlcmlhbGl6ZWRQYW5lbEdyb3VwU3RhdGUoYXV0b1NhdmVJZCwgc3RvcmFnZSkpICE9PSBudWxsICYmIF9sb2FkU2VyaWFsaXplZFBhbmVsRzIgIT09IHZvaWQgMCA/IF9sb2FkU2VyaWFsaXplZFBhbmVsRzIgOiB7fTtcbiAgc3RhdGVbcGFuZWxLZXldID0ge1xuICAgIGV4cGFuZFRvU2l6ZXM6IE9iamVjdC5mcm9tRW50cmllcyhwYW5lbFNpemVzQmVmb3JlQ29sbGFwc2UuZW50cmllcygpKSxcbiAgICBsYXlvdXQ6IHNpemVzXG4gIH07XG4gIHRyeSB7XG4gICAgc3RvcmFnZS5zZXRJdGVtKHBhbmVsR3JvdXBLZXksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIH1cbn1cblxuLy8gQWxsIHVuaXRzIG11c3QgYmUgaW4gcGVyY2VudGFnZXM7IHBpeGVsIHZhbHVlcyBzaG91bGQgYmUgcHJlLWNvbnZlcnRlZFxuZnVuY3Rpb24gdmFsaWRhdGVQYW5lbEdyb3VwTGF5b3V0KHtcbiAgbGF5b3V0OiBwcmV2TGF5b3V0LFxuICBwYW5lbENvbnN0cmFpbnRzXG59KSB7XG4gIGNvbnN0IG5leHRMYXlvdXQgPSBbLi4ucHJldkxheW91dF07XG4gIGNvbnN0IG5leHRMYXlvdXRUb3RhbFNpemUgPSBuZXh0TGF5b3V0LnJlZHVjZSgoYWNjdW11bGF0ZWQsIGN1cnJlbnQpID0+IGFjY3VtdWxhdGVkICsgY3VycmVudCwgMCk7XG5cbiAgLy8gVmFsaWRhdGUgbGF5b3V0IGV4cGVjdGF0aW9uc1xuICBpZiAobmV4dExheW91dC5sZW5ndGggIT09IHBhbmVsQ29uc3RyYWludHMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoYEludmFsaWQgJHtwYW5lbENvbnN0cmFpbnRzLmxlbmd0aH0gcGFuZWwgbGF5b3V0OiAke25leHRMYXlvdXQubWFwKHNpemUgPT4gYCR7c2l6ZX0lYCkuam9pbihcIiwgXCIpfWApO1xuICB9IGVsc2UgaWYgKCFmdXp6eU51bWJlcnNFcXVhbChuZXh0TGF5b3V0VG90YWxTaXplLCAxMDApICYmIG5leHRMYXlvdXQubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYW5lbENvbnN0cmFpbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgdW5zYWZlU2l6ZSA9IG5leHRMYXlvdXRbaW5kZXhdO1xuICAgICAgYXNzZXJ0KHVuc2FmZVNpemUgIT0gbnVsbCwgYE5vIGxheW91dCBkYXRhIGZvdW5kIGZvciBpbmRleCAke2luZGV4fWApO1xuICAgICAgY29uc3Qgc2FmZVNpemUgPSAxMDAgLyBuZXh0TGF5b3V0VG90YWxTaXplICogdW5zYWZlU2l6ZTtcbiAgICAgIG5leHRMYXlvdXRbaW5kZXhdID0gc2FmZVNpemU7XG4gICAgfVxuICB9XG4gIGxldCByZW1haW5pbmdTaXplID0gMDtcblxuICAvLyBGaXJzdCBwYXNzOiBWYWxpZGF0ZSB0aGUgcHJvcG9zZWQgbGF5b3V0IGdpdmVuIGVhY2ggcGFuZWwncyBjb25zdHJhaW50c1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGFuZWxDb25zdHJhaW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCB1bnNhZmVTaXplID0gbmV4dExheW91dFtpbmRleF07XG4gICAgYXNzZXJ0KHVuc2FmZVNpemUgIT0gbnVsbCwgYE5vIGxheW91dCBkYXRhIGZvdW5kIGZvciBpbmRleCAke2luZGV4fWApO1xuICAgIGNvbnN0IHNhZmVTaXplID0gcmVzaXplUGFuZWwoe1xuICAgICAgcGFuZWxDb25zdHJhaW50cyxcbiAgICAgIHBhbmVsSW5kZXg6IGluZGV4LFxuICAgICAgc2l6ZTogdW5zYWZlU2l6ZVxuICAgIH0pO1xuICAgIGlmICh1bnNhZmVTaXplICE9IHNhZmVTaXplKSB7XG4gICAgICByZW1haW5pbmdTaXplICs9IHVuc2FmZVNpemUgLSBzYWZlU2l6ZTtcbiAgICAgIG5leHRMYXlvdXRbaW5kZXhdID0gc2FmZVNpemU7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlcmUgaXMgYWRkaXRpb25hbCwgbGVmdCBvdmVyIHNwYWNlLCBhc3NpZ24gaXQgdG8gYW55IHBhbmVsKHMpIHRoYXQgcGVybWl0cyBpdFxuICAvLyAoSXQncyBub3Qgd29ydGggdGFraW5nIG11bHRpcGxlIGFkZGl0aW9uYWwgcGFzc2VzIHRvIGV2ZW5seSBkaXN0cmlidXRlKVxuICBpZiAoIWZ1enp5TnVtYmVyc0VxdWFsKHJlbWFpbmluZ1NpemUsIDApKSB7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhbmVsQ29uc3RyYWludHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBwcmV2U2l6ZSA9IG5leHRMYXlvdXRbaW5kZXhdO1xuICAgICAgYXNzZXJ0KHByZXZTaXplICE9IG51bGwsIGBObyBsYXlvdXQgZGF0YSBmb3VuZCBmb3IgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgIGNvbnN0IHVuc2FmZVNpemUgPSBwcmV2U2l6ZSArIHJlbWFpbmluZ1NpemU7XG4gICAgICBjb25zdCBzYWZlU2l6ZSA9IHJlc2l6ZVBhbmVsKHtcbiAgICAgICAgcGFuZWxDb25zdHJhaW50cyxcbiAgICAgICAgcGFuZWxJbmRleDogaW5kZXgsXG4gICAgICAgIHNpemU6IHVuc2FmZVNpemVcbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZTaXplICE9PSBzYWZlU2l6ZSkge1xuICAgICAgICByZW1haW5pbmdTaXplIC09IHNhZmVTaXplIC0gcHJldlNpemU7XG4gICAgICAgIG5leHRMYXlvdXRbaW5kZXhdID0gc2FmZVNpemU7XG5cbiAgICAgICAgLy8gT25jZSB3ZSd2ZSB1c2VkIHVwIHRoZSByZW1haW5kZXIsIGJhaWxcbiAgICAgICAgaWYgKGZ1enp5TnVtYmVyc0VxdWFsKHJlbWFpbmluZ1NpemUsIDApKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5leHRMYXlvdXQ7XG59XG5cbmNvbnN0IExPQ0FMX1NUT1JBR0VfREVCT1VOQ0VfSU5URVJWQUwgPSAxMDA7XG5jb25zdCBkZWZhdWx0U3RvcmFnZSA9IHtcbiAgZ2V0SXRlbTogbmFtZSA9PiB7XG4gICAgaW5pdGlhbGl6ZURlZmF1bHRTdG9yYWdlKGRlZmF1bHRTdG9yYWdlKTtcbiAgICByZXR1cm4gZGVmYXVsdFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcbiAgfSxcbiAgc2V0SXRlbTogKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgaW5pdGlhbGl6ZURlZmF1bHRTdG9yYWdlKGRlZmF1bHRTdG9yYWdlKTtcbiAgICBkZWZhdWx0U3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlKTtcbiAgfVxufTtcbmNvbnN0IGRlYm91bmNlTWFwID0ge307XG5mdW5jdGlvbiBQYW5lbEdyb3VwV2l0aEZvcndhcmRlZFJlZih7XG4gIGF1dG9TYXZlSWQgPSBudWxsLFxuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lOiBjbGFzc05hbWVGcm9tUHJvcHMgPSBcIlwiLFxuICBkaXJlY3Rpb24sXG4gIGZvcndhcmRlZFJlZixcbiAgaWQ6IGlkRnJvbVByb3BzID0gbnVsbCxcbiAgb25MYXlvdXQgPSBudWxsLFxuICBrZXlib2FyZFJlc2l6ZUJ5ID0gbnVsbCxcbiAgc3RvcmFnZSA9IGRlZmF1bHRTdG9yYWdlLFxuICBzdHlsZTogc3R5bGVGcm9tUHJvcHMsXG4gIHRhZ05hbWU6IFR5cGUgPSBcImRpdlwiLFxuICAuLi5yZXN0XG59KSB7XG4gIGNvbnN0IGdyb3VwSWQgPSB1c2VVbmlxdWVJZChpZEZyb21Qcm9wcyk7XG4gIGNvbnN0IHBhbmVsR3JvdXBFbGVtZW50UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbZHJhZ1N0YXRlLCBzZXREcmFnU3RhdGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsYXlvdXQsIHNldExheW91dF0gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgY29uc3QgcGFuZWxJZFRvTGFzdE5vdGlmaWVkU2l6ZU1hcFJlZiA9IHVzZVJlZih7fSk7XG4gIGNvbnN0IHBhbmVsU2l6ZUJlZm9yZUNvbGxhcHNlUmVmID0gdXNlUmVmKG5ldyBNYXAoKSk7XG4gIGNvbnN0IHByZXZEZWx0YVJlZiA9IHVzZVJlZigwKTtcbiAgY29uc3QgY29tbWl0dGVkVmFsdWVzUmVmID0gdXNlUmVmKHtcbiAgICBhdXRvU2F2ZUlkLFxuICAgIGRpcmVjdGlvbixcbiAgICBkcmFnU3RhdGUsXG4gICAgaWQ6IGdyb3VwSWQsXG4gICAga2V5Ym9hcmRSZXNpemVCeSxcbiAgICBvbkxheW91dCxcbiAgICBzdG9yYWdlXG4gIH0pO1xuICBjb25zdCBlYWdlclZhbHVlc1JlZiA9IHVzZVJlZih7XG4gICAgbGF5b3V0LFxuICAgIHBhbmVsRGF0YUFycmF5OiBbXSxcbiAgICBwYW5lbERhdGFBcnJheUNoYW5nZWQ6IGZhbHNlXG4gIH0pO1xuICB1c2VSZWYoe1xuICAgIGRpZExvZ0lkQW5kT3JkZXJXYXJuaW5nOiBmYWxzZSxcbiAgICBkaWRMb2dQYW5lbENvbnN0cmFpbnRzV2FybmluZzogZmFsc2UsXG4gICAgcHJldlBhbmVsSWRzOiBbXVxuICB9KTtcbiAgdXNlSW1wZXJhdGl2ZUhhbmRsZShmb3J3YXJkZWRSZWYsICgpID0+ICh7XG4gICAgZ2V0SWQ6ICgpID0+IGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50LmlkLFxuICAgIGdldExheW91dDogKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBsYXlvdXRcbiAgICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgICAgcmV0dXJuIGxheW91dDtcbiAgICB9LFxuICAgIHNldExheW91dDogdW5zYWZlTGF5b3V0ID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25MYXlvdXRcbiAgICAgIH0gPSBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbGF5b3V0OiBwcmV2TGF5b3V0LFxuICAgICAgICBwYW5lbERhdGFBcnJheVxuICAgICAgfSA9IGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBzYWZlTGF5b3V0ID0gdmFsaWRhdGVQYW5lbEdyb3VwTGF5b3V0KHtcbiAgICAgICAgbGF5b3V0OiB1bnNhZmVMYXlvdXQsXG4gICAgICAgIHBhbmVsQ29uc3RyYWludHM6IHBhbmVsRGF0YUFycmF5Lm1hcChwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmNvbnN0cmFpbnRzKVxuICAgICAgfSk7XG4gICAgICBpZiAoIWFyZUVxdWFsKHByZXZMYXlvdXQsIHNhZmVMYXlvdXQpKSB7XG4gICAgICAgIHNldExheW91dChzYWZlTGF5b3V0KTtcbiAgICAgICAgZWFnZXJWYWx1ZXNSZWYuY3VycmVudC5sYXlvdXQgPSBzYWZlTGF5b3V0O1xuICAgICAgICBpZiAob25MYXlvdXQpIHtcbiAgICAgICAgICBvbkxheW91dChzYWZlTGF5b3V0KTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsUGFuZWxDYWxsYmFja3MocGFuZWxEYXRhQXJyYXksIHNhZmVMYXlvdXQsIHBhbmVsSWRUb0xhc3ROb3RpZmllZFNpemVNYXBSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KSwgW10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudC5hdXRvU2F2ZUlkID0gYXV0b1NhdmVJZDtcbiAgICBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgY29tbWl0dGVkVmFsdWVzUmVmLmN1cnJlbnQuZHJhZ1N0YXRlID0gZHJhZ1N0YXRlO1xuICAgIGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50LmlkID0gZ3JvdXBJZDtcbiAgICBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudC5vbkxheW91dCA9IG9uTGF5b3V0O1xuICAgIGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50LnN0b3JhZ2UgPSBzdG9yYWdlO1xuICB9KTtcbiAgdXNlV2luZG93U3BsaXR0ZXJQYW5lbEdyb3VwQmVoYXZpb3Ioe1xuICAgIGNvbW1pdHRlZFZhbHVlc1JlZixcbiAgICBlYWdlclZhbHVlc1JlZixcbiAgICBncm91cElkLFxuICAgIGxheW91dCxcbiAgICBwYW5lbERhdGFBcnJheTogZWFnZXJWYWx1ZXNSZWYuY3VycmVudC5wYW5lbERhdGFBcnJheSxcbiAgICBzZXRMYXlvdXQsXG4gICAgcGFuZWxHcm91cEVsZW1lbnQ6IHBhbmVsR3JvdXBFbGVtZW50UmVmLmN1cnJlbnRcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcGFuZWxEYXRhQXJyYXlcbiAgICB9ID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcblxuICAgIC8vIElmIHRoaXMgcGFuZWwgaGFzIGJlZW4gY29uZmlndXJlZCB0byBwZXJzaXN0IHNpemluZyBpbmZvcm1hdGlvbiwgc2F2ZSBzaXplcyB0byBsb2NhbCBzdG9yYWdlLlxuICAgIGlmIChhdXRvU2F2ZUlkKSB7XG4gICAgICBpZiAobGF5b3V0Lmxlbmd0aCA9PT0gMCB8fCBsYXlvdXQubGVuZ3RoICE9PSBwYW5lbERhdGFBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGRlYm91bmNlZFNhdmUgPSBkZWJvdW5jZU1hcFthdXRvU2F2ZUlkXTtcblxuICAgICAgLy8gTGltaXQgdGhlIGZyZXF1ZW5jeSBvZiBsb2NhbFN0b3JhZ2UgdXBkYXRlcy5cbiAgICAgIGlmIChkZWJvdW5jZWRTYXZlID09IG51bGwpIHtcbiAgICAgICAgZGVib3VuY2VkU2F2ZSA9IGRlYm91bmNlKHNhdmVQYW5lbEdyb3VwU3RhdGUsIExPQ0FMX1NUT1JBR0VfREVCT1VOQ0VfSU5URVJWQUwpO1xuICAgICAgICBkZWJvdW5jZU1hcFthdXRvU2F2ZUlkXSA9IGRlYm91bmNlZFNhdmU7XG4gICAgICB9XG5cbiAgICAgIC8vIENsb25lIG11dGFibGUgZGF0YSBiZWZvcmUgcGFzc2luZyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLFxuICAgICAgLy8gZWxzZSB3ZSBydW4gdGhlIHJpc2sgb2Ygc2F2aW5nIGFuIGluY29ycmVjdCBjb21iaW5hdGlvbiBvZiBtdXRhYmxlIGFuZCBpbW11dGFibGUgdmFsdWVzIHRvIHN0YXRlLlxuICAgICAgY29uc3QgY2xvbmVkUGFuZWxEYXRhQXJyYXkgPSBbLi4ucGFuZWxEYXRhQXJyYXldO1xuICAgICAgY29uc3QgY2xvbmVkUGFuZWxTaXplc0JlZm9yZUNvbGxhcHNlID0gbmV3IE1hcChwYW5lbFNpemVCZWZvcmVDb2xsYXBzZVJlZi5jdXJyZW50KTtcbiAgICAgIGRlYm91bmNlZFNhdmUoYXV0b1NhdmVJZCwgY2xvbmVkUGFuZWxEYXRhQXJyYXksIGNsb25lZFBhbmVsU2l6ZXNCZWZvcmVDb2xsYXBzZSwgbGF5b3V0LCBzdG9yYWdlKTtcbiAgICB9XG4gIH0sIFthdXRvU2F2ZUlkLCBsYXlvdXQsIHN0b3JhZ2VdKTtcblxuICAvLyBERVYgd2FybmluZ3NcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgfSk7XG5cbiAgLy8gRXh0ZXJuYWwgQVBJcyBhcmUgc2FmZSB0byBtZW1vaXplIHZpYSBjb21taXR0ZWQgdmFsdWVzIHJlZlxuICBjb25zdCBjb2xsYXBzZVBhbmVsID0gdXNlQ2FsbGJhY2socGFuZWxEYXRhID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvbkxheW91dFxuICAgIH0gPSBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudDtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXQ6IHByZXZMYXlvdXQsXG4gICAgICBwYW5lbERhdGFBcnJheVxuICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGlmIChwYW5lbERhdGEuY29uc3RyYWludHMuY29sbGFwc2libGUpIHtcbiAgICAgIGNvbnN0IHBhbmVsQ29uc3RyYWludHNBcnJheSA9IHBhbmVsRGF0YUFycmF5Lm1hcChwYW5lbERhdGEgPT4gcGFuZWxEYXRhLmNvbnN0cmFpbnRzKTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY29sbGFwc2VkU2l6ZSA9IDAsXG4gICAgICAgIHBhbmVsU2l6ZSxcbiAgICAgICAgcGl2b3RJbmRpY2VzXG4gICAgICB9ID0gcGFuZWxEYXRhSGVscGVyKHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEsIHByZXZMYXlvdXQpO1xuICAgICAgYXNzZXJ0KHBhbmVsU2l6ZSAhPSBudWxsLCBgUGFuZWwgc2l6ZSBub3QgZm91bmQgZm9yIHBhbmVsIFwiJHtwYW5lbERhdGEuaWR9XCJgKTtcbiAgICAgIGlmICghZnV6enlOdW1iZXJzRXF1YWwkMShwYW5lbFNpemUsIGNvbGxhcHNlZFNpemUpKSB7XG4gICAgICAgIC8vIFN0b3JlIHNpemUgYmVmb3JlIGNvbGxhcHNlO1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBzaXplIHRoYXQgZ2V0cyByZXN0b3JlZCBpZiB0aGUgZXhwYW5kKCkgQVBJIGlzIHVzZWQuXG4gICAgICAgIHBhbmVsU2l6ZUJlZm9yZUNvbGxhcHNlUmVmLmN1cnJlbnQuc2V0KHBhbmVsRGF0YS5pZCwgcGFuZWxTaXplKTtcbiAgICAgICAgY29uc3QgaXNMYXN0UGFuZWwgPSBmaW5kUGFuZWxEYXRhSW5kZXgocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSkgPT09IHBhbmVsRGF0YUFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gaXNMYXN0UGFuZWwgPyBwYW5lbFNpemUgLSBjb2xsYXBzZWRTaXplIDogY29sbGFwc2VkU2l6ZSAtIHBhbmVsU2l6ZTtcbiAgICAgICAgY29uc3QgbmV4dExheW91dCA9IGFkanVzdExheW91dEJ5RGVsdGEoe1xuICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgIGluaXRpYWxMYXlvdXQ6IHByZXZMYXlvdXQsXG4gICAgICAgICAgcGFuZWxDb25zdHJhaW50czogcGFuZWxDb25zdHJhaW50c0FycmF5LFxuICAgICAgICAgIHBpdm90SW5kaWNlcyxcbiAgICAgICAgICBwcmV2TGF5b3V0LFxuICAgICAgICAgIHRyaWdnZXI6IFwiaW1wZXJhdGl2ZS1hcGlcIlxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjb21wYXJlTGF5b3V0cyhwcmV2TGF5b3V0LCBuZXh0TGF5b3V0KSkge1xuICAgICAgICAgIHNldExheW91dChuZXh0TGF5b3V0KTtcbiAgICAgICAgICBlYWdlclZhbHVlc1JlZi5jdXJyZW50LmxheW91dCA9IG5leHRMYXlvdXQ7XG4gICAgICAgICAgaWYgKG9uTGF5b3V0KSB7XG4gICAgICAgICAgICBvbkxheW91dChuZXh0TGF5b3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FsbFBhbmVsQ2FsbGJhY2tzKHBhbmVsRGF0YUFycmF5LCBuZXh0TGF5b3V0LCBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLmN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gRXh0ZXJuYWwgQVBJcyBhcmUgc2FmZSB0byBtZW1vaXplIHZpYSBjb21taXR0ZWQgdmFsdWVzIHJlZlxuICBjb25zdCBleHBhbmRQYW5lbCA9IHVzZUNhbGxiYWNrKChwYW5lbERhdGEsIG1pblNpemVPdmVycmlkZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uTGF5b3V0XG4gICAgfSA9IGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGxheW91dDogcHJldkxheW91dCxcbiAgICAgIHBhbmVsRGF0YUFycmF5XG4gICAgfSA9IGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHBhbmVsRGF0YS5jb25zdHJhaW50cy5jb2xsYXBzaWJsZSkge1xuICAgICAgY29uc3QgcGFuZWxDb25zdHJhaW50c0FycmF5ID0gcGFuZWxEYXRhQXJyYXkubWFwKHBhbmVsRGF0YSA9PiBwYW5lbERhdGEuY29uc3RyYWludHMpO1xuICAgICAgY29uc3Qge1xuICAgICAgICBjb2xsYXBzZWRTaXplID0gMCxcbiAgICAgICAgcGFuZWxTaXplID0gMCxcbiAgICAgICAgbWluU2l6ZTogbWluU2l6ZUZyb21Qcm9wcyA9IDAsXG4gICAgICAgIHBpdm90SW5kaWNlc1xuICAgICAgfSA9IHBhbmVsRGF0YUhlbHBlcihwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhLCBwcmV2TGF5b3V0KTtcbiAgICAgIGNvbnN0IG1pblNpemUgPSBtaW5TaXplT3ZlcnJpZGUgIT09IG51bGwgJiYgbWluU2l6ZU92ZXJyaWRlICE9PSB2b2lkIDAgPyBtaW5TaXplT3ZlcnJpZGUgOiBtaW5TaXplRnJvbVByb3BzO1xuICAgICAgaWYgKGZ1enp5TnVtYmVyc0VxdWFsJDEocGFuZWxTaXplLCBjb2xsYXBzZWRTaXplKSkge1xuICAgICAgICAvLyBSZXN0b3JlIHRoaXMgcGFuZWwgdG8gdGhlIHNpemUgaXQgd2FzIGJlZm9yZSBpdCB3YXMgY29sbGFwc2VkLCBpZiBwb3NzaWJsZS5cbiAgICAgICAgY29uc3QgcHJldlBhbmVsU2l6ZSA9IHBhbmVsU2l6ZUJlZm9yZUNvbGxhcHNlUmVmLmN1cnJlbnQuZ2V0KHBhbmVsRGF0YS5pZCk7XG4gICAgICAgIGNvbnN0IGJhc2VTaXplID0gcHJldlBhbmVsU2l6ZSAhPSBudWxsICYmIHByZXZQYW5lbFNpemUgPj0gbWluU2l6ZSA/IHByZXZQYW5lbFNpemUgOiBtaW5TaXplO1xuICAgICAgICBjb25zdCBpc0xhc3RQYW5lbCA9IGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhKSA9PT0gcGFuZWxEYXRhQXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBpc0xhc3RQYW5lbCA/IHBhbmVsU2l6ZSAtIGJhc2VTaXplIDogYmFzZVNpemUgLSBwYW5lbFNpemU7XG4gICAgICAgIGNvbnN0IG5leHRMYXlvdXQgPSBhZGp1c3RMYXlvdXRCeURlbHRhKHtcbiAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICBpbml0aWFsTGF5b3V0OiBwcmV2TGF5b3V0LFxuICAgICAgICAgIHBhbmVsQ29uc3RyYWludHM6IHBhbmVsQ29uc3RyYWludHNBcnJheSxcbiAgICAgICAgICBwaXZvdEluZGljZXMsXG4gICAgICAgICAgcHJldkxheW91dCxcbiAgICAgICAgICB0cmlnZ2VyOiBcImltcGVyYXRpdmUtYXBpXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY29tcGFyZUxheW91dHMocHJldkxheW91dCwgbmV4dExheW91dCkpIHtcbiAgICAgICAgICBzZXRMYXlvdXQobmV4dExheW91dCk7XG4gICAgICAgICAgZWFnZXJWYWx1ZXNSZWYuY3VycmVudC5sYXlvdXQgPSBuZXh0TGF5b3V0O1xuICAgICAgICAgIGlmIChvbkxheW91dCkge1xuICAgICAgICAgICAgb25MYXlvdXQobmV4dExheW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxQYW5lbENhbGxiYWNrcyhwYW5lbERhdGFBcnJheSwgbmV4dExheW91dCwgcGFuZWxJZFRvTGFzdE5vdGlmaWVkU2l6ZU1hcFJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIEV4dGVybmFsIEFQSXMgYXJlIHNhZmUgdG8gbWVtb2l6ZSB2aWEgY29tbWl0dGVkIHZhbHVlcyByZWZcbiAgY29uc3QgZ2V0UGFuZWxTaXplID0gdXNlQ2FsbGJhY2socGFuZWxEYXRhID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXQsXG4gICAgICBwYW5lbERhdGFBcnJheVxuICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIHBhbmVsU2l6ZVxuICAgIH0gPSBwYW5lbERhdGFIZWxwZXIocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSwgbGF5b3V0KTtcbiAgICBhc3NlcnQocGFuZWxTaXplICE9IG51bGwsIGBQYW5lbCBzaXplIG5vdCBmb3VuZCBmb3IgcGFuZWwgXCIke3BhbmVsRGF0YS5pZH1cImApO1xuICAgIHJldHVybiBwYW5lbFNpemU7XG4gIH0sIFtdKTtcblxuICAvLyBUaGlzIEFQSSBzaG91bGQgbmV2ZXIgcmVhZCBmcm9tIGNvbW1pdHRlZFZhbHVlc1JlZlxuICBjb25zdCBnZXRQYW5lbFN0eWxlID0gdXNlQ2FsbGJhY2soKHBhbmVsRGF0YSwgZGVmYXVsdFNpemUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwYW5lbERhdGFBcnJheVxuICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHBhbmVsSW5kZXggPSBmaW5kUGFuZWxEYXRhSW5kZXgocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSk7XG4gICAgcmV0dXJuIGNvbXB1dGVQYW5lbEZsZXhCb3hTdHlsZSh7XG4gICAgICBkZWZhdWx0U2l6ZSxcbiAgICAgIGRyYWdTdGF0ZSxcbiAgICAgIGxheW91dCxcbiAgICAgIHBhbmVsRGF0YTogcGFuZWxEYXRhQXJyYXksXG4gICAgICBwYW5lbEluZGV4XG4gICAgfSk7XG4gIH0sIFtkcmFnU3RhdGUsIGxheW91dF0pO1xuXG4gIC8vIEV4dGVybmFsIEFQSXMgYXJlIHNhZmUgdG8gbWVtb2l6ZSB2aWEgY29tbWl0dGVkIHZhbHVlcyByZWZcbiAgY29uc3QgaXNQYW5lbENvbGxhcHNlZCA9IHVzZUNhbGxiYWNrKHBhbmVsRGF0YSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgbGF5b3V0LFxuICAgICAgcGFuZWxEYXRhQXJyYXlcbiAgICB9ID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcbiAgICBjb25zdCB7XG4gICAgICBjb2xsYXBzZWRTaXplID0gMCxcbiAgICAgIGNvbGxhcHNpYmxlLFxuICAgICAgcGFuZWxTaXplXG4gICAgfSA9IHBhbmVsRGF0YUhlbHBlcihwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhLCBsYXlvdXQpO1xuICAgIGFzc2VydChwYW5lbFNpemUgIT0gbnVsbCwgYFBhbmVsIHNpemUgbm90IGZvdW5kIGZvciBwYW5lbCBcIiR7cGFuZWxEYXRhLmlkfVwiYCk7XG4gICAgcmV0dXJuIGNvbGxhcHNpYmxlID09PSB0cnVlICYmIGZ1enp5TnVtYmVyc0VxdWFsJDEocGFuZWxTaXplLCBjb2xsYXBzZWRTaXplKTtcbiAgfSwgW10pO1xuXG4gIC8vIEV4dGVybmFsIEFQSXMgYXJlIHNhZmUgdG8gbWVtb2l6ZSB2aWEgY29tbWl0dGVkIHZhbHVlcyByZWZcbiAgY29uc3QgaXNQYW5lbEV4cGFuZGVkID0gdXNlQ2FsbGJhY2socGFuZWxEYXRhID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXQsXG4gICAgICBwYW5lbERhdGFBcnJheVxuICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbGxhcHNlZFNpemUgPSAwLFxuICAgICAgY29sbGFwc2libGUsXG4gICAgICBwYW5lbFNpemVcbiAgICB9ID0gcGFuZWxEYXRhSGVscGVyKHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEsIGxheW91dCk7XG4gICAgYXNzZXJ0KHBhbmVsU2l6ZSAhPSBudWxsLCBgUGFuZWwgc2l6ZSBub3QgZm91bmQgZm9yIHBhbmVsIFwiJHtwYW5lbERhdGEuaWR9XCJgKTtcbiAgICByZXR1cm4gIWNvbGxhcHNpYmxlIHx8IGZ1enp5Q29tcGFyZU51bWJlcnMocGFuZWxTaXplLCBjb2xsYXBzZWRTaXplKSA+IDA7XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVnaXN0ZXJQYW5lbCA9IHVzZUNhbGxiYWNrKHBhbmVsRGF0YSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcGFuZWxEYXRhQXJyYXlcbiAgICB9ID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcbiAgICBwYW5lbERhdGFBcnJheS5wdXNoKHBhbmVsRGF0YSk7XG4gICAgcGFuZWxEYXRhQXJyYXkuc29ydCgocGFuZWxBLCBwYW5lbEIpID0+IHtcbiAgICAgIGNvbnN0IG9yZGVyQSA9IHBhbmVsQS5vcmRlcjtcbiAgICAgIGNvbnN0IG9yZGVyQiA9IHBhbmVsQi5vcmRlcjtcbiAgICAgIGlmIChvcmRlckEgPT0gbnVsbCAmJiBvcmRlckIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0gZWxzZSBpZiAob3JkZXJBID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChvcmRlckIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvcmRlckEgLSBvcmRlckI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZWFnZXJWYWx1ZXNSZWYuY3VycmVudC5wYW5lbERhdGFBcnJheUNoYW5nZWQgPSB0cnVlO1xuICAgIGZvcmNlVXBkYXRlKCk7XG4gIH0sIFtmb3JjZVVwZGF0ZV0pO1xuXG4gIC8vIChSZSljYWxjdWxhdGUgZ3JvdXAgbGF5b3V0IHdoZW5ldmVyIHBhbmVscyBhcmUgcmVnaXN0ZXJlZCBvciB1bnJlZ2lzdGVyZWQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQucGFuZWxEYXRhQXJyYXlDaGFuZ2VkKSB7XG4gICAgICBlYWdlclZhbHVlc1JlZi5jdXJyZW50LnBhbmVsRGF0YUFycmF5Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBhdXRvU2F2ZUlkLFxuICAgICAgICBvbkxheW91dCxcbiAgICAgICAgc3RvcmFnZVxuICAgICAgfSA9IGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50O1xuICAgICAgY29uc3Qge1xuICAgICAgICBsYXlvdXQ6IHByZXZMYXlvdXQsXG4gICAgICAgIHBhbmVsRGF0YUFycmF5XG4gICAgICB9ID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcblxuICAgICAgLy8gSWYgdGhpcyBwYW5lbCBoYXMgYmVlbiBjb25maWd1cmVkIHRvIHBlcnNpc3Qgc2l6aW5nIGluZm9ybWF0aW9uLFxuICAgICAgLy8gZGVmYXVsdCBzaXplIHNob3VsZCBiZSByZXN0b3JlZCBmcm9tIGxvY2FsIHN0b3JhZ2UgaWYgcG9zc2libGUuXG4gICAgICBsZXQgdW5zYWZlTGF5b3V0ID0gbnVsbDtcbiAgICAgIGlmIChhdXRvU2F2ZUlkKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbG9hZFBhbmVsR3JvdXBTdGF0ZShhdXRvU2F2ZUlkLCBwYW5lbERhdGFBcnJheSwgc3RvcmFnZSk7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgIHBhbmVsU2l6ZUJlZm9yZUNvbGxhcHNlUmVmLmN1cnJlbnQgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHN0YXRlLmV4cGFuZFRvU2l6ZXMpKTtcbiAgICAgICAgICB1bnNhZmVMYXlvdXQgPSBzdGF0ZS5sYXlvdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh1bnNhZmVMYXlvdXQgPT0gbnVsbCkge1xuICAgICAgICB1bnNhZmVMYXlvdXQgPSBjYWxjdWxhdGVVbnNhZmVEZWZhdWx0TGF5b3V0KHtcbiAgICAgICAgICBwYW5lbERhdGFBcnJheVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgZXZlbiBzYXZlZCBsYXlvdXRzIGluIGNhc2Ugc29tZXRoaW5nIGhhcyBjaGFuZ2VkIHNpbmNlIGxhc3QgcmVuZGVyXG4gICAgICAvLyBlLmcuIGZvciBwaXhlbCBncm91cHMsIHRoaXMgY291bGQgYmUgdGhlIHNpemUgb2YgdGhlIHdpbmRvd1xuICAgICAgY29uc3QgbmV4dExheW91dCA9IHZhbGlkYXRlUGFuZWxHcm91cExheW91dCh7XG4gICAgICAgIGxheW91dDogdW5zYWZlTGF5b3V0LFxuICAgICAgICBwYW5lbENvbnN0cmFpbnRzOiBwYW5lbERhdGFBcnJheS5tYXAocGFuZWxEYXRhID0+IHBhbmVsRGF0YS5jb25zdHJhaW50cylcbiAgICAgIH0pO1xuICAgICAgaWYgKCFhcmVFcXVhbChwcmV2TGF5b3V0LCBuZXh0TGF5b3V0KSkge1xuICAgICAgICBzZXRMYXlvdXQobmV4dExheW91dCk7XG4gICAgICAgIGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQubGF5b3V0ID0gbmV4dExheW91dDtcbiAgICAgICAgaWYgKG9uTGF5b3V0KSB7XG4gICAgICAgICAgb25MYXlvdXQobmV4dExheW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFBhbmVsQ2FsbGJhY2tzKHBhbmVsRGF0YUFycmF5LCBuZXh0TGF5b3V0LCBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gUmVzZXQgdGhlIGNhY2hlZCBsYXlvdXQgaWYgaGlkZGVuIGJ5IHRoZSBBY3Rpdml0eS9PZmZzY3JlZW4gQVBJXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVhZ2VyVmFsdWVzID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWFnZXJWYWx1ZXMubGF5b3V0ID0gW107XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCByZWdpc3RlclJlc2l6ZUhhbmRsZSA9IHVzZUNhbGxiYWNrKGRyYWdIYW5kbGVJZCA9PiB7XG4gICAgbGV0IGlzUlRMID0gZmFsc2U7XG4gICAgY29uc3QgcGFuZWxHcm91cEVsZW1lbnQgPSBwYW5lbEdyb3VwRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGlmIChwYW5lbEdyb3VwRWxlbWVudCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYW5lbEdyb3VwRWxlbWVudCwgbnVsbCk7XG4gICAgICBpZiAoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImRpcmVjdGlvblwiKSA9PT0gXCJydGxcIikge1xuICAgICAgICBpc1JUTCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiByZXNpemVIYW5kbGVyKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgcGFuZWxHcm91cEVsZW1lbnQgPSBwYW5lbEdyb3VwRWxlbWVudFJlZi5jdXJyZW50O1xuICAgICAgaWYgKCFwYW5lbEdyb3VwRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICBkcmFnU3RhdGUsXG4gICAgICAgIGlkOiBncm91cElkLFxuICAgICAgICBrZXlib2FyZFJlc2l6ZUJ5LFxuICAgICAgICBvbkxheW91dFxuICAgICAgfSA9IGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50O1xuICAgICAgY29uc3Qge1xuICAgICAgICBsYXlvdXQ6IHByZXZMYXlvdXQsXG4gICAgICAgIHBhbmVsRGF0YUFycmF5XG4gICAgICB9ID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgaW5pdGlhbExheW91dFxuICAgICAgfSA9IGRyYWdTdGF0ZSAhPT0gbnVsbCAmJiBkcmFnU3RhdGUgIT09IHZvaWQgMCA/IGRyYWdTdGF0ZSA6IHt9O1xuICAgICAgY29uc3QgcGl2b3RJbmRpY2VzID0gZGV0ZXJtaW5lUGl2b3RJbmRpY2VzKGdyb3VwSWQsIGRyYWdIYW5kbGVJZCwgcGFuZWxHcm91cEVsZW1lbnQpO1xuICAgICAgbGV0IGRlbHRhID0gY2FsY3VsYXRlRGVsdGFQZXJjZW50YWdlKGV2ZW50LCBkcmFnSGFuZGxlSWQsIGRpcmVjdGlvbiwgZHJhZ1N0YXRlLCBrZXlib2FyZFJlc2l6ZUJ5LCBwYW5lbEdyb3VwRWxlbWVudCk7XG4gICAgICBjb25zdCBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCAmJiBpc1JUTCkge1xuICAgICAgICBkZWx0YSA9IC1kZWx0YTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhbmVsQ29uc3RyYWludHMgPSBwYW5lbERhdGFBcnJheS5tYXAocGFuZWxEYXRhID0+IHBhbmVsRGF0YS5jb25zdHJhaW50cyk7XG4gICAgICBjb25zdCBuZXh0TGF5b3V0ID0gYWRqdXN0TGF5b3V0QnlEZWx0YSh7XG4gICAgICAgIGRlbHRhLFxuICAgICAgICBpbml0aWFsTGF5b3V0OiBpbml0aWFsTGF5b3V0ICE9PSBudWxsICYmIGluaXRpYWxMYXlvdXQgIT09IHZvaWQgMCA/IGluaXRpYWxMYXlvdXQgOiBwcmV2TGF5b3V0LFxuICAgICAgICBwYW5lbENvbnN0cmFpbnRzLFxuICAgICAgICBwaXZvdEluZGljZXMsXG4gICAgICAgIHByZXZMYXlvdXQsXG4gICAgICAgIHRyaWdnZXI6IGlzS2V5RG93bihldmVudCkgPyBcImtleWJvYXJkXCIgOiBcIm1vdXNlLW9yLXRvdWNoXCJcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGF5b3V0Q2hhbmdlZCA9ICFjb21wYXJlTGF5b3V0cyhwcmV2TGF5b3V0LCBuZXh0TGF5b3V0KTtcblxuICAgICAgLy8gT25seSB1cGRhdGUgdGhlIGN1cnNvciBmb3IgbGF5b3V0IGNoYW5nZXMgdHJpZ2dlcmVkIGJ5IHRvdWNoL21vdXNlIGV2ZW50cyAobm90IGtleWJvYXJkKVxuICAgICAgLy8gVXBkYXRlIHRoZSBjdXJzb3IgZXZlbiBpZiB0aGUgbGF5b3V0IGhhc24ndCBjaGFuZ2VkICh3ZSBtYXkgbmVlZCB0byBzaG93IGFuIGludmFsaWQgY3Vyc29yIHN0YXRlKVxuICAgICAgaWYgKGlzUG9pbnRlckV2ZW50KGV2ZW50KSB8fCBpc01vdXNlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgIC8vIFdhdGNoIGZvciBtdWx0aXBsZSBzdWJzZXF1ZW50IGRlbHRhczsgdGhpcyBtaWdodCBvY2N1ciBmb3IgdGlueSBjdXJzb3IgbW92ZW1lbnRzLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIFBhbmVsIHNpemVzIG1pZ2h0IG5vdCBjaGFuZ2XigJNcbiAgICAgICAgLy8gYnV0IHVwZGF0aW5nIGN1cnNvciBpbiB0aGlzIHNjZW5hcmlvIHdvdWxkIGNhdXNlIGEgZmxpY2tlci5cbiAgICAgICAgaWYgKHByZXZEZWx0YVJlZi5jdXJyZW50ICE9IGRlbHRhKSB7XG4gICAgICAgICAgcHJldkRlbHRhUmVmLmN1cnJlbnQgPSBkZWx0YTtcbiAgICAgICAgICBpZiAoIWxheW91dENoYW5nZWQgJiYgZGVsdGEgIT09IDApIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwb2ludGVyIGhhcyBtb3ZlZCB0b28gZmFyIHRvIHJlc2l6ZSB0aGUgcGFuZWwgYW55IGZ1cnRoZXIsIG5vdGUgdGhpcyBzbyB3ZSBjYW4gdXBkYXRlIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICAvLyBUaGlzIG1pbWljcyBWUyBDb2RlIGJlaGF2aW9yLlxuICAgICAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICByZXBvcnRDb25zdHJhaW50c1Zpb2xhdGlvbihkcmFnSGFuZGxlSWQsIGRlbHRhIDwgMCA/IEVYQ0VFREVEX0hPUklaT05UQUxfTUlOIDogRVhDRUVERURfSE9SSVpPTlRBTF9NQVgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVwb3J0Q29uc3RyYWludHNWaW9sYXRpb24oZHJhZ0hhbmRsZUlkLCBkZWx0YSA8IDAgPyBFWENFRURFRF9WRVJUSUNBTF9NSU4gOiBFWENFRURFRF9WRVJUSUNBTF9NQVgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXBvcnRDb25zdHJhaW50c1Zpb2xhdGlvbihkcmFnSGFuZGxlSWQsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxheW91dENoYW5nZWQpIHtcbiAgICAgICAgc2V0TGF5b3V0KG5leHRMYXlvdXQpO1xuICAgICAgICBlYWdlclZhbHVlc1JlZi5jdXJyZW50LmxheW91dCA9IG5leHRMYXlvdXQ7XG4gICAgICAgIGlmIChvbkxheW91dCkge1xuICAgICAgICAgIG9uTGF5b3V0KG5leHRMYXlvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxQYW5lbENhbGxiYWNrcyhwYW5lbERhdGFBcnJheSwgbmV4dExheW91dCwgcGFuZWxJZFRvTGFzdE5vdGlmaWVkU2l6ZU1hcFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gRXh0ZXJuYWwgQVBJcyBhcmUgc2FmZSB0byBtZW1vaXplIHZpYSBjb21taXR0ZWQgdmFsdWVzIHJlZlxuICBjb25zdCByZXNpemVQYW5lbCA9IHVzZUNhbGxiYWNrKChwYW5lbERhdGEsIHVuc2FmZVBhbmVsU2l6ZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uTGF5b3V0XG4gICAgfSA9IGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGxheW91dDogcHJldkxheW91dCxcbiAgICAgIHBhbmVsRGF0YUFycmF5XG4gICAgfSA9IGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgcGFuZWxDb25zdHJhaW50c0FycmF5ID0gcGFuZWxEYXRhQXJyYXkubWFwKHBhbmVsRGF0YSA9PiBwYW5lbERhdGEuY29uc3RyYWludHMpO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhbmVsU2l6ZSxcbiAgICAgIHBpdm90SW5kaWNlc1xuICAgIH0gPSBwYW5lbERhdGFIZWxwZXIocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSwgcHJldkxheW91dCk7XG4gICAgYXNzZXJ0KHBhbmVsU2l6ZSAhPSBudWxsLCBgUGFuZWwgc2l6ZSBub3QgZm91bmQgZm9yIHBhbmVsIFwiJHtwYW5lbERhdGEuaWR9XCJgKTtcbiAgICBjb25zdCBpc0xhc3RQYW5lbCA9IGZpbmRQYW5lbERhdGFJbmRleChwYW5lbERhdGFBcnJheSwgcGFuZWxEYXRhKSA9PT0gcGFuZWxEYXRhQXJyYXkubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBkZWx0YSA9IGlzTGFzdFBhbmVsID8gcGFuZWxTaXplIC0gdW5zYWZlUGFuZWxTaXplIDogdW5zYWZlUGFuZWxTaXplIC0gcGFuZWxTaXplO1xuICAgIGNvbnN0IG5leHRMYXlvdXQgPSBhZGp1c3RMYXlvdXRCeURlbHRhKHtcbiAgICAgIGRlbHRhLFxuICAgICAgaW5pdGlhbExheW91dDogcHJldkxheW91dCxcbiAgICAgIHBhbmVsQ29uc3RyYWludHM6IHBhbmVsQ29uc3RyYWludHNBcnJheSxcbiAgICAgIHBpdm90SW5kaWNlcyxcbiAgICAgIHByZXZMYXlvdXQsXG4gICAgICB0cmlnZ2VyOiBcImltcGVyYXRpdmUtYXBpXCJcbiAgICB9KTtcbiAgICBpZiAoIWNvbXBhcmVMYXlvdXRzKHByZXZMYXlvdXQsIG5leHRMYXlvdXQpKSB7XG4gICAgICBzZXRMYXlvdXQobmV4dExheW91dCk7XG4gICAgICBlYWdlclZhbHVlc1JlZi5jdXJyZW50LmxheW91dCA9IG5leHRMYXlvdXQ7XG4gICAgICBpZiAob25MYXlvdXQpIHtcbiAgICAgICAgb25MYXlvdXQobmV4dExheW91dCk7XG4gICAgICB9XG4gICAgICBjYWxsUGFuZWxDYWxsYmFja3MocGFuZWxEYXRhQXJyYXksIG5leHRMYXlvdXQsIHBhbmVsSWRUb0xhc3ROb3RpZmllZFNpemVNYXBSZWYuY3VycmVudCk7XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IHJlZXZhbHVhdGVQYW5lbENvbnN0cmFpbnRzID0gdXNlQ2FsbGJhY2soKHBhbmVsRGF0YSwgcHJldkNvbnN0cmFpbnRzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgbGF5b3V0LFxuICAgICAgcGFuZWxEYXRhQXJyYXlcbiAgICB9ID0gZWFnZXJWYWx1ZXNSZWYuY3VycmVudDtcbiAgICBjb25zdCB7XG4gICAgICBjb2xsYXBzZWRTaXplOiBwcmV2Q29sbGFwc2VkU2l6ZSA9IDAsXG4gICAgICBjb2xsYXBzaWJsZTogcHJldkNvbGxhcHNpYmxlXG4gICAgfSA9IHByZXZDb25zdHJhaW50cztcbiAgICBjb25zdCB7XG4gICAgICBjb2xsYXBzZWRTaXplOiBuZXh0Q29sbGFwc2VkU2l6ZSA9IDAsXG4gICAgICBjb2xsYXBzaWJsZTogbmV4dENvbGxhcHNpYmxlLFxuICAgICAgbWF4U2l6ZTogbmV4dE1heFNpemUgPSAxMDAsXG4gICAgICBtaW5TaXplOiBuZXh0TWluU2l6ZSA9IDBcbiAgICB9ID0gcGFuZWxEYXRhLmNvbnN0cmFpbnRzO1xuICAgIGNvbnN0IHtcbiAgICAgIHBhbmVsU2l6ZTogcHJldlBhbmVsU2l6ZVxuICAgIH0gPSBwYW5lbERhdGFIZWxwZXIocGFuZWxEYXRhQXJyYXksIHBhbmVsRGF0YSwgbGF5b3V0KTtcbiAgICBpZiAocHJldlBhbmVsU2l6ZSA9PSBudWxsKSB7XG4gICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHBhbmVscyBpbiB0aGlzIGdyb3VwIGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCByZW5kZXJcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByZXZDb2xsYXBzaWJsZSAmJiBuZXh0Q29sbGFwc2libGUgJiYgZnV6enlOdW1iZXJzRXF1YWwkMShwcmV2UGFuZWxTaXplLCBwcmV2Q29sbGFwc2VkU2l6ZSkpIHtcbiAgICAgIGlmICghZnV6enlOdW1iZXJzRXF1YWwkMShwcmV2Q29sbGFwc2VkU2l6ZSwgbmV4dENvbGxhcHNlZFNpemUpKSB7XG4gICAgICAgIHJlc2l6ZVBhbmVsKHBhbmVsRGF0YSwgbmV4dENvbGxhcHNlZFNpemUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJldlBhbmVsU2l6ZSA8IG5leHRNaW5TaXplKSB7XG4gICAgICByZXNpemVQYW5lbChwYW5lbERhdGEsIG5leHRNaW5TaXplKTtcbiAgICB9IGVsc2UgaWYgKHByZXZQYW5lbFNpemUgPiBuZXh0TWF4U2l6ZSkge1xuICAgICAgcmVzaXplUGFuZWwocGFuZWxEYXRhLCBuZXh0TWF4U2l6ZSk7XG4gICAgfVxuICB9LCBbcmVzaXplUGFuZWxdKTtcblxuICAvLyBUT0RPIE11bHRpcGxlIGRyYWcgaGFuZGxlcyBjYW4gYmUgYWN0aXZlIGF0IHRoZSBzYW1lIHRpbWUgc28gdGhpcyBBUEkgaXMgYSBiaXQgYXdrd2FyZCBub3dcbiAgY29uc3Qgc3RhcnREcmFnZ2luZyA9IHVzZUNhbGxiYWNrKChkcmFnSGFuZGxlSWQsIGV2ZW50KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZGlyZWN0aW9uXG4gICAgfSA9IGNvbW1pdHRlZFZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIGxheW91dFxuICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGlmICghcGFuZWxHcm91cEVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVFbGVtZW50ID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudChkcmFnSGFuZGxlSWQsIHBhbmVsR3JvdXBFbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgIGFzc2VydChoYW5kbGVFbGVtZW50LCBgRHJhZyBoYW5kbGUgZWxlbWVudCBub3QgZm91bmQgZm9yIGlkIFwiJHtkcmFnSGFuZGxlSWR9XCJgKTtcbiAgICBjb25zdCBpbml0aWFsQ3Vyc29yUG9zaXRpb24gPSBnZXRSZXNpemVFdmVudEN1cnNvclBvc2l0aW9uKGRpcmVjdGlvbiwgZXZlbnQpO1xuICAgIHNldERyYWdTdGF0ZSh7XG4gICAgICBkcmFnSGFuZGxlSWQsXG4gICAgICBkcmFnSGFuZGxlUmVjdDogaGFuZGxlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIGluaXRpYWxDdXJzb3JQb3NpdGlvbixcbiAgICAgIGluaXRpYWxMYXlvdXQ6IGxheW91dFxuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHN0b3BEcmFnZ2luZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXREcmFnU3RhdGUobnVsbCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgdW5yZWdpc3RlclBhbmVsID0gdXNlQ2FsbGJhY2socGFuZWxEYXRhID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBwYW5lbERhdGFBcnJheVxuICAgIH0gPSBlYWdlclZhbHVlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IGluZGV4ID0gZmluZFBhbmVsRGF0YUluZGV4KHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBwYW5lbERhdGFBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICAvLyBUUklDS1lcbiAgICAgIC8vIFdoZW4gYSBwYW5lbCBpcyByZW1vdmVkIGZyb20gdGhlIGdyb3VwLCB3ZSBzaG91bGQgZGVsZXRlIHRoZSBtb3N0IHJlY2VudCBwcmV2LXNpemUgZW50cnkgZm9yIGl0LlxuICAgICAgLy8gSWYgd2UgZG9uJ3QgZG8gdGhpcywgdGhlbiBhIGNvbmRpdGlvbmFsbHkgcmVuZGVyZWQgcGFuZWwgbWlnaHQgbm90IGNhbGwgb25SZXNpemUgd2hlbiBpdCdzIHJlLW1vdW50ZWQuXG4gICAgICAvLyBTdHJpY3QgZWZmZWN0cyBtb2RlIG1ha2VzIHRoaXMgdHJpY2t5IHRob3VnaCBiZWNhdXNlIGFsbCBwYW5lbHMgd2lsbCBiZSByZWdpc3RlcmVkLCB1bnJlZ2lzdGVyZWQsIHRoZW4gcmUtcmVnaXN0ZXJlZCBvbiBtb3VudC5cbiAgICAgIGRlbGV0ZSBwYW5lbElkVG9MYXN0Tm90aWZpZWRTaXplTWFwUmVmLmN1cnJlbnRbcGFuZWxEYXRhLmlkXTtcbiAgICAgIGVhZ2VyVmFsdWVzUmVmLmN1cnJlbnQucGFuZWxEYXRhQXJyYXlDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9LCBbZm9yY2VVcGRhdGVdKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBjb2xsYXBzZVBhbmVsLFxuICAgIGRpcmVjdGlvbixcbiAgICBkcmFnU3RhdGUsXG4gICAgZXhwYW5kUGFuZWwsXG4gICAgZ2V0UGFuZWxTaXplLFxuICAgIGdldFBhbmVsU3R5bGUsXG4gICAgZ3JvdXBJZCxcbiAgICBpc1BhbmVsQ29sbGFwc2VkLFxuICAgIGlzUGFuZWxFeHBhbmRlZCxcbiAgICByZWV2YWx1YXRlUGFuZWxDb25zdHJhaW50cyxcbiAgICByZWdpc3RlclBhbmVsLFxuICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlLFxuICAgIHJlc2l6ZVBhbmVsLFxuICAgIHN0YXJ0RHJhZ2dpbmcsXG4gICAgc3RvcERyYWdnaW5nLFxuICAgIHVucmVnaXN0ZXJQYW5lbCxcbiAgICBwYW5lbEdyb3VwRWxlbWVudDogcGFuZWxHcm91cEVsZW1lbnRSZWYuY3VycmVudFxuICB9KSwgW2NvbGxhcHNlUGFuZWwsIGRyYWdTdGF0ZSwgZGlyZWN0aW9uLCBleHBhbmRQYW5lbCwgZ2V0UGFuZWxTaXplLCBnZXRQYW5lbFN0eWxlLCBncm91cElkLCBpc1BhbmVsQ29sbGFwc2VkLCBpc1BhbmVsRXhwYW5kZWQsIHJlZXZhbHVhdGVQYW5lbENvbnN0cmFpbnRzLCByZWdpc3RlclBhbmVsLCByZWdpc3RlclJlc2l6ZUhhbmRsZSwgcmVzaXplUGFuZWwsIHN0YXJ0RHJhZ2dpbmcsIHN0b3BEcmFnZ2luZywgdW5yZWdpc3RlclBhbmVsXSk7XG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIGZsZXhEaXJlY3Rpb246IGRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBcInJvd1wiIDogXCJjb2x1bW5cIixcbiAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIlxuICB9O1xuICByZXR1cm4gY3JlYXRlRWxlbWVudChQYW5lbEdyb3VwQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0XG4gIH0sIGNyZWF0ZUVsZW1lbnQoVHlwZSwge1xuICAgIC4uLnJlc3QsXG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVGcm9tUHJvcHMsXG4gICAgaWQ6IGlkRnJvbVByb3BzLFxuICAgIHJlZjogcGFuZWxHcm91cEVsZW1lbnRSZWYsXG4gICAgc3R5bGU6IHtcbiAgICAgIC4uLnN0eWxlLFxuICAgICAgLi4uc3R5bGVGcm9tUHJvcHNcbiAgICB9LFxuICAgIC8vIENTUyBzZWxlY3RvcnNcbiAgICBbREFUQV9BVFRSSUJVVEVTLmdyb3VwXTogXCJcIixcbiAgICBbREFUQV9BVFRSSUJVVEVTLmdyb3VwRGlyZWN0aW9uXTogZGlyZWN0aW9uLFxuICAgIFtEQVRBX0FUVFJJQlVURVMuZ3JvdXBJZF06IGdyb3VwSWRcbiAgfSkpO1xufVxuY29uc3QgUGFuZWxHcm91cCA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IGNyZWF0ZUVsZW1lbnQoUGFuZWxHcm91cFdpdGhGb3J3YXJkZWRSZWYsIHtcbiAgLi4ucHJvcHMsXG4gIGZvcndhcmRlZFJlZjogcmVmXG59KSk7XG5QYW5lbEdyb3VwV2l0aEZvcndhcmRlZFJlZi5kaXNwbGF5TmFtZSA9IFwiUGFuZWxHcm91cFwiO1xuUGFuZWxHcm91cC5kaXNwbGF5TmFtZSA9IFwiZm9yd2FyZFJlZihQYW5lbEdyb3VwKVwiO1xuZnVuY3Rpb24gZmluZFBhbmVsRGF0YUluZGV4KHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEpIHtcbiAgcmV0dXJuIHBhbmVsRGF0YUFycmF5LmZpbmRJbmRleChwcmV2UGFuZWxEYXRhID0+IHByZXZQYW5lbERhdGEgPT09IHBhbmVsRGF0YSB8fCBwcmV2UGFuZWxEYXRhLmlkID09PSBwYW5lbERhdGEuaWQpO1xufVxuZnVuY3Rpb24gcGFuZWxEYXRhSGVscGVyKHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEsIGxheW91dCkge1xuICBjb25zdCBwYW5lbEluZGV4ID0gZmluZFBhbmVsRGF0YUluZGV4KHBhbmVsRGF0YUFycmF5LCBwYW5lbERhdGEpO1xuICBjb25zdCBpc0xhc3RQYW5lbCA9IHBhbmVsSW5kZXggPT09IHBhbmVsRGF0YUFycmF5Lmxlbmd0aCAtIDE7XG4gIGNvbnN0IHBpdm90SW5kaWNlcyA9IGlzTGFzdFBhbmVsID8gW3BhbmVsSW5kZXggLSAxLCBwYW5lbEluZGV4XSA6IFtwYW5lbEluZGV4LCBwYW5lbEluZGV4ICsgMV07XG4gIGNvbnN0IHBhbmVsU2l6ZSA9IGxheW91dFtwYW5lbEluZGV4XTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wYW5lbERhdGEuY29uc3RyYWludHMsXG4gICAgcGFuZWxTaXplLFxuICAgIHBpdm90SW5kaWNlc1xuICB9O1xufVxuXG4vLyBodHRwczovL3d3dy53My5vcmcvV0FJL0FSSUEvYXBnL3BhdHRlcm5zL3dpbmRvd3NwbGl0dGVyL1xuXG5mdW5jdGlvbiB1c2VXaW5kb3dTcGxpdHRlclJlc2l6ZUhhbmRsZXJCZWhhdmlvcih7XG4gIGRpc2FibGVkLFxuICBoYW5kbGVJZCxcbiAgcmVzaXplSGFuZGxlcixcbiAgcGFuZWxHcm91cEVsZW1lbnRcbn0pIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQgfHwgcmVzaXplSGFuZGxlciA9PSBudWxsIHx8IHBhbmVsR3JvdXBFbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlRWxlbWVudCA9IGdldFJlc2l6ZUhhbmRsZUVsZW1lbnQoaGFuZGxlSWQsIHBhbmVsR3JvdXBFbGVtZW50KTtcbiAgICBpZiAoaGFuZGxlRWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9uS2V5RG93biA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICBjYXNlIFwiRW5kXCI6XG4gICAgICAgIGNhc2UgXCJIb21lXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiRjZcIjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBJZCA9IGhhbmRsZUVsZW1lbnQuZ2V0QXR0cmlidXRlKERBVEFfQVRUUklCVVRFUy5ncm91cElkKTtcbiAgICAgICAgICAgIGFzc2VydChncm91cElkLCBgTm8gZ3JvdXAgZWxlbWVudCBmb3VuZCBmb3IgaWQgXCIke2dyb3VwSWR9XCJgKTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXMgPSBnZXRSZXNpemVIYW5kbGVFbGVtZW50c0Zvckdyb3VwKGdyb3VwSWQsIHBhbmVsR3JvdXBFbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZ2V0UmVzaXplSGFuZGxlRWxlbWVudEluZGV4KGdyb3VwSWQsIGhhbmRsZUlkLCBwYW5lbEdyb3VwRWxlbWVudCk7XG4gICAgICAgICAgICBhc3NlcnQoaW5kZXggIT09IG51bGwsIGBObyByZXNpemUgZWxlbWVudCBmb3VuZCBmb3IgaWQgXCIke2hhbmRsZUlkfVwiYCk7XG4gICAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBldmVudC5zaGlmdEtleSA/IGluZGV4ID4gMCA/IGluZGV4IC0gMSA6IGhhbmRsZXMubGVuZ3RoIC0gMSA6IGluZGV4ICsgMSA8IGhhbmRsZXMubGVuZ3RoID8gaW5kZXggKyAxIDogMDtcbiAgICAgICAgICAgIGNvbnN0IG5leHRIYW5kbGUgPSBoYW5kbGVzW25leHRJbmRleF07XG4gICAgICAgICAgICBuZXh0SGFuZGxlLmZvY3VzKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBoYW5kbGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGhhbmRsZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgICB9O1xuICB9LCBbcGFuZWxHcm91cEVsZW1lbnQsIGRpc2FibGVkLCBoYW5kbGVJZCwgcmVzaXplSGFuZGxlcl0pO1xufVxuXG5mdW5jdGlvbiBQYW5lbFJlc2l6ZUhhbmRsZSh7XG4gIGNoaWxkcmVuID0gbnVsbCxcbiAgY2xhc3NOYW1lOiBjbGFzc05hbWVGcm9tUHJvcHMgPSBcIlwiLFxuICBkaXNhYmxlZCA9IGZhbHNlLFxuICBoaXRBcmVhTWFyZ2lucyxcbiAgaWQ6IGlkRnJvbVByb3BzLFxuICBvbkJsdXIsXG4gIG9uQ2xpY2ssXG4gIG9uRHJhZ2dpbmcsXG4gIG9uRm9jdXMsXG4gIG9uUG9pbnRlckRvd24sXG4gIG9uUG9pbnRlclVwLFxuICBzdHlsZTogc3R5bGVGcm9tUHJvcHMgPSB7fSxcbiAgdGFiSW5kZXggPSAwLFxuICB0YWdOYW1lOiBUeXBlID0gXCJkaXZcIixcbiAgLi4ucmVzdFxufSkge1xuICB2YXIgX2hpdEFyZWFNYXJnaW5zJGNvYXJzLCBfaGl0QXJlYU1hcmdpbnMkZmluZTtcbiAgY29uc3QgZWxlbWVudFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBVc2UgYSByZWYgdG8gZ3VhcmQgYWdhaW5zdCB1c2VycyBwYXNzaW5nIGlubGluZSBwcm9wc1xuICBjb25zdCBjYWxsYmFja3NSZWYgPSB1c2VSZWYoe1xuICAgIG9uQ2xpY2ssXG4gICAgb25EcmFnZ2luZyxcbiAgICBvblBvaW50ZXJEb3duLFxuICAgIG9uUG9pbnRlclVwXG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNhbGxiYWNrc1JlZi5jdXJyZW50Lm9uQ2xpY2sgPSBvbkNsaWNrO1xuICAgIGNhbGxiYWNrc1JlZi5jdXJyZW50Lm9uRHJhZ2dpbmcgPSBvbkRyYWdnaW5nO1xuICAgIGNhbGxiYWNrc1JlZi5jdXJyZW50Lm9uUG9pbnRlckRvd24gPSBvblBvaW50ZXJEb3duO1xuICAgIGNhbGxiYWNrc1JlZi5jdXJyZW50Lm9uUG9pbnRlclVwID0gb25Qb2ludGVyVXA7XG4gIH0pO1xuICBjb25zdCBwYW5lbEdyb3VwQ29udGV4dCA9IHVzZUNvbnRleHQoUGFuZWxHcm91cENvbnRleHQpO1xuICBpZiAocGFuZWxHcm91cENvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBFcnJvcihgUGFuZWxSZXNpemVIYW5kbGUgY29tcG9uZW50cyBtdXN0IGJlIHJlbmRlcmVkIHdpdGhpbiBhIFBhbmVsR3JvdXAgY29udGFpbmVyYCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIGRpcmVjdGlvbixcbiAgICBncm91cElkLFxuICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlOiByZWdpc3RlclJlc2l6ZUhhbmRsZVdpdGhQYXJlbnRHcm91cCxcbiAgICBzdGFydERyYWdnaW5nLFxuICAgIHN0b3BEcmFnZ2luZyxcbiAgICBwYW5lbEdyb3VwRWxlbWVudFxuICB9ID0gcGFuZWxHcm91cENvbnRleHQ7XG4gIGNvbnN0IHJlc2l6ZUhhbmRsZUlkID0gdXNlVW5pcXVlSWQoaWRGcm9tUHJvcHMpO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKFwiaW5hY3RpdmVcIik7XG4gIGNvbnN0IFtpc0ZvY3VzZWQsIHNldElzRm9jdXNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZXNpemVIYW5kbGVyLCBzZXRSZXNpemVIYW5kbGVyXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBjb21taXR0ZWRWYWx1ZXNSZWYgPSB1c2VSZWYoe1xuICAgIHN0YXRlXG4gIH0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudC5zdGF0ZSA9IHN0YXRlO1xuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIHNldFJlc2l6ZUhhbmRsZXIobnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSByZWdpc3RlclJlc2l6ZUhhbmRsZVdpdGhQYXJlbnRHcm91cChyZXNpemVIYW5kbGVJZCk7XG4gICAgICBzZXRSZXNpemVIYW5kbGVyKCgpID0+IHJlc2l6ZUhhbmRsZXIpO1xuICAgIH1cbiAgfSwgW2Rpc2FibGVkLCByZXNpemVIYW5kbGVJZCwgcmVnaXN0ZXJSZXNpemVIYW5kbGVXaXRoUGFyZW50R3JvdXBdKTtcblxuICAvLyBFeHRyYWN0IGhpdCBhcmVhIG1hcmdpbnMgYmVmb3JlIHBhc3NpbmcgdGhlbSB0byB0aGUgZWZmZWN0J3MgZGVwZW5kZW5jeSBhcnJheVxuICAvLyBzbyB0aGF0IGlubGluZSBvYmplY3QgdmFsdWVzIHdvbid0IHRyaWdnZXIgcmUtcmVuZGVyc1xuICBjb25zdCBjb2Fyc2VIaXRBcmVhTWFyZ2lucyA9IChfaGl0QXJlYU1hcmdpbnMkY29hcnMgPSBoaXRBcmVhTWFyZ2lucyA9PT0gbnVsbCB8fCBoaXRBcmVhTWFyZ2lucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGl0QXJlYU1hcmdpbnMuY29hcnNlKSAhPT0gbnVsbCAmJiBfaGl0QXJlYU1hcmdpbnMkY29hcnMgIT09IHZvaWQgMCA/IF9oaXRBcmVhTWFyZ2lucyRjb2FycyA6IDE1O1xuICBjb25zdCBmaW5lSGl0QXJlYU1hcmdpbnMgPSAoX2hpdEFyZWFNYXJnaW5zJGZpbmUgPSBoaXRBcmVhTWFyZ2lucyA9PT0gbnVsbCB8fCBoaXRBcmVhTWFyZ2lucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGl0QXJlYU1hcmdpbnMuZmluZSkgIT09IG51bGwgJiYgX2hpdEFyZWFNYXJnaW5zJGZpbmUgIT09IHZvaWQgMCA/IF9oaXRBcmVhTWFyZ2lucyRmaW5lIDogNTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzYWJsZWQgfHwgcmVzaXplSGFuZGxlciA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgYXNzZXJ0KGVsZW1lbnQsIFwiRWxlbWVudCByZWYgbm90IGF0dGFjaGVkXCIpO1xuICAgIGxldCBkaWRNb3ZlID0gZmFsc2U7XG4gICAgY29uc3Qgc2V0UmVzaXplSGFuZGxlclN0YXRlID0gKGFjdGlvbiwgaXNBY3RpdmUsIGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgIHNldFN0YXRlKFwiaW5hY3RpdmVcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJkb3duXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgc2V0U3RhdGUoXCJkcmFnXCIpO1xuICAgICAgICAgICAgZGlkTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYXNzZXJ0KGV2ZW50LCAnRXhwZWN0ZWQgZXZlbnQgdG8gYmUgZGVmaW5lZCBmb3IgXCJkb3duXCIgYWN0aW9uJyk7XG4gICAgICAgICAgICBzdGFydERyYWdnaW5nKHJlc2l6ZUhhbmRsZUlkLCBldmVudCk7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIG9uRHJhZ2dpbmcsXG4gICAgICAgICAgICAgIG9uUG9pbnRlckRvd25cbiAgICAgICAgICAgIH0gPSBjYWxsYmFja3NSZWYuY3VycmVudDtcbiAgICAgICAgICAgIG9uRHJhZ2dpbmcgPT09IG51bGwgfHwgb25EcmFnZ2luZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25EcmFnZ2luZyh0cnVlKTtcbiAgICAgICAgICAgIG9uUG9pbnRlckRvd24gPT09IG51bGwgfHwgb25Qb2ludGVyRG93biA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Qb2ludGVyRG93bigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibW92ZVwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgIH0gPSBjb21taXR0ZWRWYWx1ZXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGRpZE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHN0YXRlICE9PSBcImRyYWdcIikge1xuICAgICAgICAgICAgICBzZXRTdGF0ZShcImhvdmVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzZXJ0KGV2ZW50LCAnRXhwZWN0ZWQgZXZlbnQgdG8gYmUgZGVmaW5lZCBmb3IgXCJtb3ZlXCIgYWN0aW9uJyk7XG4gICAgICAgICAgICByZXNpemVIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInVwXCI6XG4gICAgICAgICAge1xuICAgICAgICAgICAgc2V0U3RhdGUoXCJob3ZlclwiKTtcbiAgICAgICAgICAgIHN0b3BEcmFnZ2luZygpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBvbkNsaWNrLFxuICAgICAgICAgICAgICBvbkRyYWdnaW5nLFxuICAgICAgICAgICAgICBvblBvaW50ZXJVcFxuICAgICAgICAgICAgfSA9IGNhbGxiYWNrc1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgb25EcmFnZ2luZyA9PT0gbnVsbCB8fCBvbkRyYWdnaW5nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkRyYWdnaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIG9uUG9pbnRlclVwID09PSBudWxsIHx8IG9uUG9pbnRlclVwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblBvaW50ZXJVcCgpO1xuICAgICAgICAgICAgaWYgKCFkaWRNb3ZlKSB7XG4gICAgICAgICAgICAgIG9uQ2xpY2sgPT09IG51bGwgfHwgb25DbGljayA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlZ2lzdGVyUmVzaXplSGFuZGxlKHJlc2l6ZUhhbmRsZUlkLCBlbGVtZW50LCBkaXJlY3Rpb24sIHtcbiAgICAgIGNvYXJzZTogY29hcnNlSGl0QXJlYU1hcmdpbnMsXG4gICAgICBmaW5lOiBmaW5lSGl0QXJlYU1hcmdpbnNcbiAgICB9LCBzZXRSZXNpemVIYW5kbGVyU3RhdGUpO1xuICB9LCBbY29hcnNlSGl0QXJlYU1hcmdpbnMsIGRpcmVjdGlvbiwgZGlzYWJsZWQsIGZpbmVIaXRBcmVhTWFyZ2lucywgcmVnaXN0ZXJSZXNpemVIYW5kbGVXaXRoUGFyZW50R3JvdXAsIHJlc2l6ZUhhbmRsZUlkLCByZXNpemVIYW5kbGVyLCBzdGFydERyYWdnaW5nLCBzdG9wRHJhZ2dpbmddKTtcbiAgdXNlV2luZG93U3BsaXR0ZXJSZXNpemVIYW5kbGVyQmVoYXZpb3Ioe1xuICAgIGRpc2FibGVkLFxuICAgIGhhbmRsZUlkOiByZXNpemVIYW5kbGVJZCxcbiAgICByZXNpemVIYW5kbGVyLFxuICAgIHBhbmVsR3JvdXBFbGVtZW50XG4gIH0pO1xuICBjb25zdCBzdHlsZSA9IHtcbiAgICB0b3VjaEFjdGlvbjogXCJub25lXCIsXG4gICAgdXNlclNlbGVjdDogXCJub25lXCJcbiAgfTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoVHlwZSwge1xuICAgIC4uLnJlc3QsXG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVGcm9tUHJvcHMsXG4gICAgaWQ6IGlkRnJvbVByb3BzLFxuICAgIG9uQmx1cjogKCkgPT4ge1xuICAgICAgc2V0SXNGb2N1c2VkKGZhbHNlKTtcbiAgICAgIG9uQmx1ciA9PT0gbnVsbCB8fCBvbkJsdXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQmx1cigpO1xuICAgIH0sXG4gICAgb25Gb2N1czogKCkgPT4ge1xuICAgICAgc2V0SXNGb2N1c2VkKHRydWUpO1xuICAgICAgb25Gb2N1cyA9PT0gbnVsbCB8fCBvbkZvY3VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkZvY3VzKCk7XG4gICAgfSxcbiAgICByZWY6IGVsZW1lbnRSZWYsXG4gICAgcm9sZTogXCJzZXBhcmF0b3JcIixcbiAgICBzdHlsZToge1xuICAgICAgLi4uc3R5bGUsXG4gICAgICAuLi5zdHlsZUZyb21Qcm9wc1xuICAgIH0sXG4gICAgdGFiSW5kZXgsXG4gICAgLy8gQ1NTIHNlbGVjdG9yc1xuICAgIFtEQVRBX0FUVFJJQlVURVMuZ3JvdXBEaXJlY3Rpb25dOiBkaXJlY3Rpb24sXG4gICAgW0RBVEFfQVRUUklCVVRFUy5ncm91cElkXTogZ3JvdXBJZCxcbiAgICBbREFUQV9BVFRSSUJVVEVTLnJlc2l6ZUhhbmRsZV06IFwiXCIsXG4gICAgW0RBVEFfQVRUUklCVVRFUy5yZXNpemVIYW5kbGVBY3RpdmVdOiBzdGF0ZSA9PT0gXCJkcmFnXCIgPyBcInBvaW50ZXJcIiA6IGlzRm9jdXNlZCA/IFwia2V5Ym9hcmRcIiA6IHVuZGVmaW5lZCxcbiAgICBbREFUQV9BVFRSSUJVVEVTLnJlc2l6ZUhhbmRsZUVuYWJsZWRdOiAhZGlzYWJsZWQsXG4gICAgW0RBVEFfQVRUUklCVVRFUy5yZXNpemVIYW5kbGVJZF06IHJlc2l6ZUhhbmRsZUlkLFxuICAgIFtEQVRBX0FUVFJJQlVURVMucmVzaXplSGFuZGxlU3RhdGVdOiBzdGF0ZVxuICB9KTtcbn1cblBhbmVsUmVzaXplSGFuZGxlLmRpc3BsYXlOYW1lID0gXCJQYW5lbFJlc2l6ZUhhbmRsZVwiO1xuXG5mdW5jdGlvbiB1c2VQYW5lbEdyb3VwQ29udGV4dCgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoUGFuZWxHcm91cENvbnRleHQpO1xuICByZXR1cm4ge1xuICAgIGRpcmVjdGlvbjogY29udGV4dCA9PT0gbnVsbCB8fCBjb250ZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZXh0LmRpcmVjdGlvbixcbiAgICBncm91cElkOiBjb250ZXh0ID09PSBudWxsIHx8IGNvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRleHQuZ3JvdXBJZFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYW5lbEVsZW1lbnQoaWQsIHNjb3BlID0gZG9jdW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudCA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBhbmVsLWlkPVwiJHtpZH1cIl1gKTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0UGFuZWxFbGVtZW50c0Zvckdyb3VwKGdyb3VwSWQsIHNjb3BlID0gZG9jdW1lbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtcGFuZWxdW2RhdGEtcGFuZWwtZ3JvdXAtaWQ9XCIke2dyb3VwSWR9XCJdYCkpO1xufVxuXG5mdW5jdGlvbiBnZXRJbnRlcnNlY3RpbmdSZWN0YW5nbGUocmVjdE9uZSwgcmVjdFR3bywgc3RyaWN0KSB7XG4gIGlmICghaW50ZXJzZWN0cyhyZWN0T25lLCByZWN0VHdvLCBzdHJpY3QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5tYXgocmVjdE9uZS54LCByZWN0VHdvLngpLFxuICAgIHk6IE1hdGgubWF4KHJlY3RPbmUueSwgcmVjdFR3by55KSxcbiAgICB3aWR0aDogTWF0aC5taW4ocmVjdE9uZS54ICsgcmVjdE9uZS53aWR0aCwgcmVjdFR3by54ICsgcmVjdFR3by53aWR0aCkgLSBNYXRoLm1heChyZWN0T25lLngsIHJlY3RUd28ueCksXG4gICAgaGVpZ2h0OiBNYXRoLm1pbihyZWN0T25lLnkgKyByZWN0T25lLmhlaWdodCwgcmVjdFR3by55ICsgcmVjdFR3by5oZWlnaHQpIC0gTWF0aC5tYXgocmVjdE9uZS55LCByZWN0VHdvLnkpXG4gIH07XG59XG5cbmV4cG9ydCB7IERBVEFfQVRUUklCVVRFUywgUGFuZWwsIFBhbmVsR3JvdXAsIFBhbmVsUmVzaXplSGFuZGxlLCBhc3NlcnQsIGRpc2FibGVHbG9iYWxDdXJzb3JTdHlsZXMsIGVuYWJsZUdsb2JhbEN1cnNvclN0eWxlcywgZ2V0SW50ZXJzZWN0aW5nUmVjdGFuZ2xlLCBnZXRQYW5lbEVsZW1lbnQsIGdldFBhbmVsRWxlbWVudHNGb3JHcm91cCwgZ2V0UGFuZWxHcm91cEVsZW1lbnQsIGdldFJlc2l6ZUhhbmRsZUVsZW1lbnQsIGdldFJlc2l6ZUhhbmRsZUVsZW1lbnRJbmRleCwgZ2V0UmVzaXplSGFuZGxlRWxlbWVudHNGb3JHcm91cCwgZ2V0UmVzaXplSGFuZGxlUGFuZWxJZHMsIGludGVyc2VjdHMsIHNldE5vbmNlLCB1c2VQYW5lbEdyb3VwQ29udGV4dCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZXNpemFibGVQcmltaXRpdmUgZnJvbSBcInJlYWN0LXJlc2l6YWJsZS1wYW5lbHNcIjtcblxuaW1wb3J0IHsgRWxsaXBzaXNWZXJ0aWNhbEljb24gfSBmcm9tIFwiQC9pY29uc1wiO1xuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcblxuZnVuY3Rpb24gUmVzaXphYmxlUGFuZWxHcm91cCh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBSZXNpemFibGVQcmltaXRpdmUuUGFuZWxHcm91cD4pIHtcbiAgcmV0dXJuIChcbiAgICA8UmVzaXphYmxlUHJpbWl0aXZlLlBhbmVsR3JvdXBcbiAgICAgIGRhdGEtc2xvdD1cInJlc2l6YWJsZS1wYW5lbC1ncm91cFwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6ZmxleCB2a3VpOmgtZnVsbCB2a3VpOnctZnVsbCB2a3VpOmRhdGEtW3BhbmVsLWdyb3VwLWRpcmVjdGlvbj12ZXJ0aWNhbF06ZmxleC1jb2xcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBSZXNpemFibGVQYW5lbCh7XG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgUmVzaXphYmxlUHJpbWl0aXZlLlBhbmVsPikge1xuICByZXR1cm4gPFJlc2l6YWJsZVByaW1pdGl2ZS5QYW5lbCBkYXRhLXNsb3Q9XCJyZXNpemFibGUtcGFuZWxcIiB7Li4ucHJvcHN9IC8+O1xufVxuXG5mdW5jdGlvbiBSZXNpemFibGVIYW5kbGUoe1xuICB3aXRoSGFuZGxlLFxuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgUmVzaXphYmxlUHJpbWl0aXZlLlBhbmVsUmVzaXplSGFuZGxlPiAmIHtcbiAgd2l0aEhhbmRsZT86IGJvb2xlYW47XG59KSB7XG4gIHJldHVybiAoXG4gICAgPFJlc2l6YWJsZVByaW1pdGl2ZS5QYW5lbFJlc2l6ZUhhbmRsZVxuICAgICAgZGF0YS1zbG90PVwicmVzaXphYmxlLWhhbmRsZVwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgdmt1aTpyZWxhdGl2ZSB2a3VpOmZsZXggdmt1aTp3LXB4IHZrdWk6aXRlbXMtY2VudGVyIHZrdWk6anVzdGlmeS1jZW50ZXIgdmt1aTphZnRlcjphYnNvbHV0ZSB2a3VpOmFmdGVyOmluc2V0LXktMCB2a3VpOmFmdGVyOmxlZnQtMS8yIHZrdWk6YWZ0ZXI6dy0xIHZrdWk6YWZ0ZXI6LXRyYW5zbGF0ZS14LTEvMiB2a3VpOmZvY3VzLXZpc2libGU6cmluZy0xIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0xIGZvY3VzLXZpc2libGU6b3V0bGluZS1oaWRkZW4gdmt1aTpkYXRhLVtwYW5lbC1ncm91cC1kaXJlY3Rpb249dmVydGljYWxdOmgtcHggdmt1aTpkYXRhLVtwYW5lbC1ncm91cC1kaXJlY3Rpb249dmVydGljYWxdOnctZnVsbCB2a3VpOmRhdGEtW3BhbmVsLWdyb3VwLWRpcmVjdGlvbj12ZXJ0aWNhbF06YWZ0ZXI6bGVmdC0wIHZrdWk6ZGF0YS1bcGFuZWwtZ3JvdXAtZGlyZWN0aW9uPXZlcnRpY2FsXTphZnRlcjpoLTEgdmt1aTpkYXRhLVtwYW5lbC1ncm91cC1kaXJlY3Rpb249dmVydGljYWxdOmFmdGVyOnctZnVsbCB2a3VpOmRhdGEtW3BhbmVsLWdyb3VwLWRpcmVjdGlvbj12ZXJ0aWNhbF06YWZ0ZXI6LXRyYW5zbGF0ZS15LTEvMiB2a3VpOmRhdGEtW3BhbmVsLWdyb3VwLWRpcmVjdGlvbj12ZXJ0aWNhbF06YWZ0ZXI6dHJhbnNsYXRlLXgtMCB2a3VpOlsmW2RhdGEtcGFuZWwtZ3JvdXAtZGlyZWN0aW9uPXZlcnRpY2FsXT5kaXZdOnJvdGF0ZS05MFwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIHt3aXRoSGFuZGxlICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICBcInZrdWk6Ym9yZGVyLXRyYW5zcGFyZW50IHZrdWk6ei0xMCB2a3VpOmZsZXggdmt1aTpoLTggdmt1aTp3LTQgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpqdXN0aWZ5LWNlbnRlciB2a3VpOnJvdW5kZWQteHMgdmt1aTpib3JkZXJcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJ2a3VpOmgtNCB2a3VpOnctOFwiOiBwcm9wc1tcImFyaWEtb3JpZW50YXRpb25cIl0gPT09IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICApfVxuICAgICAgICA+XG4gICAgICAgICAgPEVsbGlwc2lzVmVydGljYWxJY29uIHNpemU9ezE2fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9SZXNpemFibGVQcmltaXRpdmUuUGFuZWxSZXNpemVIYW5kbGU+XG4gICk7XG59XG5cbmV4cG9ydCB7IFJlc2l6YWJsZUhhbmRsZSwgUmVzaXphYmxlUGFuZWwsIFJlc2l6YWJsZVBhbmVsR3JvdXAgfTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvdGFicy50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29tcG9zZUV2ZW50SGFuZGxlcnMgfSBmcm9tIFwiQHJhZGl4LXVpL3ByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXJvdmluZy1mb2N1c1wiO1xuaW1wb3J0IHsgUHJlc2VuY2UgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByZXNlbmNlXCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0ICogYXMgUm92aW5nRm9jdXNHcm91cCBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXJvdmluZy1mb2N1c1wiO1xuaW1wb3J0IHsgdXNlRGlyZWN0aW9uIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1kaXJlY3Rpb25cIjtcbmltcG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC11c2UtY29udHJvbGxhYmxlLXN0YXRlXCI7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtaWRcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFRBQlNfTkFNRSA9IFwiVGFic1wiO1xudmFyIFtjcmVhdGVUYWJzQ29udGV4dCwgY3JlYXRlVGFic1Njb3BlXSA9IGNyZWF0ZUNvbnRleHRTY29wZShUQUJTX05BTUUsIFtcbiAgY3JlYXRlUm92aW5nRm9jdXNHcm91cFNjb3BlXG5dKTtcbnZhciB1c2VSb3ZpbmdGb2N1c0dyb3VwU2NvcGUgPSBjcmVhdGVSb3ZpbmdGb2N1c0dyb3VwU2NvcGUoKTtcbnZhciBbVGFic1Byb3ZpZGVyLCB1c2VUYWJzQ29udGV4dF0gPSBjcmVhdGVUYWJzQ29udGV4dChUQUJTX05BTUUpO1xudmFyIFRhYnMgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIF9fc2NvcGVUYWJzLFxuICAgICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICAgIG9uVmFsdWVDaGFuZ2UsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICBvcmllbnRhdGlvbiA9IFwiaG9yaXpvbnRhbFwiLFxuICAgICAgZGlyLFxuICAgICAgYWN0aXZhdGlvbk1vZGUgPSBcImF1dG9tYXRpY1wiLFxuICAgICAgLi4udGFic1Byb3BzXG4gICAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHVzZURpcmVjdGlvbihkaXIpO1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgICAgcHJvcDogdmFsdWVQcm9wLFxuICAgICAgb25DaGFuZ2U6IG9uVmFsdWVDaGFuZ2UsXG4gICAgICBkZWZhdWx0UHJvcDogZGVmYXVsdFZhbHVlID8/IFwiXCIsXG4gICAgICBjYWxsZXI6IFRBQlNfTkFNRVxuICAgIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgVGFic1Byb3ZpZGVyLFxuICAgICAge1xuICAgICAgICBzY29wZTogX19zY29wZVRhYnMsXG4gICAgICAgIGJhc2VJZDogdXNlSWQoKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9uVmFsdWVDaGFuZ2U6IHNldFZhbHVlLFxuICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgZGlyOiBkaXJlY3Rpb24sXG4gICAgICAgIGFjdGl2YXRpb25Nb2RlLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBQcmltaXRpdmUuZGl2LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpcjogZGlyZWN0aW9uLFxuICAgICAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgLi4udGFic1Byb3BzLFxuICAgICAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuVGFicy5kaXNwbGF5TmFtZSA9IFRBQlNfTkFNRTtcbnZhciBUQUJfTElTVF9OQU1FID0gXCJUYWJzTGlzdFwiO1xudmFyIFRhYnNMaXN0ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVUYWJzLCBsb29wID0gdHJ1ZSwgLi4ubGlzdFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlVGFic0NvbnRleHQoVEFCX0xJU1RfTkFNRSwgX19zY29wZVRhYnMpO1xuICAgIGNvbnN0IHJvdmluZ0ZvY3VzR3JvdXBTY29wZSA9IHVzZVJvdmluZ0ZvY3VzR3JvdXBTY29wZShfX3Njb3BlVGFicyk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBSb3ZpbmdGb2N1c0dyb3VwLlJvb3QsXG4gICAgICB7XG4gICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgIC4uLnJvdmluZ0ZvY3VzR3JvdXBTY29wZSxcbiAgICAgICAgb3JpZW50YXRpb246IGNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgIGRpcjogY29udGV4dC5kaXIsXG4gICAgICAgIGxvb3AsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFByaW1pdGl2ZS5kaXYsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogXCJ0YWJsaXN0XCIsXG4gICAgICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogY29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIC4uLmxpc3RQcm9wcyxcbiAgICAgICAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblRhYnNMaXN0LmRpc3BsYXlOYW1lID0gVEFCX0xJU1RfTkFNRTtcbnZhciBUUklHR0VSX05BTUUgPSBcIlRhYnNUcmlnZ2VyXCI7XG52YXIgVGFic1RyaWdnZXIgPSBSZWFjdC5mb3J3YXJkUmVmKFxuICAocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgX19zY29wZVRhYnMsIHZhbHVlLCBkaXNhYmxlZCA9IGZhbHNlLCAuLi50cmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VUYWJzQ29udGV4dChUUklHR0VSX05BTUUsIF9fc2NvcGVUYWJzKTtcbiAgICBjb25zdCByb3ZpbmdGb2N1c0dyb3VwU2NvcGUgPSB1c2VSb3ZpbmdGb2N1c0dyb3VwU2NvcGUoX19zY29wZVRhYnMpO1xuICAgIGNvbnN0IHRyaWdnZXJJZCA9IG1ha2VUcmlnZ2VySWQoY29udGV4dC5iYXNlSWQsIHZhbHVlKTtcbiAgICBjb25zdCBjb250ZW50SWQgPSBtYWtlQ29udGVudElkKGNvbnRleHQuYmFzZUlkLCB2YWx1ZSk7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHZhbHVlID09PSBjb250ZXh0LnZhbHVlO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUm92aW5nRm9jdXNHcm91cC5JdGVtLFxuICAgICAge1xuICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICAuLi5yb3ZpbmdGb2N1c0dyb3VwU2NvcGUsXG4gICAgICAgIGZvY3VzYWJsZTogIWRpc2FibGVkLFxuICAgICAgICBhY3RpdmU6IGlzU2VsZWN0ZWQsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFByaW1pdGl2ZS5idXR0b24sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIHJvbGU6IFwidGFiXCIsXG4gICAgICAgICAgICBcImFyaWEtc2VsZWN0ZWRcIjogaXNTZWxlY3RlZCxcbiAgICAgICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBjb250ZW50SWQsXG4gICAgICAgICAgICBcImRhdGEtc3RhdGVcIjogaXNTZWxlY3RlZCA/IFwiYWN0aXZlXCIgOiBcImluYWN0aXZlXCIsXG4gICAgICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGlzYWJsZWQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICBpZDogdHJpZ2dlcklkLFxuICAgICAgICAgICAgLi4udHJpZ2dlclByb3BzLFxuICAgICAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Nb3VzZURvd24sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWRpc2FibGVkICYmIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiBldmVudC5jdHJsS2V5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbktleURvd246IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChbXCIgXCIsIFwiRW50ZXJcIl0uaW5jbHVkZXMoZXZlbnQua2V5KSkgY29udGV4dC5vblZhbHVlQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb25Gb2N1czogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Gb2N1cywgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBpc0F1dG9tYXRpY0FjdGl2YXRpb24gPSBjb250ZXh0LmFjdGl2YXRpb25Nb2RlICE9PSBcIm1hbnVhbFwiO1xuICAgICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQgJiYgIWRpc2FibGVkICYmIGlzQXV0b21hdGljQWN0aXZhdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblRhYnNUcmlnZ2VyLmRpc3BsYXlOYW1lID0gVFJJR0dFUl9OQU1FO1xudmFyIENPTlRFTlRfTkFNRSA9IFwiVGFic0NvbnRlbnRcIjtcbnZhciBUYWJzQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlVGFicywgdmFsdWUsIGZvcmNlTW91bnQsIGNoaWxkcmVuLCAuLi5jb250ZW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VUYWJzQ29udGV4dChDT05URU5UX05BTUUsIF9fc2NvcGVUYWJzKTtcbiAgICBjb25zdCB0cmlnZ2VySWQgPSBtYWtlVHJpZ2dlcklkKGNvbnRleHQuYmFzZUlkLCB2YWx1ZSk7XG4gICAgY29uc3QgY29udGVudElkID0gbWFrZUNvbnRlbnRJZChjb250ZXh0LmJhc2VJZCwgdmFsdWUpO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB2YWx1ZSA9PT0gY29udGV4dC52YWx1ZTtcbiAgICBjb25zdCBpc01vdW50QW5pbWF0aW9uUHJldmVudGVkUmVmID0gUmVhY3QudXNlUmVmKGlzU2VsZWN0ZWQpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCByQUYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gaXNNb3VudEFuaW1hdGlvblByZXZlbnRlZFJlZi5jdXJyZW50ID0gZmFsc2UpO1xuICAgICAgcmV0dXJuICgpID0+IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJBRik7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFByZXNlbmNlLCB7IHByZXNlbnQ6IGZvcmNlTW91bnQgfHwgaXNTZWxlY3RlZCwgY2hpbGRyZW46ICh7IHByZXNlbnQgfSkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFByaW1pdGl2ZS5kaXYsXG4gICAgICB7XG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc1NlbGVjdGVkID8gXCJhY3RpdmVcIiA6IFwiaW5hY3RpdmVcIixcbiAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IGNvbnRleHQub3JpZW50YXRpb24sXG4gICAgICAgIHJvbGU6IFwidGFicGFuZWxcIixcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogdHJpZ2dlcklkLFxuICAgICAgICBoaWRkZW46ICFwcmVzZW50LFxuICAgICAgICBpZDogY29udGVudElkLFxuICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgLi4uY29udGVudFByb3BzLFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAuLi5wcm9wcy5zdHlsZSxcbiAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogaXNNb3VudEFuaW1hdGlvblByZXZlbnRlZFJlZi5jdXJyZW50ID8gXCIwc1wiIDogdm9pZCAwXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBwcmVzZW50ICYmIGNoaWxkcmVuXG4gICAgICB9XG4gICAgKSB9KTtcbiAgfVxuKTtcblRhYnNDb250ZW50LmRpc3BsYXlOYW1lID0gQ09OVEVOVF9OQU1FO1xuZnVuY3Rpb24gbWFrZVRyaWdnZXJJZChiYXNlSWQsIHZhbHVlKSB7XG4gIHJldHVybiBgJHtiYXNlSWR9LXRyaWdnZXItJHt2YWx1ZX1gO1xufVxuZnVuY3Rpb24gbWFrZUNvbnRlbnRJZChiYXNlSWQsIHZhbHVlKSB7XG4gIHJldHVybiBgJHtiYXNlSWR9LWNvbnRlbnQtJHt2YWx1ZX1gO1xufVxudmFyIFJvb3QyID0gVGFicztcbnZhciBMaXN0ID0gVGFic0xpc3Q7XG52YXIgVHJpZ2dlciA9IFRhYnNUcmlnZ2VyO1xudmFyIENvbnRlbnQgPSBUYWJzQ29udGVudDtcbmV4cG9ydCB7XG4gIENvbnRlbnQsXG4gIExpc3QsXG4gIFJvb3QyIGFzIFJvb3QsXG4gIFRhYnMsXG4gIFRhYnNDb250ZW50LFxuICBUYWJzTGlzdCxcbiAgVGFic1RyaWdnZXIsXG4gIFRyaWdnZXIsXG4gIGNyZWF0ZVRhYnNTY29wZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgVGFic1ByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXRhYnNcIjtcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcblxuZnVuY3Rpb24gVGFicyh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBUYWJzUHJpbWl0aXZlLlJvb3Q+KSB7XG4gIHJldHVybiAoXG4gICAgPFRhYnNQcmltaXRpdmUuUm9vdFxuICAgICAgZGF0YS1zbG90PVwidGFic1wiXG4gICAgICBjbGFzc05hbWU9e2NuKFwidmt1aTpmbGV4IHZrdWk6ZmxleC1jb2wgdmt1aTpnYXAtMlwiLCBjbGFzc05hbWUpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRhYnNMaXN0KHtcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIFRhYnNQcmltaXRpdmUuTGlzdD4pIHtcbiAgcmV0dXJuIChcbiAgICA8VGFic1ByaW1pdGl2ZS5MaXN0XG4gICAgICBkYXRhLXNsb3Q9XCJ0YWJzLWxpc3RcIlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmJnLW11dGVkIHZrdWk6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHZrdWk6aW5saW5lLWZsZXggdmt1aTpoLTkgdmt1aTp3LWZpdCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6cm91bmRlZC1sZyBwLVszcHhdXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gVGFic1RyaWdnZXIoe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgVGFic1ByaW1pdGl2ZS5UcmlnZ2VyPikge1xuICByZXR1cm4gKFxuICAgIDxUYWJzUHJpbWl0aXZlLlRyaWdnZXJcbiAgICAgIGRhdGEtc2xvdD1cInRhYnMtdHJpZ2dlclwiXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6ZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1iYWNrZ3JvdW5kIHZrdWk6ZGF0YS1bc3RhdGU9YWN0aXZlXTp0ZXh0LWZvcmVncm91bmQgdmt1aTpmb2N1cy12aXNpYmxlOmJvcmRlci1yaW5nIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgdmt1aTpmb2N1cy12aXNpYmxlOm91dGxpbmUtcmluZyB2a3VpOmhvdmVyOmJnLW11dGVkLWZvcmVncm91bmQvMTAgdmt1aTpkYXJrOmRhdGEtW3N0YXRlPWFjdGl2ZV06Ym9yZGVyLWlucHV0IHZrdWk6ZGFyazpkYXRhLVtzdGF0ZT1hY3RpdmVdOmJnLWlucHV0LzMwIHZrdWk6dGV4dC1mb3JlZ3JvdW5kIHZrdWk6aW5saW5lLWZsZXggdmt1aTpoLVtjYWxjKDEwMCUtMXB4KV0gdmt1aTpmbGV4LTEgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpqdXN0aWZ5LWNlbnRlciB2a3VpOmdhcC0xLjUgdmt1aTpyb3VuZGVkLW1kIHZrdWk6Ym9yZGVyIHZrdWk6Ym9yZGVyLXRyYW5zcGFyZW50IHZrdWk6cHgtMiB2a3VpOnB5LTEgdmt1aTp0ZXh0LXNtIHZrdWk6Zm9udC1tZWRpdW0gdmt1aTp3aGl0ZXNwYWNlLW5vd3JhcCB2a3VpOnRyYW5zaXRpb24tW2NvbG9yLGJveC1zaGFkb3ddIHZrdWk6Zm9jdXMtdmlzaWJsZTpyaW5nLVszcHhdIHZrdWk6Zm9jdXMtdmlzaWJsZTpvdXRsaW5lLTEgdmt1aTpkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIHZrdWk6ZGlzYWJsZWQ6b3BhY2l0eS01MCB2a3VpOmRhdGEtW3N0YXRlPWFjdGl2ZV06c2hhZG93LXNtIHZrdWk6WyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIHZrdWk6WyZfc3ZnXTpzaHJpbmstMCBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRcIixcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBUYWJzQ29udGVudCh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBUYWJzUHJpbWl0aXZlLkNvbnRlbnQ+KSB7XG4gIHJldHVybiAoXG4gICAgPFRhYnNQcmltaXRpdmUuQ29udGVudFxuICAgICAgZGF0YS1zbG90PVwidGFicy1jb250ZW50XCJcbiAgICAgIGZvcmNlTW91bnRcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpmbGV4LTEgdmt1aTpvdXRsaW5lLW5vbmUgdmt1aTpkYXRhLVtzdGF0ZT1pbmFjdGl2ZV06aGlkZGVuXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IHsgVGFicywgVGFic0xpc3QsIFRhYnNUcmlnZ2VyLCBUYWJzQ29udGVudCB9O1xuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbi8vIHNyYy90b29sdGlwLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb21wb3NlRXZlbnRIYW5kbGVycyB9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQgeyB1c2VDb21wb3NlZFJlZnMgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQgeyBEaXNtaXNzYWJsZUxheWVyIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1kaXNtaXNzYWJsZS1sYXllclwiO1xuaW1wb3J0IHsgdXNlSWQgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWlkXCI7XG5pbXBvcnQgKiBhcyBQb3BwZXJQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3BwZXJcIjtcbmltcG9ydCB7IGNyZWF0ZVBvcHBlclNjb3BlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3BwZXJcIjtcbmltcG9ydCB7IFBvcnRhbCBhcyBQb3J0YWxQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcnRhbFwiO1xuaW1wb3J0IHsgUHJlc2VuY2UgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByZXNlbmNlXCI7XG5pbXBvcnQgeyBQcmltaXRpdmUgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXByaW1pdGl2ZVwiO1xuaW1wb3J0IHsgY3JlYXRlU2xvdHRhYmxlIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zbG90XCI7XG5pbXBvcnQgeyB1c2VDb250cm9sbGFibGVTdGF0ZSB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZVwiO1xuaW1wb3J0ICogYXMgVmlzdWFsbHlIaWRkZW5QcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC12aXN1YWxseS1oaWRkZW5cIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFtjcmVhdGVUb29sdGlwQ29udGV4dCwgY3JlYXRlVG9vbHRpcFNjb3BlXSA9IGNyZWF0ZUNvbnRleHRTY29wZShcIlRvb2x0aXBcIiwgW1xuICBjcmVhdGVQb3BwZXJTY29wZVxuXSk7XG52YXIgdXNlUG9wcGVyU2NvcGUgPSBjcmVhdGVQb3BwZXJTY29wZSgpO1xudmFyIFBST1ZJREVSX05BTUUgPSBcIlRvb2x0aXBQcm92aWRlclwiO1xudmFyIERFRkFVTFRfREVMQVlfRFVSQVRJT04gPSA3MDA7XG52YXIgVE9PTFRJUF9PUEVOID0gXCJ0b29sdGlwLm9wZW5cIjtcbnZhciBbVG9vbHRpcFByb3ZpZGVyQ29udGV4dFByb3ZpZGVyLCB1c2VUb29sdGlwUHJvdmlkZXJDb250ZXh0XSA9IGNyZWF0ZVRvb2x0aXBDb250ZXh0KFBST1ZJREVSX05BTUUpO1xudmFyIFRvb2x0aXBQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgX19zY29wZVRvb2x0aXAsXG4gICAgZGVsYXlEdXJhdGlvbiA9IERFRkFVTFRfREVMQVlfRFVSQVRJT04sXG4gICAgc2tpcERlbGF5RHVyYXRpb24gPSAzMDAsXG4gICAgZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnQgPSBmYWxzZSxcbiAgICBjaGlsZHJlblxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGlzT3BlbkRlbGF5ZWRSZWYgPSBSZWFjdC51c2VSZWYodHJ1ZSk7XG4gIGNvbnN0IGlzUG9pbnRlckluVHJhbnNpdFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHNraXBEZWxheVRpbWVyUmVmID0gUmVhY3QudXNlUmVmKDApO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNraXBEZWxheVRpbWVyID0gc2tpcERlbGF5VGltZXJSZWYuY3VycmVudDtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LmNsZWFyVGltZW91dChza2lwRGVsYXlUaW1lcik7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgVG9vbHRpcFByb3ZpZGVyQ29udGV4dFByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHNjb3BlOiBfX3Njb3BlVG9vbHRpcCxcbiAgICAgIGlzT3BlbkRlbGF5ZWRSZWYsXG4gICAgICBkZWxheUR1cmF0aW9uLFxuICAgICAgb25PcGVuOiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2tpcERlbGF5VGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIGlzT3BlbkRlbGF5ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfSwgW10pLFxuICAgICAgb25DbG9zZTogUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHNraXBEZWxheVRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICBza2lwRGVsYXlUaW1lclJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoXG4gICAgICAgICAgKCkgPT4gaXNPcGVuRGVsYXllZFJlZi5jdXJyZW50ID0gdHJ1ZSxcbiAgICAgICAgICBza2lwRGVsYXlEdXJhdGlvblxuICAgICAgICApO1xuICAgICAgfSwgW3NraXBEZWxheUR1cmF0aW9uXSksXG4gICAgICBpc1BvaW50ZXJJblRyYW5zaXRSZWYsXG4gICAgICBvblBvaW50ZXJJblRyYW5zaXRDaGFuZ2U6IFJlYWN0LnVzZUNhbGxiYWNrKChpblRyYW5zaXQpID0+IHtcbiAgICAgICAgaXNQb2ludGVySW5UcmFuc2l0UmVmLmN1cnJlbnQgPSBpblRyYW5zaXQ7XG4gICAgICB9LCBbXSksXG4gICAgICBkaXNhYmxlSG92ZXJhYmxlQ29udGVudCxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufTtcblRvb2x0aXBQcm92aWRlci5kaXNwbGF5TmFtZSA9IFBST1ZJREVSX05BTUU7XG52YXIgVE9PTFRJUF9OQU1FID0gXCJUb29sdGlwXCI7XG52YXIgW1Rvb2x0aXBDb250ZXh0UHJvdmlkZXIsIHVzZVRvb2x0aXBDb250ZXh0XSA9IGNyZWF0ZVRvb2x0aXBDb250ZXh0KFRPT0xUSVBfTkFNRSk7XG52YXIgVG9vbHRpcCA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgX19zY29wZVRvb2x0aXAsXG4gICAgY2hpbGRyZW4sXG4gICAgb3Blbjogb3BlblByb3AsXG4gICAgZGVmYXVsdE9wZW4sXG4gICAgb25PcGVuQ2hhbmdlLFxuICAgIGRpc2FibGVIb3ZlcmFibGVDb250ZW50OiBkaXNhYmxlSG92ZXJhYmxlQ29udGVudFByb3AsXG4gICAgZGVsYXlEdXJhdGlvbjogZGVsYXlEdXJhdGlvblByb3BcbiAgfSA9IHByb3BzO1xuICBjb25zdCBwcm92aWRlckNvbnRleHQgPSB1c2VUb29sdGlwUHJvdmlkZXJDb250ZXh0KFRPT0xUSVBfTkFNRSwgcHJvcHMuX19zY29wZVRvb2x0aXApO1xuICBjb25zdCBwb3BwZXJTY29wZSA9IHVzZVBvcHBlclNjb3BlKF9fc2NvcGVUb29sdGlwKTtcbiAgY29uc3QgW3RyaWdnZXIsIHNldFRyaWdnZXJdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGNvbnRlbnRJZCA9IHVzZUlkKCk7XG4gIGNvbnN0IG9wZW5UaW1lclJlZiA9IFJlYWN0LnVzZVJlZigwKTtcbiAgY29uc3QgZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnQgPSBkaXNhYmxlSG92ZXJhYmxlQ29udGVudFByb3AgPz8gcHJvdmlkZXJDb250ZXh0LmRpc2FibGVIb3ZlcmFibGVDb250ZW50O1xuICBjb25zdCBkZWxheUR1cmF0aW9uID0gZGVsYXlEdXJhdGlvblByb3AgPz8gcHJvdmlkZXJDb250ZXh0LmRlbGF5RHVyYXRpb247XG4gIGNvbnN0IHdhc09wZW5EZWxheWVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgIGRlZmF1bHRQcm9wOiBkZWZhdWx0T3BlbiA/PyBmYWxzZSxcbiAgICBvbkNoYW5nZTogKG9wZW4yKSA9PiB7XG4gICAgICBpZiAob3BlbjIpIHtcbiAgICAgICAgcHJvdmlkZXJDb250ZXh0Lm9uT3BlbigpO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChUT09MVElQX09QRU4pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3ZpZGVyQ29udGV4dC5vbkNsb3NlKCk7XG4gICAgICB9XG4gICAgICBvbk9wZW5DaGFuZ2U/LihvcGVuMik7XG4gICAgfSxcbiAgICBjYWxsZXI6IFRPT0xUSVBfTkFNRVxuICB9KTtcbiAgY29uc3Qgc3RhdGVBdHRyaWJ1dGUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gb3BlbiA/IHdhc09wZW5EZWxheWVkUmVmLmN1cnJlbnQgPyBcImRlbGF5ZWQtb3BlblwiIDogXCJpbnN0YW50LW9wZW5cIiA6IFwiY2xvc2VkXCI7XG4gIH0sIFtvcGVuXSk7XG4gIGNvbnN0IGhhbmRsZU9wZW4gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dChvcGVuVGltZXJSZWYuY3VycmVudCk7XG4gICAgb3BlblRpbWVyUmVmLmN1cnJlbnQgPSAwO1xuICAgIHdhc09wZW5EZWxheWVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBzZXRPcGVuKHRydWUpO1xuICB9LCBbc2V0T3Blbl0pO1xuICBjb25zdCBoYW5kbGVDbG9zZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG9wZW5UaW1lclJlZi5jdXJyZW50KTtcbiAgICBvcGVuVGltZXJSZWYuY3VycmVudCA9IDA7XG4gICAgc2V0T3BlbihmYWxzZSk7XG4gIH0sIFtzZXRPcGVuXSk7XG4gIGNvbnN0IGhhbmRsZURlbGF5ZWRPcGVuID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQob3BlblRpbWVyUmVmLmN1cnJlbnQpO1xuICAgIG9wZW5UaW1lclJlZi5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd2FzT3BlbkRlbGF5ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBzZXRPcGVuKHRydWUpO1xuICAgICAgb3BlblRpbWVyUmVmLmN1cnJlbnQgPSAwO1xuICAgIH0sIGRlbGF5RHVyYXRpb24pO1xuICB9LCBbZGVsYXlEdXJhdGlvbiwgc2V0T3Blbl0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAob3BlblRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChvcGVuVGltZXJSZWYuY3VycmVudCk7XG4gICAgICAgIG9wZW5UaW1lclJlZi5jdXJyZW50ID0gMDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFBvcHBlclByaW1pdGl2ZS5Sb290LCB7IC4uLnBvcHBlclNjb3BlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBUb29sdGlwQ29udGV4dFByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHNjb3BlOiBfX3Njb3BlVG9vbHRpcCxcbiAgICAgIGNvbnRlbnRJZCxcbiAgICAgIG9wZW4sXG4gICAgICBzdGF0ZUF0dHJpYnV0ZSxcbiAgICAgIHRyaWdnZXIsXG4gICAgICBvblRyaWdnZXJDaGFuZ2U6IHNldFRyaWdnZXIsXG4gICAgICBvblRyaWdnZXJFbnRlcjogUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAocHJvdmlkZXJDb250ZXh0LmlzT3BlbkRlbGF5ZWRSZWYuY3VycmVudCkgaGFuZGxlRGVsYXllZE9wZW4oKTtcbiAgICAgICAgZWxzZSBoYW5kbGVPcGVuKCk7XG4gICAgICB9LCBbcHJvdmlkZXJDb250ZXh0LmlzT3BlbkRlbGF5ZWRSZWYsIGhhbmRsZURlbGF5ZWRPcGVuLCBoYW5kbGVPcGVuXSksXG4gICAgICBvblRyaWdnZXJMZWF2ZTogUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnQpIHtcbiAgICAgICAgICBoYW5kbGVDbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQob3BlblRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIG9wZW5UaW1lclJlZi5jdXJyZW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgfSwgW2hhbmRsZUNsb3NlLCBkaXNhYmxlSG92ZXJhYmxlQ29udGVudF0pLFxuICAgICAgb25PcGVuOiBoYW5kbGVPcGVuLFxuICAgICAgb25DbG9zZTogaGFuZGxlQ2xvc2UsXG4gICAgICBkaXNhYmxlSG92ZXJhYmxlQ29udGVudCxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApIH0pO1xufTtcblRvb2x0aXAuZGlzcGxheU5hbWUgPSBUT09MVElQX05BTUU7XG52YXIgVFJJR0dFUl9OQU1FID0gXCJUb29sdGlwVHJpZ2dlclwiO1xudmFyIFRvb2x0aXBUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IF9fc2NvcGVUb29sdGlwLCAuLi50cmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VUb29sdGlwQ29udGV4dChUUklHR0VSX05BTUUsIF9fc2NvcGVUb29sdGlwKTtcbiAgICBjb25zdCBwcm92aWRlckNvbnRleHQgPSB1c2VUb29sdGlwUHJvdmlkZXJDb250ZXh0KFRSSUdHRVJfTkFNRSwgX19zY29wZVRvb2x0aXApO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gdXNlUG9wcGVyU2NvcGUoX19zY29wZVRvb2x0aXApO1xuICAgIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSB1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYsIGNvbnRleHQub25UcmlnZ2VyQ2hhbmdlKTtcbiAgICBjb25zdCBpc1BvaW50ZXJEb3duUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBoYXNQb2ludGVyTW92ZU9wZW5lZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gaXNQb2ludGVyRG93blJlZi5jdXJyZW50ID0gZmFsc2UsIFtdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9LCBbaGFuZGxlUG9pbnRlclVwXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLkFuY2hvciwgeyBhc0NoaWxkOiB0cnVlLCAuLi5wb3BwZXJTY29wZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBQcmltaXRpdmUuYnV0dG9uLFxuICAgICAge1xuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogY29udGV4dC5vcGVuID8gY29udGV4dC5jb250ZW50SWQgOiB2b2lkIDAsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBjb250ZXh0LnN0YXRlQXR0cmlidXRlLFxuICAgICAgICAuLi50cmlnZ2VyUHJvcHMsXG4gICAgICAgIHJlZjogY29tcG9zZWRSZWZzLFxuICAgICAgICBvblBvaW50ZXJNb3ZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vblBvaW50ZXJNb3ZlLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikgcmV0dXJuO1xuICAgICAgICAgIGlmICghaGFzUG9pbnRlck1vdmVPcGVuZWRSZWYuY3VycmVudCAmJiAhcHJvdmlkZXJDb250ZXh0LmlzUG9pbnRlckluVHJhbnNpdFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb250ZXh0Lm9uVHJpZ2dlckVudGVyKCk7XG4gICAgICAgICAgICBoYXNQb2ludGVyTW92ZU9wZW5lZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBvblBvaW50ZXJMZWF2ZTogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyTGVhdmUsICgpID0+IHtcbiAgICAgICAgICBjb250ZXh0Lm9uVHJpZ2dlckxlYXZlKCk7XG4gICAgICAgICAgaGFzUG9pbnRlck1vdmVPcGVuZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9KSxcbiAgICAgICAgb25Qb2ludGVyRG93bjogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyRG93biwgKCkgPT4ge1xuICAgICAgICAgIGlmIChjb250ZXh0Lm9wZW4pIHtcbiAgICAgICAgICAgIGNvbnRleHQub25DbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc1BvaW50ZXJEb3duUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBvbkZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkZvY3VzLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1BvaW50ZXJEb3duUmVmLmN1cnJlbnQpIGNvbnRleHQub25PcGVuKCk7XG4gICAgICAgIH0pLFxuICAgICAgICBvbkJsdXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKHByb3BzLm9uQmx1ciwgY29udGV4dC5vbkNsb3NlKSxcbiAgICAgICAgb25DbGljazogY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbGljaywgY29udGV4dC5vbkNsb3NlKVxuICAgICAgfVxuICAgICkgfSk7XG4gIH1cbik7XG5Ub29sdGlwVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFRSSUdHRVJfTkFNRTtcbnZhciBQT1JUQUxfTkFNRSA9IFwiVG9vbHRpcFBvcnRhbFwiO1xudmFyIFtQb3J0YWxQcm92aWRlciwgdXNlUG9ydGFsQ29udGV4dF0gPSBjcmVhdGVUb29sdGlwQ29udGV4dChQT1JUQUxfTkFNRSwge1xuICBmb3JjZU1vdW50OiB2b2lkIDBcbn0pO1xudmFyIFRvb2x0aXBQb3J0YWwgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBfX3Njb3BlVG9vbHRpcCwgZm9yY2VNb3VudCwgY2hpbGRyZW4sIGNvbnRhaW5lciB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VUb29sdGlwQ29udGV4dChQT1JUQUxfTkFNRSwgX19zY29wZVRvb2x0aXApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWxQcm92aWRlciwgeyBzY29wZTogX19zY29wZVRvb2x0aXAsIGZvcmNlTW91bnQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFByZXNlbmNlLCB7IHByZXNlbnQ6IGZvcmNlTW91bnQgfHwgY29udGV4dC5vcGVuLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChQb3J0YWxQcmltaXRpdmUsIHsgYXNDaGlsZDogdHJ1ZSwgY29udGFpbmVyLCBjaGlsZHJlbiB9KSB9KSB9KTtcbn07XG5Ub29sdGlwUG9ydGFsLmRpc3BsYXlOYW1lID0gUE9SVEFMX05BTUU7XG52YXIgQ09OVEVOVF9OQU1FID0gXCJUb29sdGlwQ29udGVudFwiO1xudmFyIFRvb2x0aXBDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZihcbiAgKHByb3BzLCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBwb3J0YWxDb250ZXh0ID0gdXNlUG9ydGFsQ29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVUb29sdGlwKTtcbiAgICBjb25zdCB7IGZvcmNlTW91bnQgPSBwb3J0YWxDb250ZXh0LmZvcmNlTW91bnQsIHNpZGUgPSBcInRvcFwiLCAuLi5jb250ZW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VUb29sdGlwQ29udGV4dChDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVUb29sdGlwKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChQcmVzZW5jZSwgeyBwcmVzZW50OiBmb3JjZU1vdW50IHx8IGNvbnRleHQub3BlbiwgY2hpbGRyZW46IGNvbnRleHQuZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnQgPyAvKiBAX19QVVJFX18gKi8ganN4KFRvb2x0aXBDb250ZW50SW1wbCwgeyBzaWRlLCAuLi5jb250ZW50UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwQ29udGVudEhvdmVyYWJsZSwgeyBzaWRlLCAuLi5jb250ZW50UHJvcHMsIHJlZjogZm9yd2FyZGVkUmVmIH0pIH0pO1xuICB9XG4pO1xudmFyIFRvb2x0aXBDb250ZW50SG92ZXJhYmxlID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlVG9vbHRpcENvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlVG9vbHRpcCk7XG4gIGNvbnN0IHByb3ZpZGVyQ29udGV4dCA9IHVzZVRvb2x0aXBQcm92aWRlckNvbnRleHQoQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlVG9vbHRpcCk7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgY29tcG9zZWRSZWZzID0gdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgcmVmKTtcbiAgY29uc3QgW3BvaW50ZXJHcmFjZUFyZWEsIHNldFBvaW50ZXJHcmFjZUFyZWFdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IHsgdHJpZ2dlciwgb25DbG9zZSB9ID0gY29udGV4dDtcbiAgY29uc3QgY29udGVudCA9IHJlZi5jdXJyZW50O1xuICBjb25zdCB7IG9uUG9pbnRlckluVHJhbnNpdENoYW5nZSB9ID0gcHJvdmlkZXJDb250ZXh0O1xuICBjb25zdCBoYW5kbGVSZW1vdmVHcmFjZUFyZWEgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0UG9pbnRlckdyYWNlQXJlYShudWxsKTtcbiAgICBvblBvaW50ZXJJblRyYW5zaXRDaGFuZ2UoZmFsc2UpO1xuICB9LCBbb25Qb2ludGVySW5UcmFuc2l0Q2hhbmdlXSk7XG4gIGNvbnN0IGhhbmRsZUNyZWF0ZUdyYWNlQXJlYSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChldmVudCwgaG92ZXJUYXJnZXQpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgY29uc3QgZXhpdFBvaW50ID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH07XG4gICAgICBjb25zdCBleGl0U2lkZSA9IGdldEV4aXRTaWRlRnJvbVJlY3QoZXhpdFBvaW50LCBjdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgIGNvbnN0IHBhZGRlZEV4aXRQb2ludHMgPSBnZXRQYWRkZWRFeGl0UG9pbnRzKGV4aXRQb2ludCwgZXhpdFNpZGUpO1xuICAgICAgY29uc3QgaG92ZXJUYXJnZXRQb2ludHMgPSBnZXRQb2ludHNGcm9tUmVjdChob3ZlclRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICBjb25zdCBncmFjZUFyZWEgPSBnZXRIdWxsKFsuLi5wYWRkZWRFeGl0UG9pbnRzLCAuLi5ob3ZlclRhcmdldFBvaW50c10pO1xuICAgICAgc2V0UG9pbnRlckdyYWNlQXJlYShncmFjZUFyZWEpO1xuICAgICAgb25Qb2ludGVySW5UcmFuc2l0Q2hhbmdlKHRydWUpO1xuICAgIH0sXG4gICAgW29uUG9pbnRlckluVHJhbnNpdENoYW5nZV1cbiAgKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4gaGFuZGxlUmVtb3ZlR3JhY2VBcmVhKCk7XG4gIH0sIFtoYW5kbGVSZW1vdmVHcmFjZUFyZWFdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHJpZ2dlciAmJiBjb250ZW50KSB7XG4gICAgICBjb25zdCBoYW5kbGVUcmlnZ2VyTGVhdmUgPSAoZXZlbnQpID0+IGhhbmRsZUNyZWF0ZUdyYWNlQXJlYShldmVudCwgY29udGVudCk7XG4gICAgICBjb25zdCBoYW5kbGVDb250ZW50TGVhdmUgPSAoZXZlbnQpID0+IGhhbmRsZUNyZWF0ZUdyYWNlQXJlYShldmVudCwgdHJpZ2dlcik7XG4gICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgaGFuZGxlVHJpZ2dlckxlYXZlKTtcbiAgICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCBoYW5kbGVDb250ZW50TGVhdmUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIGhhbmRsZVRyaWdnZXJMZWF2ZSk7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsZWF2ZVwiLCBoYW5kbGVDb250ZW50TGVhdmUpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFt0cmlnZ2VyLCBjb250ZW50LCBoYW5kbGVDcmVhdGVHcmFjZUFyZWEsIGhhbmRsZVJlbW92ZUdyYWNlQXJlYV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwb2ludGVyR3JhY2VBcmVhKSB7XG4gICAgICBjb25zdCBoYW5kbGVUcmFja1BvaW50ZXJHcmFjZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJQb3NpdGlvbiA9IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9O1xuICAgICAgICBjb25zdCBoYXNFbnRlcmVkVGFyZ2V0ID0gdHJpZ2dlcj8uY29udGFpbnModGFyZ2V0KSB8fCBjb250ZW50Py5jb250YWlucyh0YXJnZXQpO1xuICAgICAgICBjb25zdCBpc1BvaW50ZXJPdXRzaWRlR3JhY2VBcmVhID0gIWlzUG9pbnRJblBvbHlnb24ocG9pbnRlclBvc2l0aW9uLCBwb2ludGVyR3JhY2VBcmVhKTtcbiAgICAgICAgaWYgKGhhc0VudGVyZWRUYXJnZXQpIHtcbiAgICAgICAgICBoYW5kbGVSZW1vdmVHcmFjZUFyZWEoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1BvaW50ZXJPdXRzaWRlR3JhY2VBcmVhKSB7XG4gICAgICAgICAgaGFuZGxlUmVtb3ZlR3JhY2VBcmVhKCk7XG4gICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGhhbmRsZVRyYWNrUG9pbnRlckdyYWNlKTtcbiAgICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlVHJhY2tQb2ludGVyR3JhY2UpO1xuICAgIH1cbiAgfSwgW3RyaWdnZXIsIGNvbnRlbnQsIHBvaW50ZXJHcmFjZUFyZWEsIG9uQ2xvc2UsIGhhbmRsZVJlbW92ZUdyYWNlQXJlYV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChUb29sdGlwQ29udGVudEltcGwsIHsgLi4ucHJvcHMsIHJlZjogY29tcG9zZWRSZWZzIH0pO1xufSk7XG52YXIgW1Zpc3VhbGx5SGlkZGVuQ29udGVudENvbnRleHRQcm92aWRlciwgdXNlVmlzdWFsbHlIaWRkZW5Db250ZW50Q29udGV4dF0gPSBjcmVhdGVUb29sdGlwQ29udGV4dChUT09MVElQX05BTUUsIHsgaXNJbnNpZGU6IGZhbHNlIH0pO1xudmFyIFNsb3R0YWJsZSA9IGNyZWF0ZVNsb3R0YWJsZShcIlRvb2x0aXBDb250ZW50XCIpO1xudmFyIFRvb2x0aXBDb250ZW50SW1wbCA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgX19zY29wZVRvb2x0aXAsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwsXG4gICAgICBvbkVzY2FwZUtleURvd24sXG4gICAgICBvblBvaW50ZXJEb3duT3V0c2lkZSxcbiAgICAgIC4uLmNvbnRlbnRQcm9wc1xuICAgIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlVG9vbHRpcENvbnRleHQoQ09OVEVOVF9OQU1FLCBfX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgeyBvbkNsb3NlIH0gPSBjb250ZXh0O1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFRPT0xUSVBfT1BFTiwgb25DbG9zZSk7XG4gICAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihUT09MVElQX09QRU4sIG9uQ2xvc2UpO1xuICAgIH0sIFtvbkNsb3NlXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChjb250ZXh0LnRyaWdnZXIpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgIGlmICh0YXJnZXQ/LmNvbnRhaW5zKGNvbnRleHQudHJpZ2dlcikpIG9uQ2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9LCBbY29udGV4dC50cmlnZ2VyLCBvbkNsb3NlXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBEaXNtaXNzYWJsZUxheWVyLFxuICAgICAge1xuICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuICAgICAgICBvbkVzY2FwZUtleURvd24sXG4gICAgICAgIG9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgICBvbkZvY3VzT3V0c2lkZTogKGV2ZW50KSA9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgICBvbkRpc21pc3M6IG9uQ2xvc2UsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICBQb3BwZXJQcmltaXRpdmUuQ29udGVudCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImRhdGEtc3RhdGVcIjogY29udGV4dC5zdGF0ZUF0dHJpYnV0ZSxcbiAgICAgICAgICAgIC4uLnBvcHBlclNjb3BlLFxuICAgICAgICAgICAgLi4uY29udGVudFByb3BzLFxuICAgICAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAuLi5jb250ZW50UHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgIC8vIHJlLW5hbWVzcGFjZSBleHBvc2VkIGNvbnRlbnQgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgLi4ue1xuICAgICAgICAgICAgICAgIFwiLS1yYWRpeC10b29sdGlwLWNvbnRlbnQtdHJhbnNmb3JtLW9yaWdpblwiOiBcInZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKVwiLFxuICAgICAgICAgICAgICAgIFwiLS1yYWRpeC10b29sdGlwLWNvbnRlbnQtYXZhaWxhYmxlLXdpZHRoXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWF2YWlsYWJsZS13aWR0aClcIixcbiAgICAgICAgICAgICAgICBcIi0tcmFkaXgtdG9vbHRpcC1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHRcIjogXCJ2YXIoLS1yYWRpeC1wb3BwZXItYXZhaWxhYmxlLWhlaWdodClcIixcbiAgICAgICAgICAgICAgICBcIi0tcmFkaXgtdG9vbHRpcC10cmlnZ2VyLXdpZHRoXCI6IFwidmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aClcIixcbiAgICAgICAgICAgICAgICBcIi0tcmFkaXgtdG9vbHRpcC10cmlnZ2VyLWhlaWdodFwiOiBcInZhcigtLXJhZGl4LXBvcHBlci1hbmNob3ItaGVpZ2h0KVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFNsb3R0YWJsZSwgeyBjaGlsZHJlbiB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChWaXN1YWxseUhpZGRlbkNvbnRlbnRDb250ZXh0UHJvdmlkZXIsIHsgc2NvcGU6IF9fc2NvcGVUb29sdGlwLCBpc0luc2lkZTogdHJ1ZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVmlzdWFsbHlIaWRkZW5QcmltaXRpdmUuUm9vdCwgeyBpZDogY29udGV4dC5jb250ZW50SWQsIHJvbGU6IFwidG9vbHRpcFwiLCBjaGlsZHJlbjogYXJpYUxhYmVsIHx8IGNoaWxkcmVuIH0pIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcblRvb2x0aXBDb250ZW50LmRpc3BsYXlOYW1lID0gQ09OVEVOVF9OQU1FO1xudmFyIEFSUk9XX05BTUUgPSBcIlRvb2x0aXBBcnJvd1wiO1xudmFyIFRvb2x0aXBBcnJvdyA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChwcm9wcywgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyBfX3Njb3BlVG9vbHRpcCwgLi4uYXJyb3dQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSB1c2VQb3BwZXJTY29wZShfX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgdmlzdWFsbHlIaWRkZW5Db250ZW50Q29udGV4dCA9IHVzZVZpc3VhbGx5SGlkZGVuQ29udGVudENvbnRleHQoXG4gICAgICBBUlJPV19OQU1FLFxuICAgICAgX19zY29wZVRvb2x0aXBcbiAgICApO1xuICAgIHJldHVybiB2aXN1YWxseUhpZGRlbkNvbnRlbnRDb250ZXh0LmlzSW5zaWRlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBqc3goUG9wcGVyUHJpbWl0aXZlLkFycm93LCB7IC4uLnBvcHBlclNjb3BlLCAuLi5hcnJvd1Byb3BzLCByZWY6IGZvcndhcmRlZFJlZiB9KTtcbiAgfVxuKTtcblRvb2x0aXBBcnJvdy5kaXNwbGF5TmFtZSA9IEFSUk9XX05BTUU7XG5mdW5jdGlvbiBnZXRFeGl0U2lkZUZyb21SZWN0KHBvaW50LCByZWN0KSB7XG4gIGNvbnN0IHRvcCA9IE1hdGguYWJzKHJlY3QudG9wIC0gcG9pbnQueSk7XG4gIGNvbnN0IGJvdHRvbSA9IE1hdGguYWJzKHJlY3QuYm90dG9tIC0gcG9pbnQueSk7XG4gIGNvbnN0IHJpZ2h0ID0gTWF0aC5hYnMocmVjdC5yaWdodCAtIHBvaW50LngpO1xuICBjb25zdCBsZWZ0ID0gTWF0aC5hYnMocmVjdC5sZWZ0IC0gcG9pbnQueCk7XG4gIHN3aXRjaCAoTWF0aC5taW4odG9wLCBib3R0b20sIHJpZ2h0LCBsZWZ0KSkge1xuICAgIGNhc2UgbGVmdDpcbiAgICAgIHJldHVybiBcImxlZnRcIjtcbiAgICBjYXNlIHJpZ2h0OlxuICAgICAgcmV0dXJuIFwicmlnaHRcIjtcbiAgICBjYXNlIHRvcDpcbiAgICAgIHJldHVybiBcInRvcFwiO1xuICAgIGNhc2UgYm90dG9tOlxuICAgICAgcmV0dXJuIFwiYm90dG9tXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRQYWRkZWRFeGl0UG9pbnRzKGV4aXRQb2ludCwgZXhpdFNpZGUsIHBhZGRpbmcgPSA1KSB7XG4gIGNvbnN0IHBhZGRlZEV4aXRQb2ludHMgPSBbXTtcbiAgc3dpdGNoIChleGl0U2lkZSkge1xuICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgIHBhZGRlZEV4aXRQb2ludHMucHVzaChcbiAgICAgICAgeyB4OiBleGl0UG9pbnQueCAtIHBhZGRpbmcsIHk6IGV4aXRQb2ludC55ICsgcGFkZGluZyB9LFxuICAgICAgICB7IHg6IGV4aXRQb2ludC54ICsgcGFkZGluZywgeTogZXhpdFBvaW50LnkgKyBwYWRkaW5nIH1cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICBwYWRkZWRFeGl0UG9pbnRzLnB1c2goXG4gICAgICAgIHsgeDogZXhpdFBvaW50LnggLSBwYWRkaW5nLCB5OiBleGl0UG9pbnQueSAtIHBhZGRpbmcgfSxcbiAgICAgICAgeyB4OiBleGl0UG9pbnQueCArIHBhZGRpbmcsIHk6IGV4aXRQb2ludC55IC0gcGFkZGluZyB9XG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIHBhZGRlZEV4aXRQb2ludHMucHVzaChcbiAgICAgICAgeyB4OiBleGl0UG9pbnQueCArIHBhZGRpbmcsIHk6IGV4aXRQb2ludC55IC0gcGFkZGluZyB9LFxuICAgICAgICB7IHg6IGV4aXRQb2ludC54ICsgcGFkZGluZywgeTogZXhpdFBvaW50LnkgKyBwYWRkaW5nIH1cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgIHBhZGRlZEV4aXRQb2ludHMucHVzaChcbiAgICAgICAgeyB4OiBleGl0UG9pbnQueCAtIHBhZGRpbmcsIHk6IGV4aXRQb2ludC55IC0gcGFkZGluZyB9LFxuICAgICAgICB7IHg6IGV4aXRQb2ludC54IC0gcGFkZGluZywgeTogZXhpdFBvaW50LnkgKyBwYWRkaW5nIH1cbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gcGFkZGVkRXhpdFBvaW50cztcbn1cbmZ1bmN0aW9uIGdldFBvaW50c0Zyb21SZWN0KHJlY3QpIHtcbiAgY29uc3QgeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfSA9IHJlY3Q7XG4gIHJldHVybiBbXG4gICAgeyB4OiBsZWZ0LCB5OiB0b3AgfSxcbiAgICB7IHg6IHJpZ2h0LCB5OiB0b3AgfSxcbiAgICB7IHg6IHJpZ2h0LCB5OiBib3R0b20gfSxcbiAgICB7IHg6IGxlZnQsIHk6IGJvdHRvbSB9XG4gIF07XG59XG5mdW5jdGlvbiBpc1BvaW50SW5Qb2x5Z29uKHBvaW50LCBwb2x5Z29uKSB7XG4gIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnQ7XG4gIGxldCBpbnNpZGUgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2x5Z29uLmxlbmd0aCAtIDE7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaiA9IGkrKykge1xuICAgIGNvbnN0IGlpID0gcG9seWdvbltpXTtcbiAgICBjb25zdCBqaiA9IHBvbHlnb25bal07XG4gICAgY29uc3QgeGkgPSBpaS54O1xuICAgIGNvbnN0IHlpID0gaWkueTtcbiAgICBjb25zdCB4aiA9IGpqLng7XG4gICAgY29uc3QgeWogPSBqai55O1xuICAgIGNvbnN0IGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoeSAtIHlpKSAvICh5aiAtIHlpKSArIHhpO1xuICAgIGlmIChpbnRlcnNlY3QpIGluc2lkZSA9ICFpbnNpZGU7XG4gIH1cbiAgcmV0dXJuIGluc2lkZTtcbn1cbmZ1bmN0aW9uIGdldEh1bGwocG9pbnRzKSB7XG4gIGNvbnN0IG5ld1BvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuICBuZXdQb2ludHMuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhLnggPCBiLngpIHJldHVybiAtMTtcbiAgICBlbHNlIGlmIChhLnggPiBiLngpIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGEueSA8IGIueSkgcmV0dXJuIC0xO1xuICAgIGVsc2UgaWYgKGEueSA+IGIueSkgcmV0dXJuIDE7XG4gICAgZWxzZSByZXR1cm4gMDtcbiAgfSk7XG4gIHJldHVybiBnZXRIdWxsUHJlc29ydGVkKG5ld1BvaW50cyk7XG59XG5mdW5jdGlvbiBnZXRIdWxsUHJlc29ydGVkKHBvaW50cykge1xuICBpZiAocG9pbnRzLmxlbmd0aCA8PSAxKSByZXR1cm4gcG9pbnRzLnNsaWNlKCk7XG4gIGNvbnN0IHVwcGVySHVsbCA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHAgPSBwb2ludHNbaV07XG4gICAgd2hpbGUgKHVwcGVySHVsbC5sZW5ndGggPj0gMikge1xuICAgICAgY29uc3QgcSA9IHVwcGVySHVsbFt1cHBlckh1bGwubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCByID0gdXBwZXJIdWxsW3VwcGVySHVsbC5sZW5ndGggLSAyXTtcbiAgICAgIGlmICgocS54IC0gci54KSAqIChwLnkgLSByLnkpID49IChxLnkgLSByLnkpICogKHAueCAtIHIueCkpIHVwcGVySHVsbC5wb3AoKTtcbiAgICAgIGVsc2UgYnJlYWs7XG4gICAgfVxuICAgIHVwcGVySHVsbC5wdXNoKHApO1xuICB9XG4gIHVwcGVySHVsbC5wb3AoKTtcbiAgY29uc3QgbG93ZXJIdWxsID0gW107XG4gIGZvciAobGV0IGkgPSBwb2ludHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBwID0gcG9pbnRzW2ldO1xuICAgIHdoaWxlIChsb3dlckh1bGwubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IHEgPSBsb3dlckh1bGxbbG93ZXJIdWxsLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgciA9IGxvd2VySHVsbFtsb3dlckh1bGwubGVuZ3RoIC0gMl07XG4gICAgICBpZiAoKHEueCAtIHIueCkgKiAocC55IC0gci55KSA+PSAocS55IC0gci55KSAqIChwLnggLSByLngpKSBsb3dlckh1bGwucG9wKCk7XG4gICAgICBlbHNlIGJyZWFrO1xuICAgIH1cbiAgICBsb3dlckh1bGwucHVzaChwKTtcbiAgfVxuICBsb3dlckh1bGwucG9wKCk7XG4gIGlmICh1cHBlckh1bGwubGVuZ3RoID09PSAxICYmIGxvd2VySHVsbC5sZW5ndGggPT09IDEgJiYgdXBwZXJIdWxsWzBdLnggPT09IGxvd2VySHVsbFswXS54ICYmIHVwcGVySHVsbFswXS55ID09PSBsb3dlckh1bGxbMF0ueSkge1xuICAgIHJldHVybiB1cHBlckh1bGw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHVwcGVySHVsbC5jb25jYXQobG93ZXJIdWxsKTtcbiAgfVxufVxudmFyIFByb3ZpZGVyID0gVG9vbHRpcFByb3ZpZGVyO1xudmFyIFJvb3QzID0gVG9vbHRpcDtcbnZhciBUcmlnZ2VyID0gVG9vbHRpcFRyaWdnZXI7XG52YXIgUG9ydGFsID0gVG9vbHRpcFBvcnRhbDtcbnZhciBDb250ZW50MiA9IFRvb2x0aXBDb250ZW50O1xudmFyIEFycm93MiA9IFRvb2x0aXBBcnJvdztcbmV4cG9ydCB7XG4gIEFycm93MiBhcyBBcnJvdyxcbiAgQ29udGVudDIgYXMgQ29udGVudCxcbiAgUG9ydGFsLFxuICBQcm92aWRlcixcbiAgUm9vdDMgYXMgUm9vdCxcbiAgVG9vbHRpcCxcbiAgVG9vbHRpcEFycm93LFxuICBUb29sdGlwQ29udGVudCxcbiAgVG9vbHRpcFBvcnRhbCxcbiAgVG9vbHRpcFByb3ZpZGVyLFxuICBUb29sdGlwVHJpZ2dlcixcbiAgVHJpZ2dlcixcbiAgY3JlYXRlVG9vbHRpcFNjb3BlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0ICogYXMgVG9vbHRpcFByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXRvb2x0aXBcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0UGlwZWNhdFVJQ29udGFpbmVyIH0gZnJvbSBcIkAvbGliL2RvbVwiO1xuXG5mdW5jdGlvbiBUb29sdGlwUHJvdmlkZXIoe1xuICBkZWxheUR1cmF0aW9uID0gMCxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBUb29sdGlwUHJpbWl0aXZlLlByb3ZpZGVyPikge1xuICByZXR1cm4gKFxuICAgIDxUb29sdGlwUHJpbWl0aXZlLlByb3ZpZGVyXG4gICAgICBkYXRhLXNsb3Q9XCJ0b29sdGlwLXByb3ZpZGVyXCJcbiAgICAgIGRlbGF5RHVyYXRpb249e2RlbGF5RHVyYXRpb259XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gVG9vbHRpcCh7XG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgVG9vbHRpcFByaW1pdGl2ZS5Sb290Pikge1xuICByZXR1cm4gKFxuICAgIDxUb29sdGlwUHJvdmlkZXI+XG4gICAgICA8VG9vbHRpcFByaW1pdGl2ZS5Sb290IGRhdGEtc2xvdD1cInRvb2x0aXBcIiB7Li4ucHJvcHN9IC8+XG4gICAgPC9Ub29sdGlwUHJvdmlkZXI+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFRvb2x0aXBUcmlnZ2VyKHtcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBUb29sdGlwUHJpbWl0aXZlLlRyaWdnZXI+KSB7XG4gIHJldHVybiA8VG9vbHRpcFByaW1pdGl2ZS5UcmlnZ2VyIGRhdGEtc2xvdD1cInRvb2x0aXAtdHJpZ2dlclwiIHsuLi5wcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIFRvb2x0aXBDb250ZW50KHtcbiAgY2xhc3NOYW1lLFxuICBzaWRlT2Zmc2V0ID0gMCxcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59OiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgVG9vbHRpcFByaW1pdGl2ZS5Db250ZW50Pikge1xuICByZXR1cm4gKFxuICAgIDxUb29sdGlwUHJpbWl0aXZlLlBvcnRhbCBjb250YWluZXI9e2dldFBpcGVjYXRVSUNvbnRhaW5lcigpfT5cbiAgICAgIDxUb29sdGlwUHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgICAgZGF0YS1zbG90PVwidG9vbHRpcC1jb250ZW50XCJcbiAgICAgICAgc2lkZU9mZnNldD17c2lkZU9mZnNldH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInZrdWk6YmctcHJpbWFyeSB2a3VpOnRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHZrdWk6YW5pbWF0ZS1pbiB2a3VpOmZhZGUtaW4tMCB2a3VpOnpvb20taW4tOTUgdmt1aTpkYXRhLVtzdGF0ZT1jbG9zZWRdOmFuaW1hdGUtb3V0IHZrdWk6ZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIHZrdWk6ZGF0YS1bc3RhdGU9Y2xvc2VkXTp6b29tLW91dC05NSB2a3VpOmRhdGEtW3NpZGU9Ym90dG9tXTpzbGlkZS1pbi1mcm9tLXRvcC0yIHZrdWk6ZGF0YS1bc2lkZT1sZWZ0XTpzbGlkZS1pbi1mcm9tLXJpZ2h0LTIgdmt1aTpkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiB2a3VpOmRhdGEtW3NpZGU9dG9wXTpzbGlkZS1pbi1mcm9tLWJvdHRvbS0yIHZrdWk6ei01MCB2a3VpOnctZml0IHZrdWk6b3JpZ2luLSgtLXJhZGl4LXRvb2x0aXAtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luKSB2a3VpOnJvdW5kZWQtbWQgdmt1aTpweC0zIHZrdWk6cHktMS41IHZrdWk6dGV4dC14cyB2a3VpOnRleHQtYmFsYW5jZVwiLFxuICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgKX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDxUb29sdGlwUHJpbWl0aXZlLkFycm93IGNsYXNzTmFtZT1cInZrdWk6YmctcHJpbWFyeSB2a3VpOmZpbGwtcHJpbWFyeSB2a3VpOnotNTAgdmt1aTpzaXplLTIuNSB2a3VpOnRyYW5zbGF0ZS15LVtjYWxjKC01MCVfLV8ycHgpXSB2a3VpOnJvdGF0ZS00NSB2a3VpOnJvdW5kZWQtWzJweF1cIiAvPlxuICAgICAgPC9Ub29sdGlwUHJpbWl0aXZlLkNvbnRlbnQ+XG4gICAgPC9Ub29sdGlwUHJpbWl0aXZlLlBvcnRhbD5cbiAgKTtcbn1cblxuZXhwb3J0IHsgVG9vbHRpcCwgVG9vbHRpcENvbnRlbnQsIFRvb2x0aXBQcm92aWRlciwgVG9vbHRpcFRyaWdnZXIgfTtcbiIsImltcG9ydCB7IFVzZXJBdWRpb0NvbnRyb2wgfSBmcm9tIFwiQC9jb21wb25lbnRzL2VsZW1lbnRzL1VzZXJBdWRpb0NvbnRyb2xcIjtcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aVwiO1xuaW1wb3J0IHsgQ29ubmVjdEJ1dHRvbiB9IGZyb20gXCJAL2luZGV4XCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBvbkNvbm5lY3Q/OiAoKSA9PiB2b2lkO1xuICBvbkRpc2Nvbm5lY3Q/OiAoKSA9PiB2b2lkO1xuICBzaXplPzogXCJ4bFwiIHwgXCJsZ1wiIHwgXCJkZWZhdWx0XCIgfCBcInNtXCI7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IENvbnRyb2xCYXIgPSAoe1xuICBvbkNvbm5lY3QsXG4gIG9uRGlzY29ubmVjdCxcbiAgc2l6ZSA9IFwieGxcIixcbiAgY2xhc3NOYW1lLFxufTogUHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Q2FyZCBjbGFzc05hbWU9e2NuKFwidmt1aTpzaGFkb3ctbG9uZyB2a3VpOmJnLWJhY2tncm91bmRcIiwgY2xhc3NOYW1lKX0+XG4gICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwidmt1aTpmbGV4IHZrdWk6ZmxleC1yb3cgdmt1aTpnYXAtNCB2a3VpOnAtNFwiPlxuICAgICAgICA8VXNlckF1ZGlvQ29udHJvbCBzaXplPXtzaXplfSB2YXJpYW50PVwib3V0bGluZVwiIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTp3LXB4IHZrdWk6YmctYm9yZGVyIHZrdWk6c2VsZi1zdHJldGNoIHZrdWk6bXgtMlwiIC8+XG4gICAgICAgIDxDb25uZWN0QnV0dG9uXG4gICAgICAgICAgb25Db25uZWN0PXsoKSA9PiB7XG4gICAgICAgICAgICBvbkNvbm5lY3Q/LigpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25EaXNjb25uZWN0PXsoKSA9PiB7XG4gICAgICAgICAgICBvbkRpc2Nvbm5lY3Q/LigpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgZGVmYXVsdFZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICBzaXplPXtzaXplfVxuICAgICAgICAvPlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgUlRWSUV2ZW50IH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1wiO1xuaW1wb3J0IHsgdXNlUlRWSUNsaWVudEV2ZW50IH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1yZWFjdFwiO1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgQ29udmVyc2F0aW9uTWVzc2FnZSB7XG4gIHJvbGU6IFwidXNlclwiIHwgXCJhc3Npc3RhbnRcIjtcbiAgY29udGVudDogc3RyaW5nO1xuICBmaW5hbD86IGJvb2xlYW47XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG9uTWVzc2FnZUFkZGVkPzogKG1lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UpID0+IHZvaWQ7XG59XG5cbmNvbnN0IHNvcnRCeUNyZWF0ZWRBdCA9IChcbiAgYTogQ29udmVyc2F0aW9uTWVzc2FnZSxcbiAgYjogQ29udmVyc2F0aW9uTWVzc2FnZSxcbik6IG51bWJlciA9PiB7XG4gIHJldHVybiBuZXcgRGF0ZShhLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi5jcmVhdGVkQXQpLmdldFRpbWUoKTtcbn07XG5cbmNvbnN0IGZpbHRlckVtcHR5TWVzc2FnZXMgPSAoXG4gIG1lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UsXG4gIGluZGV4OiBudW1iZXIsXG4gIGFycmF5OiBDb252ZXJzYXRpb25NZXNzYWdlW10sXG4pOiBib29sZWFuID0+IHtcbiAgaWYgKG1lc3NhZ2UuY29udGVudCkgcmV0dXJuIHRydWU7XG5cbiAgLy8gRm9yIGVtcHR5IG1lc3NhZ2VzLCBjaGVjayBpZiB0aGVyZSdzIGEgbm9uLWVtcHR5IG1lc3NhZ2Ugd2l0aCB0aGUgc2FtZSByb2xlIGZvbGxvd2luZyBpdFxuICBjb25zdCBuZXh0TWVzc2FnZVdpdGhTYW1lUm9sZSA9IGFycmF5XG4gICAgLnNsaWNlKGluZGV4ICsgMSlcbiAgICAuZmluZCgobSkgPT4gbS5yb2xlID09PSBtZXNzYWdlLnJvbGUgJiYgbS5jb250ZW50KTtcblxuICByZXR1cm4gIW5leHRNZXNzYWdlV2l0aFNhbWVSb2xlO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUNvbnZlcnNhdGlvbiA9ICh7IG9uTWVzc2FnZUFkZGVkIH06IFByb3BzID0ge30pID0+IHtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxDb252ZXJzYXRpb25NZXNzYWdlW10+KFtdKTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LkNvbm5lY3RlZCwgKCkgPT4ge1xuICAgIHNldE1lc3NhZ2VzKFtdKTtcbiAgfSk7XG5cbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5Cb3RMbG1TdGFydGVkLCAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgY29uc3QgbGFzdEJvdE1lc3NhZ2VJbmRleCA9IHByZXYuZmluZExhc3RJbmRleChcbiAgICAgICAgKG1zZykgPT4gbXNnLnJvbGUgPT09IFwiYXNzaXN0YW50XCIsXG4gICAgICApO1xuICAgICAgY29uc3QgbGFzdEJvdE1lc3NhZ2UgPSBwcmV2W2xhc3RCb3RNZXNzYWdlSW5kZXhdO1xuICAgICAgaWYgKFxuICAgICAgICBsYXN0Qm90TWVzc2FnZSAmJlxuICAgICAgICBsYXN0Qm90TWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiICYmXG4gICAgICAgICFsYXN0Qm90TWVzc2FnZS5jb250ZW50XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHByZXYuc29ydChzb3J0QnlDcmVhdGVkQXQpLmZpbHRlcihmaWx0ZXJFbXB0eU1lc3NhZ2VzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld01lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UgPSB7XG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgICAgIGZpbmFsOiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZEF0OiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG4gICAgICBvbk1lc3NhZ2VBZGRlZD8uKG5ld01lc3NhZ2UpO1xuICAgICAgcmV0dXJuIFsuLi5wcmV2LCBuZXdNZXNzYWdlXVxuICAgICAgICAuc29ydChzb3J0QnlDcmVhdGVkQXQpXG4gICAgICAgIC5maWx0ZXIoZmlsdGVyRW1wdHlNZXNzYWdlcyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuQm90TGxtVGV4dCwgKGRhdGEpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBsYXN0Qm90TWVzc2FnZUluZGV4ID0gcHJldi5maW5kTGFzdEluZGV4KFxuICAgICAgICAobXNnKSA9PiBtc2cucm9sZSA9PT0gXCJhc3Npc3RhbnRcIixcbiAgICAgICk7XG4gICAgICBjb25zdCBsYXN0Qm90TWVzc2FnZSA9IHByZXZbbGFzdEJvdE1lc3NhZ2VJbmRleF07XG5cbiAgICAgIGlmICghbGFzdEJvdE1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZTogQ29udmVyc2F0aW9uTWVzc2FnZSA9IHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGRhdGEudGV4dCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgICAgIG9uTWVzc2FnZUFkZGVkPy4obmV3TWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBbLi4ucHJldiwgbmV3TWVzc2FnZV1cbiAgICAgICAgICAuc29ydChzb3J0QnlDcmVhdGVkQXQpXG4gICAgICAgICAgLmZpbHRlcihmaWx0ZXJFbXB0eU1lc3NhZ2VzKTtcbiAgICAgIH1cblxuICAgICAgLy8gQnVtcCBwb3RlbnRpYWwgZW1wdHkgbGFzdCBtZXNzYWdlXG4gICAgICBpZiAoIWxhc3RCb3RNZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBwcmV2LnNsaWNlKCk7XG4gICAgICAgIG5ld01lc3NhZ2VzLnNwbGljZShsYXN0Qm90TWVzc2FnZUluZGV4LCAxLCB7XG4gICAgICAgICAgLi4ubGFzdEJvdE1lc3NhZ2UsXG4gICAgICAgICAgY29udGVudDogZGF0YS50ZXh0LFxuICAgICAgICAgIGNyZWF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdNZXNzYWdlcy5zb3J0KHNvcnRCeUNyZWF0ZWRBdCkuZmlsdGVyKGZpbHRlckVtcHR5TWVzc2FnZXMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpc1JlY2VudCA9XG4gICAgICAgIGxhc3RCb3RNZXNzYWdlICYmXG4gICAgICAgIGxhc3RCb3RNZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIgJiZcbiAgICAgICAgbm93LmdldFRpbWUoKSAtIG5ldyBEYXRlKGxhc3RCb3RNZXNzYWdlLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIDwgMTAwMDA7IC8vIDEwIHNlY29uZHMgdGhyZXNob2xkXG5cbiAgICAgIGlmIChpc1JlY2VudCkge1xuICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IHByZXYuc2xpY2UoKTtcbiAgICAgICAgbmV3TWVzc2FnZXMuc3BsaWNlKGxhc3RCb3RNZXNzYWdlSW5kZXgsIDEsIHtcbiAgICAgICAgICAuLi5sYXN0Qm90TWVzc2FnZSxcbiAgICAgICAgICBjb250ZW50OiBsYXN0Qm90TWVzc2FnZS5jb250ZW50ICsgZGF0YS50ZXh0LFxuICAgICAgICAgIGNyZWF0ZWRBdDogbGFzdEJvdE1lc3NhZ2UuY29udGVudFxuICAgICAgICAgICAgPyBsYXN0Qm90TWVzc2FnZS5jcmVhdGVkQXRcbiAgICAgICAgICAgIDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdNZXNzYWdlcy5zb3J0KHNvcnRCeUNyZWF0ZWRBdCkuZmlsdGVyKGZpbHRlckVtcHR5TWVzc2FnZXMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdNZXNzYWdlOiBDb252ZXJzYXRpb25NZXNzYWdlID0ge1xuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBkYXRhLnRleHQsXG4gICAgICAgIGNyZWF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBvbk1lc3NhZ2VBZGRlZD8uKG5ld01lc3NhZ2UpO1xuICAgICAgcmV0dXJuIFsuLi5wcmV2LCBuZXdNZXNzYWdlXVxuICAgICAgICAuc29ydChzb3J0QnlDcmVhdGVkQXQpXG4gICAgICAgIC5maWx0ZXIoZmlsdGVyRW1wdHlNZXNzYWdlcyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuQm90TGxtU3RvcHBlZCwgKCkgPT4ge1xuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBsYXN0Qm90TWVzc2FnZUluZGV4ID0gcHJldi5maW5kTGFzdEluZGV4KFxuICAgICAgICAobXNnKSA9PiBtc2cucm9sZSA9PT0gXCJhc3Npc3RhbnRcIixcbiAgICAgICk7XG4gICAgICBjb25zdCBsYXN0Qm90TWVzc2FnZSA9IHByZXZbbGFzdEJvdE1lc3NhZ2VJbmRleF07XG4gICAgICBpZiAoIWxhc3RCb3RNZXNzYWdlKSByZXR1cm4gcHJldjtcbiAgICAgIGlmIChcbiAgICAgICAgbGFzdEJvdE1lc3NhZ2UgJiZcbiAgICAgICAgbGFzdEJvdE1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiAmJlxuICAgICAgICAhbGFzdEJvdE1lc3NhZ2UuY29udGVudFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBwcmV2XG4gICAgICAgICAgLnNsaWNlKDAsIC0xKVxuICAgICAgICAgIC5zb3J0KHNvcnRCeUNyZWF0ZWRBdClcbiAgICAgICAgICAuZmlsdGVyKGZpbHRlckVtcHR5TWVzc2FnZXMpO1xuICAgICAgfVxuICAgICAgbGFzdEJvdE1lc3NhZ2UuZmluYWwgPSB0cnVlO1xuICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBwcmV2LnNsaWNlKCk7XG4gICAgICBuZXdNZXNzYWdlcy5zcGxpY2UobGFzdEJvdE1lc3NhZ2VJbmRleCwgMSwge1xuICAgICAgICAuLi5sYXN0Qm90TWVzc2FnZSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KTtcbiAgICAgIG9uTWVzc2FnZUFkZGVkPy4obGFzdEJvdE1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzLnNvcnQoc29ydEJ5Q3JlYXRlZEF0KS5maWx0ZXIoZmlsdGVyRW1wdHlNZXNzYWdlcyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHVzZXJTdG9wcGVkVGltZW91dCA9IHVzZVJlZjxSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0Pj4odW5kZWZpbmVkKTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LlVzZXJTdGFydGVkU3BlYWtpbmcsICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodXNlclN0b3BwZWRUaW1lb3V0LmN1cnJlbnQpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGxhc3RVc2VyTWVzc2FnZUluZGV4ID0gcHJldi5maW5kTGFzdEluZGV4KFxuICAgICAgICAobXNnKSA9PiBtc2cucm9sZSA9PT0gXCJ1c2VyXCIsXG4gICAgICApO1xuICAgICAgY29uc3QgbGFzdFVzZXJNZXNzYWdlID0gcHJldltsYXN0VXNlck1lc3NhZ2VJbmRleF07XG4gICAgICBpZiAoXG4gICAgICAgIGxhc3RVc2VyTWVzc2FnZSAmJlxuICAgICAgICBsYXN0VXNlck1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgJiZcbiAgICAgICAgIWxhc3RVc2VyTWVzc2FnZS5jb250ZW50XG4gICAgICApIHtcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBwcmV2LnNsaWNlKCk7XG4gICAgICAgIG5ld01lc3NhZ2VzLnNwbGljZShsYXN0VXNlck1lc3NhZ2VJbmRleCwgMSwge1xuICAgICAgICAgIC4uLmxhc3RVc2VyTWVzc2FnZSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXMuc29ydChzb3J0QnlDcmVhdGVkQXQpLmZpbHRlcihmaWx0ZXJFbXB0eU1lc3NhZ2VzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld01lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UgPSB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICBmaW5hbDogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuICAgICAgb25NZXNzYWdlQWRkZWQ/LihuZXdNZXNzYWdlKTtcbiAgICAgIHJldHVybiBbLi4ucHJldiwgbmV3TWVzc2FnZV1cbiAgICAgICAgLnNvcnQoc29ydEJ5Q3JlYXRlZEF0KVxuICAgICAgICAuZmlsdGVyKGZpbHRlckVtcHR5TWVzc2FnZXMpO1xuICAgIH0pO1xuICB9KTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LlVzZXJUcmFuc2NyaXB0LCAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGxhc3RVc2VyTWVzc2FnZUluZGV4ID0gcHJldi5maW5kTGFzdEluZGV4KFxuICAgICAgICAobXNnKSA9PiBtc2cucm9sZSA9PT0gXCJ1c2VyXCIsXG4gICAgICApO1xuICAgICAgY29uc3QgbGFzdFVzZXJNZXNzYWdlID0gcHJldltsYXN0VXNlck1lc3NhZ2VJbmRleF07XG4gICAgICBpZiAobGFzdFVzZXJNZXNzYWdlICYmICFsYXN0VXNlck1lc3NhZ2UuZmluYWwpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UgPSB7XG4gICAgICAgICAgLi4ubGFzdFVzZXJNZXNzYWdlLFxuICAgICAgICAgIGZpbmFsOiBkYXRhLmZpbmFsLFxuICAgICAgICAgIGNvbnRlbnQ6IGRhdGEudGV4dCxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICB9O1xuICAgICAgICBvbk1lc3NhZ2VBZGRlZD8uKHVwZGF0ZWRNZXNzYWdlKTtcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBwcmV2LnNsaWNlKCk7XG4gICAgICAgIG5ld01lc3NhZ2VzLnNwbGljZShsYXN0VXNlck1lc3NhZ2VJbmRleCwgMSwgdXBkYXRlZE1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXMuc29ydChzb3J0QnlDcmVhdGVkQXQpLmZpbHRlcihmaWx0ZXJFbXB0eU1lc3NhZ2VzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld01lc3NhZ2U6IENvbnZlcnNhdGlvbk1lc3NhZ2UgPSB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBjb250ZW50OiBkYXRhLnRleHQsXG4gICAgICAgIGZpbmFsOiBkYXRhLmZpbmFsLFxuICAgICAgICBjcmVhdGVkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgfTtcbiAgICAgIG9uTWVzc2FnZUFkZGVkPy4obmV3TWVzc2FnZSk7XG4gICAgICByZXR1cm4gWy4uLnByZXYsIG5ld01lc3NhZ2VdXG4gICAgICAgIC5zb3J0KHNvcnRCeUNyZWF0ZWRBdClcbiAgICAgICAgLmZpbHRlcihmaWx0ZXJFbXB0eU1lc3NhZ2VzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5Vc2VyU3RvcHBlZFNwZWFraW5nLCAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHVzZXJTdG9wcGVkVGltZW91dC5jdXJyZW50KTtcbiAgICB1c2VyU3RvcHBlZFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgbGFzdFVzZXJNZXNzYWdlSW5kZXggPSBwcmV2LmZpbmRMYXN0SW5kZXgoXG4gICAgICAgICAgKG1zZykgPT4gbXNnLnJvbGUgPT09IFwidXNlclwiLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBsYXN0VXNlck1lc3NhZ2UgPSBwcmV2W2xhc3RVc2VyTWVzc2FnZUluZGV4XTtcblxuICAgICAgICBpZiAoIWxhc3RVc2VyTWVzc2FnZSB8fCBsYXN0VXNlck1lc3NhZ2UuY29udGVudClcbiAgICAgICAgICByZXR1cm4gcHJldi5zb3J0KHNvcnRCeUNyZWF0ZWRBdCkuZmlsdGVyKGZpbHRlckVtcHR5TWVzc2FnZXMpO1xuXG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gcHJldi5zbGljZSgpO1xuICAgICAgICBuZXdNZXNzYWdlcy5zcGxpY2UobGFzdFVzZXJNZXNzYWdlSW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gbmV3TWVzc2FnZXMuc29ydChzb3J0QnlDcmVhdGVkQXQpLmZpbHRlcihmaWx0ZXJFbXB0eU1lc3NhZ2VzKTtcbiAgICAgIH0pO1xuICAgIH0sIDUwMDApO1xuICB9KTtcblxuICAvLyBNZXJnZSBtZXNzYWdlcyBvZiB0aGUgc2FtZSByb2xlIHRoYXQgYXJlIGNsb3NlIGluIHRpbWUgKHdpdGhpbiAzMCBzZWNvbmRzKVxuICBjb25zdCBnZXRNZXJnZWRNZXNzYWdlcyA9ICgpID0+IHtcbiAgICBjb25zdCBtZXJnZWRNZXNzYWdlczogQ29udmVyc2F0aW9uTWVzc2FnZVtdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjdXJyZW50TWVzc2FnZSA9IG1lc3NhZ2VzW2ldO1xuICAgICAgY29uc3QgbGFzdE1lcmdlZCA9IG1lcmdlZE1lc3NhZ2VzW21lcmdlZE1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuXG4gICAgICBjb25zdCB0aW1lRGlmZiA9IGxhc3RNZXJnZWRcbiAgICAgICAgPyBNYXRoLmFicyhcbiAgICAgICAgICAgIG5ldyBEYXRlKGN1cnJlbnRNZXNzYWdlLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC1cbiAgICAgICAgICAgICAgbmV3IERhdGUobGFzdE1lcmdlZC5jcmVhdGVkQXQpLmdldFRpbWUoKSxcbiAgICAgICAgICApXG4gICAgICAgIDogSW5maW5pdHk7XG5cbiAgICAgIGNvbnN0IHNob3VsZE1lcmdlID1cbiAgICAgICAgbGFzdE1lcmdlZCAmJlxuICAgICAgICBsYXN0TWVyZ2VkLnJvbGUgPT09IGN1cnJlbnRNZXNzYWdlLnJvbGUgJiZcbiAgICAgICAgdGltZURpZmYgPCAzMDAwMDsgLy8gMzAgc2Vjb25kcyB0aHJlc2hvbGRcblxuICAgICAgaWYgKHNob3VsZE1lcmdlKSB7XG4gICAgICAgIG1lcmdlZE1lc3NhZ2VzW21lcmdlZE1lc3NhZ2VzLmxlbmd0aCAtIDFdID0ge1xuICAgICAgICAgIC4uLmxhc3RNZXJnZWQsXG4gICAgICAgICAgY29udGVudDogYCR7bGFzdE1lcmdlZC5jb250ZW50fSAke2N1cnJlbnRNZXNzYWdlLmNvbnRlbnR9YCxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGN1cnJlbnRNZXNzYWdlLnVwZGF0ZWRBdCB8fCBjdXJyZW50TWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgICAgZmluYWw6IGN1cnJlbnRNZXNzYWdlLmZpbmFsICE9PSBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lcmdlZE1lc3NhZ2VzLnB1c2goeyAuLi5jdXJyZW50TWVzc2FnZSB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VkTWVzc2FnZXM7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlczogZ2V0TWVyZ2VkTWVzc2FnZXMoKSxcbiAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VDb252ZXJzYXRpb247XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgVGhpbmtpbmdQcm9wcyB7XG4gIFwiYXJpYS1sYWJlbFwiPzogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGluaXRpYWxEb3RzPzogbnVtYmVyO1xuICBpbnRlcnZhbD86IG51bWJlcjtcbiAgbWF4RG90cz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFRoaW5raW5nOiBSZWFjdC5GQzxUaGlua2luZ1Byb3BzPiA9ICh7XG4gIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwgPSBcIkxvYWRpbmdcIixcbiAgY2xhc3NOYW1lID0gXCJcIixcbiAgaW5pdGlhbERvdHMgPSAxLFxuICBpbnRlcnZhbCA9IDUwMCxcbiAgbWF4RG90cyA9IDMsXG59KSA9PiB7XG4gIGNvbnN0IFtkb3RzLCBzZXREb3RzXSA9IHVzZVN0YXRlKGluaXRpYWxEb3RzKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZXREb3RzKChwcmV2RG90cykgPT4gKHByZXZEb3RzICUgbWF4RG90cykgKyAxKTtcbiAgICB9LCBpbnRlcnZhbCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpKTtcbiAgfSwgW2ludGVydmFsLCBtYXhEb3RzXSk7XG5cbiAgY29uc3QgcmVuZGVyRG90cyA9ICgpID0+IHtcbiAgICByZXR1cm4gXCIuXCIucmVwZWF0KGRvdHMpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9IGFyaWEtbGFiZWw9e2FyaWFMYWJlbH0+XG4gICAgICB7cmVuZGVyRG90cygpfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRoaW5raW5nO1xuIiwiaW1wb3J0IHsgdXNlUGlwZWNhdENsaWVudFRyYW5zcG9ydFN0YXRlIH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1yZWFjdFwiO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHVzZUNvbnZlcnNhdGlvbiBmcm9tIFwiQC9ob29rcy91c2VDb252ZXJzYXRpb25cIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgVGhpbmtpbmcgZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9UaGlua2luZ1wiO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBjbGFzc05hbWVzPzoge1xuICAgIGNvbnRhaW5lcj86IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIG1lc3NhZ2VDb250ZW50Pzogc3RyaW5nO1xuICAgIHJvbGU/OiBzdHJpbmc7XG4gICAgdGltZT86IHN0cmluZztcbiAgICB0aGlua2luZz86IHN0cmluZztcbiAgfTtcbiAgbm9BdXRvc2Nyb2xsPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IENvbnZlcnNhdGlvbjogUmVhY3QuRkM8UHJvcHM+ID0gKHtcbiAgY2xhc3NOYW1lcyA9IHt9LFxuICBub0F1dG9zY3JvbGwgPSBmYWxzZSxcbn0pID0+IHtcbiAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgaXNTY3JvbGxlZFRvQm90dG9tID0gdXNlUmVmKHRydWUpO1xuXG4gIGNvbnN0IHRyYW5zcG9ydFN0YXRlID0gdXNlUGlwZWNhdENsaWVudFRyYW5zcG9ydFN0YXRlKCk7XG5cbiAgY29uc3QgbWF5YmVTY3JvbGxUb0JvdHRvbSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXNjcm9sbFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgaWYgKGlzU2Nyb2xsZWRUb0JvdHRvbS5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxUbyh7XG4gICAgICAgIHRvcDogc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIENoZWNrIHNjcm9sbCBwb3NpdGlvbiBiZWZvcmUgbWVzc2FnZXMgdXBkYXRlXG4gIGNvbnN0IHVwZGF0ZVNjcm9sbFN0YXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghc2Nyb2xsUmVmLmN1cnJlbnQgfHwgbm9BdXRvc2Nyb2xsKSByZXR1cm47XG4gICAgaXNTY3JvbGxlZFRvQm90dG9tLmN1cnJlbnQgPVxuICAgICAgTWF0aC5jZWlsKHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodCAtIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcCkgPD1cbiAgICAgIE1hdGguY2VpbChzY3JvbGxSZWYuY3VycmVudC5jbGllbnRIZWlnaHQpO1xuICB9LCBbbm9BdXRvc2Nyb2xsXSk7XG5cbiAgY29uc3QgeyBtZXNzYWdlcyB9ID0gdXNlQ29udmVyc2F0aW9uKHtcbiAgICBvbk1lc3NhZ2VBZGRlZDogKCkgPT4ge1xuICAgICAgaWYgKG5vQXV0b3Njcm9sbCkgcmV0dXJuO1xuICAgICAgbWF5YmVTY3JvbGxUb0JvdHRvbSgpO1xuICAgIH0sXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG5vQXV0b3Njcm9sbCkgcmV0dXJuO1xuICAgIC8vIFNjcm9sbCB0byBib3R0b20gd2hlbiBtZXNzYWdlcyBjaGFuZ2VcbiAgICBtYXliZVNjcm9sbFRvQm90dG9tKCk7XG4gIH0sIFttZXNzYWdlcywgbWF5YmVTY3JvbGxUb0JvdHRvbSwgbm9BdXRvc2Nyb2xsXSk7XG5cbiAgLy8gVXBkYXRlIHNjcm9sbCBzdGF0ZSB3aGVuIHVzZXIgc2Nyb2xsc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbEVsZW1lbnQgPSBzY3JvbGxSZWYuY3VycmVudDtcbiAgICBpZiAoIXNjcm9sbEVsZW1lbnQpIHJldHVybjtcblxuICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHVwZGF0ZVNjcm9sbFN0YXRlKCk7XG4gICAgc2Nyb2xsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCk7XG5cbiAgICAvLyBJbml0aWFsIGNoZWNrXG4gICAgdXBkYXRlU2Nyb2xsU3RhdGUoKTtcblxuICAgIHJldHVybiAoKSA9PiBzY3JvbGxFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgfSwgW3VwZGF0ZVNjcm9sbFN0YXRlXSk7XG5cbiAgY29uc3QgaXNDb25uZWN0aW5nID1cbiAgICB0cmFuc3BvcnRTdGF0ZSA9PT0gXCJhdXRoZW50aWNhdGluZ1wiIHx8IHRyYW5zcG9ydFN0YXRlID09PSBcImNvbm5lY3RpbmdcIjtcbiAgY29uc3QgaXNDb25uZWN0ZWQgPVxuICAgIHRyYW5zcG9ydFN0YXRlID09PSBcImNvbm5lY3RlZFwiIHx8IHRyYW5zcG9ydFN0YXRlID09PSBcInJlYWR5XCI7XG5cbiAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICByZWY9e3Njcm9sbFJlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInZrdWk6aC1mdWxsIHZrdWk6b3ZlcmZsb3cteS1hdXRvIHZrdWk6cC00XCIsXG4gICAgICAgICAgY2xhc3NOYW1lcy5jb250YWluZXIsXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgXCJ2a3VpOmdyaWQgdmt1aTpncmlkLWNvbHMtW21pbi1jb250ZW50XzFmcl0gdmt1aTpnYXAteC00IHZrdWk6Z2FwLXktMlwiLFxuICAgICAgICAgICAgY2xhc3NOYW1lcy5tZXNzYWdlLFxuICAgICAgICAgICl9XG4gICAgICAgID5cbiAgICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPEZyYWdtZW50IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgIFwidmt1aTpmb250LXNlbWlib2xkIHZrdWk6Zm9udC1tb25vIHZrdWk6dGV4dC14cyB2a3VpOmxlYWRpbmctNlwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInZrdWk6dGV4dC1ibHVlLTUwMFwiOiBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBcInZrdWk6dGV4dC1wdXJwbGUtNTAwXCI6IG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWVzLnJvbGUsXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHttZXNzYWdlLnJvbGV9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgIFwidmt1aTpmbGV4IHZrdWk6ZmxleC1jb2wgdmt1aTpnYXAtMlwiLFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcy5tZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge21lc3NhZ2UuY29udGVudCB8fCAoXG4gICAgICAgICAgICAgICAgICA8VGhpbmtpbmcgY2xhc3NOYW1lPXtjbGFzc05hbWVzLnRoaW5raW5nfSAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgXCJ2a3VpOnNlbGYtZW5kIHZrdWk6dGV4dC14cyB2a3VpOnRleHQtZ3JheS01MDAgdmt1aTptYi0xXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXMudGltZSxcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge25ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZEF0KS50b0xvY2FsZVRpbWVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoaXNDb25uZWN0aW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6aC1mdWxsXCIsXG4gICAgICAgICAgY2xhc3NOYW1lcy5jb250YWluZXIsXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTp0ZXh0LXNtXCI+XG4gICAgICAgICAgQ29ubmVjdGluZyB0byBhZ2VudC4uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWlzQ29ubmVjdGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcInZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6aC1mdWxsXCIsXG4gICAgICAgICAgY2xhc3NOYW1lcy5jb250YWluZXIsXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTp0ZXh0LWNlbnRlciB2a3VpOnAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTptYi0yXCI+XG4gICAgICAgICAgICBOb3QgY29ubmVjdGVkIHRvIGFnZW50XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidmt1aTp0ZXh0LXNtIHZrdWk6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHZrdWk6bWF4LXctbWRcIj5cbiAgICAgICAgICAgIENvbm5lY3QgdG8gYW4gYWdlbnQgdG8gc2VlIGNvbnZlcnNhdGlvbiBtZXNzYWdlcyBpbiByZWFsLXRpbWUuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwidmt1aTpmbGV4IHZrdWk6aXRlbXMtY2VudGVyIHZrdWk6anVzdGlmeS1jZW50ZXIgdmt1aTpoLWZ1bGxcIixcbiAgICAgICAgY2xhc3NOYW1lcy5jb250YWluZXIsXG4gICAgICApfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTp0ZXh0LXNtXCI+XG4gICAgICAgIFdhaXRpbmcgZm9yIG1lc3NhZ2VzLi4uXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBDb252ZXJzYXRpb247XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIFRvb2x0aXAsXG4gIFRvb2x0aXBDb250ZW50LFxuICBUb29sdGlwUHJvdmlkZXIsXG4gIFRvb2x0aXBUcmlnZ2VyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Rvb2x0aXBcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBDb3B5Q2hlY2tJY29uLCBDb3B5SWNvbiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5cbmludGVyZmFjZSBDb3B5VGV4dFByb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBpY29uU2l6ZT86IG51bWJlcjtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQ29weVRleHQ6IFJlYWN0LkZDPENvcHlUZXh0UHJvcHM+ID0gKHtcbiAgdGV4dCxcbiAgaWNvblNpemUgPSAxNixcbiAgY2xhc3NOYW1lID0gXCJcIixcbn0pID0+IHtcbiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBjb3B5VG9DbGlwYm9hcmQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xuICAgICAgc2V0Q29waWVkKHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCAyMDAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29weSB0ZXh0OiBcIiwgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOm92ZXJmbG93LWhpZGRlbiB2a3VpOnctZnVsbFwiLFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICApfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZrdWk6dHJ1bmNhdGUgdmt1aTptaW4tdy0wXCI+e3RleHR9PC9zcGFuPlxuICAgICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgPFRvb2x0aXA+XG4gICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIHNpemU9XCJpY29uLXNtXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpmbGV4LW5vbmVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtjb3B5VG9DbGlwYm9hcmR9XG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb3B5IHRvIGNsaXBib2FyZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjb3BpZWQgPyAoXG4gICAgICAgICAgICAgICAgPENvcHlDaGVja0ljb24gc2l6ZT17aWNvblNpemV9IC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPENvcHlJY29uIHNpemU9e2ljb25TaXplfSAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICA8VG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICB7Y29waWVkID8gXCJDb3BpZWQhXCIgOiBcIkNvcHkgdG8gY2xpcGJvYXJkXCJ9XG4gICAgICAgICAgPC9Ub29sdGlwQ29udGVudD5cbiAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgPC9Ub29sdGlwUHJvdmlkZXI+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb3B5VGV4dDtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIFBpcGVjYXRMb2dvUHJvcHMge1xuICBhbHQ/OiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY29sb3I/OiBzdHJpbmc7XG4gIGhlaWdodD86IG51bWJlcjtcbiAgd2lkdGg/OiBudW1iZXI7XG59XG5cbmNvbnN0IGFzcGVjdFJhdGlvID0gNDUgLyAyNjtcblxuZXhwb3J0IGNvbnN0IFBpcGVjYXRMb2dvOiBSZWFjdC5GQzxQaXBlY2F0TG9nb1Byb3BzPiA9ICh7XG4gIGNsYXNzTmFtZSA9IFwiXCIsXG4gIGFsdCA9IFwiUGlwZWNhdCBMb2dvXCIsXG4gIGNvbG9yID0gXCIjMTcxNzE3XCIsXG4gIGhlaWdodCxcbiAgd2lkdGgsXG59KSA9PiB7XG4gIGNvbnN0IHJlc29sdmVkSGVpZ2h0ID0gaGVpZ2h0XG4gICAgPyBoZWlnaHRcbiAgICA6IHdpZHRoXG4gICAgICA/IE1hdGgucm91bmQod2lkdGggLyBhc3BlY3RSYXRpbylcbiAgICAgIDogMTAwO1xuICBjb25zdCByZXNvbHZlZFdpZHRoID0gd2lkdGhcbiAgICA/IHdpZHRoXG4gICAgOiBoZWlnaHRcbiAgICAgID8gTWF0aC5yb3VuZChoZWlnaHQgKiBhc3BlY3RSYXRpbylcbiAgICAgIDogMjAwO1xuXG4gIHJldHVybiAoXG4gICAgPHN2Z1xuICAgICAgd2lkdGg9e3Jlc29sdmVkV2lkdGh9XG4gICAgICBoZWlnaHQ9e3Jlc29sdmVkSGVpZ2h0fVxuICAgICAgdmlld0JveD1cIjAgMCA0NSAyNlwiXG4gICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgYXJpYS1sYWJlbD17YWx0fVxuICAgID5cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9XCJNNi4xOTgyNSAwLjEwNDI4N0M2LjgzMTQ0IC0wLjEzNDExIDcuNTQ2MSAwLjA0NDc3OSA3Ljk5MjMyIDAuNTUzMzcxTDEzLjgwMzcgNy4xNzcxNEgzMS4xNTQ1TDM2Ljk2NTkgMC41NTMzNzFDMzcuNDEyMSAwLjA0NDc3OSAzOC4xMjY4IC0wLjEzNDExIDM4Ljc2IDAuMTA0Mjg3QzM5LjM5MzIgMC4zNDI2ODUgMzkuODEyNCAwLjk0ODQ3NyAzOS44MTI0IDEuNjI1MDdWMTYuMjVINDQuOTU4MlYxOS41SDM2LjU2MjRWNS45NDExNkwzMy4xMTIgOS44NzM4M0MzMi44MDM1IDEwLjIyNTUgMzIuMzU4NCAxMC40MjcxIDMxLjg5MDUgMTAuNDI3MUgxMy4wNjc3QzEyLjU5OTggMTAuNDI3MSAxMi4xNTQ3IDEwLjIyNTUgMTEuODQ2MiA5Ljg3MzgzTDguMzk1ODEgNS45NDExNlYxOS41SDBWMTYuMjVINS4xNDU4MlYxLjYyNTA3QzUuMTQ1ODIgMC45NDg0NzcgNS41NjUwNSAwLjM0MjY4NSA2LjE5ODI1IDAuMTA0Mjg3WlwiXG4gICAgICAgIGZpbGw9e2NvbG9yfVxuICAgICAgLz5cbiAgICAgIDxwYXRoIGQ9XCJNMzYuNTYyNCAyMi43NUg0NC45NTgyVjI2SDM2LjU2MjRWMjIuNzVaXCIgZmlsbD17Y29sb3J9IC8+XG4gICAgICA8cGF0aCBkPVwiTTAgMjIuNzVIOC4zOTU4MVYyNkgwVjIyLjc1WlwiIGZpbGw9e2NvbG9yfSAvPlxuICAgICAgPHBhdGhcbiAgICAgICAgZD1cIk0xNy4zMzMzIDE3LjMzMzRDMTcuMzMzMyAxOC41MyAxNi4zNjMyIDE5LjUgMTUuMTY2NiAxOS41QzEzLjk3IDE5LjUgMTMgMTguNTMgMTMgMTcuMzMzNEMxMyAxNi4xMzY3IDEzLjk3IDE1LjE2NjcgMTUuMTY2NiAxNS4xNjY3QzE2LjM2MzIgMTUuMTY2NyAxNy4zMzMzIDE2LjEzNjcgMTcuMzMzMyAxNy4zMzM0WlwiXG4gICAgICAgIGZpbGw9e2NvbG9yfVxuICAgICAgLz5cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9XCJNMzEuOTU4MiAxNy4zMzM0QzMxLjk1ODIgMTguNTMgMzAuOTg4MiAxOS41IDI5Ljc5MTYgMTkuNUMyOC41OTUgMTkuNSAyNy42MjQ5IDE4LjUzIDI3LjYyNDkgMTcuMzMzNEMyNy42MjQ5IDE2LjEzNjcgMjguNTk1IDE1LjE2NjcgMjkuNzkxNiAxNS4xNjY3QzMwLjk4ODIgMTUuMTY2NyAzMS45NTgyIDE2LjEzNjcgMzEuOTU4MiAxNy4zMzM0WlwiXG4gICAgICAgIGZpbGw9e2NvbG9yfVxuICAgICAgLz5cbiAgICA8L3N2Zz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBpcGVjYXRMb2dvO1xuIiwiaW1wb3J0IENvcHlUZXh0IGZyb20gXCJAL2NvbXBvbmVudHMvZWxlbWVudHMvQ29weVRleHRcIjtcbmltcG9ydCBEYXRhTGlzdCBmcm9tIFwiQC9jb21wb25lbnRzL2VsZW1lbnRzL0RhdGFMaXN0XCI7XG5pbXBvcnQgRGFpbHkgZnJvbSBcIkBkYWlseS1jby9kYWlseS1qc1wiO1xuaW1wb3J0IHsgdXNlUGlwZWNhdENsaWVudCB9IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtcmVhY3RcIjtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbm9UcmFuc3BvcnRUeXBlPzogYm9vbGVhbjtcbiAgbm9TZXNzaW9uSWQ/OiBib29sZWFuO1xuICBub1BhcnRpY2lwYW50SWQ/OiBib29sZWFuO1xuICBub1JUVklWZXJzaW9uPzogYm9vbGVhbjtcbiAgcGFydGljaXBhbnRJZD86IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgU2Vzc2lvbkluZm86IFJlYWN0LkZDPFByb3BzPiA9ICh7XG4gIG5vVHJhbnNwb3J0VHlwZSA9IGZhbHNlLFxuICBub1Nlc3Npb25JZCA9IGZhbHNlLFxuICBub1BhcnRpY2lwYW50SWQgPSBmYWxzZSxcbiAgbm9SVFZJVmVyc2lvbiA9IGZhbHNlLFxuICBzZXNzaW9uSWQsXG4gIHBhcnRpY2lwYW50SWQsXG59KSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IHVzZVBpcGVjYXRDbGllbnQoKTtcblxuICBsZXQgdHJhbnNwb3J0VHlwZU5hbWUgPSBcIlVua25vd25cIjtcbiAgaWYgKGNsaWVudCAmJiBcImRhaWx5Q2FsbENsaWVudFwiIGluIGNsaWVudC50cmFuc3BvcnQpIHtcbiAgICB0cmFuc3BvcnRUeXBlTmFtZSA9IGBEYWlseSAodiR7RGFpbHkudmVyc2lvbigpfSlgO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBfX3Byb3RvX18gbm90IHR5cGVkXG4gICAgY2xpZW50Py50cmFuc3BvcnQuX19wcm90b19fLmNvbnN0cnVjdG9yLlNFUlZJQ0VfTkFNRSA9PT1cbiAgICBcInNtYWxsLXdlYnJ0Yy10cmFuc3BvcnRcIlxuICApIHtcbiAgICB0cmFuc3BvcnRUeXBlTmFtZSA9IFwiU21hbGwgV2ViUlRDXCI7XG4gIH1cblxuICBjb25zdCBkYXRhOiBSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgRGF0YUxpc3Q+W1wiZGF0YVwiXSA9IHt9O1xuICBpZiAoIW5vVHJhbnNwb3J0VHlwZSkge1xuICAgIGRhdGFbXCJUcmFuc3BvcnRcIl0gPSB0cmFuc3BvcnRUeXBlTmFtZTtcbiAgfVxuICBpZiAoIW5vU2Vzc2lvbklkKSB7XG4gICAgZGF0YVtcIlNlc3Npb24gSURcIl0gPSBzZXNzaW9uSWQgPyAoXG4gICAgICA8Q29weVRleHQgY2xhc3NOYW1lPVwidmt1aTpqdXN0aWZ5LWVuZFwiIGljb25TaXplPXsxMn0gdGV4dD17c2Vzc2lvbklkfSAvPlxuICAgICkgOiAoXG4gICAgICBcIi0tLVwiXG4gICAgKTtcbiAgfVxuICBpZiAoIW5vUGFydGljaXBhbnRJZCkge1xuICAgIGRhdGFbXCJQYXJ0aWNpcGFudCBJRFwiXSA9IHBhcnRpY2lwYW50SWQgPyAoXG4gICAgICA8Q29weVRleHRcbiAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpqdXN0aWZ5LWVuZFwiXG4gICAgICAgIGljb25TaXplPXsxMn1cbiAgICAgICAgdGV4dD17cGFydGljaXBhbnRJZH1cbiAgICAgIC8+XG4gICAgKSA6IChcbiAgICAgIFwiLS0tXCJcbiAgICApO1xuICB9XG4gIGlmICghbm9SVFZJVmVyc2lvbikge1xuICAgIGRhdGFbXCJSVFZJXCJdID0gY2xpZW50Py52ZXJzaW9uIHx8IFwiLS0tXCI7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEYXRhTGlzdFxuICAgICAgY2xhc3NOYW1lcz17eyBjb250YWluZXI6IFwidmt1aTp3LWZ1bGwgdmt1aTpvdmVyZmxvdy1oaWRkZW5cIiB9fVxuICAgICAgZGF0YT17ZGF0YX1cbiAgICAvPlxuICApO1xufTtcbiIsIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgdHlwZSBCb3RUVFNUZXh0RGF0YSwgUlRWSUV2ZW50IH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1qc1wiO1xuaW1wb3J0IHsgdXNlUlRWSUNsaWVudEV2ZW50IH0gZnJvbSBcIkBwaXBlY2F0LWFpL2NsaWVudC1yZWFjdFwiO1xuaW1wb3J0IHsgY3ZhIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHBhcnRpY2lwYW50OiBcImxvY2FsXCIgfCBcInJlbW90ZVwiO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIHNpemU/OiBcImRlZmF1bHRcIjtcbn1cblxuY29uc3QgdHJhbnNjcmlwdE92ZXJsYXlWYXJpYW50cyA9IGN2YShcbiAgYHZrdWk6bXgtYXV0byB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktZW5kIHZrdWk6dGV4dC1jZW50ZXIgXG4gIHZrdWk6Kjpib3gtZGVjb3JhdGlvbi1jbG9uZSB2a3VpOio6dGV4dC1iYWxhbmNlIHZrdWk6KjphbmltYXRlLWluIHZrdWk6KjpmYWRlLWluIHZrdWk6KjpkdXJhdGlvbi0zMDAgdmt1aToqOm14LWF1dG9cbiAgdmt1aToqOioqOmJnLWZvcmVncm91bmQgdmt1aToqOioqOnRleHQtYmFja2dyb3VuZCB2a3VpOio6Kio6Ym94LWRlY29yYXRpb24tY2xvbmUgdmt1aToqOioqOnRleHQtYmFsYW5jZVxuICBgLFxuICB7XG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHNpemU6IHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBcInZrdWk6KjpsZWFkaW5nLTYgdmt1aToqOioqOnB4LTMgdmt1aToqOioqOnB5LTEuNSB2a3VpOio6Kio6dGV4dC1zbSB2a3VpOio6Kio6Zm9udC1tZWRpdW0gdmt1aToqOioqOnJvdW5kZWQtbGdcIixcbiAgICAgICAgc206IFwidmt1aToqOmxlYWRpbmctNCB2a3VpOio6Kio6cHgtMiB2a3VpOio6Kio6cHktMSB2a3VpOio6Kio6dGV4dC14cyB2a3VpOio6Kio6Zm9udC1tZWRpdW0gdmt1aToqOioqOnJvdW5kZWQtbWRcIixcbiAgICAgICAgbGc6IFwidmt1aToqOmxlYWRpbmctNyB2a3VpOio6Kio6cHgtNCB2a3VpOio6Kio6cHktMiB2a3VpOio6Kio6dGV4dC1iYXNlIHZrdWk6KjoqKjpmb250LW1lZGl1bSB2a3VpOio6Kio6cm91bmRlZC14bFwiLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRPdmVybGF5UGFydENvbXBvbmVudCA9ICh7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkgPT4gKFxuICA8c3Bhbj57dGV4dH08L3NwYW4+XG4pO1xuXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdE92ZXJsYXlDb21wb25lbnQgPSAoe1xuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICBzaXplID0gXCJkZWZhdWx0XCIsXG4gIHR1cm5FbmQsXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc2l6ZT86IFwiZGVmYXVsdFwiIHwgXCJzbVwiIHwgXCJsZ1wiO1xuICB0dXJuRW5kPzogYm9vbGVhbjtcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICB0cmFuc2NyaXB0T3ZlcmxheVZhcmlhbnRzKHsgc2l6ZSB9KSxcbiAgICAgICAgdHVybkVuZFxuICAgICAgICAgID8gXCJ2a3VpOmFuaW1hdGUtb3V0IHZrdWk6ZmFkZS1vdXQgdmt1aTpkdXJhdGlvbi0xMDAwIHZrdWk6ZmlsbC1tb2RlLWZvcndhcmRzXCJcbiAgICAgICAgICA6IFwiXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICl9XG4gICAgPlxuICAgICAgPHA+e2NoaWxkcmVufTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0T3ZlcmxheSA9ICh7XG4gIHBhcnRpY2lwYW50ID0gXCJyZW1vdGVcIixcbiAgY2xhc3NOYW1lLFxuICBzaXplID0gXCJkZWZhdWx0XCIsXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCBbdHJhbnNjcmlwdCwgc2V0VHJhbnNjcmlwdF0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbdHVybkVuZCwgc2V0SXNUdXJuRW5kXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoXG4gICAgUlRWSUV2ZW50LkJvdFR0c1RleHQsXG4gICAgdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQ6IEJvdFRUU1RleHREYXRhKSA9PiB7XG4gICAgICAgIGlmIChwYXJ0aWNpcGFudCA9PT0gXCJsb2NhbFwiKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR1cm5FbmQpIHtcbiAgICAgICAgICBzZXRUcmFuc2NyaXB0KFtdKTtcbiAgICAgICAgICBzZXRJc1R1cm5FbmQoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VHJhbnNjcmlwdCgocHJldikgPT4gWy4uLnByZXYsIGV2ZW50LnRleHRdKTtcbiAgICAgIH0sXG4gICAgICBbdHVybkVuZCwgcGFydGljaXBhbnRdLFxuICAgICksXG4gICk7XG5cbiAgdXNlUlRWSUNsaWVudEV2ZW50KFxuICAgIFJUVklFdmVudC5Cb3RTdG9wcGVkU3BlYWtpbmcsXG4gICAgdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKHBhcnRpY2lwYW50ID09PSBcImxvY2FsXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0SXNUdXJuRW5kKHRydWUpO1xuICAgIH0sIFtwYXJ0aWNpcGFudF0pLFxuICApO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChcbiAgICBSVFZJRXZlbnQuQm90VHRzU3RvcHBlZCxcbiAgICB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBpZiAocGFydGljaXBhbnQgPT09IFwibG9jYWxcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRJc1R1cm5FbmQodHJ1ZSk7XG4gICAgfSwgW3BhcnRpY2lwYW50XSksXG4gICk7XG5cbiAgaWYgKHRyYW5zY3JpcHQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxUcmFuc2NyaXB0T3ZlcmxheUNvbXBvbmVudFxuICAgICAgc2l6ZT17c2l6ZX1cbiAgICAgIHR1cm5FbmQ9e3R1cm5FbmR9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICA+XG4gICAgICA8VHJhbnNjcmlwdE92ZXJsYXlQYXJ0Q29tcG9uZW50IHRleHQ9e3RyYW5zY3JpcHQuam9pbihcIiBcIil9IC8+XG4gICAgPC9UcmFuc2NyaXB0T3ZlcmxheUNvbXBvbmVudD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zY3JpcHRPdmVybGF5O1xuIiwiaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IEJ1dHRvbkdyb3VwIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25ncm91cFwiO1xuaW1wb3J0IHsgQ2hldnJvbkRvd25JY29uLCBWaWRlb0ljb24sIFZpZGVvT2ZmSWNvbiB9IGZyb20gXCJAL2ljb25zXCI7XG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHtcbiAgdHlwZSBPcHRpb25hbE1lZGlhRGV2aWNlSW5mbyxcbiAgUGlwZWNhdENsaWVudENhbVRvZ2dsZSxcbiAgUGlwZWNhdENsaWVudFZpZGVvLFxuICB1c2VQaXBlY2F0Q2xpZW50TWVkaWFEZXZpY2VzLFxufSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBEZXZpY2VEcm9wRG93biB9IGZyb20gXCIuL0RldmljZURyb3BEb3duXCI7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGJ1dHRvblByb3BzPzogUGFydGlhbDxSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgQnV0dG9uPj47XG4gIGNsYXNzTmFtZXM/OiB7XG4gICAgY29udGFpbmVyPzogc3RyaW5nO1xuICAgIHZpZGVvPzogc3RyaW5nO1xuICAgIGJ1dHRvbmdyb3VwPzogc3RyaW5nO1xuICAgIGJ1dHRvbj86IHN0cmluZztcbiAgICBkcm9wZG93bk1lbnVUcmlnZ2VyPzogc3RyaW5nO1xuICAgIGRyb3Bkb3duTWVudUNvbnRlbnQ/OiBzdHJpbmc7XG4gICAgZHJvcGRvd25NZW51Q2hlY2tib3hJdGVtPzogc3RyaW5nO1xuICAgIHZpZGVvT2ZmQ29udGFpbmVyPzogc3RyaW5nO1xuICAgIHZpZGVvT2ZmVGV4dD86IHN0cmluZztcbiAgfTtcbiAgZHJvcGRvd25CdXR0b25Qcm9wcz86IFBhcnRpYWw8UmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIEJ1dHRvbj4+O1xuICBub0RldmljZVBpY2tlcj86IGJvb2xlYW47XG4gIG5vVmlkZW8/OiBib29sZWFuO1xuICB2aWRlb1Byb3BzPzogUGFydGlhbDxSZWFjdC5Db21wb25lbnRQcm9wczx0eXBlb2YgUGlwZWNhdENsaWVudFZpZGVvPj47XG59XG5cbmludGVyZmFjZSBDb21wb25lbnRQcm9wcyBleHRlbmRzIFByb3BzIHtcbiAgb25DbGljaz86ICgpID0+IHZvaWQ7XG4gIGlzQ2FtRW5hYmxlZD86IGJvb2xlYW47XG4gIGF2YWlsYWJsZUNhbXM/OiBNZWRpYURldmljZUluZm9bXTtcbiAgc2VsZWN0ZWRDYW0/OiBPcHRpb25hbE1lZGlhRGV2aWNlSW5mbztcbiAgdXBkYXRlQ2FtPzogKGRldmljZUlkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBVc2VyVmlkZW9Db21wb25lbnQ6IFJlYWN0LkZDPENvbXBvbmVudFByb3BzPiA9ICh7XG4gIGJ1dHRvblByb3BzID0ge30sXG4gIGNsYXNzTmFtZXMgPSB7fSxcbiAgZHJvcGRvd25CdXR0b25Qcm9wcyA9IHt9LFxuICBub0RldmljZVBpY2tlciA9IGZhbHNlLFxuICBub1ZpZGVvID0gZmFsc2UsXG4gIHZpZGVvUHJvcHMgPSB7fSxcbiAgb25DbGljayxcbiAgaXNDYW1FbmFibGVkLFxuICBhdmFpbGFibGVDYW1zID0gW10sXG4gIHNlbGVjdGVkQ2FtLFxuICB1cGRhdGVDYW0sXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgXCJ2a3VpOmJnLW11dGVkIHZrdWk6cm91bmRlZC14bCB2a3VpOnJlbGF0aXZlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBcInZrdWk6YXNwZWN0LXZpZGVvXCI6IGlzQ2FtRW5hYmxlZCAmJiAhbm9WaWRlbyxcbiAgICAgICAgICBcInZrdWk6aC0xMlwiOiAhaXNDYW1FbmFibGVkIHx8IG5vVmlkZW8sXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZXMuY29udGFpbmVyLFxuICAgICAgKX1cbiAgICA+XG4gICAgICB7IW5vVmlkZW8gJiYgKFxuICAgICAgICA8UGlwZWNhdENsaWVudFZpZGVvXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgIFwidmt1aTpyb3VuZGVkLXhsXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwidmt1aTpoaWRkZW5cIjogIWlzQ2FtRW5hYmxlZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGFzc05hbWVzLnZpZGVvLFxuICAgICAgICAgICl9XG4gICAgICAgICAgcGFydGljaXBhbnQ9XCJsb2NhbFwiXG4gICAgICAgICAgey4uLnZpZGVvUHJvcHN9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgeyghaXNDYW1FbmFibGVkIHx8IG5vVmlkZW8pICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICBcInZrdWk6YWJzb2x1dGUgdmt1aTpoLWZ1bGwgdmt1aTpsZWZ0LTI4IHZrdWk6ZmxleCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktc3RhcnQgdmt1aTpyb3VuZGVkLXhsXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwidmt1aTpsZWZ0LTE2XCI6IG5vRGV2aWNlUGlja2VyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzTmFtZXMudmlkZW9PZmZDb250YWluZXIsXG4gICAgICAgICAgKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICAgICAgIFwidmt1aTp0ZXh0LW11dGVkLWZvcmVncm91bmQgdmt1aTpmb250LW1vbm8gdmt1aTp0ZXh0LXNtXCIsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZXMudmlkZW9PZmZUZXh0LFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNDYW1FbmFibGVkID8gXCJDYW1lcmEgaXMgb25cIiA6IFwiQ2FtZXJhIGlzIG9mZlwifVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZrdWk6YWJzb2x1dGUgdmt1aTpib3R0b20tMiB2a3VpOmxlZnQtMlwiPlxuICAgICAgICA8QnV0dG9uR3JvdXAgY2xhc3NOYW1lPXtjbihjbGFzc05hbWVzLmJ1dHRvbmdyb3VwKX0+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihjbGFzc05hbWVzLmJ1dHRvbil9XG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgey4uLmJ1dHRvblByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpc0NhbUVuYWJsZWQgPyA8VmlkZW9JY29uIC8+IDogPFZpZGVvT2ZmSWNvbiAvPn1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICB7IW5vRGV2aWNlUGlja2VyICYmIChcbiAgICAgICAgICAgIDxEZXZpY2VEcm9wRG93blxuICAgICAgICAgICAgICBhdmFpbGFibGVEZXZpY2VzPXthdmFpbGFibGVDYW1zfVxuICAgICAgICAgICAgICBzZWxlY3RlZERldmljZT17c2VsZWN0ZWRDYW19XG4gICAgICAgICAgICAgIHVwZGF0ZURldmljZT17dXBkYXRlQ2FtfVxuICAgICAgICAgICAgICBjbGFzc05hbWVzPXt7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25NZW51Q2hlY2tib3hJdGVtOiBjbGFzc05hbWVzLmRyb3Bkb3duTWVudUNoZWNrYm94SXRlbSxcbiAgICAgICAgICAgICAgICBkcm9wZG93bk1lbnVDb250ZW50OiBjbGFzc05hbWVzLmRyb3Bkb3duTWVudUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgZHJvcGRvd25NZW51VHJpZ2dlcjogY2xhc3NOYW1lcy5kcm9wZG93bk1lbnVUcmlnZ2VyLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBtZW51TGFiZWw9XCJDYW1lcmEgZGV2aWNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oY2xhc3NOYW1lcy5kcm9wZG93bk1lbnVUcmlnZ2VyKX1cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgey4uLmRyb3Bkb3duQnV0dG9uUHJvcHN9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd25JY29uIC8+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9EZXZpY2VEcm9wRG93bj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0J1dHRvbkdyb3VwPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgVXNlclZpZGVvQ29udHJvbDogUmVhY3QuRkM8UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgYXZhaWxhYmxlQ2Ftcywgc2VsZWN0ZWRDYW0sIHVwZGF0ZUNhbSB9ID1cbiAgICB1c2VQaXBlY2F0Q2xpZW50TWVkaWFEZXZpY2VzKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8UGlwZWNhdENsaWVudENhbVRvZ2dsZT5cbiAgICAgIHsoeyBpc0NhbUVuYWJsZWQsIG9uQ2xpY2sgfSkgPT4gKFxuICAgICAgICA8VXNlclZpZGVvQ29tcG9uZW50XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIGlzQ2FtRW5hYmxlZD17aXNDYW1FbmFibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgYXZhaWxhYmxlQ2Ftcz17YXZhaWxhYmxlQ2Ftc31cbiAgICAgICAgICBzZWxlY3RlZENhbT17c2VsZWN0ZWRDYW19XG4gICAgICAgICAgdXBkYXRlQ2FtPXt1cGRhdGVDYW19XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvUGlwZWNhdENsaWVudENhbVRvZ2dsZT5cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBVc2VyVmlkZW9Db250cm9sO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUgeyBUaGVtZSB9IGZyb20gXCIuL1RoZW1lUHJvdmlkZXJcIjtcblxudHlwZSBUaGVtZVByb3ZpZGVyU3RhdGUgPSB7XG4gIHJlc29sdmVkVGhlbWU6IFwiZGFya1wiIHwgXCJsaWdodFwiO1xuICB0aGVtZTogVGhlbWU7XG4gIHNldFRoZW1lOiAodGhlbWU6IFRoZW1lKSA9PiB2b2lkO1xufTtcblxuY29uc3QgaW5pdGlhbFN0YXRlOiBUaGVtZVByb3ZpZGVyU3RhdGUgPSB7XG4gIHJlc29sdmVkVGhlbWU6IFwibGlnaHRcIixcbiAgdGhlbWU6IFwic3lzdGVtXCIsXG4gIHNldFRoZW1lOiAoKSA9PiBudWxsLFxufTtcblxuZXhwb3J0IGNvbnN0IFRoZW1lUHJvdmlkZXJDb250ZXh0ID1cbiAgY3JlYXRlQ29udGV4dDxUaGVtZVByb3ZpZGVyU3RhdGU+KGluaXRpYWxTdGF0ZSk7XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyQ29udGV4dCB9IGZyb20gXCIuL1RoZW1lUHJvdmlkZXJDb250ZXh0XCI7XG5cbmV4cG9ydCB0eXBlIFRoZW1lID0gXCJkYXJrXCIgfCBcImxpZ2h0XCIgfCBcInN5c3RlbVwiO1xuXG50eXBlIFRoZW1lUHJvdmlkZXJQcm9wcyA9IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgZGVmYXVsdFRoZW1lPzogVGhlbWU7XG4gIHN0b3JhZ2VLZXk/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gVGhlbWVQcm92aWRlcih7XG4gIGNoaWxkcmVuLFxuICBkZWZhdWx0VGhlbWUgPSBcInN5c3RlbVwiLFxuICBzdG9yYWdlS2V5ID0gXCJ2b2ljZS11aS1raXQtdGhlbWVcIixcbiAgLi4ucHJvcHNcbn06IFRoZW1lUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBbdGhlbWUsIHNldFRoZW1lXSA9IHVzZVN0YXRlPFRoZW1lPigoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBmcm9tIGxvY2FsU3RvcmFnZSBvciBmYWxsIGJhY2sgdG8gZGVmYXVsdFRoZW1lXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnN0IHN0b3JlZFRoZW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkgYXMgVGhlbWU7XG4gICAgICByZXR1cm4gc3RvcmVkVGhlbWUgfHwgZGVmYXVsdFRoZW1lO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFRoZW1lO1xuICB9KTtcbiAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtb3VudGVkKSByZXR1cm47XG5cbiAgICAvLyBPbmx5IHN0b3JlIGluIGxvY2FsU3RvcmFnZSBpZiB0aGVtZSBpcyBub3Qgc3lzdGVtLCBvdGhlcndpc2UgcmVtb3ZlIGl0XG4gICAgaWYgKHRoZW1lICE9PSBcInN5c3RlbVwiKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCB0aGVtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHN0b3JhZ2VLZXkpO1xuICAgIH1cbiAgfSwgW21vdW50ZWQsIHN0b3JhZ2VLZXksIHRoZW1lXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcblxuICAgIGNvbnN0IHJvb3QgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHJvb3QuY2xhc3NMaXN0LnJlbW92ZShcInZrdWk6bGlnaHRcIiwgXCJ2a3VpOmRhcmtcIik7XG5cbiAgICBpZiAodGhlbWUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgIGNvbnN0IHN5c3RlbVRoZW1lID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpXG4gICAgICAgIC5tYXRjaGVzXG4gICAgICAgID8gXCJ2a3VpOmRhcmtcIlxuICAgICAgICA6IFwidmt1aTpsaWdodFwiO1xuXG4gICAgICByb290LmNsYXNzTGlzdC5hZGQoc3lzdGVtVGhlbWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJvb3QuY2xhc3NMaXN0LmFkZChgdmt1aToke3RoZW1lfWApO1xuICB9LCBbdGhlbWUsIG1vdW50ZWRdKTtcblxuICAvLyBVcGRhdGUgdGhlbWUgd2hlbiBkZWZhdWx0VGhlbWUgY2hhbmdlcyAoaWYgbmVlZGVkKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuICAgIC8vIENoZWNrIGlmIGxvY2FsU3RvcmFnZSBoYXMgYSB2YWx1ZSBiZWZvcmUgdXBkYXRpbmcgZnJvbSBkZWZhdWx0VGhlbWVcbiAgICBjb25zdCBzdG9yZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xuICAgIGlmICghc3RvcmVkVGhlbWUpIHtcbiAgICAgIHNldFRoZW1lKGRlZmF1bHRUaGVtZSk7XG4gICAgfVxuICB9LCBbZGVmYXVsdFRoZW1lLCBtb3VudGVkLCBzdG9yYWdlS2V5XSk7XG5cbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdGhlbWUsXG4gICAgc2V0VGhlbWU6IChuZXdUaGVtZTogVGhlbWUpID0+IHtcbiAgICAgIHNldFRoZW1lKG5ld1RoZW1lKTtcbiAgICB9LFxuICAgIHJlc29sdmVkVGhlbWU6XG4gICAgICB0aGVtZSA9PT0gXCJzeXN0ZW1cIlxuICAgICAgICA/IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlc1xuICAgICAgICAgID8gXCJkYXJrXCJcbiAgICAgICAgICA6IFwibGlnaHRcIlxuICAgICAgICA6IHRoZW1lLFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFRoZW1lUHJvdmlkZXJDb250ZXh0LlByb3ZpZGVyIHsuLi5wcm9wc30gdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1RoZW1lUHJvdmlkZXJDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuIiwiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIHR5cGUgQ29ubmVjdGlvbkVuZHBvaW50LFxuICBQaXBlY2F0Q2xpZW50LFxuICB0eXBlIFBpcGVjYXRDbGllbnRPcHRpb25zLFxuICB0eXBlIFRyYW5zcG9ydENvbm5lY3Rpb25QYXJhbXMsXG59IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtanNcIjtcbmltcG9ydCB7XG4gIFBpcGVjYXRDbGllbnRBdWRpbyxcbiAgUGlwZWNhdENsaWVudFByb3ZpZGVyLFxufSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBEYWlseVRyYW5zcG9ydCB9IGZyb20gXCJAcGlwZWNhdC1haS9kYWlseS10cmFuc3BvcnRcIjtcbmltcG9ydCB7IFNtYWxsV2ViUlRDVHJhbnNwb3J0IH0gZnJvbSBcIkBwaXBlY2F0LWFpL3NtYWxsLXdlYnJ0Yy10cmFuc3BvcnRcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tIFwiLi4vVGhlbWVQcm92aWRlclwiO1xuXG4vKipcbiAqIFByb3BzIGZvciB0aGUgQXVkaW9DbGllbnRIZWxwZXIgY29tcG9uZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFwcFByb3BzIHtcbiAgLyoqIENvbm5lY3Rpb24gcGFyYW1ldGVycyBmb3IgdGhlIFBpcGVjYXQgY2xpZW50ICovXG4gIGNvbm5lY3RQYXJhbXM6IFRyYW5zcG9ydENvbm5lY3Rpb25QYXJhbXMgfCBDb25uZWN0aW9uRW5kcG9pbnQ7XG4gIC8qKiBUeXBlIG9mIHRyYW5zcG9ydCB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uICovXG4gIHRyYW5zcG9ydFR5cGU6IFwic21hbGx3ZWJydGNcIiB8IFwiZGFpbHlcIjtcbiAgLyoqIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIFBpcGVjYXQgY2xpZW50ICovXG4gIGNsaWVudE9wdGlvbnM/OiBQaXBlY2F0Q2xpZW50T3B0aW9ucztcbiAgLyoqXG4gICAqIFJlbmRlciBwcm9wIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgaGVscGVyIHByb3BzIGFuZCByZXR1cm5zIFJlYWN0IG5vZGVzLlxuICAgKlxuICAgKiBAcGFyYW0gcHJvcHMgLSBIZWxwZXJDaGlsZFByb3BzIGluY2x1ZGluZyBjb25uZWN0aW9uIGhhbmRsZXJzLCBsb2FkaW5nLCBhbmQgZXJyb3Igc3RhdGVcbiAgICogQHJldHVybnMgUmVhY3QuUmVhY3ROb2RlXG4gICAqL1xuICBjaGlsZHJlbjogKHByb3BzOiBIZWxwZXJDaGlsZFByb3BzKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbi8qKlxuICogUHJvcHMgdGhhdCBhcmUgcGFzc2VkIHRvIGNoaWxkIGNvbXBvbmVudHMgYnkgdGhlIEF1ZGlvQ2xpZW50SGVscGVyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlbHBlckNoaWxkUHJvcHMge1xuICAvKiogRnVuY3Rpb24gdG8gaW5pdGlhdGUgYSBjb25uZWN0aW9uIHRvIHRoZSBzZXNzaW9uICovXG4gIGhhbmRsZUNvbm5lY3Q/OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogRnVuY3Rpb24gdG8gZGlzY29ubmVjdCBmcm9tIHRoZSBjdXJyZW50IHNlc3Npb24gKi9cbiAgaGFuZGxlRGlzY29ubmVjdD86ICgpID0+IFByb21pc2U8dm9pZD47XG4gIC8qKiBMb2FkaW5nIHN0YXRlICovXG4gIGxvYWRpbmc/OiBib29sZWFuO1xuICAvKiogRXJyb3IgbWVzc2FnZSBpZiBjb25uZWN0aW9uIGZhaWxzICovXG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBBdWRpb0NsaWVudEhlbHBlciBjb21wb25lbnQgdGhhdCBwcm92aWRlcyBhIGNvbmZpZ3VyZWQgUGlwZWNhdCBjbGllbnQgd2l0aCBhdWRpbyBjYXBhYmlsaXRpZXMuXG4gKlxuICogVGhpcyBjb21wb25lbnQ6XG4gKiAtIEluaXRpYWxpemVzIGEgUGlwZWNhdCBjbGllbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHRyYW5zcG9ydCB0eXBlXG4gKiAtIFByb3ZpZGVzIGNvbm5lY3Rpb24gYW5kIGRpc2Nvbm5lY3Rpb24gaGFuZGxlcnNcbiAqIC0gV3JhcHMgY2hpbGRyZW4gaW4gdGhlIG5lY2Vzc2FyeSBwcm92aWRlcnMgKFRoZW1lUHJvdmlkZXIsIFBpcGVjYXRDbGllbnRQcm92aWRlcilcbiAqIC0gSGFuZGxlcyBlcnJvciBzdGF0ZXMgYW5kIGxvYWRpbmcgc3RhdGVzXG4gKiAtIEF1dG9tYXRpY2FsbHkgZGlzY29ubmVjdHMgdGhlIGNsaWVudCB3aGVuIHVubW91bnRpbmdcbiAqXG4gKiBAcGFyYW0gcHJvcHMgLSBDb25maWd1cmF0aW9uIGZvciB0aGUgYXVkaW8gY2xpZW50IGluY2x1ZGluZyBjb25uZWN0aW9uIHBhcmFtcyBhbmQgdHJhbnNwb3J0IHR5cGVcbiAqIEByZXR1cm5zIEEgcHJvdmlkZXIgY29tcG9uZW50IHRoYXQgd3JhcHMgY2hpbGRyZW4gd2l0aCBjbGllbnQgY29udGV4dCBhbmQgaGFuZGxlcnNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHN4XG4gKiA8QXVkaW9DbGllbnRIZWxwZXJcbiAqICAgY29ubmVjdFBhcmFtcz17Li4ufVxuICogICB0cmFuc3BvcnRUeXBlPVwiZGFpbHlcIlxuICogPlxuICogICB7KHsgaGFuZGxlQ29ubmVjdCwgaGFuZGxlRGlzY29ubmVjdCwgbG9hZGluZywgZXJyb3IgfSkgPT4gKFxuICogICAgIDxZb3VyQ29tcG9uZW50XG4gKiAgICAgICBoYW5kbGVDb25uZWN0PXtoYW5kbGVDb25uZWN0fVxuICogICAgICAgaGFuZGxlRGlzY29ubmVjdD17aGFuZGxlRGlzY29ubmVjdH1cbiAqICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gKiAgICAgICBlcnJvcj17ZXJyb3J9XG4gKiAgICAgLz5cbiAqICAgKX1cbiAqIDwvQXVkaW9DbGllbnRIZWxwZXI+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvQ2xpZW50SGVscGVyID0gKHtcbiAgY29ubmVjdFBhcmFtcyxcbiAgdHJhbnNwb3J0VHlwZSxcbiAgY2xpZW50T3B0aW9ucyxcbiAgY2hpbGRyZW4sXG59OiBBcHBQcm9wcykgPT4ge1xuICBjb25zdCBbY2xpZW50LCBzZXRDbGllbnRdID0gdXNlU3RhdGU8UGlwZWNhdENsaWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgUGlwZWNhdCBjbGllbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHRyYW5zcG9ydCB0eXBlLlxuICAgKiBDcmVhdGVzIGEgbmV3IGNsaWVudCBpbnN0YW5jZSB3aGVuIHRyYW5zcG9ydCB0eXBlIG9yIGNvbm5lY3Rpb24gcGFyYW1zIGNoYW5nZS5cbiAgICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IHRyYW5zcG9ydDogRGFpbHlUcmFuc3BvcnQgfCBTbWFsbFdlYlJUQ1RyYW5zcG9ydDtcbiAgICBzd2l0Y2ggKHRyYW5zcG9ydFR5cGUpIHtcbiAgICAgIGNhc2UgXCJzbWFsbHdlYnJ0Y1wiOlxuICAgICAgICB0cmFuc3BvcnQgPSBuZXcgU21hbGxXZWJSVENUcmFuc3BvcnQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGFpbHlcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRyYW5zcG9ydCA9IG5ldyBEYWlseVRyYW5zcG9ydCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBwY0NsaWVudCA9IG5ldyBQaXBlY2F0Q2xpZW50KHtcbiAgICAgIGVuYWJsZUNhbTogZmFsc2UsXG4gICAgICBlbmFibGVNaWM6IHRydWUsXG4gICAgICB0cmFuc3BvcnQ6IHRyYW5zcG9ydCxcbiAgICAgIC4uLmNsaWVudE9wdGlvbnMsXG4gICAgfSk7XG4gICAgc2V0Q2xpZW50KHBjQ2xpZW50KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvKipcbiAgICAgICAqIERpc2Nvbm5lY3QgY2xpZW50IHdoZW4gY29tcG9uZW50IHVubW91bnRzIG9yIG9wdGlvbnMgY2hhbmdlLlxuICAgICAgICovXG4gICAgICBwY0NsaWVudC5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW2Nvbm5lY3RQYXJhbXMsIHRyYW5zcG9ydFR5cGUsIGNsaWVudE9wdGlvbnNdKTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIGEgY29ubmVjdGlvbiB0byB0aGUgc2Vzc2lvbiB1c2luZyB0aGUgY29uZmlndXJlZCBjbGllbnQuXG4gICAqIE9ubHkgYWxsb3dzIGNvbm5lY3Rpb24gZnJvbSBzcGVjaWZpYyBzdGF0ZXMgKGluaXRpYWxpemVkLCBkaXNjb25uZWN0ZWQsIGVycm9yKS5cbiAgICogQ2xlYXJzIGFueSBwcmV2aW91cyBlcnJvcnMgYW5kIGhhbmRsZXMgY29ubmVjdGlvbiBmYWlsdXJlcy5cbiAgICovXG4gIGNvbnN0IGhhbmRsZUNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKFxuICAgICAgIWNsaWVudCB8fFxuICAgICAgIVtcImluaXRpYWxpemVkXCIsIFwiZGlzY29ubmVjdGVkXCIsIFwiZXJyb3JcIl0uaW5jbHVkZXMoY2xpZW50LnN0YXRlKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQuY29ubmVjdChjb25uZWN0UGFyYW1zKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb25uZWN0aW9uIGVycm9yOlwiLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gc3RhcnQgc2Vzc2lvbjogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogU3RyaW5nKGVycil9YCxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyBmcm9tIHRoZSBjdXJyZW50IHNlc3Npb24uXG4gICAqIFNhZmVseSBoYW5kbGVzIHRoZSBjYXNlIHdoZXJlIG5vIGNsaWVudCBpcyBhdmFpbGFibGUuXG4gICAqL1xuICBjb25zdCBoYW5kbGVEaXNjb25uZWN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY2xpZW50KSByZXR1cm47XG4gICAgYXdhaXQgY2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogU2hvdyBsb2FkaW5nIHN0YXRlIHdoaWxlIGNsaWVudCBpcyBiZWluZyBpbml0aWFsaXplZC5cbiAgICovXG4gIGlmICghY2xpZW50KSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuKHsgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgPFBpcGVjYXRDbGllbnRQcm92aWRlciBjbGllbnQ9e2NsaWVudCF9PlxuICAgICAgICB7Y2hpbGRyZW4oe1xuICAgICAgICAgIGhhbmRsZUNvbm5lY3QsXG4gICAgICAgICAgaGFuZGxlRGlzY29ubmVjdCxcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgfSl9XG4gICAgICAgIDxQaXBlY2F0Q2xpZW50QXVkaW8gLz5cbiAgICAgIDwvUGlwZWNhdENsaWVudFByb3ZpZGVyPlxuICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyQ29udGV4dCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1RoZW1lUHJvdmlkZXJDb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCB1c2VUaGVtZSA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGhlbWVQcm92aWRlckNvbnRleHQpO1xuXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlVGhlbWUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFRoZW1lUHJvdmlkZXJcIik7XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuIiwiaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7XG4gIERyb3Bkb3duTWVudSxcbiAgRHJvcGRvd25NZW51Q29udGVudCxcbiAgRHJvcGRvd25NZW51SXRlbSxcbiAgRHJvcGRvd25NZW51VHJpZ2dlcixcbn0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51XCI7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCJAL2hvb2tzL3VzZVRoZW1lXCI7XG5pbXBvcnQgeyBNb29uSWNvbiwgU3VuSWNvbiB9IGZyb20gXCJAL2ljb25zXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBUaGVtZU1vZGVUb2dnbGUoKSB7XG4gIGNvbnN0IHsgc2V0VGhlbWUgfSA9IHVzZVRoZW1lKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8RHJvcGRvd25NZW51PlxuICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIj5cbiAgICAgICAgICA8U3VuSWNvbiBjbGFzc05hbWU9XCJ2a3VpOmgtWzEuMnJlbV0gdmt1aTp3LVsxLjJyZW1dIHZrdWk6c2NhbGUtMTAwIHZrdWk6cm90YXRlLTAgdmt1aTp0cmFuc2l0aW9uLWFsbCB2a3VpOmRhcms6c2NhbGUtMCB2a3VpOmRhcms6LXJvdGF0ZS05MFwiIC8+XG4gICAgICAgICAgPE1vb25JY29uIGNsYXNzTmFtZT1cInZrdWk6YWJzb2x1dGUgdmt1aTpoLVsxLjJyZW1dIHZrdWk6dy1bMS4ycmVtXSB2a3VpOnNjYWxlLTAgdmt1aTpyb3RhdGUtOTAgdmt1aTp0cmFuc2l0aW9uLWFsbCB2a3VpOmRhcms6c2NhbGUtMTAwIHZrdWk6ZGFyazpyb3RhdGUtMFwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidmt1aTpzci1vbmx5XCI+VG9nZ2xlIHRoZW1lPC9zcGFuPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvRHJvcGRvd25NZW51VHJpZ2dlcj5cbiAgICAgIDxEcm9wZG93bk1lbnVDb250ZW50IGFsaWduPVwiZW5kXCI+XG4gICAgICAgIDxEcm9wZG93bk1lbnVJdGVtIG9uQ2xpY2s9eygpID0+IHNldFRoZW1lKFwibGlnaHRcIil9PlxuICAgICAgICAgIExpZ2h0XG4gICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17KCkgPT4gc2V0VGhlbWUoXCJkYXJrXCIpfT5cbiAgICAgICAgICBEYXJrXG4gICAgICAgIDwvRHJvcGRvd25NZW51SXRlbT5cbiAgICAgICAgPERyb3Bkb3duTWVudUl0ZW0gb25DbGljaz17KCkgPT4gc2V0VGhlbWUoXCJzeXN0ZW1cIil9PlxuICAgICAgICAgIFN5c3RlbVxuICAgICAgICA8L0Ryb3Bkb3duTWVudUl0ZW0+XG4gICAgICA8L0Ryb3Bkb3duTWVudUNvbnRlbnQ+XG4gICAgPC9Ecm9wZG93bk1lbnU+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRoZW1lTW9kZVRvZ2dsZTtcbiIsImltcG9ydCB7XG4gIFBhbmVsLFxuICBQYW5lbENvbnRlbnQsXG4gIFBhbmVsSGVhZGVyLFxuICBQYW5lbFRpdGxlLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3BhbmVsXCI7XG5pbXBvcnQgeyBNaWNPZmZJY29uIH0gZnJvbSBcIkAvaWNvbnNcIjtcbmltcG9ydCB7XG4gIHVzZVBpcGVjYXRDbGllbnRNZWRpYVRyYWNrLFxuICBWb2ljZVZpc3VhbGl6ZXIsXG59IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtcmVhY3RcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgQm90QXVkaW9QYW5lbFByb3BzIHtcbiAgYXVkaW9UcmFja3M/OiBNZWRpYVN0cmVhbVRyYWNrW107XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY29sbGFwc2VkPzogYm9vbGVhbjtcbiAgdmlzdWFsaXphdGlvbj86IFwiYmFyXCIgfCBcImNpcmNsZVwiO1xuICBpc011dGVkPzogYm9vbGVhbjtcbiAgb25NdXRlVG9nZ2xlPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgYmFyQ291bnQgPSAxMDtcblxuZXhwb3J0IGNvbnN0IEJvdEF1ZGlvUGFuZWw6IFJlYWN0LkZDPEJvdEF1ZGlvUGFuZWxQcm9wcz4gPSAoe1xuICBjbGFzc05hbWUsXG4gIGNvbGxhcHNlZCA9IGZhbHNlLFxufSkgPT4ge1xuICBjb25zdCB0cmFjayA9IHVzZVBpcGVjYXRDbGllbnRNZWRpYVRyYWNrKFwiYXVkaW9cIiwgXCJib3RcIik7XG5cbiAgY29uc3QgW21heEhlaWdodCwgc2V0TWF4SGVpZ2h0XSA9IHVzZVN0YXRlKDQ4KTtcbiAgY29uc3QgW3dpZHRoLCBzZXRXaWR0aF0gPSB1c2VTdGF0ZSg0KTtcblxuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDtcblxuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IDI0MDtcbiAgICAgICAgY29uc3QgbWF4QmFyV2lkdGggPSBtYXhXaWR0aCAvICgyICogYmFyQ291bnQgLSAxKTtcbiAgICAgICAgY29uc3QgbWF4TWF4SGVpZ2h0ID0gMjQwIC8gKDE2IC8gOSk7XG5cbiAgICAgICAgY29uc3QgYmFyV2lkdGggPSBNYXRoLm1heChcbiAgICAgICAgICBNYXRoLm1pbih3aWR0aCAvIChiYXJDb3VudCAqIDIpLCBtYXhCYXJXaWR0aCksXG4gICAgICAgICAgMixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5taW4oaGVpZ2h0LCBtYXhNYXhIZWlnaHQpLCAyMCk7XG5cbiAgICAgICAgc2V0TWF4SGVpZ2h0KG1heEhlaWdodCk7XG4gICAgICAgIHNldFdpZHRoKGJhcldpZHRoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxQYW5lbCBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7IWNvbGxhcHNlZCAmJiAoXG4gICAgICAgIDxQYW5lbEhlYWRlcj5cbiAgICAgICAgICA8UGFuZWxUaXRsZT5Cb3QgQXVkaW88L1BhbmVsVGl0bGU+XG4gICAgICAgIDwvUGFuZWxIZWFkZXI+XG4gICAgICApfVxuICAgICAgPFBhbmVsQ29udGVudCBjbGFzc05hbWU9XCJ2a3VpOm92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtjb250YWluZXJSZWZ9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpyZWxhdGl2ZSB2a3VpOmFzcGVjdC12aWRlbyB2a3VpOmZsZXggdmt1aTptYXgtaC1mdWxsIHZrdWk6b3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTptLWF1dG9cIj5cbiAgICAgICAgICAgIDxWb2ljZVZpc3VhbGl6ZXJcbiAgICAgICAgICAgICAgcGFydGljaXBhbnRUeXBlPVwiYm90XCJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICBiYXJDb2xvcj1cIiNhZDQ2ZmZcIlxuICAgICAgICAgICAgICBiYXJDb3VudD17YmFyQ291bnR9XG4gICAgICAgICAgICAgIGJhckdhcD17d2lkdGh9XG4gICAgICAgICAgICAgIGJhckxpbmVDYXA9XCJzcXVhcmVcIlxuICAgICAgICAgICAgICBiYXJNYXhIZWlnaHQ9e21heEhlaWdodH1cbiAgICAgICAgICAgICAgYmFyT3JpZ2luPVwiYm90dG9tXCJcbiAgICAgICAgICAgICAgYmFyV2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7IXRyYWNrICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTphYnNvbHV0ZSB2a3VpOmluc2V0LTAgdmt1aTpmbGV4IHZrdWk6Z2FwLTEgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8TWljT2ZmSWNvbiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgeyFjb2xsYXBzZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZrdWk6Zm9udC1tb25vIHZrdWk6dGV4dC14c1wiPk5vIGF1ZGlvPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1BhbmVsQ29udGVudD5cbiAgICA8L1BhbmVsPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQm90QXVkaW9QYW5lbDtcbiIsImltcG9ydCB7XG4gIFBhbmVsLFxuICBQYW5lbENvbnRlbnQsXG4gIFBhbmVsSGVhZGVyLFxuICBQYW5lbFRpdGxlLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3BhbmVsXCI7XG5pbXBvcnQgeyBWaWRlb09mZkljb24gfSBmcm9tIFwiQC9pY29uc1wiO1xuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCB7XG4gIFBpcGVjYXRDbGllbnRWaWRlbyxcbiAgdXNlUGlwZWNhdENsaWVudE1lZGlhVHJhY2ssXG59IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtcmVhY3RcIjtcblxuaW50ZXJmYWNlIEJvdFZpZGVvUGFuZWxQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY29sbGFwc2VkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IEJvdFZpZGVvUGFuZWw6IFJlYWN0LkZDPEJvdFZpZGVvUGFuZWxQcm9wcz4gPSAoe1xuICBjbGFzc05hbWUsXG4gIGNvbGxhcHNlZCA9IGZhbHNlLFxufSkgPT4ge1xuICBjb25zdCB0cmFjayA9IHVzZVBpcGVjYXRDbGllbnRNZWRpYVRyYWNrKFwidmlkZW9cIiwgXCJib3RcIik7XG4gIHJldHVybiAoXG4gICAgPFBhbmVsXG4gICAgICBjbGFzc05hbWU9e2NuKGNsYXNzTmFtZSwge1xuICAgICAgICBcInZrdWk6Ym9yZGVyLW5vbmVcIjogY29sbGFwc2VkLFxuICAgICAgfSl9XG4gICAgPlxuICAgICAgeyFjb2xsYXBzZWQgJiYgKFxuICAgICAgICA8UGFuZWxIZWFkZXI+XG4gICAgICAgICAgPFBhbmVsVGl0bGU+Qm90IFZpZGVvPC9QYW5lbFRpdGxlPlxuICAgICAgICA8L1BhbmVsSGVhZGVyPlxuICAgICAgKX1cbiAgICAgIDxQYW5lbENvbnRlbnRcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcInZrdWk6cmVsYXRpdmUgdmt1aTpvdmVyZmxvdy1oaWRkZW5cIiwge1xuICAgICAgICAgIFwidmt1aTpwLTAhXCI6IGNvbGxhcHNlZCxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIDxQaXBlY2F0Q2xpZW50VmlkZW9cbiAgICAgICAgICBwYXJ0aWNpcGFudD1cImJvdFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTphc3BlY3QtdmlkZW8gdmt1aTpiZy1tdXRlZCB2a3VpOnJvdW5kZWQtc20gdmt1aTptYXgtaC1mdWxsXCJcbiAgICAgICAgICBmaXQ9XCJjb250YWluXCJcbiAgICAgICAgLz5cbiAgICAgICAgeyF0cmFjayAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2a3VpOmFic29sdXRlIHZrdWk6aW5zZXQtMCB2a3VpOmZsZXggdmt1aTpnYXAtMSB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8VmlkZW9PZmZJY29uIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgeyFjb2xsYXBzZWQgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2a3VpOmZvbnQtbW9ubyB2a3VpOnRleHQteHNcIj5ObyB2aWRlbzwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L1BhbmVsQ29udGVudD5cbiAgICA8L1BhbmVsPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQm90VmlkZW9QYW5lbDtcbiIsImltcG9ydCBDb252ZXJzYXRpb24gZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9Db252ZXJzYXRpb25cIjtcbmltcG9ydCB7IE1ldHJpY3MgfSBmcm9tIFwiQC9jb21wb25lbnRzL21ldHJpY3NcIjtcbmltcG9ydCB7IFBhbmVsLCBQYW5lbENvbnRlbnQsIFBhbmVsSGVhZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9wYW5lbFwiO1xuaW1wb3J0IHsgVGFicywgVGFic0NvbnRlbnQsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGFic1wiO1xuaW1wb3J0IHsgTGluZUNoYXJ0SWNvbiwgTWVzc2FnZXNTcXVhcmVJY29uIH0gZnJvbSBcIkAvaWNvbnNcIjtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbm9Db252ZXJzYXRpb24/OiBib29sZWFuO1xuICBub01ldHJpY3M/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgQ29udmVyc2F0aW9uUGFuZWw6IFJlYWN0LkZDPFByb3BzPiA9ICh7XG4gIG5vQ29udmVyc2F0aW9uID0gZmFsc2UsXG4gIG5vTWV0cmljcyA9IGZhbHNlLFxufSkgPT4ge1xuICBjb25zdCBkZWZhdWx0VmFsdWUgPSBub0NvbnZlcnNhdGlvbiA/IFwibWV0cmljc1wiIDogXCJjb252ZXJzYXRpb25cIjtcbiAgcmV0dXJuIChcbiAgICA8VGFicyBjbGFzc05hbWU9XCJ2a3VpOmgtZnVsbFwiIGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfT5cbiAgICAgIDxQYW5lbCBjbGFzc05hbWU9XCJ2a3VpOmgtZnVsbCB2a3VpOm1heC1zbTpib3JkZXItbm9uZVwiPlxuICAgICAgICA8UGFuZWxIZWFkZXI+XG4gICAgICAgICAgPFRhYnNMaXN0PlxuICAgICAgICAgICAgeyFub0NvbnZlcnNhdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDxUYWJzVHJpZ2dlclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInZrdWk6dGV4dC1tb25vLXVwcGVyXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cImNvbnZlcnNhdGlvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TWVzc2FnZXNTcXVhcmVJY29uIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgIENvbnZlcnNhdGlvblxuICAgICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshbm9NZXRyaWNzICYmIChcbiAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIGNsYXNzTmFtZT1cInZrdWk6dGV4dC1tb25vLXVwcGVyXCIgdmFsdWU9XCJtZXRyaWNzXCI+XG4gICAgICAgICAgICAgICAgPExpbmVDaGFydEljb24gc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgTWV0cmljc1xuICAgICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1RhYnNMaXN0PlxuICAgICAgICA8L1BhbmVsSGVhZGVyPlxuICAgICAgICA8UGFuZWxDb250ZW50IGNsYXNzTmFtZT1cInZrdWk6cC0wISB2a3VpOm92ZXJmbG93LWhpZGRlbiB2a3VpOmgtZnVsbFwiPlxuICAgICAgICAgIHshbm9Db252ZXJzYXRpb24gJiYgKFxuICAgICAgICAgICAgPFRhYnNDb250ZW50XG4gICAgICAgICAgICAgIHZhbHVlPVwiY29udmVyc2F0aW9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpvdmVyZmxvdy1oaWRkZW4gdmt1aTpoLWZ1bGxcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Q29udmVyc2F0aW9uIC8+XG4gICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICAgICl9XG4gICAgICAgICAgeyFub01ldHJpY3MgJiYgKFxuICAgICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwibWV0cmljc1wiIGNsYXNzTmFtZT1cInZrdWk6aC1mdWxsXCI+XG4gICAgICAgICAgICAgIDxNZXRyaWNzIC8+XG4gICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvUGFuZWxDb250ZW50PlxuICAgICAgPC9QYW5lbD5cbiAgICA8L1RhYnM+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb252ZXJzYXRpb25QYW5lbDtcbiIsImltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHtcbiAgUGFuZWwsXG4gIFBhbmVsQ29udGVudCxcbiAgUGFuZWxIZWFkZXIsXG4gIFBhbmVsVGl0bGUsXG59IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvcGFuZWxcIjtcbmltcG9ydCB7IEZ1bm5lbEljb24gfSBmcm9tIFwiQC9pY29uc1wiO1xuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCB7IFJUVklFdmVudCB9IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtanNcIjtcbmltcG9ydCB7XG4gIHVzZVBpcGVjYXRDbGllbnQsXG4gIHVzZVBpcGVjYXRDbGllbnRUcmFuc3BvcnRTdGF0ZSxcbiAgdXNlUlRWSUNsaWVudEV2ZW50LFxufSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBGcmFnbWVudCwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgRXZlbnREYXRhIHtcbiAgZXZlbnQ6IFJUVklFdmVudCB8IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0aW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGNvbGxhcHNlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBFdmVudHNQYW5lbDogUmVhY3QuRkM8UHJvcHM+ID0gKHsgY29sbGFwc2VkID0gZmFsc2UgfSkgPT4ge1xuICBjb25zdCBjbGllbnQgPSB1c2VQaXBlY2F0Q2xpZW50KCk7XG4gIGNvbnN0IFtldmVudHMsIHNldEV2ZW50c10gPSB1c2VTdGF0ZTxFdmVudERhdGFbXT4oW10pO1xuXG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGlzU2Nyb2xsZWRUb0JvdHRvbSA9IHVzZVJlZih0cnVlKTtcblxuICBjb25zdCBhZGRFdmVudCA9IHVzZUNhbGxiYWNrKChkYXRhOiBFdmVudERhdGEpID0+IHtcbiAgICBpZiAoc2Nyb2xsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGlzU2Nyb2xsZWRUb0JvdHRvbS5jdXJyZW50ID1cbiAgICAgICAgTWF0aC5jZWlsKFxuICAgICAgICAgIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodCAtIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcCxcbiAgICAgICAgKSA8PSBNYXRoLmNlaWwoc2Nyb2xsUmVmLmN1cnJlbnQuY2xpZW50SGVpZ2h0KTtcbiAgICB9XG4gICAgc2V0RXZlbnRzKChwcmV2KSA9PiB7XG4gICAgICByZXR1cm4gWy4uLnByZXYsIGRhdGFdO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgdHJhbnNwb3J0U3RhdGUgPSB1c2VQaXBlY2F0Q2xpZW50VHJhbnNwb3J0U3RhdGUoKTtcbiAgY29uc3QgbGFzdFRyYW5zcG9ydFN0YXRlID0gdXNlUmVmKFwiXCIpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0cmFuc3BvcnRTdGF0ZSA9PT0gbGFzdFRyYW5zcG9ydFN0YXRlLmN1cnJlbnQpIHJldHVybjtcbiAgICBhZGRFdmVudCh7XG4gICAgICBldmVudDogXCJ0cmFuc3BvcnRTdGF0ZVwiLFxuICAgICAgbWVzc2FnZTogYFRyYW5zcG9ydCBzdGF0ZSBjaGFuZ2VkOiAke3RyYW5zcG9ydFN0YXRlfWAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgIH0pO1xuICAgIGxhc3RUcmFuc3BvcnRTdGF0ZS5jdXJyZW50ID0gdHJhbnNwb3J0U3RhdGU7XG4gIH0sIFthZGRFdmVudCwgdHJhbnNwb3J0U3RhdGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2xpZW50KSByZXR1cm47XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFwiaW5pdGlhbGl6ZWRcIixcbiAgICAgIG1lc3NhZ2U6IGBSVFZJIENsaWVudCBpbml0aWFsaXplZCAodmVyc2lvbiAke2NsaWVudC52ZXJzaW9ufSlgLFxuICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICB9KTtcbiAgfSwgW2FkZEV2ZW50LCBjbGllbnRdKTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LkJvdENvbm5lY3RlZCwgKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFJUVklFdmVudC5Cb3RDb25uZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBgQm90IGNvbm5lY3RlZDogJHtwYXJ0aWNpcGFudC5pZH1gLFxuICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5Cb3REaXNjb25uZWN0ZWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuQm90RGlzY29ubmVjdGVkLFxuICAgICAgbWVzc2FnZTogYEJvdCBkaXNjb25uZWN0ZWQ6ICR7cGFydGljaXBhbnQuaWR9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuQm90UmVhZHksIChib3REYXRhKSA9PiB7XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFJUVklFdmVudC5Cb3RSZWFkeSxcbiAgICAgIG1lc3NhZ2U6IGBCb3QgcmVhZHkgKHYke2JvdERhdGEudmVyc2lvbn0pOiAke0pTT04uc3RyaW5naWZ5KGJvdERhdGEuYWJvdXQgPz8ge30pfWAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgIH0pO1xuICB9KTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LkJvdFN0YXJ0ZWRTcGVha2luZywgKCkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuQm90U3RhcnRlZFNwZWFraW5nLFxuICAgICAgbWVzc2FnZTogXCJCb3Qgc3RhcnRlZCBzcGVha2luZ1wiLFxuICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5Cb3RTdG9wcGVkU3BlYWtpbmcsICgpID0+IHtcbiAgICBhZGRFdmVudCh7XG4gICAgICBldmVudDogUlRWSUV2ZW50LkJvdFN0b3BwZWRTcGVha2luZyxcbiAgICAgIG1lc3NhZ2U6IFwiQm90IHN0b3BwZWQgc3BlYWtpbmdcIixcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuQ29ubmVjdGVkLCAoKSA9PiB7XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFJUVklFdmVudC5Db25uZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBcIkNsaWVudCBjb25uZWN0ZWRcIixcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LkRpc2Nvbm5lY3RlZCwgKCkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuRGlzY29ubmVjdGVkLFxuICAgICAgbWVzc2FnZTogXCJDbGllbnQgZGlzY29ubmVjdGVkXCIsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgIH0pO1xuICB9KTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LkVycm9yLCAobWVzc2FnZSkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuRXJyb3IsXG4gICAgICBtZXNzYWdlOiBgRXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZSl9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuUGFydGljaXBhbnRDb25uZWN0ZWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuUGFydGljaXBhbnRDb25uZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBgUGFydGljaXBhbnQgY29ubmVjdGVkOiAke3BhcnRpY2lwYW50LmlkfWAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgIH0pO1xuICB9KTtcbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5QYXJ0aWNpcGFudExlZnQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuUGFydGljaXBhbnRMZWZ0LFxuICAgICAgbWVzc2FnZTogYFBhcnRpY2lwYW50IGxlZnQ6ICR7cGFydGljaXBhbnQuaWR9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuU2VydmVyTWVzc2FnZSwgKGRhdGEpID0+IHtcbiAgICBhZGRFdmVudCh7XG4gICAgICBldmVudDogUlRWSUV2ZW50LlNlcnZlck1lc3NhZ2UsXG4gICAgICBtZXNzYWdlOiBgU2VydmVyIG1lc3NhZ2U6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuVHJhY2tTdGFydGVkLCAodHJhY2ssIHBhcnRpY2lwYW50KSA9PiB7XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFJUVklFdmVudC5UcmFja1N0YXJ0ZWQsXG4gICAgICBtZXNzYWdlOiBgVHJhY2sgc3RhcnRlZDogJHt0cmFjay5raW5kfSBmb3IgcGFydGljaXBhbnQgJHtwYXJ0aWNpcGFudD8uaWR9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuVHJhY2tTdG9wcGVkLCAodHJhY2ssIHBhcnRpY2lwYW50KSA9PiB7XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFJUVklFdmVudC5UcmFja1N0b3BwZWQsXG4gICAgICBtZXNzYWdlOiBgVHJhY2sgc3RvcHBlZDogJHt0cmFjay5raW5kfSBmb3IgcGFydGljaXBhbnQgJHtwYXJ0aWNpcGFudD8uaWR9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuU2NyZWVuVHJhY2tTdGFydGVkLCAodHJhY2ssIHBhcnRpY2lwYW50KSA9PiB7XG4gICAgYWRkRXZlbnQoe1xuICAgICAgZXZlbnQ6IFJUVklFdmVudC5TY3JlZW5UcmFja1N0YXJ0ZWQsXG4gICAgICBtZXNzYWdlOiBgU2NyZWVuIHRyYWNrIHN0YXJ0ZWQ6ICR7dHJhY2sua2luZH0gZm9yIHBhcnRpY2lwYW50ICR7cGFydGljaXBhbnQ/LmlkfWAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgIH0pO1xuICB9KTtcbiAgdXNlUlRWSUNsaWVudEV2ZW50KFJUVklFdmVudC5TY3JlZW5UcmFja1N0b3BwZWQsICh0cmFjaywgcGFydGljaXBhbnQpID0+IHtcbiAgICBhZGRFdmVudCh7XG4gICAgICBldmVudDogUlRWSUV2ZW50LlNjcmVlblRyYWNrU3RvcHBlZCxcbiAgICAgIG1lc3NhZ2U6IGBTY3JlZW4gdHJhY2sgc3RvcHBlZDogJHt0cmFjay5raW5kfSBmb3IgcGFydGljaXBhbnQgJHtwYXJ0aWNpcGFudD8uaWR9YCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIHVzZVJUVklDbGllbnRFdmVudChSVFZJRXZlbnQuVXNlclN0YXJ0ZWRTcGVha2luZywgKCkgPT4ge1xuICAgIGFkZEV2ZW50KHtcbiAgICAgIGV2ZW50OiBSVFZJRXZlbnQuVXNlclN0YXJ0ZWRTcGVha2luZyxcbiAgICAgIG1lc3NhZ2U6IFwiVXNlciBzdGFydGVkIHNwZWFraW5nXCIsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLFxuICAgIH0pO1xuICB9KTtcblxuICB1c2VSVFZJQ2xpZW50RXZlbnQoUlRWSUV2ZW50LlVzZXJTdG9wcGVkU3BlYWtpbmcsICgpID0+IHtcbiAgICBhZGRFdmVudCh7XG4gICAgICBldmVudDogUlRWSUV2ZW50LlVzZXJTdG9wcGVkU3BlYWtpbmcsXG4gICAgICBtZXNzYWdlOiBcIlVzZXIgc3RvcHBlZCBzcGVha2luZ1wiLFxuICAgICAgdGltZTogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNjcm9sbFJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgaWYgKCFpc1Njcm9sbGVkVG9Cb3R0b20uY3VycmVudCkgcmV0dXJuO1xuICAgIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvKHtcbiAgICAgIHRvcDogc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgYmVoYXZpb3I6IFwiaW5zdGFudFwiLFxuICAgIH0pO1xuICB9LCBbZXZlbnRzXSk7XG5cbiAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBmaWx0ZXJlZEV2ZW50cyA9IGV2ZW50cy5maWx0ZXIoXG4gICAgKGV2ZW50RGF0YSkgPT5cbiAgICAgIGV2ZW50RGF0YS5ldmVudC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyKSB8fFxuICAgICAgZXZlbnREYXRhLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIpLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFBhbmVsXG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInZrdWk6Ymctc2Vjb25kYXJ5LzIwIHZrdWk6aC1mdWxsIHZrdWk6cm91bmRlZC1ub25lISB2a3VpOm1heC1zbTpib3JkZXItbm9uZSB2a3VpOnNtOmJvcmRlci14LTAgdmt1aTpzbTptdC0yXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBcInZrdWk6Ymctc2Vjb25kYXJ5IHZrdWk6b3BhY2l0eS01MFwiOiBjb2xsYXBzZWQsXG4gICAgICAgIH0sXG4gICAgICApfVxuICAgID5cbiAgICAgIDxQYW5lbEhlYWRlclxuICAgICAgICBjbGFzc05hbWU9e2NuKFwidmt1aTpnYXAtNCB2a3VpOmp1c3RpZnktc3RhcnQgdmt1aTppdGVtcy1jZW50ZXJcIiwge1xuICAgICAgICAgIFwidmt1aTpweS0yIVwiOiBjb2xsYXBzZWQsXG4gICAgICAgIH0pfVxuICAgICAgPlxuICAgICAgICA8UGFuZWxUaXRsZT5FdmVudHM8L1BhbmVsVGl0bGU+XG4gICAgICAgIHshY29sbGFwc2VkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZrdWk6cmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTphYnNvbHV0ZSB2a3VpOmluc2V0LXktMCB2a3VpOmxlZnQtMCB2a3VpOmZsZXggdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpwbC0yIHZrdWk6cG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICA8RnVubmVsSWNvbiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJGaWx0ZXJcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ2a3VpOmJnLXNlY29uZGFyeSB2a3VpOm1heC13LTQ4IHZrdWk6cHMtOFwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEZpbHRlcihlLnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L1BhbmVsSGVhZGVyPlxuICAgICAgeyFjb2xsYXBzZWQgJiYgKFxuICAgICAgICA8UGFuZWxDb250ZW50IHJlZj17c2Nyb2xsUmVmfSBjbGFzc05hbWU9XCJ2a3VpOm92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTpncmlkIHZrdWk6Z3JpZC1jb2xzLVttaW4tY29udGVudF9taW4tY29udGVudF8xZnJdIHZrdWk6Z2FwLXgtNCB2a3VpOmdhcC15LTIgdmt1aTppdGVtcy1jZW50ZXIgdmt1aTpmb250LW1vbm8gdmt1aTp0ZXh0LXhzXCI+XG4gICAgICAgICAgICB7ZmlsdGVyZWRFdmVudHMubWFwKChldmVudERhdGEsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxGcmFnbWVudCBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZrdWk6dGV4dC14cyB2a3VpOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCB2a3VpOnRleHQtbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICB7ZXZlbnREYXRhLnRpbWV9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2a3VpOmZvbnQtc2VtaWJvbGRcIj57ZXZlbnREYXRhLmV2ZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+e2V2ZW50RGF0YS5tZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUGFuZWxDb250ZW50PlxuICAgICAgKX1cbiAgICA8L1BhbmVsPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzUGFuZWw7XG4iLCJpbXBvcnQgQXVkaW9PdXRwdXQgZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9BdWRpb091dHB1dFwiO1xuaW1wb3J0IHsgQ2xpZW50U3RhdHVzIH0gZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9DbGllbnRTdGF0dXNcIjtcbmltcG9ydCB7IFNlc3Npb25JbmZvIH0gZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9TZXNzaW9uSW5mb1wiO1xuaW1wb3J0IFVzZXJBdWRpb0NvbnRyb2wgZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9Vc2VyQXVkaW9Db250cm9sXCI7XG5pbXBvcnQgVXNlclZpZGVvQ29udHJvbCBmcm9tIFwiQC9jb21wb25lbnRzL2VsZW1lbnRzL1VzZXJWaWRlb0NvbnRyb2xcIjtcbmltcG9ydCB7XG4gIFBhbmVsLFxuICBQYW5lbENvbnRlbnQsXG4gIFBhbmVsSGVhZGVyLFxuICBQYW5lbFRpdGxlLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3BhbmVsXCI7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG5vQXVkaW9PdXRwdXQ/OiBib29sZWFuO1xuICBub1Nlc3Npb25JbmZvPzogYm9vbGVhbjtcbiAgbm9TdGF0dXNJbmZvPzogYm9vbGVhbjtcbiAgbm9Vc2VyQXVkaW8/OiBib29sZWFuO1xuICBub1VzZXJWaWRlbz86IGJvb2xlYW47XG4gIHBhcnRpY2lwYW50SWQ/OiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEluZm9QYW5lbDogUmVhY3QuRkM8UHJvcHM+ID0gKHtcbiAgbm9BdWRpb091dHB1dCA9IGZhbHNlLFxuICBub1Nlc3Npb25JbmZvID0gZmFsc2UsXG4gIG5vU3RhdHVzSW5mbyA9IGZhbHNlLFxuICBub1VzZXJBdWRpbyA9IGZhbHNlLFxuICBub1VzZXJWaWRlbyA9IGZhbHNlLFxuICBwYXJ0aWNpcGFudElkLFxuICBzZXNzaW9uSWQsXG59KSA9PiB7XG4gIGNvbnN0IG5vRGV2aWNlcyA9IG5vQXVkaW9PdXRwdXQgJiYgbm9Vc2VyQXVkaW8gJiYgbm9Vc2VyVmlkZW87XG4gIGNvbnN0IG5vSW5mb1BhbmVsID0gbm9TdGF0dXNJbmZvICYmIG5vRGV2aWNlcyAmJiBub1Nlc3Npb25JbmZvO1xuXG4gIGlmIChub0luZm9QYW5lbCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8UGFuZWwgY2xhc3NOYW1lPVwidmt1aTpoLWZ1bGwgdmt1aTpvdmVyZmxvdy15LWF1dG8gdmt1aTpvdmVyZmxvdy14LWhpZGRlblwiPlxuICAgICAgeyFub1N0YXR1c0luZm8gJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIDxQYW5lbEhlYWRlciB2YXJpYW50PVwiaW5saW5lXCI+XG4gICAgICAgICAgICA8UGFuZWxUaXRsZT5TdGF0dXM8L1BhbmVsVGl0bGU+XG4gICAgICAgICAgPC9QYW5lbEhlYWRlcj5cbiAgICAgICAgICA8UGFuZWxDb250ZW50PlxuICAgICAgICAgICAgPENsaWVudFN0YXR1cyAvPlxuICAgICAgICAgIDwvUGFuZWxDb250ZW50PlxuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgICB7IW5vRGV2aWNlcyAmJiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPFBhbmVsSGVhZGVyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ2a3VpOmJvcmRlci10IHZrdWk6Ym9yZGVyLXQtYm9yZGVyXCJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJpbmxpbmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQYW5lbFRpdGxlPkRldmljZXM8L1BhbmVsVGl0bGU+XG4gICAgICAgICAgPC9QYW5lbEhlYWRlcj5cbiAgICAgICAgICA8UGFuZWxDb250ZW50PlxuICAgICAgICAgICAgeyFub1VzZXJBdWRpbyAmJiA8VXNlckF1ZGlvQ29udHJvbCAvPn1cbiAgICAgICAgICAgIHshbm9Vc2VyVmlkZW8gJiYgPFVzZXJWaWRlb0NvbnRyb2wgLz59XG4gICAgICAgICAgICB7IW5vQXVkaW9PdXRwdXQgJiYgPEF1ZGlvT3V0cHV0IC8+fVxuICAgICAgICAgIDwvUGFuZWxDb250ZW50PlxuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgICB7IW5vU2Vzc2lvbkluZm8gJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIDxQYW5lbEhlYWRlclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpib3JkZXItdCB2a3VpOmJvcmRlci10LWJvcmRlclwiXG4gICAgICAgICAgICB2YXJpYW50PVwiaW5saW5lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8UGFuZWxUaXRsZT5TZXNzaW9uPC9QYW5lbFRpdGxlPlxuICAgICAgICAgIDwvUGFuZWxIZWFkZXI+XG4gICAgICAgICAgPFBhbmVsQ29udGVudD5cbiAgICAgICAgICAgIDxTZXNzaW9uSW5mbyBzZXNzaW9uSWQ9e3Nlc3Npb25JZH0gcGFydGljaXBhbnRJZD17cGFydGljaXBhbnRJZH0gLz5cbiAgICAgICAgICA8L1BhbmVsQ29udGVudD5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvUGFuZWw+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbmZvUGFuZWw7XG4iLCJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IEF1ZGlvT3V0cHV0IGZyb20gXCJAL2NvbXBvbmVudHMvZWxlbWVudHMvQXVkaW9PdXRwdXRcIjtcbmltcG9ydCB7IENsaWVudFN0YXR1cyB9IGZyb20gXCJAL2NvbXBvbmVudHMvZWxlbWVudHMvQ2xpZW50U3RhdHVzXCI7XG5pbXBvcnQgQ29ubmVjdEJ1dHRvbiBmcm9tIFwiQC9jb21wb25lbnRzL2VsZW1lbnRzL0Nvbm5lY3RCdXR0b25cIjtcbmltcG9ydCBQaXBlY2F0TG9nbyBmcm9tIFwiQC9jb21wb25lbnRzL2VsZW1lbnRzL1BpcGVjYXRMb2dvXCI7XG5pbXBvcnQgeyBTZXNzaW9uSW5mbyB9IGZyb20gXCJAL2NvbXBvbmVudHMvZWxlbWVudHMvU2Vzc2lvbkluZm9cIjtcbmltcG9ydCBVc2VyQXVkaW9Db250cm9sIGZyb20gXCJAL2NvbXBvbmVudHMvZWxlbWVudHMvVXNlckF1ZGlvQ29udHJvbFwiO1xuaW1wb3J0IFVzZXJWaWRlb0NvbnRyb2wgZnJvbSBcIkAvY29tcG9uZW50cy9lbGVtZW50cy9Vc2VyVmlkZW9Db250cm9sXCI7XG5pbXBvcnQgeyBCb3RBdWRpb1BhbmVsIH0gZnJvbSBcIkAvY29tcG9uZW50cy9wYW5lbHMvQm90QXVkaW9QYW5lbFwiO1xuaW1wb3J0IHsgQm90VmlkZW9QYW5lbCB9IGZyb20gXCJAL2NvbXBvbmVudHMvcGFuZWxzL0JvdFZpZGVvUGFuZWxcIjtcbmltcG9ydCBDb252ZXJzYXRpb25QYW5lbCBmcm9tIFwiQC9jb21wb25lbnRzL3BhbmVscy9Db252ZXJzYXRpb25QYW5lbFwiO1xuaW1wb3J0IHsgRXZlbnRzUGFuZWwgfSBmcm9tIFwiQC9jb21wb25lbnRzL3BhbmVscy9FdmVudHNQYW5lbFwiO1xuaW1wb3J0IHsgSW5mb1BhbmVsIH0gZnJvbSBcIkAvY29tcG9uZW50cy9wYW5lbHMvSW5mb1BhbmVsXCI7XG5pbXBvcnQgVGhlbWVNb2RlVG9nZ2xlIGZyb20gXCJAL2NvbXBvbmVudHMvVGhlbWVNb2RlVG9nZ2xlXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHtcbiAgUG9wb3ZlcixcbiAgUG9wb3ZlckNvbnRlbnQsXG4gIFBvcG92ZXJUcmlnZ2VyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3BvcG92ZXJcIjtcbmltcG9ydCB7XG4gIFJlc2l6YWJsZUhhbmRsZSxcbiAgUmVzaXphYmxlUGFuZWwsXG4gIFJlc2l6YWJsZVBhbmVsR3JvdXAsXG59IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvcmVzaXphYmxlXCI7XG5pbXBvcnQgeyBUYWJzLCBUYWJzQ29udGVudCwgVGFic0xpc3QsIFRhYnNUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90YWJzXCI7XG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCJAL2hvb2tzL3VzZVRoZW1lXCI7XG5pbXBvcnQge1xuICBCb3RJY29uLFxuICBDaGV2cm9uc0xlZnRSaWdodEVsbGlwc2lzSWNvbixcbiAgSW5mb0ljb24sXG4gIE1lc3NhZ2VzU3F1YXJlSWNvbixcbiAgTWljSWNvbixcbn0gZnJvbSBcIkAvaWNvbnNcIjtcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQge1xuICB0eXBlIENvbm5lY3Rpb25FbmRwb2ludCxcbiAgUGlwZWNhdENsaWVudCxcbiAgdHlwZSBQaXBlY2F0Q2xpZW50T3B0aW9ucyxcbiAgVHJhbnNwb3J0LFxuICB0eXBlIFRyYW5zcG9ydENvbm5lY3Rpb25QYXJhbXMsXG59IGZyb20gXCJAcGlwZWNhdC1haS9jbGllbnQtanNcIjtcbmltcG9ydCB7XG4gIFBpcGVjYXRDbGllbnRBdWRpbyxcbiAgUGlwZWNhdENsaWVudFByb3ZpZGVyLFxufSBmcm9tIFwiQHBpcGVjYXQtYWkvY2xpZW50LXJlYWN0XCI7XG5pbXBvcnQgeyBEYWlseVRyYW5zcG9ydCB9IGZyb20gXCJAcGlwZWNhdC1haS9kYWlseS10cmFuc3BvcnRcIjtcbmltcG9ydCB7IFNtYWxsV2ViUlRDVHJhbnNwb3J0IH0gZnJvbSBcIkBwaXBlY2F0LWFpL3NtYWxsLXdlYnJ0Yy10cmFuc3BvcnRcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb25zb2xlVGVtcGxhdGVQcm9wcyB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhdWRpbyBjb2RlYy4gT25seSBhcHBsaWNhYmxlIGZvciBTbWFsbFdlYlJUQyB0cmFuc3BvcnQuXG4gICAqIERlZmF1bHRzIHRvIFwiZGVmYXVsdFwiIHdoaWNoIHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGNvZGVjLlxuICAgKi9cbiAgYXVkaW9Db2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHRoZSBSVFZJIGNsaWVudC5cbiAgICovXG4gIGNsaWVudE9wdGlvbnM/OiBQYXJ0aWFsPFBpcGVjYXRDbGllbnRPcHRpb25zPjtcbiAgLyoqXG4gICAqIFBhcmFtZXRlcnMgZm9yIGNvbm5lY3RpbmcgdG8gdGhlIHRyYW5zcG9ydC5cbiAgICovXG4gIGNvbm5lY3RQYXJhbXM/OiBUcmFuc3BvcnRDb25uZWN0aW9uUGFyYW1zIHwgQ29ubmVjdGlvbkVuZHBvaW50O1xuICAvKipcbiAgICogRGlzYWJsZXMgYXVkaW8gb3V0cHV0IGZvciB0aGUgYm90LiBUaGUgYm90IG1heSBzdGlsbCBzZW5kIGF1ZGlvLCBidXQgaXQgd29uJ3QgYmUgcGxheWVkLlxuICAgKi9cbiAgbm9BdWRpb091dHB1dD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBhdWRpbyB2aXN1YWxpemF0aW9uIGZvciB0aGUgYm90LlxuICAgKiBUaGUgYm90IG1heSBzdGlsbCBzZW5kIGF1ZGlvLCBidXQgaXQgd29uJ3QgYmUgdmlzdWFsaXplZC5cbiAgICovXG4gIG5vQm90QXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICogRGlzYWJsZXMgdmlkZW8gdmlzdWFsaXphdGlvbiBmb3IgdGhlIGJvdC5cbiAgICogVGhlIGJvdCBtYXkgc3RpbGwgc2VuZCB2aWRlbywgYnV0IGl0IHdvbid0IGJlIGRpc3BsYXllZC5cbiAgICovXG4gIG5vQm90VmlkZW8/OiBib29sZWFuO1xuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIGNvbnZlcnNhdGlvbiBwYW5lbC5cbiAgICogVGhlIGJvdCBtYXkgc3RpbGwgc2VuZCBtZXNzYWdlcywgYnV0IHRoZXkgd29uJ3QgYmUgZGlzcGxheWVkLlxuICAgKi9cbiAgbm9Db252ZXJzYXRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIGxvZ28gaW4gdGhlIGhlYWRlci5cbiAgICovXG4gIG5vTG9nbz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEaXNhYmxlcyB0aGUgbWV0cmljcyBwYW5lbC5cbiAgICogVGhlIGJvdCBtYXkgc3RpbGwgc2VuZCBtZXRyaWNzLCBidXQgdGhleSB3b24ndCBiZSBkaXNwbGF5ZWQuXG4gICAqL1xuICBub01ldHJpY3M/OiBib29sZWFuO1xuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIHNlc3Npb24gaW5mbyBwYW5lbC5cbiAgICovXG4gIG5vU2Vzc2lvbkluZm8/OiBib29sZWFuO1xuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIHN0YXR1cyBpbmZvIHBhbmVsLlxuICAgKi9cbiAgbm9TdGF0dXNJbmZvPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIERpc2FibGVzIHRoZSB0aGVtZSBzd2l0Y2hlciBpbiB0aGUgaGVhZGVyLlxuICAgKiBVc2VmdWwgd2hlbiB0aGVyZSdzIGFuIGFwcGxpY2F0aW9uLWxldmVsIHRoZW1lIHN3aXRjaGVyIG9yIHdoZW4gdGhlIHRoZW1lIGlzIGNvbnRyb2xsZWQgZ2xvYmFsbHkuXG4gICAqL1xuICBub1RoZW1lU3dpdGNoPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIERpc2FibGVzIHVzZXIgYXVkaW8gaW5wdXQgZW50aXJlbHkuXG4gICAqL1xuICBub1VzZXJBdWRpbz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEaXNhYmxlcyB1c2VyIHZpZGVvIGlucHV0IGVudGlyZWx5LlxuICAgKi9cbiAgbm9Vc2VyVmlkZW8/OiBib29sZWFuO1xuICAvKipcbiAgICogVGl0bGUgZGlzcGxheWVkIGluIHRoZSBoZWFkZXIuXG4gICAqIERlZmF1bHRzIHRvIFwiUGlwZWNhdCBQbGF5Z3JvdW5kXCIuXG4gICAqL1xuICB0aXRsZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFR5cGUgb2YgdHJhbnNwb3J0IHRvIHVzZSBmb3IgdGhlIFJUVkkgY2xpZW50LlxuICAgKiAtIFwiZGFpbHlcIiBmb3IgRGFpbHkgVHJhbnNwb3J0XG4gICAqIC0gXCJzbWFsbHdlYnJ0Y1wiIGZvciBTbWFsbFdlYlJUQyBUcmFuc3BvcnRcbiAgICogRGVmYXVsdHMgdG8gXCJkYWlseVwiLlxuICAgKi9cbiAgdHJhbnNwb3J0VHlwZT86IFwiZGFpbHlcIiB8IFwic21hbGx3ZWJydGNcIjtcbiAgLyoqXG4gICAqIFNldHMgdGhlIHZpZGVvIGNvZGVjLiBPbmx5IGFwcGxpY2FibGUgZm9yIFNtYWxsV2ViUlRDIHRyYW5zcG9ydC5cbiAgICogRGVmYXVsdHMgdG8gXCJkZWZhdWx0XCIgd2hpY2ggdXNlcyB0aGUgYnJvd3NlcidzIGRlZmF1bHQgY29kZWMuXG4gICAqL1xuICB2aWRlb0NvZGVjPzogc3RyaW5nO1xufVxuXG5jb25zdCBkZWZhdWx0Q2xpZW50T3B0aW9uczogUGFydGlhbDxQaXBlY2F0Q2xpZW50T3B0aW9ucz4gPSB7fTtcblxuZXhwb3J0IGNvbnN0IENvbnNvbGVUZW1wbGF0ZTogUmVhY3QuRkM8Q29uc29sZVRlbXBsYXRlUHJvcHM+ID0gKHtcbiAgYXVkaW9Db2RlYyA9IFwiZGVmYXVsdFwiLFxuICBjbGllbnRPcHRpb25zID0gZGVmYXVsdENsaWVudE9wdGlvbnMsXG4gIGNvbm5lY3RQYXJhbXMsXG4gIG5vQXVkaW9PdXRwdXQgPSBmYWxzZSxcbiAgbm9Cb3RBdWRpbyA9IGZhbHNlLFxuICBub0JvdFZpZGVvID0gZmFsc2UsXG4gIG5vQ29udmVyc2F0aW9uID0gZmFsc2UsXG4gIG5vTG9nbyA9IGZhbHNlLFxuICBub01ldHJpY3MgPSBmYWxzZSxcbiAgbm9TZXNzaW9uSW5mbyA9IGZhbHNlLFxuICBub1N0YXR1c0luZm8gPSBmYWxzZSxcbiAgbm9UaGVtZVN3aXRjaCA9IGZhbHNlLFxuICBub1VzZXJBdWRpbyA9IGZhbHNlLFxuICBub1VzZXJWaWRlbyA9IGZhbHNlLFxuICB0aXRsZSA9IFwiUGlwZWNhdCBQbGF5Z3JvdW5kXCIsXG4gIHRyYW5zcG9ydFR5cGUgPSBcImRhaWx5XCIsXG4gIHZpZGVvQ29kZWMgPSBcImRlZmF1bHRcIixcbn0pID0+IHtcbiAgY29uc3QgW2lzQm90QXJlYUNvbGxhcHNlZCwgc2V0SXNCb3RBcmVhQ29sbGFwc2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzSW5mb1BhbmVsQ29sbGFwc2VkLCBzZXRJc0luZm9QYW5lbENvbGxhcHNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0V2ZW50c1BhbmVsQ29sbGFwc2VkLCBzZXRJc0V2ZW50c1BhbmVsQ29sbGFwc2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nlc3Npb25JZCwgc2V0U2Vzc2lvbklkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGFydGljaXBhbnRJZCwgc2V0UGFydGljaXBhbnRJZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2NsaWVudCwgc2V0Q2xpZW50XSA9IHVzZVN0YXRlPFBpcGVjYXRDbGllbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzQ2xpZW50UmVhZHksIHNldElzQ2xpZW50UmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IHsgcmVzb2x2ZWRUaGVtZSB9ID0gdXNlVGhlbWUoKTtcblxuICB1c2VFZmZlY3QoXG4gICAgZnVuY3Rpb24gaW5pdENsaWVudCgpIHtcbiAgICAgIC8vIE9ubHkgcnVuIG9uIGNsaWVudCBzaWRlXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuXG4gICAgICBsZXQgdHJhbnNwb3J0OiBEYWlseVRyYW5zcG9ydCB8IFNtYWxsV2ViUlRDVHJhbnNwb3J0O1xuICAgICAgc3dpdGNoICh0cmFuc3BvcnRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJzbWFsbHdlYnJ0Y1wiOlxuICAgICAgICAgIHRyYW5zcG9ydCA9IG5ldyBTbWFsbFdlYlJUQ1RyYW5zcG9ydCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGFpbHlcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0cmFuc3BvcnQgPSBuZXcgRGFpbHlUcmFuc3BvcnQoKTtcbiAgICAgICAgICB0cmFuc3BvcnQuZGFpbHlDYWxsQ2xpZW50Lm9uKFwibWVldGluZy1zZXNzaW9uLXVwZGF0ZWRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRTZXNzaW9uSWQoZXZlbnQubWVldGluZ1Nlc3Npb24uaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgcGNDbGllbnQgPSBuZXcgUGlwZWNhdENsaWVudCh7XG4gICAgICAgIGVuYWJsZUNhbTogIW5vVXNlclZpZGVvLFxuICAgICAgICBlbmFibGVNaWM6ICFub1VzZXJBdWRpbyxcbiAgICAgICAgLi4uY2xpZW50T3B0aW9ucyxcbiAgICAgICAgdHJhbnNwb3J0OiAoY2xpZW50T3B0aW9ucz8udHJhbnNwb3J0IGFzIFRyYW5zcG9ydCkgPz8gdHJhbnNwb3J0LFxuICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICBvblBhcnRpY2lwYW50Sm9pbmVkOiAocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIHNldFBhcnRpY2lwYW50SWQocGFydGljaXBhbnQuaWQgfHwgXCJcIik7XG4gICAgICAgICAgICBjbGllbnRPcHRpb25zPy5jYWxsYmFja3M/Lm9uUGFydGljaXBhbnRKb2luZWQ/LihwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblRyYWNrU3RhcnRlZCh0cmFjaywgcGFydGljaXBhbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudD8uaWQgJiYgcGFydGljaXBhbnQubG9jYWwpXG4gICAgICAgICAgICAgIHNldFBhcnRpY2lwYW50SWQocGFydGljaXBhbnQuaWQpO1xuICAgICAgICAgICAgY2xpZW50T3B0aW9ucz8uY2FsbGJhY2tzPy5vblRyYWNrU3RhcnRlZD8uKHRyYWNrLCBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcGNDbGllbnQuaW5pdERldmljZXMoKTtcbiAgICAgIHNldENsaWVudChwY0NsaWVudCk7XG4gICAgICBzZXRJc0NsaWVudFJlYWR5KHRydWUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2Nvbm5lY3QgY2xpZW50IHdoZW4gY29tcG9uZW50IHVubW91bnRzIG9yIG9wdGlvbnMgY2hhbmdlLlxuICAgICAgICAgKi9cbiAgICAgICAgcGNDbGllbnQuZGlzY29ubmVjdCgpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIFtjbGllbnRPcHRpb25zLCBub1VzZXJBdWRpbywgbm9Vc2VyVmlkZW8sIHRyYW5zcG9ydFR5cGVdLFxuICApO1xuXG4gIHVzZUVmZmVjdChcbiAgICBmdW5jdGlvbiB1cGRhdGVTbWFsbFdlYlJUQ0NvZGVjcygpIHtcbiAgICAgIGlmICghY2xpZW50IHx8IHRyYW5zcG9ydFR5cGUgIT09IFwic21hbGx3ZWJydGNcIikgcmV0dXJuO1xuICAgICAgY29uc3QgdHJhbnNwb3J0ID0gY2xpZW50LnRyYW5zcG9ydCBhcyBTbWFsbFdlYlJUQ1RyYW5zcG9ydDtcbiAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgIHRyYW5zcG9ydC5zZXRBdWRpb0NvZGVjKGF1ZGlvQ29kZWMpO1xuICAgICAgfVxuICAgICAgaWYgKHZpZGVvQ29kZWMpIHtcbiAgICAgICAgdHJhbnNwb3J0LnNldFZpZGVvQ29kZWModmlkZW9Db2RlYyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYXVkaW9Db2RlYywgY2xpZW50LCB2aWRlb0NvZGVjLCB0cmFuc3BvcnRUeXBlXSxcbiAgKTtcblxuICBjb25zdCBoYW5kbGVDb25uZWN0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY2xpZW50KSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KGNvbm5lY3RQYXJhbXMpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgYXdhaXQgY2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGlzY29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNsaWVudCkgcmV0dXJuO1xuICAgIGF3YWl0IGNsaWVudC5kaXNjb25uZWN0KCk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGxvYWRpbmcgc3RhdGUgdW50aWwgY2xpZW50IGlzIHJlYWR5IChwcmV2ZW50cyBoeWRyYXRpb24gbWlzbWF0Y2gpXG4gIGlmICghaXNDbGllbnRSZWFkeSB8fCAhY2xpZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHctZnVsbFwiPlxuICAgICAgICA8ZGl2PkxvYWRpbmcuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBub0JvdEFyZWEgPSBub0JvdEF1ZGlvICYmIG5vQm90VmlkZW87XG4gIGNvbnN0IG5vQ29udmVyc2F0aW9uUGFuZWwgPSBub0NvbnZlcnNhdGlvbiAmJiBub01ldHJpY3M7XG4gIGNvbnN0IG5vRGV2aWNlcyA9IG5vQXVkaW9PdXRwdXQgJiYgbm9Vc2VyQXVkaW8gJiYgbm9Vc2VyVmlkZW87XG4gIGNvbnN0IG5vSW5mb1BhbmVsID0gbm9TdGF0dXNJbmZvICYmIG5vRGV2aWNlcyAmJiBub1Nlc3Npb25JbmZvO1xuXG4gIHJldHVybiAoXG4gICAgPFBpcGVjYXRDbGllbnRQcm92aWRlciBjbGllbnQ9e2NsaWVudH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZrdWk6Z3JpZCB2a3VpOmdyaWQtY29scy0xIHZrdWk6Z3JpZC1yb3dzLVttaW4tY29udGVudF8xZnJdIHZrdWk6c206Z3JpZC1yb3dzLVttaW4tY29udGVudF8xZnJfYXV0b10gdmt1aTpoLWZ1bGwgdmt1aTp3LWZ1bGwgdmt1aTpvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTpncmlkIHZrdWk6Z3JpZC1jb2xzLTIgdmt1aTpzbTpncmlkLWNvbHMtWzE1MHB4XzFmcl8xNTBweF0gdmt1aTpnYXAtMiB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6cC0yIHZrdWk6YmctYmFja2dyb3VuZCB2a3VpOnNtOnJlbGF0aXZlIHZrdWk6dG9wLTAgdmt1aTp3LWZ1bGwgdmt1aTp6LTEwXCI+XG4gICAgICAgICAge25vTG9nbyA/IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInZrdWk6aC02XCIgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPFBpcGVjYXRMb2dvXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInZrdWk6aC02IHZrdWk6dy1hdXRvXCJcbiAgICAgICAgICAgICAgY29sb3I9e3Jlc29sdmVkVGhlbWUgPT09IFwiZGFya1wiID8gXCIjZmZmZmZmXCIgOiBcIiMxNzE3MTdcIn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cInZrdWk6aGlkZGVuIHZrdWk6c206YmxvY2sgdmt1aTp0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmt1aTpmbGV4IHZrdWk6aXRlbXMtY2VudGVyIHZrdWk6anVzdGlmeS1lbmQgdmt1aTpnYXAtNFwiPlxuICAgICAgICAgICAgeyFub1RoZW1lU3dpdGNoICYmIDxUaGVtZU1vZGVUb2dnbGUgLz59XG4gICAgICAgICAgICA8Q29ubmVjdEJ1dHRvblxuICAgICAgICAgICAgICBvbkNvbm5lY3Q9e2hhbmRsZUNvbm5lY3R9XG4gICAgICAgICAgICAgIG9uRGlzY29ubmVjdD17aGFuZGxlRGlzY29ubmVjdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZrdWk6aGlkZGVuIHZrdWk6c206YmxvY2tcIj5cbiAgICAgICAgICA8UmVzaXphYmxlUGFuZWxHcm91cCBkaXJlY3Rpb249XCJ2ZXJ0aWNhbFwiIGNsYXNzTmFtZT1cInZrdWk6aC1mdWxsXCI+XG4gICAgICAgICAgICA8UmVzaXphYmxlUGFuZWwgZGVmYXVsdFNpemU9ezcwfSBtaW5TaXplPXs1MH0+XG4gICAgICAgICAgICAgIDxSZXNpemFibGVQYW5lbEdyb3VwIGRpcmVjdGlvbj1cImhvcml6b250YWxcIj5cbiAgICAgICAgICAgICAgICB7IW5vQm90QXJlYSAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8UmVzaXphYmxlUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ2a3VpOmZsZXggdmt1aTpmbGV4LWNvbCB2a3VpOmdhcC0yIHZrdWk6cC0yXCJcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZT17MTV9XG4gICAgICAgICAgICAgICAgICAgICAgbWF4U2l6ZT17MzB9XG4gICAgICAgICAgICAgICAgICAgICAgbWluU2l6ZT17OX1cbiAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlZFNpemU9ezh9XG4gICAgICAgICAgICAgICAgICAgICAgb25Db2xsYXBzZT17KCkgPT4gc2V0SXNCb3RBcmVhQ29sbGFwc2VkKHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uRXhwYW5kPXsoKSA9PiBzZXRJc0JvdEFyZWFDb2xsYXBzZWQoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgeyFub0JvdEF1ZGlvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3RBdWRpb1BhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmt1aTptYXgtaC1bY2FsYyg1MCUtNHB4KV0gdmt1aTptdC1hdXRvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhbm9Cb3RWaWRlbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxhcHNlZD17aXNCb3RBcmVhQ29sbGFwc2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHshbm9Cb3RWaWRlbyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm90VmlkZW9QYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZrdWk6bWF4LWgtW2NhbGMoNTAlLTRweCldIHZrdWk6bWItYXV0b1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIW5vQm90QXVkaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWQ9e2lzQm90QXJlYUNvbGxhcHNlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9SZXNpemFibGVQYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgeyghbm9Db252ZXJzYXRpb25QYW5lbCB8fCAhbm9JbmZvUGFuZWwpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8UmVzaXphYmxlSGFuZGxlIHdpdGhIYW5kbGUgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgeyFub0NvbnZlcnNhdGlvblBhbmVsICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxSZXNpemFibGVQYW5lbFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInZrdWk6aC1mdWxsIHZrdWk6cC0yXCJcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U2l6ZT17NjB9XG4gICAgICAgICAgICAgICAgICAgICAgbWluU2l6ZT17NDB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8Q29udmVyc2F0aW9uUGFuZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vQ29udmVyc2F0aW9uPXtub0NvbnZlcnNhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vTWV0cmljcz17bm9NZXRyaWNzfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvUmVzaXphYmxlUGFuZWw+XG4gICAgICAgICAgICAgICAgICAgIHshbm9JbmZvUGFuZWwgJiYgPFJlc2l6YWJsZUhhbmRsZSB3aXRoSGFuZGxlIC8+fVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7IW5vSW5mb1BhbmVsICYmIChcbiAgICAgICAgICAgICAgICAgIDxSZXNpemFibGVQYW5lbFxuICAgICAgICAgICAgICAgICAgICBpZD1cImluZm8tcGFuZWxcIlxuICAgICAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZVxuICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWRTaXplPXs0fVxuICAgICAgICAgICAgICAgICAgICBtaW5TaXplPXsxNX1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNpemU9ezIwfVxuICAgICAgICAgICAgICAgICAgICBvbkNvbGxhcHNlPXsoKSA9PiBzZXRJc0luZm9QYW5lbENvbGxhcHNlZCh0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgb25FeHBhbmQ9eygpID0+IHNldElzSW5mb1BhbmVsQ29sbGFwc2VkKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpwLTJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNJbmZvUGFuZWxDb2xsYXBzZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2a3VpOmZsZXggdmt1aTpmbGV4LWNvbCB2a3VpOml0ZW1zLWNlbnRlciB2a3VpOmp1c3RpZnktY2VudGVyIHZrdWk6Z2FwLTQgdmt1aTpoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHshbm9TdGF0dXNJbmZvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uc0xlZnRSaWdodEVsbGlwc2lzSWNvbiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJDb250ZW50IHNpZGU9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xpZW50U3RhdHVzIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3BvdmVyQ29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3BvdmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHshbm9EZXZpY2VzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNaWNJY29uIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Qb3BvdmVyVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9wb3ZlckNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInZrdWk6ZmxleCB2a3VpOmZsZXgtY29sIHZrdWk6Z2FwLTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZT1cImxlZnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshbm9Vc2VyQXVkaW8gJiYgPFVzZXJBdWRpb0NvbnRyb2wgLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IW5vVXNlclZpZGVvICYmIDxVc2VyVmlkZW9Db250cm9sIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFub0F1ZGlvT3V0cHV0ICYmIDxBdWRpb091dHB1dCAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyFub1Nlc3Npb25JbmZvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbmZvSWNvbiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvcG92ZXJDb250ZW50IHNpZGU9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2Vzc2lvbkluZm9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbklkPXtzZXNzaW9uSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50SWQ9e3BhcnRpY2lwYW50SWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wb3ZlckNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvUG9wb3Zlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEluZm9QYW5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9BdWRpb091dHB1dD17bm9BdWRpb091dHB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vU2Vzc2lvbkluZm89e25vU2Vzc2lvbkluZm99XG4gICAgICAgICAgICAgICAgICAgICAgICBub1N0YXR1c0luZm89e25vU3RhdHVzSW5mb31cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vVXNlckF1ZGlvPXtub1VzZXJBdWRpb31cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vVXNlclZpZGVvPXtub1VzZXJWaWRlb31cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50SWQ9e3BhcnRpY2lwYW50SWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSWQ9e3Nlc3Npb25JZH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9SZXNpemFibGVQYW5lbD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L1Jlc2l6YWJsZVBhbmVsR3JvdXA+XG4gICAgICAgICAgICA8L1Jlc2l6YWJsZVBhbmVsPlxuICAgICAgICAgICAgPFJlc2l6YWJsZUhhbmRsZSB3aXRoSGFuZGxlIC8+XG4gICAgICAgICAgICA8UmVzaXphYmxlUGFuZWxcbiAgICAgICAgICAgICAgY29sbGFwc2libGVcbiAgICAgICAgICAgICAgY29sbGFwc2VkU2l6ZT17NH1cbiAgICAgICAgICAgICAgbWluU2l6ZT17N31cbiAgICAgICAgICAgICAgb25Db2xsYXBzZT17KCkgPT4gc2V0SXNFdmVudHNQYW5lbENvbGxhcHNlZCh0cnVlKX1cbiAgICAgICAgICAgICAgb25FeHBhbmQ9eygpID0+IHNldElzRXZlbnRzUGFuZWxDb2xsYXBzZWQoZmFsc2UpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RXZlbnRzUGFuZWwgY29sbGFwc2VkPXtpc0V2ZW50c1BhbmVsQ29sbGFwc2VkfSAvPlxuICAgICAgICAgICAgPC9SZXNpemFibGVQYW5lbD5cbiAgICAgICAgICA8L1Jlc2l6YWJsZVBhbmVsR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8VGFic1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICBub0JvdEFyZWEgPyAobm9Db252ZXJzYXRpb25QYW5lbCA/IFwiaW5mb1wiIDogXCJjb252ZXJzYXRpb25cIikgOiBcImJvdFwiXG4gICAgICAgICAgfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInZrdWk6ZmxleCB2a3VpOmZsZXgtY29sIHZrdWk6Z2FwLTAgdmt1aTpzbTpoaWRkZW4gdmt1aTpvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2a3VpOmZsZXggdmt1aTpmbGV4LWNvbCB2a3VpOm92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgeyFub0JvdEFyZWEgJiYgKFxuICAgICAgICAgICAgICA8VGFic0NvbnRlbnRcbiAgICAgICAgICAgICAgICB2YWx1ZT1cImJvdFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpmbGV4LTEgdmt1aTpvdmVyZmxvdy1hdXRvIHZrdWk6ZmxleCB2a3VpOmZsZXgtY29sIHZrdWk6Z2FwLTQgdmt1aTpwLTJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyFub0JvdEF1ZGlvICYmIDxCb3RBdWRpb1BhbmVsIC8+fVxuICAgICAgICAgICAgICAgIHshbm9Cb3RWaWRlbyAmJiA8Qm90VmlkZW9QYW5lbCAvPn1cbiAgICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IW5vQ29udmVyc2F0aW9uUGFuZWwgJiYgKFxuICAgICAgICAgICAgICA8VGFic0NvbnRlbnRcbiAgICAgICAgICAgICAgICB2YWx1ZT1cImNvbnZlcnNhdGlvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpmbGV4LTEgdmt1aTpvdmVyZmxvdy1hdXRvXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxDb252ZXJzYXRpb25QYW5lbFxuICAgICAgICAgICAgICAgICAgbm9Db252ZXJzYXRpb249e25vQ29udmVyc2F0aW9ufVxuICAgICAgICAgICAgICAgICAgbm9NZXRyaWNzPXtub01ldHJpY3N9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8VGFic0NvbnRlbnRcbiAgICAgICAgICAgICAgdmFsdWU9XCJpbmZvXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidmt1aTpmbGV4LTEgdmt1aTpvdmVyZmxvdy1hdXRvIHZrdWk6cC0yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEluZm9QYW5lbFxuICAgICAgICAgICAgICAgIG5vQXVkaW9PdXRwdXQ9e25vQXVkaW9PdXRwdXR9XG4gICAgICAgICAgICAgICAgbm9Vc2VyQXVkaW89e25vVXNlckF1ZGlvfVxuICAgICAgICAgICAgICAgIG5vVXNlclZpZGVvPXtub1VzZXJWaWRlb31cbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudElkPXtwYXJ0aWNpcGFudElkfVxuICAgICAgICAgICAgICAgIHNlc3Npb25JZD17c2Vzc2lvbklkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgICAgICAgIDxUYWJzQ29udGVudFxuICAgICAgICAgICAgICB2YWx1ZT1cImV2ZW50c1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInZrdWk6ZmxleC0xIHZrdWk6b3ZlcmZsb3ctYXV0b1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxFdmVudHNQYW5lbCAvPlxuICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8VGFic0xpc3QgY2xhc3NOYW1lPVwidmt1aTp3LWZ1bGwgdmt1aTpoLTEyIHZrdWk6cm91bmRlZC1ub25lIHZrdWk6ei0xMCB2a3VpOm10LWF1dG8gdmt1aTpzaHJpbmstMFwiPlxuICAgICAgICAgICAgeyFub0JvdEFyZWEgJiYgKFxuICAgICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJib3RcIj5cbiAgICAgICAgICAgICAgICA8Qm90SWNvbiAvPlxuICAgICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshbm9Db252ZXJzYXRpb25QYW5lbCAmJiAoXG4gICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImNvbnZlcnNhdGlvblwiPlxuICAgICAgICAgICAgICAgIDxNZXNzYWdlc1NxdWFyZUljb24gLz5cbiAgICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJpbmZvXCI+XG4gICAgICAgICAgICAgIDxJbmZvSWNvbiAvPlxuICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImV2ZW50c1wiPlxuICAgICAgICAgICAgICA8Q2hldnJvbnNMZWZ0UmlnaHRFbGxpcHNpc0ljb24gLz5cbiAgICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgPC9UYWJzTGlzdD5cbiAgICAgICAgPC9UYWJzPlxuICAgICAgICB7IW5vQXVkaW9PdXRwdXQgJiYgPFBpcGVjYXRDbGllbnRBdWRpbyAvPn1cbiAgICAgIDwvZGl2PlxuICAgIDwvUGlwZWNhdENsaWVudFByb3ZpZGVyPlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJjbGFtcCIsIm1pbiIsIm1heCIsImluZGV4IiwiUHJvdmlkZXIiLCJwcm9wcyIsIlNsb3QiLCJnZXRFbGVtZW50UmVmIiwicHJvcHMyIiwiRnJhZ21lbnQyIiwiUFJPVklERVJfTkFNRSIsImNyZWF0ZUNvbGxlY3Rpb25TY29wZSIsIlJlYWN0IiwidXNlQ29sbGVjdGlvbiIsIk5vZGUiLCJ1c2VDYWxsYmFja1JlZiIsImhhbmRsZVBvaW50ZXJEb3duIiwiY291bnQiLCJFVkVOVF9PUFRJT05TIiwiZm9jdXNGaXJzdCIsInVzZUlkIiwidXNlTGF5b3V0RWZmZWN0IiwiY29tcHV0ZVBvc2l0aW9uIiwicGxhdGZvcm0iLCJhcnJvdyIsIm9mZnNldCIsImZsaXAiLCJzaWRlcyIsInNpZGUiLCJwbGFjZW1lbnQiLCJvdmVyZmxvdyIsImhpZGUiLCJzaGlmdCIsIngiLCJ5IiwibGltaXRTaGlmdCIsInNpemUiLCJpc0hUTUxFbGVtZW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm9mZnNldCQxIiwic2hpZnQkMSIsImZsaXAkMSIsInNpemUkMSIsImhpZGUkMSIsImFycm93JDEiLCJsaW1pdFNoaWZ0JDEiLCJub29wIiwiZGF0YSIsIk5BTUUiLCJBcnJvdyIsIlJvb3QiLCJBTkNIT1JfTkFNRSIsIkNPTlRFTlRfTkFNRSIsImZsb2F0aW5nVUlhcnJvdyIsIkFSUk9XX05BTUUiLCJBcnJvd1ByaW1pdGl2ZS5Sb290IiwiUm9vdDIiLCJDb250ZW50IiwiUE9SVEFMX05BTUUiLCJQb3J0YWwiLCJSZWFjdERPTSIsIl9fYXNzaWduIiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsImNicyIsIlNpZGVDYXIiLCJjb3VudGVyIiwiU3R5bGUiLCJTRUxFQ1RJT05fS0VZUyIsIkNvbGxlY3Rpb24iLCJ1c2VQb3BwZXJTY29wZSIsIlNlbGVjdCIsIlBvcHBlclByaW1pdGl2ZS5Sb290IiwiVFJJR0dFUl9OQU1FIiwiU2VsZWN0VHJpZ2dlciIsIlBvcHBlclByaW1pdGl2ZS5BbmNob3IiLCJTZWxlY3RWYWx1ZSIsIlBvcnRhbFByaW1pdGl2ZSIsIlNlbGVjdENvbnRlbnQiLCJoYW5kbGVQb2ludGVyTW92ZSIsImhhbmRsZVBvaW50ZXJVcCIsIlJlbW92ZVNjcm9sbCIsIlBvcHBlclByaW1pdGl2ZS5Db250ZW50IiwiR1JPVVBfTkFNRSIsIlNlbGVjdEdyb3VwIiwiTEFCRUxfTkFNRSIsIklURU1fTkFNRSIsIlNlbGVjdEl0ZW0iLCJJVEVNX0lORElDQVRPUl9OQU1FIiwiU2VsZWN0U2Nyb2xsVXBCdXR0b24iLCJTZWxlY3RTY3JvbGxEb3duQnV0dG9uIiwiU0VQQVJBVE9SX05BTUUiLCJTZWxlY3RTZXBhcmF0b3IiLCJQb3BwZXJQcmltaXRpdmUuQXJyb3ciLCJ3cmFwQXJyYXkiLCJUcmlnZ2VyIiwiSWNvbiIsIkNvbnRlbnQyIiwiR3JvdXAiLCJJdGVtIiwiSXRlbUluZGljYXRvciIsIlNlcGFyYXRvciIsIl9faWNvbk5vZGUiLCJMb2FkZXIyIiwiTGluZUNoYXJ0IiwicGFyYW0iLCJTZWxlY3RQcmltaXRpdmUuUm9vdCIsIlNlbGVjdFByaW1pdGl2ZS5Hcm91cCIsIlNlbGVjdFByaW1pdGl2ZS5WYWx1ZSIsIlNlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyIiwiU2VsZWN0UHJpbWl0aXZlLkljb24iLCJTZWxlY3RQcmltaXRpdmUuUG9ydGFsIiwiU2VsZWN0UHJpbWl0aXZlLkNvbnRlbnQiLCJTZWxlY3RQcmltaXRpdmUuVmlld3BvcnQiLCJTZWxlY3RQcmltaXRpdmUuSXRlbSIsIlNlbGVjdFByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yIiwiU2VsZWN0UHJpbWl0aXZlLkl0ZW1UZXh0IiwiU2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvciIsIlNlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvbiIsIlNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uIiwiYmFyQ291bnQiLCJjYW52YXNIZWlnaHQiLCJpbml0aWFsU3RhdGUiLCJSZWFjdDIiLCJ1c2VSb3ZpbmdGb2N1c0dyb3VwU2NvcGUiLCJQb3J0YWxQcm92aWRlciIsInVzZVBvcnRhbENvbnRleHQiLCJSb3ZpbmdGb2N1c0dyb3VwLlJvb3QiLCJSb3ZpbmdGb2N1c0dyb3VwLkl0ZW0iLCJDSEVDS0JPWF9JVEVNX05BTUUiLCJSQURJT19HUk9VUF9OQU1FIiwiUkFESU9fSVRFTV9OQU1FIiwiU1VCX1RSSUdHRVJfTkFNRSIsIlNVQl9DT05URU5UX05BTUUiLCJpc1BvaW50SW5Qb2x5Z29uIiwiUm9vdDMiLCJBbmNob3IyIiwiSXRlbTIiLCJBcnJvdzIiLCJEcm9wZG93bk1lbnUiLCJNZW51UHJpbWl0aXZlLlJvb3QiLCJEcm9wZG93bk1lbnVUcmlnZ2VyIiwiTWVudVByaW1pdGl2ZS5BbmNob3IiLCJEcm9wZG93bk1lbnVQb3J0YWwiLCJNZW51UHJpbWl0aXZlLlBvcnRhbCIsIkRyb3Bkb3duTWVudUNvbnRlbnQiLCJNZW51UHJpbWl0aXZlLkNvbnRlbnQiLCJEcm9wZG93bk1lbnVHcm91cCIsIk1lbnVQcmltaXRpdmUuR3JvdXAiLCJEcm9wZG93bk1lbnVMYWJlbCIsIk1lbnVQcmltaXRpdmUuTGFiZWwiLCJEcm9wZG93bk1lbnVJdGVtIiwiTWVudVByaW1pdGl2ZS5JdGVtIiwiRHJvcGRvd25NZW51Q2hlY2tib3hJdGVtIiwiTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0iLCJEcm9wZG93bk1lbnVSYWRpb0dyb3VwIiwiTWVudVByaW1pdGl2ZS5SYWRpb0dyb3VwIiwiRHJvcGRvd25NZW51UmFkaW9JdGVtIiwiTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0iLCJNZW51UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3IiLCJEcm9wZG93bk1lbnVTZXBhcmF0b3IiLCJNZW51UHJpbWl0aXZlLlNlcGFyYXRvciIsIk1lbnVQcmltaXRpdmUuQXJyb3ciLCJEcm9wZG93bk1lbnVTdWIiLCJNZW51UHJpbWl0aXZlLlN1YiIsIkRyb3Bkb3duTWVudVN1YlRyaWdnZXIiLCJNZW51UHJpbWl0aXZlLlN1YlRyaWdnZXIiLCJEcm9wZG93bk1lbnVTdWJDb250ZW50IiwiTWVudVByaW1pdGl2ZS5TdWJDb250ZW50IiwiRHJvcGRvd25NZW51UHJpbWl0aXZlLlJvb3QiLCJEcm9wZG93bk1lbnVQcmltaXRpdmUuUG9ydGFsIiwiRHJvcGRvd25NZW51UHJpbWl0aXZlLlRyaWdnZXIiLCJEcm9wZG93bk1lbnVQcmltaXRpdmUuQ29udGVudCIsIkRyb3Bkb3duTWVudVByaW1pdGl2ZS5Hcm91cCIsIkRyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtIiwiRHJvcGRvd25NZW51UHJpbWl0aXZlLkNoZWNrYm94SXRlbSIsIkRyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yIiwiRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvR3JvdXAiLCJEcm9wZG93bk1lbnVQcmltaXRpdmUuUmFkaW9JdGVtIiwiRHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsIiwiRHJvcGRvd25NZW51UHJpbWl0aXZlLlNlcGFyYXRvciIsIkRyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWIiLCJEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViVHJpZ2dlciIsIkRyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50IiwiUGFuZWwiLCJQb3BvdmVyIiwiUG9wb3ZlckFuY2hvciIsIlBvcG92ZXJUcmlnZ2VyIiwiUG9wb3ZlckNvbnRlbnQiLCJQb3BvdmVyUHJpbWl0aXZlLlJvb3QiLCJQb3BvdmVyUHJpbWl0aXZlLlRyaWdnZXIiLCJQb3BvdmVyUHJpbWl0aXZlLlBvcnRhbCIsIlBvcG92ZXJQcmltaXRpdmUuQ29udGVudCIsIlBvcG92ZXJQcmltaXRpdmUuQW5jaG9yIiwicmVzaXplUGFuZWwiLCJtaW5TaXplIiwiZGVsdGEiLCJwaXZvdEluZGV4IiwicHJldlNpemUiLCJ1bnNhZmVTaXplIiwic2FmZVNpemUiLCJwYW5lbERhdGFBcnJheSIsInBhbmVsRGF0YSIsImxheW91dCIsIm9uTGF5b3V0IiwiYXV0b1NhdmVJZCIsInN0b3JhZ2UiLCJyZWdpc3RlclJlc2l6ZUhhbmRsZSIsImlzUlRMIiwic3R5bGUiLCJwYW5lbEdyb3VwRWxlbWVudCIsImRpcmVjdGlvbiIsImRyYWdTdGF0ZSIsImdyb3VwSWQiLCJrZXlib2FyZFJlc2l6ZUJ5IiwicmVzaXplSGFuZGxlciIsIm9uRHJhZ2dpbmciLCJvblBvaW50ZXJEb3duIiwic3RhdGUiLCJvbkNsaWNrIiwib25Qb2ludGVyVXAiLCJSZXNpemFibGVQcmltaXRpdmUuUGFuZWxHcm91cCIsIlJlc2l6YWJsZVByaW1pdGl2ZS5QYW5lbCIsIlJlc2l6YWJsZVByaW1pdGl2ZS5QYW5lbFJlc2l6ZUhhbmRsZSIsIlRhYnMiLCJUYWJzTGlzdCIsIlRhYnNUcmlnZ2VyIiwiVGFic0NvbnRlbnQiLCJUYWJzUHJpbWl0aXZlLlJvb3QiLCJUYWJzUHJpbWl0aXZlLkxpc3QiLCJUYWJzUHJpbWl0aXZlLlRyaWdnZXIiLCJUYWJzUHJpbWl0aXZlLkNvbnRlbnQiLCJUb29sdGlwUHJvdmlkZXIiLCJUb29sdGlwIiwiVG9vbHRpcFRyaWdnZXIiLCJUb29sdGlwQ29udGVudCIsImhhbmRsZVNjcm9sbCIsIlZpc3VhbGx5SGlkZGVuUHJpbWl0aXZlLlJvb3QiLCJUb29sdGlwUHJpbWl0aXZlLlByb3ZpZGVyIiwiVG9vbHRpcFByaW1pdGl2ZS5Sb290IiwiVG9vbHRpcFByaW1pdGl2ZS5UcmlnZ2VyIiwiVG9vbHRpcFByaW1pdGl2ZS5Qb3J0YWwiLCJUb29sdGlwUHJpbWl0aXZlLkNvbnRlbnQiLCJUb29sdGlwUHJpbWl0aXZlLkFycm93IiwibmV3TWVzc2FnZSIsIkZyYWdtZW50IiwiQ29weUNoZWNrSWNvbiIsIkNvcHlJY29uIiwid2lkdGgiLCJtYXhIZWlnaHQiLCJWb2ljZVZpc3VhbGl6ZXIiXSwiaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODYsOTYsOTcsOTgsOTksMTEwLDExMiwxMTQsMTE2XSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../dist/index.mjs\n"));

/***/ })

});